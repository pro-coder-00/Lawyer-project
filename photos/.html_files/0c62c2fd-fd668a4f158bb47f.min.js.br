"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9e6c129e-e7b3-5ace-bfcd-644fe8eea11a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8717],{374561:(e,t,r)=>{r.d(t,{$7:()=>n,Hw:()=>l,IN:()=>d,Jk:()=>p,QQ:()=>i,Rb:()=>_,Wg:()=>v,ac:()=>u,bh:()=>g,ez:()=>o,kR:()=>c,nN:()=>s,oY:()=>m,pn:()=>x,vw:()=>h,wb:()=>b,yE:()=>a,yG:()=>f});let a="mini_community_cards--mini_cardBottomRowSizing--iZZtL",s="mini_community_cards--mini_cardImageContainer--nIMPD base_community_cards--base_cardImageContainer--jpAKE base_community_cards--_hasBorder--kFIag",i="mini_community_cards--mini_cardBottomRow_Metadata--ZWobU",n="mini_community_cards--mini_cardBottomRow_Metadata_AvatarContainer--vXOLM",o="mini_community_cards--mini_cardBottomRow_Metadata_Avatar--h-C7j",l="mini_community_cards--mini_cardBottomRow_Metadata_TextContainer--QvXX0",d="mini_community_cards--mini_cardBottomRow_MetadataFocusBorder--sxBVW",c="mini_community_cards--mini_cardBottomRow_Metadata_FileIcon--9sJ36",u="mini_community_cards--mini_cardBottomRow_Metadata_Name--HXtGg text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m="mini_community_cards--mini_cardBottomRow_Metadata_NameOnly---7tpH text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",_="mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--7E6pT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="mini_community_cards--mini_cardBottomRow_Metadata_AuthorName_WithHoverText--pheLQ mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--7E6pT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="mini_community_cards--mini_cardBottomRow_HoverText--foMcU mini_community_cards--mini_cardBottomRow_Metadata_AuthorName--7E6pT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",x="mini_community_cards--mini_cardHover_Center--crdrA mini_community_cards--_mini_cardHover--4UkB2 base_community_cards--base_cardHover--5h7Ip",g="mini_community_cards--mini_cardHover_Cover--l5kSi mini_community_cards--_mini_cardHover--4UkB2 base_community_cards--base_cardHover--5h7Ip",h="mini_community_cards--mini_cardHover_BottomRowRight--huP2S mini_community_cards--_mini_cardHover--4UkB2 base_community_cards--base_cardHover--5h7Ip",b="mini_community_cards--mini_cardHover_BottomLeft--Raa2r mini_community_cards--_mini_cardHover--4UkB2 base_community_cards--base_cardHover--5h7Ip",v="mini_community_cards--mini_cardContainer--jhM5O"},973800:(e,t,r)=>{r.d(t,{w:()=>s});var a=r(9109);let s=r(577349).A.createLazyComponent(()=>Promise.all([r.e(5211),r.e(7558),r.e(2677)]).then(r.bind(r,233790)).then(e=>e.EduReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"EduReviewPage"})},365854:(e,t,r)=>{r.d(t,{G:()=>i});var a=r(9109),s=r(679359);let i=r(577349).A.createLazyComponent(()=>Promise.all([r.e(5211),r.e(7558),r.e(2677)]).then(r.bind(r,636229)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:s.Z_,error:a.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},188905:(e,t,r)=>{r.d(t,{z:()=>s});var a=r(9109);let s=r(577349).A.createLazyComponent(()=>Promise.all([r.e(5211),r.e(7558),r.e(2677)]).then(r.bind(r,103378)).then(e=>e.PromoReviewPage),{loading:()=>null,error:a.H4.NONE,componentName:"PromoReviewPage"})},399144:(e,t,r)=>{r.d(t,{q:()=>s});var a=r(9109);let s=r(577349).A.createLazyComponent(()=>Promise.all([r.e(5211),r.e(7558),r.e(2677)]).then(r.bind(r,402858)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:a.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},830040:(e,t,r)=>{r.d(t,{v:()=>s});var a=r(9109);let s=r(577349).A.createLazyComponent(()=>Promise.all([r.e(5211),r.e(7558),r.e(2677)]).then(r.bind(r,352359)).then(e=>e.TierUpgradeFlow),{loading:()=>null,error:a.H4.NONE,componentName:"TierUpgradeFlow"})},625812:(e,t,r)=>{r.d(t,{m:()=>j});var a=r(104076),s=r(716976),i=r(237420),n=r(638004),o=r(140490),l=r(284467),d=r(236631),c=r(3073),u=r(997504);if(443==r.j)var m=r(872662);var _=r(147046),p=r(657878),f=r(944350),x=r(562311),g=r(904017),h=r(550893),b=r(14677),v=r(490525),y=r(62261);function j(){return(0,a.jsx)(o.u,{label:"SeatRequestsPageView",children:(0,a.jsx)(w,{})})}function w(){let e=(0,i.wA)(),t=(0,g.S2)(),r=(0,g.px)(),o=(0,p._6)(),j=(0,i.d4)(e=>(0,x.getPermissionsStateMemoized)(e)),w=(0,i.d4)(e=>e.teams),T=(0,g.j_)(r),E="loaded"===T.status&&(0,u.pO)({isAdminOrg:T.data,permissions:j,teams:w,view:o}),I=(0,h.vS)(o),N="loaded"===t.status&&"loaded"===r.status&&r.data.permission!==f.Xn.ADMIN;return(s.useEffect(()=>{E?e(_.sf({view:"resourceUnavailable",resourceType:I})):N&&e(_.sf(b.o0))},[e,I,N,E]),"loaded"!==t.status||"loaded"!==r.status||N||E)?(0,a.jsx)("div",{className:d.s.wFull.pl32.py24.bb1.colorBorder.bSolid.$,children:(0,a.jsx)(l.Wi,{className:d.s.w200.h32.$,dataTestId:"srpv-loading"})}):(0,a.jsx)(m.r,{containerClass:y.nF,scrollableContainerClass:y.lF,content:(0,a.jsx)(v.l,{plan:t.data,isOrgAdmin:t.data.type===f.OL.ORG}),toolbar:(0,a.jsx)(c.g,{}),errorBoundaryConfig:{figmaTeam:n.e.MONETIZATION_EXPANSION,boundaryKeySuffix:"SeatRequestsPageView"}})}},914137:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeEditorsModal:()=>l});var a=r(104076),s=r(390036),i=r(192075),n=r(111297),o=r(432786);function l(e){let{team:t,editors:r}=e,{id:l}=t,d=r.length,c=r.filter(e=>e.id).map(e=>e.id).join(),u=(0,i.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,s.EJ)(e.editors[0].name||e.editors[0].email,20)}),m=(0,i.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:d});return(0,a.jsx)(n.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:d,editorIds:c,teamId:l},children:(0,a.jsx)(o.Dd,{title:d>1?m:u,confirmText:(0,i.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm,children:(0,a.jsxs)("p",{children:[d>1&&(0,i.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:d}),(0,i.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view")]})})})}},660525:(e,t,r)=>{r.r(t),r.d(t,{MemberEditAccessModal:()=>N});var a=r(104076),s=r(716976),i=r(237420),n=r(999083),o=r(324063),l=r(380494),d=r(449572),c=r(849757),u=r(192075),m=r(366535),_=r(111297),p=r(781611),f=r(666293),x=r(506678),g=r(59849),h=r(613936),b=r(432786);let v="edit_access_modal--column--MYvAz",y="edit_access_modal--resource--qhm-x",j="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",w="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",T=(e,t)=>{if("file"===e.resource_type){let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.key}}else{let r=t[e.resource_id_or_key];if(r)return{name:r.name,id_or_key:r.id}}},E=(0,o.xx)((e,t)=>{let r={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let a=T(e,t);a?r.editableResources.push(a):r.privateResourceCount++}),(0,n.v7)(r.editableResources,e=>e.name)),r}),I=e=>({privateResourceCount:e.file_edit_roles_count,editableResources:[]});function N(e){let t=(0,i.wA)(),r=function(e,t){let r=(0,d.bc)(g.DLq,{teamId:e,userId:t});return s.useMemo(()=>r.transform(e=>{let t=e.teamUserDescendedRoles;if(!t)return{team_user:void 0,team_role:void 0,edit_roles:{whiteboard_files:[],design_files:[],folders:[]},file_edit_roles_count:0,name:"",id:""};let r=t[0];if(!r.teamUser)return{team_user:void 0,team_role:void 0,edit_roles:{whiteboard_files:[],design_files:[],folders:[]},file_edit_roles_count:0,name:"",id:""};let a=r.teamUser,s=r.teamUser.teamRole;return{...x.W.toSinatra(a.user),team_user:{id:a.id,user_id:a.user.id,team_id:r.teamId,active_seat_type:(0,p.TA)(a.activeSeatTypeUpgrade?.billableProduct)},team_role:s?(0,f.Pe)(s,a.user):void 0,file_edit_roles_count:r.fileEditRolesCount,edit_roles:{whiteboard_files:[],design_files:[],folders:r.projectEditRoles?.map(e=>f.Pe(e,a.user))||[]}}}),[r])}(e.teamId,e.userId),n=(0,i.d4)(e=>e.folders),o=s.useMemo(()=>r.transform(e=>E(e?.edit_roles?.folders,n)),[n,r]),y=s.useMemo(()=>r.transform(e=>e?I(e):{privateResourceCount:0,editableResources:[]}),[r]),w=l.Qw.all([r,o,y]);if("loaded"!==w.status)return null;let[T,N,S]=w.data;if(!T)return console.error("Member not found"),null;let C=!!T.team_role&&T.team_role?.level>=h.e6.EDITOR,A=N.editableResources.length+N.privateResourceCount,R=S.editableResources.length+S.privateResourceCount;return(0,a.jsx)(_.fu,{name:"Member Edit Access Modal",properties:{teamId:e.teamId,userId:T.id,folderCount:A,fileCount:R},children:(0,a.jsxs)(b.OJ,{title:(0,u.t)("team_view.member_edit_access_modal.title",{memberName:T.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(m.Ce())},children:[(0,a.jsxs)("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E",children:[(0,a.jsx)("div",{className:v,children:(0,a.jsx)("div",{className:j,children:(0,u.tx)("team_view.member_edit_access_modal.projects_title_v2")})}),(0,a.jsx)("div",{className:v,children:(0,a.jsx)("div",{className:j,children:(0,u.tx)("team_view.member_edit_access_modal.files_title_v2")})})]}),(0,a.jsx)(c.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0,children:(0,a.jsxs)("div",{className:"edit_access_modal--resourceContainer--vZA5E",children:[(0,a.jsx)("div",{className:v,children:(0,a.jsx)(k,{hasTeamEditPermissions:C,resources:N,resourceType:"project"})}),(0,a.jsx)("div",{className:v,children:(0,a.jsx)(k,{hasTeamEditPermissions:C,resources:S,resourceType:"file"})})]})})]})})}let S=e=>"file"===e?(0,u.tx)("team_view.member_edit_access_modal.none_files"):(0,u.tx)("team_view.member_edit_access_modal.none_projects");function k(e){let t;let{hasTeamEditPermissions:r,resourceType:s}=e;if(r)return"project"===s?(0,a.jsx)("div",{className:w,children:(0,u.tx)("team_view.member_edit_access_modal.all_projects")}):(0,a.jsx)("div",{className:w,children:(0,u.tx)("team_view.member_edit_access_modal.all_files")});let i=e.resources;if(0===i.privateResourceCount&&0===i.editableResources.length)return(0,a.jsx)("div",{className:w,children:S(s)});if(i.privateResourceCount>0){let e=(0,a.jsx)("span",{});0===i.editableResources.length&&"project"===s?e=(0,u.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:i.privateResourceCount}):0===i.editableResources.length&&"file"===s?e=(0,u.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:i.privateResourceCount}):i.editableResources.length>0&&"project"===s?e=(0,u.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:i.privateResourceCount}):i.editableResources.length>0&&"file"===s&&(e=(0,u.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:i.privateResourceCount})),t=(0,a.jsx)("div",{className:y,children:e})}return(0,a.jsxs)(a.Fragment,{children:[i.editableResources.map(e=>(0,a.jsx)("div",{className:y,children:e.name},e.id_or_key)),t]})}},952862:(e,t,r)=>{r.d(t,{JC:()=>u,Oe:()=>d,T3:()=>_,VY:()=>n,ay:()=>m,dZ:()=>c,vW:()=>o,wu:()=>i,y$:()=>l});var a=r(9109),s=r(797874);r(625812);let i=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,177672)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),n=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,709239)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),o=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,415699)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgAdminSettingsPageView"}),l=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,866492)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:a.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),d=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,827695)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgDomainManagementPageView"}),c=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,342222)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:a.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),u=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,950075)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:a.H4.NONE,componentName:"TeamAdminConsoleView"}),m=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,120462)).then(e=>e.AdminSidebar),{loading:()=>null,error:a.H4.NONE,componentName:"AdminSidebar"}),_=s.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,262293)).then(e=>e.OrgIdpManagementPageView),{loading:()=>null,error:a.H4.NONE,componentName:"OrgIdpManagementPageView"})},903009:(e,t,r)=>{r.d(t,{u:()=>c});var a=r(716976),s=r(237420),i=r(681398);if(443==r.j)var n=r(111679);var o=r(147046),l=r(469229);let d={ctrlKey:"metaKey"};function c(e,t={}){let r=(0,s.wA)(),u=(0,s.Pj)(),m=a.useMemo(()=>({metaKey:e=>{let t=(0,l.xS)(u.getState(),e);r(n.V3({url:t}))},...t}),[t,r,u]);return a.useCallback((t,a)=>{let s=e(a),n=Object.keys(m).find(e=>t[e]);if(n){let e=m[i.Ay.mac?n:d[n]||n];if(e){t.preventDefault(),e(s);return}}r(o.sf(s))},[m,r,e])}},248059:(e,t,r)=>{r.r(t),r.d(t,{BlockConnectedFileMoveModal:()=>f});var a=r(104076),s=r(929302),i=r(475477),n=r(950187),o=r(268389),l=r(449572),d=r(140490),c=r(236631),u=r(192075),m=r(111297),_=r(59849),p=r(837503);function f(e){return(0,a.jsx)(d.u,{label:"BlockConnectedFileMoveModal",children:(0,a.jsx)(x,{...e})})}function x(e){let t=s.hS({open:e.open,onClose:e.onClose}),r=(0,l.bc)(_.s0Z,{fileKey:e.fileKey}),d=r?.data?.file?.project?.name,f=r?.data?.file?.plan?.name;return(0,a.jsx)(m.fu,{name:"Block Connected File Move Modal",children:(0,a.jsx)(n.bL,{manager:t,width:"md",children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.Y9,{children:(0,a.jsx)(o.hE,{children:d?(0,u.tx)("resource_connection.block_file_move.unable_to_move_out_of_project_name",{projectName:d}):(0,u.tx)("resource_connection.block_file_move.unable_to_move_out_of_this_project")})}),(0,a.jsx)(o.nB,{className:p.Yw,children:(0,a.jsx)("div",{className:c.s.mt4.mb4.$,children:(0,u.tx)("resource_connection.block_file_move.learn_more_about_what_you_can_do_in_connected_projects",{learnMore:(0,a.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,u.tx)("resource_connection.request_modal.learn_more")}),hostPlanName:f??""})})})]})})})}},980052:(e,t,r)=>{r.r(t),r.d(t,{FileMoveDropdown:()=>e5,FileMoveHiddenDiv:()=>e6,FileMoveModal:()=>eX,FileMoveModalComponent:()=>eJ,FileMoveSearch:()=>eZ,TeamSection:()=>e0,TeamsDisplay:()=>e4,getCurrentFolderId:()=>eK,getTargetAttribute:()=>eq,isSubscribedLG:()=>eY});var a=r(104076),s=r(716976),i=r(237420),n=r(951002),o=r(550527),l=r.n(o),d=r(901014),c=r(983500),u=r(221586),m=r(449572),_=r(513369),p=r(833805),f=r(770366),x=r(140490),g=r(665261),h=r(555013),b=r(442156),v=r(388816),y=r(679359),j=r(849757),w=r(652539),T=r(236631),E=r(192075),I=r(405583),N=r(806704),S=r(550444),k=r(360002);function C(e){let t=(0,i.wA)(),r=s.useCallback(r=>{r.stopPropagation(),e.team.canEdit&&((0,d.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,I.SX)({where:S.Ah.FolderListView,team:{...(0,N.Ws)(e.team),name:e.team.name||"",canEdit:e.team.canEdit}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?(0,a.jsx)(k.f,{data_tooltip:(0,E.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:r,isBackgroundTransparent:e.isBackgroundTransparent}):null}var A=r(147046),R=r(288656),O=r(284891),P=r(366535),L=r(111297),F=r(781611),D=r(944350),M=r(619617),U=r(613936),B=r(392243),G=r(925260),W=r(59849),z=r(104836),V=r(642928),H=r(883580),$=r(863062),q=r(349311),Y=r(563554),K=r(113139);let J=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,K.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var Q=r(25870),X=r(432786),Z=r(339295),ee=r(99723),et=r(812714),er=r(221602),ea=r(381640),es=r(853039),ei=r(150156),en=r(287291),eo=r(715606);let el="32px",ed=(0,c.hG)(el),ec=e=>e?.id||R.iK,eu=new ei.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),em=(e,t,r,a,s)=>!(e.orgId!==s&&t?.orgId!==s||!e.canEdit||t&&(0,es.S$)(e,t,r)&&!(0,B.VA)(e))&&(!a||!!(0,es.XX)(t)),e_=(e,t,r)=>!r||!!(0,es.XX)(e),ep=(e,t=!1)=>{let r=[];Object.keys(e.folders).forEach(a=>{let s=e.folders[a],i=s.teamId?e.teams[s.teamId]:null;em(s,i,e.user,t,e.orgId)&&((0,B.VA)(s)&&(s={...s,path:(0,eo.Tb)()}),r.push(s))}),eu.set(r.map(t=>{let r=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},a={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription,...(0,er.VI)(t)};return r?{folder:a,team:r}:{folder:a}}))},ef=({folders:e,roles:t,user:r,orgUsers:a,teams:s,orgId:i,implicitTeamRolesTeamIds:n},o,l,d)=>{let c=Object.create(null),u=0,m=0,_=(0,B.gj)(r&&r.id,e,t.byFolderId,r&&i?a[i][r.id]:null);for(let e in c[R.HK]=[],c[R.iK]=[],t.byTeamId)e_(s[e],r,o)&&(m++,c[e]=[]);n&&n.forEach(e=>{e_(s[e],r,o)&&(m++,c[e]=[])}),Object.keys(e).forEach(t=>{let a={...e[t]},n=em(a,a.teamId?s[a.teamId]:null,r,o,i);if((0,et.kc)().file_move_show_all_resources){if(n&&(!l||a.subscription||(0,B.VA)(a))){let e=a.teamId?s[a.teamId]:null;c[_&&a.id===_.id?R.HK:ec(e)].push(a),u++}}else if(n&&(a.subscription||(0,B.VA)(a))){let e=a.teamId?s[a.teamId]:null;c[_&&a.id===_.id?R.HK:ec(e)].push(a),u++}});let p=u+m;return d(R.CU({indexCount:p})),d(R.xH()),c},ex=(e,t,r,a,s)=>{let i=Object.create(null),n=Object.create(null),o=[],l=0,d=0;if(s){let t=e.indexOf(s);t>-1&&(e.splice(t,1),e.splice(1,0,s))}return e.forEach(e=>{if(n[e]=l,d+=8,e!==R.iK&&e!==R.HK){let t={type:V.b.NEW_FOLDER_TEAM,id:e,positionTop:d};o.push(t),d+=ed,l+=1}let r=t[e];l+=r.length,r.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let c=Array.from(r);a&&s&&e===s&&c.forEach((e,t)=>{e.id===a&&(r.splice(t,1),r.unshift(e))}),r.forEach(e=>{let t={type:V.b.FOLDER_ROW,id:e.id,positionTop:d};d+=ed,o.push(t)}),i[e]=r,d+=9}),[i,n,o]},eg=(e,t,r)=>{let a=Object.create(null),s=Object.create(null),i=0,n=0,o=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,l=(0,B.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,o);for(let r of e){let e=r.item.folder,o=l&&e.id===l.id?0:r.score,d=e.teamId?t.teams[e.teamId]:null,c=l&&e.id===l.id?R.HK:ec(d);!(c in a)&&(a[c]=[],c!==R.iK&&c!==R.HK&&n++),a[c].push(e),null==s[c]?s[c]=o:s[c]=Math.min(s[c],o),i++}let d=i+n;return r(R.CU({indexCount:d})),[s,a]},eh=e=>(t,r)=>{if(t===R.iK)return 1;let a=e[t],s=e[r];return a?s&&a.name.toLowerCase()<s.name.toLowerCase()?-1:1:-1},eb=e=>(t,r)=>e[t]-e[r],ev=async(e,t,r,a,s=!1,i=!1,o,l,d,c)=>{var u,m;let _=e.getState(),p=null,f=null;t.type===V.A.FILE?(p=t.file.parent_org_id||null,f=t.file.team_id):t.type===V.A.REPO?(p=t.repo.parent_org_id||null,f=t.repo.team_id):t.type===V.A.FILE_IMPORT&&(p=t.orgId);let x=[];if(r){let e=eg(await eu.search(r),a,o);m=e[0],(x=Object.keys(u=e[1])).length&&x.sort(eb(m))}else u=ef(a,s,!!c,e.dispatch),a.user?(x.push(R.HK),x=x.concat((0,z.n$)(Object.values(a.teams),a.fileBrowserPreferences?.orderedTeamIds||[])),u[R.iK].length>0&&x.push(R.iK)):(x=Object.keys(u)).sort(eh(a.teams));let g=(()=>{switch(t.type){case V.A.FILE:return[t.file.editor_type];case V.A.REPO:return[D._Y.DESIGN];case V.A.FILE_IMPORT:return t.files.map(e=>(0,en.NU)(e));default:(0,n.xb)(t)}})(),h=new Set(Object.values(u).flat().filter(e=>g.every(t=>!!t&&(0,er.d6)(e,t))).map(e=>e.id)),b=x.filter(e=>{if(e===R.iK)return null===u||u[e].length>0;let t=a.teams;if(e!==R.HK){let r=t[e]?.orgId||null;if(p||r){if(r!==p)return!1}else if(f&&e===R.iK)return!1}return!t[e]?.deletedAt&&!!u[e]?.some(e=>h.has(e.id))}),[v,y,j]=ex(b,u,i,l,d);e.dispatch(R.OT({rows:j})),e.dispatch(R.t3({indexOffsets:y})),e.dispatch(R.Pb({foldersByTeamId:v})),e.dispatch(R.Mi({teamIds:b})),r||e.dispatch(R.w3({userTeamCount:b.length})),_.fileMove.isSearchResult!==i&&e.dispatch(R.EN({isSearchResult:i}));let w=R.HK in y&&j[0].type===V.b.FOLDER_ROW;r&&w?e.dispatch(R.Dp({indexAt:0})):r&&!w&&e.dispatch(R.Dp({indexAt:1}))},ey=(e,t,r,a=!1,s,i,n)=>{ev(e,t,"",r,a,!1,e.dispatch,i,n,s)},ej=(0,ee.s)((e,t,r,a,s=!1)=>{ev(e,t,r,a,s,!!r,e.dispatch)},200),ew=(0,ea.nF)((e,t)=>{ep(t.userResources,t.modalData.isPublishing),ey(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eT=(0,ea.nF)((e,t)=>{ej(e,t.modalData,t.query,t.userResources),e.dispatch(R.hq(t))});var eE=r(633065),eI=r(256384),eN=r(111679),eS=r(459494),ek=r(554886),eC=r(826160);let eA="file_move--main--fz-As",eR="file_move--iconContainer--2ExyP",eO="file_move--folderRowWrapper--R5vx1",eP="file_move--folderRow--ZBYjx",eL="file_move--horizontalDivider--g43mL";var eF=r(367542);function eD(e){let t=(0,i.d4)(e=>e.user),[r,n]=(0,s.useState)(""),o=e.dispatch,[l,c]=(0,s.useState)(!0);return(0,a.jsx)("form",{onSubmit:t=>{t.preventDefault(),(0,d.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),r?(o((0,ek.KQ)({teamName:r,orgAccess:D.bU.PUBLIC,dontRedirect:!0})),c(!0),n("")):o(eI.s.error((0,E.t)("flash.team_name_cannot_be_empty")))},children:(0,a.jsx)("div",{className:"file_move--teamCreateRow--GglhU file_move--folderRow--ZBYjx",children:l?(0,a.jsxs)("button",{type:"button",className:"file_move--rowButton--CSDNV",onClick:()=>{null!=t&&!e.orgId&&(0,eS.e5)({userId:t.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId})?(o(P.Ce()),o(eN.Dw({openInNewTab:!eE.eD}))):(c(!1),o(R.xH()))},children:[(0,a.jsx)(w.B,{className:"file_move--newProjectIconFileMove--V9037 sidebar--icon--wMzUY",svg:eF.A}),(0,a.jsx)("span",{className:"file_move--newFolderNameCustomSections--OqBS9 sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa",children:(0,E.tx)("file_browser.inline_team_creation.button_text")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:eR,children:(0,a.jsx)(eC.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})}),(0,a.jsx)("div",{className:"file_move--newTeamTitleText--cax1f file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa",children:(0,a.jsx)(h.ks,{value:r||"",onChange:e=>{n(e.target.value)},onBlur:()=>{c(!0)},className:"file_move--newTeamInput--0kCF4",maxLength:e.teamNameMaxWidth,placeholder:(0,E.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})})]})})})}var eM=r(7452),eU=r(578888),eB=r(992724),eG=r(90724),eW=r(8108),ez=r(391205),eV=r(763016);let eH=(0,c.hG)(el),e$="FileMoveModalContent";function eq(e){return"folder"!==e.view&&("recentsAndSharing"!==e.view||e.tab!==$.Gw.RECENTLY_VIEWED)?"_blank":"_self"}function eY(e){return!!e.subscription||(0,B.VA)(e)}function eK(e){switch(e.type){case V.A.FILE:let t=e.file;return t?.folder_id||null;case V.A.REPO:let r=e.repo;return r?.folder_id||null;case V.A.FILE_IMPORT:return null;default:(0,n.xb)(e)}}function eJ(e){return(0,a.jsx)(x.u,{label:"FileMoveModalComponent",children:(0,a.jsx)(eQ,{...e})})}function eQ(e){let t=null;e.type===V.A.FILE?t=e.file.parent_org_id||null:e.type===V.A.REPO?t=e.repo.parent_org_id||null:e.type===V.A.FILE_IMPORT&&(t=e.orgId);let r=(0,i.d4)(e=>e.orgById),n=t?r[t]:null,o=(0,i.d4)(e=>e.fileMove),l=(0,i.d4)(e=>!!e.creatingNewFolder),c=(0,i.d4)(e=>e.dropdownShown),u=(0,i.d4)(e=>e.selectedView),p=eK(e),x=(0,m.bc)(W.Y9I,{projectId:p},{enabled:!!p}),g=(0,m.bc)(W.G0Y,{orgId:t});"errors"===g.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(g.errors));let h="loaded"===g.status&&("loaded"===x.status||e.type===V.A.FILE_IMPORT)?{fetched:g,transformed:function(e,t,r){let a={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},s={},i={},n={},o={byFolderId:{},byTeamId:{}},l=[],d=e=>{i[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{n[e.orgId]={[e.userId]:{...e,type:M.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||D.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||D.El.RESTRICTED,active_seat_type:(0,F.TA)(e.activeSeatTypeUpgrade?.billableProduct)}},e.draftsProject&&(d(e.draftsProject),e.draftsProject.ownerRole&&(o.byFolderId[e.draftsProject.id]={[a.id]:{level:e.draftsProject.ownerRole.level}}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:r}=e.team;s[t]={...e.team,canView:e.level>=U.e6.VIEWER,canEdit:e.level>=U.e6.EDITOR,canAdmin:e.level>=U.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},o.byTeamId[t]={[a.id]:{level:e.level}},r&&r.forEach(e=>d(e))});let c=e&&e.org?e.org:null;if(c){if(t){let e=(0,_.oA)(t.project);e&&e.canEdit&&d(e)}c.teams&&c.teams.forEach(e=>{let{id:t,orgEditProjects:r}=e;if(!s[t]){let r=e.canEdit,a=e.canAdmin,i=e.licenseGroup;s[t]={...e,canView:!1,canEdit:r??!1,canAdmin:a??!1,licenseGroup:i||null},l.push(t)}let a=(0,_.oA)(r);a&&a.forEach(e=>{d(e)})})}return e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;s[t]||(s[t]={...e.team,canEdit:!1,canAdmin:!1,canView:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},o.byTeamId[t]={[a.id]:{level:e.level}})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(d(e.project),o.byFolderId[e.project.id]={[a.id]:{level:e.level}})}),e.currentUser.draftsProject&&(d(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(o.byFolderId[e.currentUser.draftsProject.id]={[a.id]:{level:e.currentUser.draftsProject.ownerRole.level}})),{org:c,user:a,teams:s,folders:i,roles:o,orgUsers:n,orgId:r,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:l}}(g.data,e.type!==V.A.FILE_IMPORT?x.data:null,t)}:null,b=null===h?{loaded:!1}:{loaded:!0,userResources:h.transformed},v=null==p||null===h?null:h.transformed.folders[p],y=v?v.teamId:null,j=(0,i.wA)();s.useEffect(()=>{b.loaded&&j(ew({modalData:e,userResources:b.userResources,currentFolderId:p,currentFolderTeamId:y}))},[h&&h.fetched]);let w=[];if(b.loaded&&!t)for(let e in b.userResources.teams){let t=b.userResources.teams[e];"ok"!==t.subscription&&w.push(t.id)}let T=function(e){let[t,r]=s.useState((0,_.Xm)()),a=e.join(",");return s.useEffect(()=>{if(0===a.length){r((0,_.gB)({}));return}r((0,_.Xm)());let e=!1;return(async()=>{let t=await J.getTeamRestrictionsLists({teamIds:a});e||r((0,_.gB)(t.data.meta))})(),()=>{e=!0}},[a]),t}(w);if("loaded"===T.status&&b.loaded)for(let e in b.userResources.teams){let t=b.userResources.teams[e];T.data[e]&&(t.restrictionsList=T.data[e])}return(0,f.oY)("loaded"===g.status,e=>{(0,d.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),(0,a.jsx)(eX,{creatingNewFolder:l,currentOrg:n,dispatch:j,dropdownShown:c,fileMove:o,fileMoveData:e,modalId:e._modalId,selectedView:u,userResources:b})}class eX extends s.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.setScrollContainer=e=>{this.scrollContainer=e},this.scrollContainerRef=s.createRef(),this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(R.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(R.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e$);if((0,Q.NB)(t))return;let{userResources:r}=this.props.userResources;switch(e.keyCode){case u.Uz.ESCAPE:this.onClose();break;case u.Uz.UP_ARROW:this.props.dispatch(R.zv());break;case u.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(R.TL({upperBound:this.props.fileMove.indexCount}));break;case u.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===V.b.NEW_FOLDER_TEAM){let t=e.id,a=r.teams[t];this.props.dispatch((0,I.SX)({where:this.props.modalId.type,team:{...(0,N.Ws)(a),name:a.name,canEdit:!0}}))}else if(e.type===V.b.FOLDER_ROW){let t=r.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(P.Lo()):this.props.dispatch(P.Ce())},this.openOrgView=e=>{this.props.dispatch(A.sf({view:"org",orgId:e,orgViewTab:H.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(P.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)},r=this.props.fileMoveData;if(r.type===V.A.FILE&&r.file.is_team_template&&(0,B.VA)(e)){this.props.dispatch(P.to({type:Z.X0,data:{title:(0,E.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,E.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,E.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=l()(e=>{let t=this.props.fileMoveData;switch(t.type){case V.A.FILE:this.moveFile(e,t.file);break;case V.A.REPO:this.moveRepo(e,t.repo);break;case V.A.FILE_IMPORT:for(let r of t.files)this.props.dispatch((0,G.z)({name:r.name,blob:new Blob([r.contents]),folderId:e.id}));break;default:(0,n.xb)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(P.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(O.z({files:[t],folder:e,team:r,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let r=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(O.z({files:[],repos:[t],folder:e,team:r,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(e.type===V.A.FILE_IMPORT)return 1===e.files.length?(0,E.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,E.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===V.A.FILE?e.file.name:e.repo.name;return(0,E.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===V.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(A.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(R.qb({fileMove:this.props.fileMove})),this.props.dispatch(R.YG({isSearchFocused:!0})));let r=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==r){if(!this.scrollContainerRef.current||-1===r)return;let e=this.props.fileMove.folderRows[r].positionTop,t=this.scrollContainer.getScrollTop(),a=this.scrollContainerRef.current.clientHeight;e<t?0===r?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+eH>t+a&&(null!=this.props.fileMove.indexCount&&r===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-a+eH))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(R.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let r=e.folders[t.data.folderId];return r?(0,a.jsx)(e5,{folder:r,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,r;let s=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return(0,a.jsx)(X.OJ,{title:i,fixedTop:!0,minWidth:s,maxWidth:s,onClose:this.onClose,truncateTitleText:!0,children:(0,a.jsx)("div",{className:eA,children:(0,a.jsx)(y.a_,{className:"file_move--spinner--eDfAF"})})});let{userResources:o}=this.props.userResources,l=eK(this.props.fileMoveData),d=null==l?null:o.folders[l],c=this.getFocusedFolder();e=this.props.fileMoveData.type===V.A.FILE_IMPORT?null!=c:null!=c&&null!=d&&c.id!==d.id;let u=0===this.props.fileMove.teamOrder.length,m=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==V.A.FILE_IMPORT,_=this.props.fileMoveData;switch(_.type){case V.A.FILE:t={fileKey:_.fileKey,fileTeamId:_.file&&_.file?.team_id,fileMoveModalEmptyState:m,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=_.file.editor_type??D._Y.DESIGN;break;case V.A.REPO:t={repoId:_.repoId,fileMoveModalEmptyState:m,orgId:this.props.currentOrg&&this.props.currentOrg?.id},r=D._Y.DESIGN;break;case V.A.FILE_IMPORT:t={},r=null;break;default:(0,n.xb)(_)}return(0,a.jsx)(L.fu,{name:Y.e0.FILE_MOVE_MODAL,properties:t,children:(0,a.jsxs)(X.OJ,{title:i,fixedTop:!0,minWidth:s,maxWidth:s,onClose:this.onClose,truncateTitleText:!0,children:[m?(0,a.jsx)("div",{className:"file_move--mainZeroState--HWbCa file_move--main--fz-As",id:e$,children:(0,a.jsxs)("div",{className:"file_move--zeroStateModal--yrur1",children:[(0,a.jsx)("div",{style:{paddingTop:"100px"},children:(0,E.tx)("file_browser.file_move.zero_state")}),this.props.currentOrg&&(0,a.jsx)("div",{className:T.s.pt20.$,children:(0,a.jsx)(h.$$,{onClick:this.onOrgViewLinkClick,children:this.props.currentOrg.bigma_enabled?(0,E.t)("file_browser.file_move.view_workspaces"):(0,E.t)("file_browser.file_move.view_teams")})})]})}):(0,a.jsxs)("div",{className:eA,id:e$,children:[(0,a.jsx)("div",{className:"file_move--searchWrapperNew--fSvPz",children:(0,a.jsx)(eZ,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:o})}),(0,a.jsx)("div",{className:eL}),this.props.fileMoveData.displayBanner&&(0,a.jsxs)(a.Fragment,{children:[this.props.fileMoveData.displayBanner,(0,a.jsx)("div",{className:eL})]}),this.props.fileMove.folderSearchQuery&&u?(0,a.jsx)("div",{className:"file_move--emptyModal--o-ei-",children:(0,E.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})}):(0,a.jsx)(j.P,{width:s,className:"file_move--teamSectionBody--jIFZO",ref:this.setScrollContainer,scrollContainerRef:this.scrollContainerRef,onScroll:this.onScroll,children:(0,a.jsx)(e4,{componentMountedAt:this.componentMountedAt,creatingNewFolder:this.props.creatingNewFolder,currentFolderId:l,dispatch:this.props.dispatch,fileEditorType:r,fileMove:this.props.fileMove,folders:o.folders,indexOffsets:this.props.fileMove.indexOffsets,onDoubleClick:this.moveToSelectedFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,orgId:o.orgId,rolesByTeamId:o.roles.byTeamId,selectedView:this.props.selectedView,teamNameMaxWidth:s-88,teams:o.teams})}),(0,a.jsxs)("div",{className:"file_move--footer--pBClJ",children:[(0,a.jsx)(h.nR,{onClick:this.onClose,children:(0,E.tx)("modal.cancel")}),(0,a.jsx)(h.vd,{disabled:!e,onClick:this.moveToSelectedFolder,children:this.props.fileMoveData.moveText||(0,E.t)("file_browser.file_move.move")})]})]}),this.renderDropdown(),(0,a.jsx)(e6,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})]})})}}eX.displayName="FileMoveModal";class eZ extends s.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(R.xH()),this.props.dispatch(R.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(R.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eT({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(R.TL({upperBound:this.props.folderCount}));break;case u.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(R.zv());break;case u.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eT({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(P.Ce()),this.props.dispatch(R.xH());break;case u.Uz.TAB:t&&t.blur(),this.props.dispatch(R.xH());break;case u.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=s.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return(0,a.jsxs)("div",{className:"file_move--searchContainer--VZId9",children:[(0,a.jsx)("div",{className:eR,children:(0,a.jsx)(w.B,{svg:eG.A})}),(0,a.jsx)(v.i,{ref:this.searchInputRef,placeholder:(0,E.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--No-wL":"file_move--searchInputEmptyNew--Gv7eB file_move--searchInputNew--No-wL",value:this.props.searchQuery,onChange:this.onChange})]})}}function e0(e){let{team:t,teamId:r}=e,[i,{onMouseOver:n,onMouseOut:o}]=(()=>{let[e,t]=(0,s.useState)(!1),r=(0,s.useCallback)(()=>t(!0),[t]),a=(0,s.useCallback)(()=>t(!1),[t]);return(0,s.useMemo)(()=>[e,{onMouseOver:r,onMouseOut:a}],[e,r,a])})(),l=(0,m.bc)(W.bel,{teamId:t?.id??""},{enabled:!!t?.id}),d=l.data?.team?.teamFileCounts||z.Cz,c=e.fileNotInTeam&&e.fileEditorType&&t&&!(0,z.aW)(t,{type:z.sK.ADD_FILE,editorType:e.fileEditorType,teamFileCounts:d});return(0,a.jsx)(a.Fragment,{children:e.showTitle&&(0,a.jsxs)("div",{className:"file_move--teamTitleNew--1hv9- text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:n,onMouseLeave:o,children:[(r===R.iK||r===R.HK)&&(0,a.jsx)("div",{className:eR,children:(0,a.jsx)(w.B,{svg:ez.A})}),(0,a.jsxs)("div",{className:"file_move--teamTitleRow--hMU87",children:[(0,a.jsxs)("div",{className:"file_move--teamName--Jmsoa",children:[(0,a.jsx)("div",{className:"file_move--teamTitleText--4XOM- ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth},children:r===R.iK||r===R.HK?(0,E.t)("file_browser.shared_projects"):t.name}),c&&(0,a.jsx)("div",{className:"file_move--warningIcon--MVFCa",children:(0,a.jsx)(w.B,{svg:eU.A,"data-tooltip-type":q.Ib.TEXT,"data-tooltip":(0,E.t)("file_browser.file_move.paywall_team_tooltip")})})]}),i&&t&&!c&&(0,a.jsx)("div",{className:"file_move--newProjButton--7b5Xq",children:(0,a.jsx)(C,{team:t,isBackgroundTransparent:!0,trackingContextName:Y.e0.FILE_MOVE_MODAL})})]})]})})}function e1(e){let t=(0,s.useRef)(null),[r,n]=(0,s.useState)(!1),o=(0,i.wA)();return(0,s.useEffect)(()=>{!r&&e.isTeamNew&&t.current&&e.hasFolderSection&&(o(R.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,r,t,o]),(0,a.jsx)("div",{className:e.className,ref:t,children:e.children})}function e4(e){let{fileMove:t,teams:r,selectedView:s}=e,i=Object.values(r).map(e=>(function(e){let t=null!=e.orgId,r=e.subscription===D.Qh.INCOMPLETE||e.subscription===D.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!r,pro_team:r,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}})(e));return(0,a.jsxs)("div",{children:[null!=t.teamOrder&&t.teamOrder.map(s=>{let i=s!==R.HK,n=s!==R.iK&&s!==R.HK,o=(t.foldersByTeamId?.[s]||[]).length>0;if(!(i||n||o))return null;let l=r[s];if(!l&&!(s===R.iK||s===R.HK)||s===R.HK&&!e.orgId)return null;let d=l?new Date(r[s].createdAt):void 0,c=d&&d>e.componentMountedAt,u=t.indexOffsets[s]+1,m=!!e.currentFolderId&&s!==e.folders[e.currentFolderId]?.teamId;return(0,a.jsxs)(e1,{className:"file_move--teamSection--mI5yE",isTeamNew:c,firstFolderFocusedIndex:u,hasFolderSection:o,children:[(0,a.jsx)(e0,{team:l,teamId:s,showTitle:i,isACustomTeam:n,fileNotInTeam:m,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),o&&(t.foldersByTeamId[s]||[]).map((r,i)=>{let o=i+e.indexOffsets[s];return n&&(o+=1),(0,a.jsx)(e2,{currentFolderId:e.currentFolderId,focusedFolderIndex:t.focusedIndex,folder:r,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:o,isSearchingFolders:!!t.isSearchResult,onDoubleClick:e.onDoubleClick,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:Y.e0.FILE_MOVE_MODAL},`${r.teamId} ${r.id}`)})]},`Team Section ${s}`)}),!e.orgId&&(0,a.jsx)(eD,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:Y.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:s,teams:i,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch})]})}function e2(e){let t=(0,i.wA)(),r=(0,p.gY)(I.mq),s=(a,s)=>{(0,d.sx)("Rename Folder",{trackingContext:e.trackingContextName}),r({folderId:a.id,folderName:s}),t(R.Mn())},n=(t,r)=>{e.onFileMoveContextMenu(r,t)},o=e.folderBeingRenamed===e.folder.id,l=e.focusedFolderIndex===e.index,c=e.folderBeingRenamed?eO:l?"file_move--folderRowWrapperFocusedNew--XWjyz file_move--folderRowWrapper--R5vx1":eO,{folder:u}=e;return(0,a.jsx)("div",{className:c,onMouseDown:()=>{t(R.Dp({indexAt:e.index}))},onContextMenu:e=>n(u,e),onDoubleClick:()=>{o||e.onDoubleClick()},children:o?(0,a.jsx)("div",{className:eP,children:(0,a.jsx)(b.p,{className:"file_move--renameInput--WL-5T",placeholderValue:(0,B.CI)(u),submit:e=>s(u,e),cancel:()=>{t(R.Mn())}},`input ${u.id}`)}):((t,r)=>{let s=eY(t)&&e.isSearchingFolders,i=e.focusedFolderIndex&&e.focusedFolderIndex>-1?r:e.currentFolderId===t.id,n=(0,B.jd)(t)?eV.A:eB.A;return(0,a.jsxs)("div",{className:eP,children:[(0,a.jsx)("div",{className:eR,children:(0,a.jsx)(w.B,{svg:i?eM.A:n})}),(0,a.jsx)("span",{className:"file_move--folderName--YbDNz ellipsis--ellipsis--Tjyfa",children:(0,B.CI)(t)}),(0,a.jsx)("div",{className:eR,children:s&&(0,a.jsx)(w.B,{svg:eW.A})})]})})(u,l)},`${u.teamId} ${u.id}`)}eZ.displayName="FileMoveSearch";class e5 extends s.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(R.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,r=eq(this.props.selectedView);return(0,a.jsxs)(g.ms,{className:"file_move--fileMoveContextMenu--47Rjw",style:this.props.dropdownShown.data.position,children:[(0,a.jsx)(g.c$,{disabled:!t,onClick:this.renameFolder,children:(0,E.tx)("file_browser.file_move.context_menu_rename")}),(0,a.jsx)(g.wv,{}),(0,a.jsx)(g.c$,{href:(0,S.EE)(e.id,e.orgId),target:r,children:(0,E.tx)("file_browser.file_move.context_menu_show_in_files")})]})}}e5.displayName="FileMoveDropdown";class e6 extends s.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return(0,a.jsx)("div",{ref:this.hiddenDivRef,tabIndex:0})}}e6.displayName="FileMoveHiddenDiv"},229455:(e,t,r)=>{r.r(t),r.d(t,{MoveDraftToProjectInterstitialModal:()=>g});var a=r(104076),s=r(237420),i=r(511570),n=r.n(i),o=r(769109),l=r(555013),d=r(192075),c=r(609060),u=r(366535),m=r(443192),_=r(111297),p=r(354174),f=r(672815),x=r(188638);function g(e){let t=(0,s.wA)(),r=()=>{t(m.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return(0,a.jsx)(_.fu,{name:"MoveDraftToProjectInterstitialModal",children:(0,a.jsxs)(p.d_,{title:(0,d.t)("file_browser.draft_to_project.title.plan_spaces"),titleClassName:f.wN,className:f.KP,size:320,popStack:!0,disableClickOutsideToHide:!0,children:[(0,a.jsx)(o.Jn,{className:n()(x.J_,x.BQ),onClick:r}),(0,a.jsxs)("span",{children:[(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"),(0,a.jsx)("br",{})]}),(0,a.jsxs)("div",{className:n()(f.v0,f.hF),children:[(0,a.jsx)("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts",children:(0,a.jsx)(l.tM,{children:(0,d.tx)("general.learn_more")})}),(0,a.jsx)(l.vd,{className:f.pL,onClick:()=>{r(),(0,c.h)(e.file,e.repo,t,e.afterFileMove,e.bannerToDisplay)},children:(0,d.tx)("file_browser.draft_to_project.move")})]})]})})}},182777:(e,t,r)=>{r.d(t,{cx:()=>i,jS:()=>n});var a=r(9109),s=r(519042);r(22508);let i=s.A.createLazyComponent(()=>Promise.all([r.e(743),r.e(9540),r.e(1614),r.e(6189),r.e(3402),r.e(1039),r.e(7453),r.e(4914),r.e(8060),r.e(5431),r.e(6074),r.e(5211),r.e(612),r.e(5651),r.e(2871),r.e(344),r.e(7384),r.e(8046),r.e(1077),r.e(8700),r.e(6004),r.e(7558),r.e(8717)]).then(r.bind(r,22508)).then(e=>e.default),{loading:()=>null,error:a.H4.NONE,componentName:"FileBrowserOverlays"}),n=s.A.createLazyComponent(()=>Promise.all([r.e(743),r.e(9540),r.e(1614),r.e(6189),r.e(3402),r.e(1039),r.e(7453),r.e(4914),r.e(8060),r.e(5431),r.e(6074),r.e(5211),r.e(612),r.e(5651),r.e(2871),r.e(344),r.e(7384),r.e(8046),r.e(1077),r.e(8700),r.e(6004),r.e(7558),r.e(8717)]).then(r.bind(r,4794)).then(e=>e.MakeFileCreationTooltip),{loading:()=>null,error:a.H4.NONE,componentName:"MakeFileCreationTooltip"})},755499:(e,t,r)=>{r.r(t),r.d(t,{EduUpgradeModal:()=>v});var a=r(104076),s=r(716976),i=r(237420),n=r(929302),o=r(950187),l=r(268389),d=r(555013),c=r(192075),u=r(525980),m=r(555590),_=r(111679),p=r(366535),f=r(483200),x=r(111297),g=r(937505),h=r(853039);function b({handleClose:e}){let t=(0,i.wA)(),r=s.useCallback(()=>{e(),t((0,_.Dw)({isEduTeam:!0}))},[t,e]);return(0,a.jsx)(d.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:r,trusted:!0,children:(0,c.tx)("edu.or_create_a_new_team")})}function v(){let e=(0,g.FC)(),t=(0,i.wA)(),r=(0,u.s)(),v=s.useCallback(()=>{t(p.Ce())},[t]),y=s.useCallback(e=>{v(),t(f.Vm({teamId:e.id}))},[t,v]),j=s.useMemo(()=>(0,h.Kg)(e),[e]);s.useLayoutEffect(()=>{0!==j.length||r||(v(),t((0,_.Dw)({isEduTeam:!0})))},[t,j.length,v,r]);let w=n.hS({open:!0,onClose:v});return(0,a.jsx)(x.fu,{name:"Edu Team Upgrade Modal",children:(0,a.jsx)(o.bL,{manager:w,width:"lg",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{autofocus:!0,children:(0,c.t)("edu.upgrade_teams.headline")})}),(0,a.jsx)(l.nB,{children:(0,a.jsxs)("div",{className:"edu_upgrade_modal--container--i-0VV",children:[(0,a.jsxs)("p",{className:"edu_upgrade_modal--bodyText--BXu7I",children:[(0,c.tx)("edu.upgrade_teams.body",{link:(0,a.jsx)(d.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0,children:(0,c.tx)("edu.upgrade_teams.body_link_text")})}),j.length>1&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,c.tx)("edu.upgrade_teams.body_multiple_teams")]})]}),(0,a.jsx)(m.I,{eligibleTeams:j,selectTeam:y,showEditorCount:!1,customUpgradeText:(0,c.t)("general.next")}),!r&&(0,a.jsx)(b,{handleClose:v})]})})]})})})}},280353:(e,t,r)=>{r.d(t,{O:()=>a});let a="make-file-creation-tooltip-target"},4794:(e,t,r)=>{r.r(t),r.d(t,{MakeFileCreationTooltip:()=>R});var a=r(104076),s=r(716976),i=r(653899),n=r(755444),o=r(192075),l=r(60894),d=r(915707),c=r(459494),u=r(244205),m=r(373547),_=r(422872),p=r(944350),f=r(143277),x=r(765516),g=r(61102),h=r(441030),b=r(280353),v=r(812714),y=r(795033),j=r(380494),w=r(190028),T=r(235711),E=r(376165),I=r(237420),N=r(221602),S=r(734477),k=r(904017),C=r(472274);let A=(0,T.r1)("has_created_figma_make_file");function R({newFileFrom:e}){let t=function(){let e=function(){let e=(0,I.d4)(e=>e.user?.drafts_folder_id),t=(0,N.nt)(e),r=(0,S.h)(t.data),a=(0,k.No)(),s=(0,k.YY)(a).unwrapOr(!1);return t.transform(e=>{let t=r.find(({editorType:e})=>e===p._Y.FIGMAKE),a=s&&(0,C.W)();return!!t?.canCreate&&!a})}(),t=(0,v.kc)().marketing_promo_modal_figmake_launch,r=(0,y.md)((0,E.eC)(h.CBZ.lifecycle)),a=(0,y.md)(A),s=(0,y.md)((0,E.eC)(h.qiY.lifecycle));return j.Qw.all([e,r,a,s]).transform(([e,r,a,s])=>{if(t){if(!r.lifecycleState||0===r.lifecycleState.count)return!1;let e=new Date(r.lifecycleState.updatedAt);if((0,w.A)(e).isAfter((0,w.A)().subtract(14,"day")))return!1}return!(a||(s.lifecycleState?.count??0)>0&&(0,w.A)(s.lifecycleState?.updatedAt).isAfter((0,w.A)().subtract(3,"day")))&&e})}(),r=(0,c.Np)(),T="dark"===(0,m.DP)(),{show:R,isShowing:O,complete:P}=(0,_.e)({overlay:h.TUm,priority:f.N.SECONDARY_MODAL,experiment:{check:r,predicate:e=>e,postCheck:()=>!0}},[t]),L=(0,d.$)({isDraftsFolder:!0,editorType:p._Y.FIGMAKE,newFileFrom:e,contextClicked:"make_file_creation_tooltip"});(0,i.h)(()=>{R({canShow:e=>e})});let F=(0,l.S)();return s.useEffect(()=>{F&&P()},[F,P]),(0,a.jsx)(g.rq,{clickOutsideToHide:!0,description:(0,o.tx)("file_browser.make_file_creation_promos.description"),disableHighlight:!1,forceEditorTheme:"seascape",isShowing:O,media:(0,a.jsx)(x.w,{src:(0,n.ck)(T?"1a369818117cc7e77826ee246da5938968f29e43":"fcba05f6d2193657ef692fedecfcdf36b4eae871"),aspectRatio:726/540}),onClose:P,primaryCta:{label:(0,o.tx)("file_browser.make_file_creation_promos.cta"),type:"button",onClick:L,ctaTrackingDescriptor:u.c.TRY_FIGMA_MAKE},targetKey:b.O,title:(0,o.tx)("file_browser.make_file_creation_promos.title"),trackingContextName:"Figma Make File Creation Tooltip"})}},506584:(e,t,r)=>{r.r(t),r.d(t,{DowngradeSurveyModal:()=>P,DowngradeSurveyModalAdmin:()=>L,DowngradeSurveyModalLeaveTeam:()=>F});var a=r(104076),s=r(237420),i=r(550209),n=r(192075),o=r(952385),l=r(716976),d=r(901014),c=r(555013),u=r(366535),m=r(657878),_=r(432786);function p({id:e,label:t,children:r,onChange:s}){let[i,n]=l.useState(!1);return(0,a.jsxs)("fieldset",{name:e,children:[(0,a.jsxs)("div",{className:"survey_option--inputContainer---R-Fh",children:[(0,a.jsx)(c.tB,{id:e,checked:i,onChange:e=>{n(!i),s&&s(e)}}),(0,a.jsx)("label",{className:"survey_option--label--NqXEk",htmlFor:e,children:t})]}),i&&r&&(0,a.jsx)("div",{className:"survey_option--subContainer--Omjmy",children:r})]})}var f=r(999083),x=r(511570),g=r.n(x),h=r(665261),b=r(149270),v=r(757381);function y(e){let[t,r]=l.useState(""),s=e=>{r(e.target.value)};return e.textarea?(0,a.jsx)(v.v,{value:t,onChange:s,...e}):(0,a.jsx)(c.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:s})}let j="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",w="downgrade_survey_modal_component_v2--researchContact--qGc3V",T="downgrade_survey_modal_component_v2--hiddenInput--04h5p",E="downgrade_survey_modal_component_v2--radio--xvUsz",I=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function N({id:e,shorthand:t}){return(0,a.jsxs)("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln",children:[(0,a.jsx)("p",{children:(0,n.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)}),(0,a.jsx)("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy",children:t})]})}let S=[{id:"too_expensive",value:"Too expensive",children:(0,a.jsx)(function(){let e="other_currency",[t,r]=l.useState(""),s=e=>{r(e.currentTarget.id)},i=[...I.map(({id:e,shorthand:t})=>(0,a.jsx)(h.c$,{id:e,onClick:s,children:(0,a.jsx)(N,{id:e,shorthand:t})},e)),(0,a.jsx)(h.wv,{},"separator"),(0,a.jsx)(h.c$,{id:e,onClick:s,children:(0,n.tx)("downgrade_survey.survey_option.too_expensive.other_currency")},e)];return(0,a.jsx)("fieldset",{children:(0,a.jsx)(p,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion"),children:(0,a.jsxs)("fieldset",{className:g()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e}),children:[(0,a.jsx)(h.Ve,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:i}),(0,a.jsx)("input",{id:"currency",className:T,readOnly:!0,value:t}),t===e&&(0,a.jsx)(y,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")})]})})})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),r=t.find(e=>"currency_conversion"===e.id),a=t.find(e=>"currency"===e.id),s=a?.value,i=t.find(e=>"currency_input"===e.id),n=i?.value||s||void 0;return{currencyConversion:r?.checked,currency:n}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:(0,a.jsx)(function(){return(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO",children:(0,n.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")}),(0,a.jsx)(y,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")})]})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:(0,a.jsx)(function(){let[e,t]=l.useState("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.z,{value:e,onChange:e=>t(e),children:[(0,a.jsx)(b.Z,{className:E,value:"Starter plan",children:(0,n.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")}),(0,a.jsx)(b.Z,{className:E,value:"Organization plan",children:(0,n.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")}),(0,a.jsx)(b.Z,{className:E,value:"Enterprise plan",children:(0,n.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")}),(0,a.jsx)(b.Z,{className:E,value:"Education plan",children:(0,n.tx)("downgrade_survey.survey_option.switching_plans.education_plan")})]}),(0,a.jsx)("input",{id:"new_plan",className:T,readOnly:!0,value:e})]})},{}),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],k={id:"other",value:"Other",children:(0,a.jsx)(function(){return(0,a.jsx)(y,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},{}),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},C=(0,f.k4)(S).concat(k);var A=r(201019),R=r(691138);function O({onSubmit:e}){let[t,r]=l.useState([]),i=e=>{let{id:a}=e.currentTarget;t.includes(a)?r(t.filter(e=>e!==a)):r([...t,a])},o=(0,s.wA)(),f=(0,m._6)().teamId;return(0,a.jsx)(_.OJ,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:()=>{o(u.Ce())},dataTestId:"downgrade-survey-modal",children:(0,a.jsxs)("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:r=>{r.preventDefault();let a=Array.from(r.currentTarget.getElementsByClassName(j)[0].getElementsByTagName("fieldset")),s=t.map(e=>{let t=a.find(t=>t.name===e),{value:r,getSubOptions:s}=C.find(t=>t.id===e);return{reason:r,...s&&s(t)}}),i=r.currentTarget.getElementsByClassName(w)[0].getElementsByTagName("input")[0].checked;(0,d.sx)("Team Downgrade Survey",{teamId:f,canContact:i,selectedOptions:s.map(e=>JSON.stringify(e))}),e?.(),o(u.Ce())},children:[(0,a.jsxs)("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF",children:[(0,a.jsxs)("fieldset",{className:j,children:[(0,a.jsx)("legend",{children:(0,n.tx)("downgrade_survey.what_made_you_cancel_your_plan")}),!t.length&&(0,a.jsx)("p",{className:R.Q,children:(0,n.tx)("downgrade_survey.select_one")}),C.map(({id:e,children:t})=>(0,a.jsx)(p,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),onChange:i,children:t},e))]}),(0,a.jsxs)("fieldset",{className:w,children:[(0,a.jsx)("legend",{children:(0,n.tx)("downgrade_survey.research_contact")}),(0,a.jsx)(p,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")})]})]}),(0,a.jsx)("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH",children:(0,a.jsx)(c.vd,{type:"submit",disabled:!t.length,className:A.pL,autoFocus:!1,children:(0,n.tx)("downgrade_survey.continue")})})]})})}function P({context:e}){let t=(0,s.wA)(),r=(0,s.d4)(e=>e.modalShown?.data.teamId),l=(0,s.d4)(e=>e.teams[r]),d="admin"===e?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team"),c="leave-team"===e?()=>{(0,i.us)("User entered leave team survey"),t(o.yH({team:l,userInitiated:!0}))}:void 0;return(0,a.jsx)(O,{cancelText:d,onSubmit:c})}function L(){return(0,a.jsx)(P,{context:"admin"})}function F(){return(0,a.jsx)(P,{context:"leave-team"})}},564543:(e,t,r)=>{r.r(t),r.d(t,{FolderBatchAbandonedDraftDeleteConfirmModal:()=>u});var a=r(104076),s=r(237420),i=r(901014),n=r(833805);if(443==r.j)var o=r(256384);var l=r(192075),d=r(405583),c=r(354174);function u({folders:e}){let t=(0,s.wA)(),r=(0,n.gY)(d.U),u=e=>{e.forEach(e=>{(0,i.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),r({folderIds:e.map(e=>e.id)}).catch(()=>{t(o.s.error((0,l.t)("file_browser.api_folder.error_when_deleting")))})};return(0,a.jsx)(c.yX,{confirmationTitle:(0,l.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,l.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{u(e)},children:(0,l.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length})})}},931676:(e,t,r)=>{r.r(t),r.d(t,{FolderMoveModal:()=>J});var a=r(104076),s=r(716976),i=r(237420),n=r(929302),o=r(950187),l=r(268389),d=r(684742),c=r(812714);r(120440);var u=r(511570),m=r.n(u),_=r(219199),p=r(449572),f=r(513369),x=r(140490),g=r(555013),h=r(520741),b=r(849757),v=r(652539),y=r(192075),j=r(142914),w=r(360002),T=r(366535),E=r(111297),I=r(332795),N=r(405583),S=r(937505),k=r(760437),C=r(59849),A=r(445046),R=r(904017),O=r(295253),P=r(545032),L=r(278151),F=r(563554),D=r(826160),M=r(432786),U=r(867012),B=r(127082),G=r(473683);let W="folder_move--iconContainer--nXjIY file_move--iconContainer--2ExyP",z="folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--hMU87",V="folder_move--teamName--fvmi0 file_move--teamName--Jmsoa",H="folder_move--warningContainer--MXpOB";var $=r(555288),q=r(7452),Y=r(663128),K=r(254490);function J(e){return(0,a.jsx)(x.u,{label:"FolderMoveModal",children:(0,a.jsx)(Q,{...e})})}function Q(e){let t,r;let d=(0,i.wA)(),u=(0,G.s)(),m=(0,i.d4)(e=>e.currentUserOrgId),x=(0,i.d4)(e=>null!=m?e.orgById[m]:null),j=(0,p.bc)(C.AbW,{currentOrgId:m,currentTeamId:null,folderId:e.folderId}),w=(0,i.d4)(t=>t.folders[e.folderId]),[k,R]=(0,s.useState)(void 0),[D,W]=(0,s.useState)(void 0),z="loaded"===j.status?{...j.data.currentUser}:null,V=I.h.useTrackingContext({trigger:O.b.FOLDER_MOVE_MODAL}),q={},K=[],J=(0,S.FC)();if(z){let e=[];(z.teamRoles??[]).forEach(t=>{if(t.team?.orgId===m&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===w?.team_id){r=t;return}e.push(t),t.team?.workspace?.id?(q[t.team.workspace?.id]=q[t.team.workspace?.id]??[],q[t.team.workspace?.id].push(t)):t.team&&K.push(t)}});let a=z.baseOrgUser?.workspaceUsers;t=a?.find(e=>e?.isMainWorkspace)?.workspaceId}let Q=()=>{(0,c.kc)().folder_move_modal_fpl&&e.onClose(),d(T.Ce())},ee=n.hS({open:e.open,onClose:Q}),et=(e,t)=>{R(e),W(t)},er=(0,s.useCallback)(()=>{if(k&&!D){let e=(0,L.bL)(k?.id,k.orgId);_.Ay.redirect(e,"_blank")}},[k,D]),ea=(0,s.useCallback)(e=>{if(!x)return;let t={workspaceId:e??P.O,onSubmitReturnToPrevView:!1};d(T.to({type:U.Uc,data:t}))},[x,d]),es=e=>(0,a.jsx)(a.Fragment,{children:e.map(e=>(0,a.jsx)(Z,{team:e.team,selectedTeamId:k?.id,onSelectTeam:et,permissionsState:J},e.id))}),ei=e=>(0,a.jsx)(Z,{team:e.team,selectedTeamId:k?.id,isCurrentTeam:!0,permissionsState:J,onSelectTeam:et},e.id);if(!w)return null;let en=Object.keys(q).length>0,eo=k&&r&&r.team.id===k.id,el=(0,y.t)("file_browser.folder_move.modal_header",{folderName:w.name}),ed=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.nR,{onClick:Q,children:(0,y.tx)("modal.cancel")}),(0,a.jsx)(g.vd,{onClick:()=>{null!=k&&w?d((0,N.Nr)({folder:(0,A.Bp)(w),team:k,onSuccess:Q})):Q()},disabled:void 0===k||!D||!!eo,children:(0,y.tx)("file_browser.folder_move.move_project")})]}),ec=(0,a.jsx)("div",{className:"folder_move--teamSection---S02k file_move--teamSection--mI5yE",children:en?(function(e,t,r){let a=t?.team?.workspace?.id??null,s=[a];return r&&r!==a&&e[r]&&s.push(r),Object.keys(e).filter(e=>e!==a&&e!==r).sort((t,r)=>{let a=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",s=e[r][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return a<s?-1:a>s?1:0}).forEach(e=>{s.push(e)}),null!==a&&s.push(null),s})(q,r,t).map(e=>{if(null===e){if(K.length>0)return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(X,{headerName:(0,y.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:ea,workspaceId:null}),null!=r&&r.team?.workspace?.id==null&&ei(r),es(K)]},"other_teams_key")}else if(q[e]){let t=q[e],i=t?t[0].team?.workspace??null:null;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(X,{headerName:i?.name??"",onCreateNewTeamClick:ea,workspaceId:i?.id??null}),null!=r&&r.team?.workspace?.id===e&&ei(r),es(t)]},e)}}):(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)(X,{headerName:x.name,onCreateNewTeamClick:ea,workspaceId:null},"org_teams_header"),null!=r&&ei(r),es(K)]})}),eu=k&&!D&&(0,a.jsx)("div",{className:H,children:(0,a.jsxs)("div",{className:"folder_move--warningBanner--Tnfff",children:[(0,a.jsx)("div",{className:"folder_move--warningSectionIcon--gOcDL",children:(0,a.jsx)(v.B,{svg:Y.A})}),(0,a.jsxs)("div",{children:[(0,y.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),(0,a.jsxs)("div",{className:"folder_move--warningCTALink--f74xo",onClick:er,role:"link",tabIndex:0,children:[(0,y.tx)("file_browser.folder_move.view_team"),(0,a.jsx)("div",{className:"folder_move--arrowRightIcon--xIk7X",children:(0,a.jsx)(v.B,{svg:$.A})})]})]})]})}),em=(u||(0,B.aI)())&&!x&&k&&D&&"loaded"===j.status&&j.data?.project?.hasPublishedSite.status==="loaded"&&(0,f.oA)(j.data?.project?.hasPublishedSite)&&(0,a.jsx)("div",{className:H,children:(0,a.jsx)(h._,{dataTestId:"project-move-site-unpublish-banner",color:h.S.ERROR,text:(0,y.t)("file_browser.file_move.sites_unpublished_on_project_move_warning")})});return(0,c.kc)().folder_move_modal_fpl?(0,a.jsx)(E.fu,{name:F.e0.FILE_MOVE_MODAL,properties:V,children:(0,a.jsx)(o.bL,{manager:ee,width:"md",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:el})}),(0,a.jsx)(l.nB,{padding:0,children:ec}),(0,a.jsxs)(l.Pt,{className:"x78zum5 xdt5ytf xkib98w x167g77z",children:[eu,em,(0,a.jsx)(l.jk,{children:ed})]})]})})}):(0,a.jsx)(E.fu,{name:F.e0.FILE_MOVE_MODAL,properties:V,children:(0,a.jsx)(M.OJ,{title:el,fixedTop:!0,minWidth:288,maxWidth:288,onClose:Q,truncateTitleText:!0,children:(0,a.jsxs)("div",{className:"folder_move--main--TkW9w file_move--main--fz-As",children:[(0,a.jsx)(b.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--jIFZO",children:ec}),(0,a.jsxs)("div",{className:"x78zum5 xdt5ytf x178xt8z x13fuv20 x16ufvko",children:[eu,em,(0,a.jsx)("div",{className:"folder_move--footer--jcEsZ file_move--footer--pBClJ",children:ed})]})]})})})}function X(e){let[t,r]=(0,s.useState)(!1);return(0,a.jsxs)("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,a.jsx)("div",{children:e.headerName}),t&&(0,a.jsx)(w.f,{data_tooltip:(0,y.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,y.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}})]})}function Z(e){let{team:t}=e,r=t?.canEdit??!1,s=(0,R.No)().unwrapOr(null),i=(0,k.y)(s?.planRecordId);if(null==t)return(0,a.jsx)(a.Fragment,{});let n=m()("folder_move--teamTitle--PwZow file_move--teamTitle--1IL8S text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":"",(0,c.kc)().folder_move_modal_fpl?"folder_move--teamTitleFpl--gL0rO":""),o=t?(0,a.jsx)(D.CH,{shape:"ROUNDED_SQUARE",hideFallbackInitial:!0,entity:t,size:{imgSize:j.Pf.SMALL,fallbackSize:j.Pf.SMALL}}):K.A,l=i?e.isCurrentTeam?(0,a.jsx)(v.B,{svg:q.A}):o:(0,a.jsx)(v.B,{svg:e.isCurrentTeam?q.A:K.A});return(0,c.kc)().folder_move_modal_fpl?(0,a.jsxs)(d.E,{className:n,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,r)},"aria-pressed":e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id,children:[(0,a.jsx)("div",{className:W,children:l}),(0,a.jsx)("div",{className:z,children:(0,a.jsx)("div",{className:V,children:t.name})}),e.selectedTeamId===t.id&&!r&&(0,a.jsx)("div",{className:W,children:(0,a.jsx)(v.B,{svg:Y.A})})]}):(0,a.jsxs)("div",{className:n,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,r)},role:"button",tabIndex:0,children:[(0,a.jsx)("div",{className:W,children:l}),(0,a.jsx)("div",{className:z,children:(0,a.jsx)("div",{className:V,children:t.name})}),e.selectedTeamId===t.id&&!r&&(0,a.jsx)("div",{className:W,children:(0,a.jsx)(v.B,{svg:Y.A})})]})}},611453:(e,t,r)=>{r.r(t),r.d(t,{FolderPermanentlyDeleteConfirmModal:()=>h});var a=r(104076),s=r(237420);if(443==r.j)var i=r(929302);if(443==r.j)var n=r(950187);if(443==r.j)var o=r(268389);if(443==r.j)var l=r(293422);var d=r(901014),c=r(833805),u=r(236631);if(443==r.j)var m=r(256384);var _=r(192075);if(443==r.j)var p=r(359171);var f=r(405583),x=r(392243),g=r(15426);function h(e){var t;let r=(0,s.wA)(),h=i.hS({open:e.open,onClose:e.onClose}),b=(0,c.gY)(f.Q4),v=(0,g.x)(e.folder.id,!0),y=(0,a.jsx)("span",{className:u.s.fontBold.$,children:(0,x.CI)(e.folder)}),j=(0,_.t)("file_browser.delete_project.delete_project"),w="loaded"!==v.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:y}):0===(t=v.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:y}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:y,numFiles:(0,p.t)(t)}),T="loaded"===v.status&&0===v.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return(0,a.jsx)(n.bL,{manager:h,width:"lg",children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.Y9,{children:(0,a.jsx)(o.hE,{children:(0,_.tx)("file_browser.trash_project.delete_project_forever")})}),(0,a.jsxs)(o.nB,{children:[(0,a.jsx)("div",{className:u.s.mb16.$,children:w}),(0,a.jsx)("div",{children:T})]}),(0,a.jsx)(o.wi,{children:(0,a.jsxs)(o.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:e.onClose,children:(0,_.tx)("modal.cancel")}),(0,a.jsx)(l.$n,{variant:"destructive",onClick:()=>{(0,d.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),b({folderId:e.folder.id}).catch(()=>{r(m.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()},children:j})]})})]})})}},615724:(e,t,r)=>{r.r(t),r.d(t,{FolderTrashConfirmModal:()=>T});var a=r(104076),s=r(237420);if(443==r.j)var i=r(951002);if(443==r.j)var n=r(929302);if(443==r.j)var o=r(268389);if(443==r.j)var l=r(419822);if(443==r.j)var d=r(950187);if(443==r.j)var c=r(10778);if(443==r.j)var u=r(293422);var m=r(901014),_=r(833805),p=r(520741),f=r(236631);if(443==r.j)var x=r(256384);var g=r(192075);if(443==r.j)var h=r(744153);if(443==r.j)var b=r(359171);var v=r(366535),y=r(405583),j=r(392243),w=r(15426);function T(e){let{folder:t}=e,r=n.hS({open:e.open,onClose:e.onClose}),s=(0,w.N)(t.id),i="loaded"===s.status?(0,a.jsx)(E,{...e,numFiles:s.data.fileCount,hasPublishedSite:s.data.publishedSiteCount>0}):(0,a.jsx)(o.nB,{padding:{top:"1rem",bottom:"1rem"},children:(0,a.jsx)("div",{className:f.s.flex.justifyCenter.$,"data-testid":"loading-spinner-container",children:(0,a.jsx)(l.k,{})})});return(0,a.jsx)(d.bL,{manager:r,width:"lg",height:"fixed",children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.Y9,{children:(0,a.jsx)(o.hE,{children:(0,g.t)("file_browser.trash_project.move_project_to_trash")})}),i]})})}function E(e){let t=(0,s.wA)(),r=(0,c.X)(),{folder:n,numFiles:l,hasPublishedSite:d}=e,w=(0,a.jsx)("span",{className:f.s.fontBold.$,children:(0,g.tx)("file_browser.tool_bar.trash")}),T=(e=>{switch(e){case 0:return(0,g.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,g.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,g.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,b.t)(e)})}})(l),E=(0,a.jsx)("span",{className:f.s.fontBold.$,children:(0,j.CI)(n)}),I=(e=>{switch(e){case 0:return(0,g.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:E});case 1:return(0,g.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:E});default:return(0,g.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:E,numFiles:(0,b.t)(e)})}})(l),N=(0,_.gY)(y.Ct),S=e=>{(0,m.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),N({folderId:e.id}).catch(()=>{t(x.s.error((0,g.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t(v.Ce())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.nB,{children:[e.folderState&&(0,a.jsx)("div",{className:f.s.mb12.$,children:(0,a.jsx)(p._,{dataTestId:"trash-folder-warning-banner",color:p.S.ERROR,text:(e=>{switch(e){case h.cm.PENDING_ASSET_TRANSFER:return(0,g.tx)("file_browser.trash_project.warning.pending_asset_transfer");case h.cm.PENDING_RESOURCE_CONNECTION:return(0,g.tx)("file_browser.trash_project.warning.pending_resource_connection");case h.cm.ACTIVE_RESOURCE_CONNECTION:return(0,g.tx)("file_browser.trash_project.warning.active_resource_connection");default:(0,i.xb)(e)}})(e.folderState)})}),(0,a.jsx)("div",{className:f.s.mb12.$,children:I}),d&&(0,a.jsx)("div",{className:f.s.mb12.$,children:(0,g.tx)("file_browser.trash_project.published_site_warning")}),(0,a.jsx)("div",{children:(0,g.tx)("file_browser.trash_project.description_restore",{trashStyled:w})})]}),(0,a.jsx)(o.wi,{children:(0,a.jsxs)(o.jk,{children:[(0,a.jsx)(u.$n,{variant:"secondary",onClick:()=>{e.onClose()},ref:r,children:(0,g.t)("modal.cancel")}),(0,a.jsx)(u.$n,{variant:"destructive",onClick:()=>S(n),children:T})]})})]})}},171691:(e,t,r)=>{r.r(t),r.d(t,{TeamChangePaymentModal:()=>w});var a=r(104076),s=r(716976),i=r(237420),n=r(511570),o=r.n(n),l=r(822900),d=r(555013),c=r(679359),u=r(236631),m=r(192075),_=r(366535),p=r(400136),f=r(173982),x=r(944350),g=r(469229),h=r(665756),b=r(432786),v=r(461749),y=r(187546);function j({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:n,isReactivating:j,canSeeBillingAddressExp:w}){let T=j?(0,m.t)("change_payment.success.successfully_reactivated_subscription"):(0,m.t)("change_payment.success.successfully_updated_your_payment_method"),E=(0,i.d4)(e=>(0,g.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:h.Iv.SETTINGS})),{createPaymentElement:I,unmountPaymentElement:N,savePayment:S,billingAddress:k,updateBillingAddress:C,nameOnPaymentMethod:A,setNameOnPaymentMethod:R,paymentMethodType:O,error:P}=(0,p.lo)({setupIntentParams:{redirect_url:E,subtotal_estimate:n,success_message:T,currency:e},paymentFlowSource:p.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e,canSeeBillingAddressExp:w,isCheckout:!1}),[L,F]=s.useState(!1),[D,M]=s.useState(!1),[U,B]=s.useState(window.innerHeight),G=(0,i.wA)(),W=P?.code===p.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,z=()=>G(_.Ce());(0,l.P)(({height:e})=>{B(e)});let V=async e=>{if(e&&e.preventDefault(),M(!0),await S(),j&&t.teamId)try{await (0,f.jL)({planType:x.OL.TEAM,planId:t.teamId})}catch(e){console.error(e)}M(!1)};return(0,a.jsx)(b.OJ,{title:w?(0,m.t)("change_payment.update_payment_details"):(0,m.t)("change_payment.enter_payment_method"),onClose:z,maxWidth:465,headerSize:"large",children:(0,a.jsxs)("div",{className:o()({[y.$J]:!L,[y.Un]:W}),children:[(0,a.jsxs)("form",{onSubmit:V,children:[(0,a.jsxs)("div",{className:y.KJ,style:{maxHeight:Math.min(U-49-65,660)},children:[L&&w&&(0,a.jsx)("div",{className:u.s.mb16.$,children:(0,a.jsx)("label",{htmlFor:"updatePaymentDetails",className:u.s.colorTextSecondary.$,children:(0,m.tx)("change_payment.update_payment_details_description_default")})}),(0,a.jsx)(v.S,{billingAddress:k,canSeeBillingAddressExp:w,createPaymentElement:I,error:P,nameOnPaymentMethod:A,paymentElementEventHandlers:{ready:()=>F(!0)},paymentFlow:p.wn.PRO_CHANGE_PAYMENT,paymentMethodType:O,unmountPaymentElement:N,updateBillingAddress:C,updateNameOnPaymentMethod:R})]}),L&&!W&&(0,a.jsxs)("div",{className:y.UD,children:[D&&(0,a.jsx)(c.kt,{className:y.u1}),(0,a.jsx)(d.tM,{onClick:z,children:(0,m.tx)("change_payment.cancel")}),(0,a.jsx)(d.vd,{tabIndex:0,type:"submit",disabled:D,children:(0,m.tx)("change_payment.save")})]})]}),W&&(0,a.jsx)(d.tM,{onClick:z,children:(0,m.tx)("change_payment.close_window")})]})})}function w({currency:e,customerInfo:t,defaultCountry:r,monthlySub:s,annualSub:i,isReactivating:n,canSeeBillingAddressExp:o,estimatedChargeCents:l}){let d=s?.estimated_amount_due??0,c=i?.estimated_amount_due??0,u=l||Math.max(c,d);return(0,a.jsx)(j,{currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:u,isReactivating:n,canSeeBillingAddressExp:o})}},489815:(e,t,r)=>{r.r(t),r.d(t,{ChangeVatGstIdModal:()=>v});var a=r(104076),s=r(716976),i=r(237420),n=r(511570),o=r.n(n),l=r(449572),d=r(140490),c=r(555013),u=r(520741),m=r(192075),_=r(366535),p=r(944350),f=r(59849),x=r(432786),g=r(914790),h=r(672815);function b(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let v=s.memo(function(e){return(0,a.jsx)(d.u,{label:"ChangeVatGstIdModal",children:(0,a.jsx)(y,{...e})})}),y=s.memo(function(e){let t=(0,i.wA)(),{updateVatGstId:r}=e,n=!!e.org?.id,d=(0,l.bc)(f.Wt6,{orgId:e.org?.id||""},{enabled:n}),v=(0,l.bc)(f.xS7,{teamId:e.team?.id||""},{enabled:!n}),y=n?d:v,j=b(n,y),w=j?.taxIdVerificationStatus,[T,E]=s.useState(),[I,N]=s.useState(""),[S,k]=s.useState(""),[C,A]=s.useState(!1),[R,O]=s.useState({country:"",state:""}),[P,L]=s.useState(!1);s.useEffect(()=>{let e=j?.taxInfo;if(!P&&"loaded"===y.status&&e?.status==="loaded"){let t=b(n,y),r=e?.data;N(t?.vatGstId||""),k(r?.regionalVatGstId||""),A(r?.canUpdateRegionalVatGst||!1),O({country:r?.country||"",state:r?.state||""}),L(!0)}},[n,y,P,j?.taxInfo]);let F=()=>{t(_.Ce())};return(0,a.jsxs)(x.OJ,{onClose:F,title:(0,m.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0,children:[T&&(0,a.jsx)("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error",children:(0,a.jsx)(u._,{color:u.S.ERROR,rounded:!1,text:T})}),w===p.kI.VERIFIED&&(0,a.jsx)("div",{"data-testid":"change-vat-gst-id-information",children:(0,a.jsx)(u._,{color:u.S.INFORMATION,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_succeeded")})}),w===p.kI.UNVERIFIED&&(0,a.jsx)("div",{"data-testid":"change-vat-gst-id-warning",children:(0,a.jsx)(u._,{color:u.S.WARNING,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_failed")})}),(0,a.jsxs)("div",{className:h.Dy,children:[(0,a.jsx)("p",{className:"change_vat_gst_id_modal--description--6gdSL",children:(0,m.tx)("change_vat_gst_id.description")}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r(I,e=>E(e),C?S:"").then(e=>{e&&F()})},"data-testid":"change-vat-form",children:[P&&(0,a.jsx)(g.A,{onChange:N,country:R.country,vatId:I,isCommunityCheckout:!1}),C&&(0,a.jsx)(g.A,{onChange:k,country:R.country,region:R.state,vatId:S,isCommunityCheckout:!1,variant:"regional"}),(0,a.jsx)("div",{className:o()(h.v0,h.hF),children:(0,a.jsx)(c.vd,{className:h.pL,type:"submit",disabled:!P,children:(0,m.tx)("change_vat_gst_id.save_id")})})]})]})]})})},686834:(e,t,r)=>{r.r(t),r.d(t,{ConfirmDowngradeModal:()=>x});var a=r(104076),s=r(716976),i=r(237420),n=r(511570),o=r.n(n),l=r(555013),d=r(192075),c=r(273110),u=r(366535),m=r(483200),_=r(432786),p=r(672815);let f=s.memo(function(e){let t=(0,i.wA)(),{teamId:r,billingEndDate:s}=e.modalShown.data,n=e.teams[r],f=()=>{t(u.Ce())},x=s?(0,a.jsxs)(a.Fragment,{children:[(0,d.tx)("confirm_downgrade.team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:n?.name})," ",(0,d.tx)("confirm_downgrade.any_seats_you_add",{billingEndDate:s})]}):(0,d.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:n?.name});return(0,a.jsx)(_.OJ,{onClose:f,title:(0,d.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0,children:(0,a.jsxs)("div",{className:p.Dy,children:[(0,a.jsx)("p",{children:x}),(0,a.jsxs)("div",{className:o()(p.v0,p.hF),children:[(0,a.jsx)(l.tM,{onClick:f,children:(0,d.tx)("confirm_downgrade.go_back")}),(0,a.jsx)(l.qM,{className:p.pL,onClick:()=>{t(m.Wc({teamId:r})),t((0,u.to)({type:(0,c.l)()}))},children:(0,d.tx)("confirm_downgrade.finish_cancellation")})]})]})})});function x(e){return(0,a.jsx)(f,{...e})}},605557:(e,t,r)=>{r.r(t),r.d(t,{TeamPermissionsModal:()=>en});var a=r(104076),s=r(716976),i=r(237420),n=r(78439),o=r(268389),l=r(929302),d=r(950187),c=r(901014),u=r(310725),m=r(221586),_=r(770366),p=r(140490),f=r(679359),x=r(192075),g=r(984924),h=r(366535),b=r(111297),v=r(654765),y=r(616601),j=r(557815),w=r(592726),T=r(174730),E=r(760437),I=r(944350),N=r(893393),S=r(754039),k=r(643898),C=r(411224),A=r(584663),R=r(914077),O=r(613936),P=r(465452),L=r(924561),F=r(543447),D=r(711705),M=r(342958),U=r(868833),B=r(972893),G=r(910708),W=r(994654),z=r(965602),V=r(684742),H=r(957973),$=r(548227),q=r(324438),Y=r(652539),K=r(353103),J=r(59670),Q=r(477422),X=r(70690);function Z(e){let t=e.canAdmin,r=(0,a.jsx)("div",{className:Q.wk,children:(0,a.jsx)(H.b,{})});e.sharingAudienceControl===I.PQ.ORG_EDIT||e.sharingAudienceControl===I.PQ.ORG_VIEW?r=(0,a.jsx)("div",{className:Q.AA,children:(0,a.jsx)($.p,{})}):(e.sharingAudienceControl===I.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===I.PQ.WORKSPACE_VIEW)&&(r=(0,a.jsx)("div",{className:Q.AA,children:(0,a.jsx)(q.t,{})}));let s=e.sharingAudienceControl===I.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,i=s?Q.Fl:Q.Jt;return(0,a.jsxs)(V.E,{className:t?i:Q.zn,onClick:t?()=>e.changeModalView(1):void 0,"data-onboarding-key":K.F,children:[r,(0,a.jsxs)("div",{className:Q.$S,children:[(0,a.jsxs)("div",{children:[e.sharingAudienceControl&&(0,J.ET)(e.sharingAudienceControl,e.org,e.workspace),s&&(0,a.jsx)("div",{className:Q.JZ,children:(0,x.t)("team_creation.anyone_can_find_this_team")})]}),e.org&&(0,a.jsxs)("div",{className:Q.j7,"data-onboarding-key":K.F,children:[e.sharingAudienceControl&&(0,J.mi)(e.sharingAudienceControl),t&&(0,a.jsx)(Y.B,{svg:X.A,className:Q.$w}),t&&(0,a.jsx)(K.j,{})]})]})]})}var ee=r(474629),et=r(746329),er=r(783669),ea=r(398128),es=r(293025);let ei=s.memo(function({roles:e,virtualItems:t,totalSize:r,user:i,parentOrg:n,team:o,teamOrgDomains:l,canAdmin:d,canEdit:c,isCurrentUserTeamOwner:u}){let m=s.useMemo(()=>({team:o,type:I.vt.TEAM}),[o]);return(0,a.jsx)("div",{style:{height:`${r}px`,position:"relative"},children:t.map(t=>{let r=t.index,s=e[r],_=(0,k.OL)(s,d,c);return(0,a.jsx)(er.O,{canEditRole:_,canMakeAdmin:d,currentOrg:n,currentUserOrgId:n?.id??null,isOwnerOfResource:u,orgDomains:l,readOnlyOverrideWarningMessage:null,resource:m,resourceName:o.name,role:s,user:i,virtualRowItem:t},`role-row-${r}`)})})});function en(e){return(0,a.jsx)(p.u,{label:"TeamPermissionsModal",children:(0,a.jsx)(eo,{...e})})}function eo(e){let{teamId:t,initialInviteLevel:r,prepopulateEmail:p,initialView:V}=e,H=(0,i.wA)(),$=(0,w.Pc)(),q=(0,i.d4)(e=>e.autocomplete),Y=(0,i.d4)(e=>e.contacts),K=(0,i.d4)(e=>e.dropdownShown),J=N.M4.Team.useValue(t).data,Q=(0,j.dr)(t),X=(0,j.eb)(t),er=!!(0,T.f)("affco_suggestions_populated");(0,_.oY)("loaded"===Q.status&&"loaded"===X.status,e=>{let t=X.data?.length??0,r="unknown";r=t<=100?"small":t<=300?"medium":"large",(0,c.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:r},{forwardToDatadog:!0})});let en=Q.data,eo=en&&en.org,el=en&&en.teamSharingSettings,ed=eo?eo.id:null,ec=en&&en.workspace,eu=eo&&eo.org_domains?eo.org_domains:R.ls,em=en?.plan?.planRecordId||null,e_=(0,E.y)(em),ep=s.useMemo(()=>X.data?.sort((e,t)=>e.pending===t.pending?ea.E4(e,Y).toLocaleLowerCase()<ea.E4(t,Y).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[Y,X]),ef=en?.userGroupResourcePermissions,ex=en&&en.pendingTeamRoleRequests?en.pendingTeamRoleRequests:[],{default:eg,inviteLevel:eh,setInviteLevel:eb}=(0,j.oU)({initialValue:r,teamId:t,teamPermissions:en}),ev=s.useMemo(()=>{let e=[];return en?.canAdmin&&e.push(O.e6.ADMIN),en?.canEdit&&e.push(O.e6.EDITOR),en?.canRead&&e.push(O.e6.VIEWER),e},[en]),{validateToken:ey,searchResultToken:ej}=(0,y.u)({parentOrg:eo,prepopulatedEmail:p,orgDomains:eu}),ew=(0,U.uv)(eo),eT=e=>{let r=(0,P.Zw)(e),a=r.emails,s=r.userGroups;H((0,C.rq)({emails:a,userGroupIds:e_?s:[],resourceType:I.vt.TEAM,resourceIdOrKey:t,level:eh,emailsToExclude:(0,A.bp)(Y.usersByEmail,$,ep),source:"team_share_modal",orgName:eo?eo.name:void 0,teamId:t}))},eE=()=>{H(h.Ce()),H(g.cL())},[eI,eN]=s.useState(V||0),eS=()=>0===eI?(0,a.jsx)(o.hE,{children:(0,x.tx)("team_view.team_permissions_modal.invite_other_members",{teamName:J?.name??""})}):(0,a.jsx)(G.w,{title:(0,x.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eN(0)}),ek=!!J&&!J.org_id,eC=l.hS({open:e.open,onClose:e.onClose}),eA=e=>(0,a.jsx)(b.fu,{name:"Share Modal",properties:{resourceType:I.vt.TEAM,resourceId:t},children:(0,a.jsx)(d.bL,{manager:eC,width:"lg",children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.Y9,{children:eS()}),(0,a.jsx)(o.nB,{children:e})]})})}),{sharingSuggestions:eR,sharingSuggestionIdsToExclude:eO,sharingSuggestionEmailsToExclude:eP}=(0,W.$)({orgId:ed,teamId:t,contacts:Y.usersByEmail,roles:ep,user:$,autocompleteTokens:q.tokens}),eL=(0,v.Xj)(q.tokens),eF=s.useCallback(()=>36,[]),eD=s.useRef(null),eM=(0,n.z)({size:ep.length,parentRef:eD,estimateSize:eF,overscan:10,paddingStart:0});return eA(J&&en?0===eI?en?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{onKeyDown:e=>{e.keyCode!==m.Uz.ESCAPE&&e.stopPropagation()},children:[ek&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee.i,{includeCopyLinkButton:!0,teamId:t,dropdownShown:K,initialInviteLevel:eg,teamPermissions:{canAdmin:!!en?.canAdmin,canEdit:!!en?.canEdit}}),(0,a.jsx)("div",{className:es.Vq,children:(0,x.tx)("team_view.team_permissions_modal.invite_by_email")})]}),!!en?.canAdmin&&(0,a.jsx)(B.$i,{teamId:t,teamRoleRequests:ex,teamRoles:ep}),(0,D.r)($)?(0,a.jsx)(D.X,{resourceType:"team"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:es.Zk,children:(0,a.jsx)(L.e,{SearchResultComponent:e_?F.VO:F.o6,TokenComponent:e_?F.Vh:F.gy,autocomplete:q,buttonText:(0,x.t)("team_view.team_permissions_modal.invite"),dispatch:H,dropdownKey:"permissions-invite-dropdown",dropdownShown:K,fixedAutocompleteResults:!0,getSearchResults:e_?e=>(0,A._N)(e,Y.usersByEmail,$,ep,em,{inviteLevel:eh,source:"team-permissions-modal"},{resourceType:I.vt.TEAM,resourceIdOrKey:t}):e=>(0,A.Wj)(e,Y.usersByEmail,$,ep,ed,t,null,{inviteLevel:eh,source:"team-permissions-modal"}),getSelectText:k.C1,getTokenIdentifier:F.BJ,getTokenPopover:e_?e=>(0,F.pU)(e,eL):void 0,hideDropdownOnEmpty:!0,inviteLevel:eh,joinLinkShown:ek,onHideModal:eE,onInviteLevelChange:eb,onSubmit:e=>{if(eo&&eo.domain_capture&&eu&&eu.domains.length>0){let t=(0,P.Zw)(e).emails.filter(e=>(0,u.xf)(e)&&!(0,S.H_)(eu.domains,e));if(eo?.invite_whitelist_guest_invite_setting==null&&t.length>0){H(h.to({type:M.F,data:{emails:t,onConfirm:()=>{eT(e)},popStack:!0,orgName:eo.name}}));return}}eT(e)},options:ev,placeholderText:e_?(0,x.t)("user_groups.add_emails_names_or_user_groups"):(0,x.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e_?F.qq:void 0,searchResultToken:e_?ew:ej,shouldAutoFocus:!ek,validateToken:ey,validateTokensAsEmail:!0})}),(0,a.jsx)(W.t,{suggestions:eR??void 0,autocomplete:q,searchResultToken:ej,resourceType:"team",resourceId:t,idsToExclude:eO??void 0,emailsToExclude:eP??void 0,affcoSuggestionsPopulated:er})]}),eo&&(0,a.jsx)("div",{className:es.BA,ref:eD,children:(0,a.jsxs)("div",{className:es.QA,children:[(0,a.jsx)("div",{className:es.TS,children:(0,x.t)("file_permissions_modal.who_has_access")}),(0,a.jsx)(Z,{team:J,workspace:ec,org:eo,changeModalView:eN,sharingAudienceControl:el?.sharingAudienceControl,isTeamOrgBrowsable:el?.orgBrowsable,canAdmin:!!en?.canAdmin}),e_&&(e_?ef?.map(e=>a.jsx(et.$,{userGroupResourcePermission:e,canEditPermission:!!en?.canEdit,canMakeAdmin:!!en?.canAdmin,isPrototypePermission:!1},e.id)):null),(0,a.jsx)(ei,{canAdmin:!!en?.canAdmin,canEdit:!!en?.canEdit,isCurrentUserTeamOwner:!!en?.isOwner,parentOrg:eo,roles:ep,team:J,teamOrgDomains:eu,totalSize:eM.totalSize,user:$,virtualItems:eM.virtualItems})]})})]},"container")}):(0,a.jsx)("div",{className:es.Lq,children:(0,a.jsx)(f.qc,{})}):eo?el&&(0,a.jsx)(z.nH,{team:J,workspace:ec||void 0,org:eo,teamSharingSettings:el,hideModal:eE,goBack:()=>eN(0)}):(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{className:es.Lq,children:(0,a.jsx)(f.qc,{})}))}},720422:(e,t,r)=>{r.r(t),r.d(t,{TeamRenameModal:()=>d});var a=r(104076),s=r(237420),i=r(192075),n=r(554886),o=r(278151),l=r(797196);function d({team:e}){let t=(0,s.wA)();return(0,a.jsx)(l.c,{initialName:e.name,maxLength:o.qg,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:r=>t((0,n.IA)({team:e,name:r}))})}},238972:(e,t,r)=>{let a;r.d(t,{FileBrowserView:()=>y_});var s=r(104076),i=r(716976),n=r(237420),o=r(276800),l=r(812714),d=r(341628),c=r(633065),u=r(219199),m=r(653899),_=r(328341),p=r(449572),f=r(833805),x=r(833406),g=r(681398),h=r(997477),b=r(976049),v=r(830040),y=r(399144),j=r(365854),w=r(188905),T=r(973800),E=r(111679),I=r(951002),N=r(236631),S=r(192075),k=r(171660),C=r(165285),A=r(536095),R=r(952862),O=r(625812),P=r(221586),L=r(547115),F=r(743072),D=r(1188),M=r(487810),U=r(638004),B=r(511570),G=r.n(B),W=r(785754),z=r(824384),V=r(459494),H=r(249586),$=r(190737),q=r(405583),Y=r(537307),K=r(288747),J=r(538829),Q=r(592726),X=r(229528),Z=r(771717),ee=r(791400),et=r(420680),er=r(225654),ea=r(120440),es=r(513369),ei=r(11103),en=r(679359),eo=r(849757),el=r(280350),ed=r(352630),ec=r(795033),eu=r(190028),em=r(982145),e_=r(244205),ep=r(422872),ef=r(235711),ex=r(644075),eg=r(143277),eh=r(61102),eb=r(654200),ev=r(441030);let ey="seen_org_admin_moved_unassigned_drafts_onboarding",ej=(0,eu.A)("2024-10-15").startOf("day"),ew=(0,ef.r1)(ey);function eT(){let e=(0,ec.md)(ew),{show:t,isShowing:r,complete:a}=(0,ep.e)({overlay:ev.rv,priority:eg.N.DEFAULT_MODAL},[e]),i=(0,n.d4)(e=>(0,ex.xw)(e)),o=i?.created_at,l=!!o&&(0,eu.A)(o).isSameOrAfter(ej);return(0,m.h)(()=>{t({canShow:e=>!(e||l)})}),(0,s.jsx)(eh.rq,{arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,S.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),isShowing:r,onClose:a,primaryCta:{label:(0,S.tx)("general.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,S.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eb.EL.FALLBACK,targetKey:em.sm,title:(0,S.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),trackingContextName:em.o8,userFlagOnShow:ey})}var eE=r(643898),eI=r(386216),eN=r(778612);function eS({project:e}){let t=(0,Q.iZ)(),r=(0,K.dq)(),a=(0,n.d4)(e=>e.currentTeamId),s="drafts"===e?r:e.team?.org?.id,i="drafts"===e?a:e.team?.id,o=(0,eN.vt)(i),l=(0,eI.jn)();return!(0,eE.R$)(t,s)&&!g.nW&&!(o||l)}var ek=r(165529),eC=r(799303),eA=r(542220),eR=r(147046),eO=r(657878);function eP(){let e=(0,n.wA)(),t=(0,eO.z3)();return(0,s.jsx)(eA.SidebarRow,{onClick:()=>{e(eR.sf({view:"recentsAndSharing"})),e(eC.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentsAndSharing"===t,icon:(0,s.jsx)(ek.l,{}),text:(0,S.t)("sidebar.recents"),wrapInListItem:!0})}var eL=r(708412),eF=r(443192),eD=r(558817),eM=r(937505),eU=r(944350),eB=r(754039),eG=r(208434),eW=r(754069),ez=r(369850),eV=r(102497),eH=r(585345),e$=r(417167),eq=r(527494),eY=r(59849),eK=r(904017),eJ=r(920659),eQ=r(665756),eX=r(909342);let eZ=(0,ef.r1)("seen_connected_projects_admin_settings_overlay"),e0="connect_admin_settings_onboarding_key";function e1(e){let t=(0,ec.md)(eZ),{show:r,isShowing:a,complete:i}=(0,ep.e)({overlay:ev.kBq,priority:eg.N.DEFAULT_MODAL},[t]);return(0,m.h)(()=>{r({canShow:e=>!e})}),(0,s.jsx)(eh.rq,{arrowPosition:eb.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:(0,S.tx)("resource_connection.onboarding.use_admin_settings_to_see_all_your_connected_projects")}),emphasized:!0,isShowing:a,onClose:i,primaryCta:{label:(0,S.tx)("resource_connection.onboarding.show_me"),type:"button",onClick:()=>{e.openConnectedProjectsTab(),i()},ctaTrackingDescriptor:e_.c.DONE},targetKey:e0,trackingContextName:"Connected Projects Admin Settings Onboarding",width:350,zIndex:eX.R.MODAL})}function e4(e){let t=(0,n.wA)(),r=(0,eK.T5)("GoToAdminRow").unwrapOr(null),a=(0,p.bc)(eY.sMZ,{name:"initiated_first_resource_connection"}),o=i.useMemo(()=>"loaded"===a.status&&!!a.data?.currentUser?.userFlagByName,[a])&&(0,l.kc)().fc_initial_onboarding_enabled&&(r?.tier===eU.Ag.PRO||r?.tier===eU.Ag.ORG||r?.tier===eU.Ag.ENTERPRISE),d=(0,s.jsx)("div",{className:N.s.h24.w24.$,children:(0,s.jsx)(e$.n,{})}),c=(0,s.jsx)(e2,{badge:e.badge}),u=(0,s.jsx)(eA.SidebarRow,{wrapInListItem:!1,icon:d,text:(0,S.t)("sidebar.admin_dashboard"),isSelected:e.isSelected,onClick:e.onClick,badge:c,dataTestId:e.dataTestId,"data-onboarding-key":e0,includeBadgeInLabel:!0});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:"go_to_admin_row--goToAdminRow--OPVDe",children:u}),o&&(0,s.jsx)(e1,{openConnectedProjectsTab:()=>{r?.type===eU.OL.TEAM?t(eR.sf({view:"teamAdminConsole",teamId:r?.key.parentId??"",teamAdminConsoleViewTab:eQ.Iv.CONTENT,teamAdminConsoleViewSecondaryTab:eQ.F9.CONNECTED_PROJECTS})):t(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.CONTENT,orgAdminSettingsViewSecondaryTab:eJ.SN.CONNECTED_PROJECTS}))}})]})}function e2(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"go_to_admin_row--badgeContainer--U08cW",children:e.badge}),(0,s.jsx)("div",{className:"go_to_admin_row--iconContainer--tEzjQ","aria-hidden":!0,children:(0,s.jsx)(eq.a,{})})]})}var e5=r(82621),e6=r(409657),e3=r(462952),e7=r(439956),e8=r(281266),e9=r(764089),te=r(72686);function tt(e){let t=(0,n.wA)(),r=e.orgUser.permission===eU._D.ADMIN,a=(0,e3.RG)(),o=(0,e3.MX)(),{groupsUserIsAdminOf:l}=(0,e3.EQ)(o,e.orgUser.user_id,!r),d=(0,ez.Xf)(e.org.id),c="loaded"===d.status?d.data?.invoices??[]:void 0;i.useEffect(()=>{t(e5.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:u}=(0,e3.Cz)(l,c),m=l[0]?.id,_=e.org.bigma_enabled&&a&&!!m,p=(0,Z.NJ)(e.org.id).data??[],f=e.org.bigma_enabled&&p.length>0,x=(0,eV.ZY)({isIntendedAudience:e.org.bigma_enabled&&!r});if(!(r||_||f))return null;let g=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===e9.GN.ADMIN;case"workspace":return e.subView===te.V0.ADMIN;default:return!1}}(e.selectedView),h=(0,s.jsx)(eH.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:g});return(0,s.jsx)(e4,{badge:h,onClick:()=>{let e=c&&(0,e7.hX)(c);if(r){let e=eJ.J7.DASHBOARD;t(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(eC.Oe({clickedResourceType:"orgAdminSettings"}))}else _?x?t(eR.sf({view:"billingGroupDashboard",selectedTab:e8.D.REQUESTS})):(t(eR.sf({view:"licenseGroup",subView:e9.GN.ADMIN,licenseGroupId:e&&u.length>0?u[0].id:m,selectedTab:(0,e6.g)(e&&u.length>0?e9.RM.MEMBERS:e9.Uu[0])})),t(eC.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):f&&(t(eR.sf({view:"workspace",subView:te.V0.ADMIN,workspaceId:p[0].id,selectedTab:te._C})),t(eC.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:em.sm,isSelected:g})}var tr=r(324438);function ta(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?(0,s.jsx)(eA.SidebarRow,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{r(E.dm(t)),r(eC.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:(0,s.jsx)(tr.t,{}),text:(0,S.t)("sidebar.all_projects"),wrapInListItem:!0}):null}var ts=r(284193),ti=r(333331),tn=r(876621),to=r(744153),tl=r(58212),td=r(284891);function tc(e,t,r,a,s,i){let n=[],o=[];if(a.isFigFiles()){if(!(n=a.getData()))return}else if(a.isRepos()){let e=a.getReposData();e&&(n=e.files,o=e.repos)}else if(a.isTiles()){let e=a.getTilesData();e&&(n=e.files,o=e.repos)}if(n.some(e=>e.editor_type===eU._Y.FIGMAKE)&&!i){e(tl.F.enqueue({message:(0,S.t)("file_browser.file_move.paywall_team_tooltip"),error:!0}));return}e(td.z({files:n,repos:o,folder:t,team:r,draftsMoveData:s?s(n,o):null}))}var tu=r(954190),tm=r(824844),t_=r(792635),tp=r(174730);let tf=(0,ef.r1)("seen_dtm_deprecation_nav_to_plan_overlay");function tx(e){let t=(0,ec.md)(tf),{show:r,isShowing:a,complete:i}=(0,ep.e)({overlay:ev.xPo,priority:eg.N.DEFAULT_MODAL},[t]);(0,m.h)(()=>{r({canShow:e=>!e})});let n=(0,S.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"),o=e.isOrg?(0,S.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?(0,S.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_and_can_always_move_them_to_another_team_or_project"):(0,S.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");return(0,s.jsx)(eh.rq,{arrowPosition:eb.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:o}),emphasized:!0,isShowing:a,onClose:i,primaryCta:{label:(0,S.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{i()},ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,S.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:e_.c.LEARN_MORE},targetKey:to.uZ,title:n,trackingContextName:"Dtm Deprecation Nav To Plan Overlay",width:300,zIndex:eX.R.MODAL})}var tg=r(216816),th=r(127082),tb=r(699395);function tv(e){let t=(0,tp.f)("file_browser_onboarded"),[r,a]=i.useState(!1),n=(0,th.aI)(),o=(0,eK.S2)(),{dtmMigrationPlanName:d,starterTeamCreated:c,dtmPlanParentType:u}=(0,t_.V)((0,ti.oA)(o.data)||void 0),{shouldShowFirstDtmPostMigrationOverlay:m,switchedFromDtmOnboarding:_}=function(){let e=(0,eK.S2)(),{isDraftsToMovePlan:t,dtmMigrationCompleted:r}=(0,t_.V)((0,ti.oA)(e.data)||void 0),a=(0,p.bc)((0,eY.sMZ)({name:"switched_to_new_plan_from_dtm_deprecation_onboarding"})),s=!!a?.data?.currentUser?.userFlagByName&&(0,l.kc)().dtm_deprecation_post_migration_onboarding&&t;return{shouldShowFirstDtmPostMigrationOverlay:!s&&t&&r&&(0,l.kc)().dtm_deprecation_post_migration_onboarding,switchedFromDtmOnboarding:s}}();return(0,s.jsx)("li",{children:(0,s.jsxs)(tn.Y,{isDragTarget:e=>{let t=new tm.le(e);return!!(t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles())},onTargetDragEnter:()=>{a(!0)},onTargetDragLeave:()=>{a(!1)},onTargetDrop:t=>{let r=new tm.le(t);tc(e.dispatch,e.folder,null,r,void 0,n),e.dispatch(tu.T()),a(!1)},draggable:!1,onMouseOver:()=>{a(!0)},onMouseLeave:()=>{a(!1)},children:[(0,s.jsx)(eA.I,{isSelected:"folder"===e.selectedView.view&&e.selectedView.folderId===e.folder.id,onClick:t=>{let r=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(e.dispatch(E.gN(r.id)),e.dispatch(eC.Oe({clickedResourceType:"drafts",resourceIdOrKey:r.id})))},"data-onboarding-key":to.uZ,icon:(0,s.jsx)(ts.p,{}),text:(0,S.t)("sidebar.drafts"),badge:e.shouldHideCreateFileButton?void 0:(0,s.jsx)(tb.iM,{folderId:e.folder.id,isContainerHovered:r}),wrapInListItem:!1}),m&&t&&(0,s.jsx)(tg.a,{entryPoint:"drafts_sidebar",planName:d,targetKey:to.uZ,isOrg:"org"===u,starterTeamCreated:c??!1}),_&&t&&(0,s.jsx)(tx,{starterTeamCreated:c,planName:d??"",isOrg:"org"===u})]})})}var ty=r(892329),tj=r(999083),tw=r(680909),tT=r(967782),tE=r(22508),tI=r(73795),tN=r(580447),tS=r(959834);let tk=(0,tS.Ju)(function(e){let t=(0,n.wA)(),r=(0,s.jsx)("span",{...ea.xk(tI.g.textBodyMediumStrong),children:e.sectionName});return(0,s.jsx)(tN.R,{open:e.open,onClose:e.onClose,onConfirm:()=>{t(eL.de({sidebarSectionId:e.sectionId}))},title:(0,S.t)("sidebar.delete_section"),confirmText:(0,S.t)("sidebar.delete"),destructive:!0,children:(0,S.tx)("sidebar.delete_section_confirmation",{section:r,count:e.count})})},"CONFIRM_SECTION_DELETE_MODAL",tS.ZU.YES);var tC=r(366535),tA=r(346886);let tR="custom-section-header-context-menu";function tO(){let e=(0,n.d4)(e=>e.dropdownShown);return e&&e?.type===tR?e:null}function tP(e){let t=(0,n.wA)(),r=tO();if(null==r)return(0,s.jsx)(s.Fragment,{});let a=()=>{0===r.data.favoritesCount?t(eL.de({sidebarSectionId:r.data.customSection.id})):t((0,tC.to)({type:tk,data:{sectionId:r.data.customSection.id,sectionName:r.data.customSection.name,count:r.data.favoritesCount}}))},i=()=>{e.setRenamingSectionId(r.data.customSection.id)},o=[{displayText:(0,S.t)("sidebar.rename_section"),callback:()=>i()},{displayText:(0,S.t)("sidebar.delete_section"),callback:()=>a()}];return(0,s.jsx)(tA.j,{depth:0,dispatch:t,hidePointWhenContentOffScreen:!0,items:o,lean:"right",leanPadding:0,minWidth:162,onSelectItem:(e,r)=>{e.callback&&e.callback("",null,t)},parentRect:r.data.targetRect,showPoint:!r.data.isFromRightClick})}var tL=r(293422),tF=r(883580);let tD="favorited_section--emojiIcon--pDnB-",tM="favorited_section--isDragTarget--dQd5-",tU="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tB="favorited_section--previewContainerSidebarRowRedesigned--TewzL",tG="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",tW="favorited_section--favoriteClickTarget--Z9eur",tz="favorited_section--thumbnailContainer--C4PE-",tV="favorited_section--lowerContainer--9gDfQ",tH="favorited_section--lowerPartTitles--44fhW",t$="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa",tq="favorited_section--fileIconContainer--u8cZj";function tY(){let e=(0,n.wA)(),t=(0,n.d4)(eB.wA);return t?(0,s.jsxs)("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH",children:[(0,S.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),(0,s.jsx)(tL.$n.Link,{onClick:()=>{e(eR.sf({view:"org",orgId:t.id,orgViewTab:tF.X.HOME}))},children:(0,S.tx)("sidebar.browse_org_custom_sections")})]}):null}function tK(){return(0,s.jsx)("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH",children:(0,s.jsx)(tY,{})})}var tJ=r(991555),tQ=r(307829),tX=r(454851),tZ=r(853943),t0=r(815346),t1=r(326763),t4=r(536358),t2=r(868630),t5=r(225125),t6=r(442156);function t3({customSectionId:e,customSectionName:t,favoritesCount:r,manager:a,setRenamingSectionId:i}){let l=(0,n.wA)();return(0,s.jsx)(tQ.bL,{manager:a,children:(0,s.jsxs)(tQ.mc,{children:[(0,s.jsx)(tQ.q7,{onClick:()=>{i(e)},htmlAttributes:{onPointerUp:o.lQ},children:(0,S.t)("sidebar.rename_section")}),(0,s.jsx)(tQ.q7,{onClick:()=>{0===r?l(eL.de({sidebarSectionId:e})):l((0,tC.to)({type:tk,data:{sectionId:e,sectionName:t,count:r}}))},children:(0,S.t)("sidebar.delete_section")})]})})}var t7=r(251010),t8=r(142914),t9=r(22803),re=r(760437),rt=r(278151),rr=r(826160),ra=r(403836),rs=r(50536),ri=r(388068);function rn(e){let t=(0,n.wA)();return(0,s.jsxs)(tQ.mc,{children:[(0,s.jsx)(ra.b,{resourceId:e.favorite.team.id,resourceType:eU.bk.TEAM,setFavorite:({sectionId:r})=>{t(eL.DN({entrypoint:"sidebar",sectionId:r,team:ri.w.toSinatra(e.favorite.team),favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eL.ox({entrypoint:"sidebar",team:e.favorite.team,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,s.jsx)(tQ.YJ,{children:(0,s.jsx)(tQ.q7,{onClick:()=>{let r=(0,rt.bL)(e.favorite.team.id,e.favorite.orgId);t(rs.S({url:r}))},children:(0,S.t)("file_browser.copy_link_to_team")})})]})}var ro=r(254490);function rl(e){let t=(0,n.wA)(),r=e.favorite.team,{getContextMenuTriggerProps:a,manager:o}=tQ.b(),l=i.useCallback((e,r)=>{(0,t2.LP)(r.team?.id,eU.bk.TEAM,r.sidebarSectionId??void 0,t2.vg);let a=(0,rt.bL)(r.resourceId,r.orgId);(0,P.oJ)(e)?(u.Ay.redirect(a,"_blank"),e.stopPropagation()):(t(E.dm(r.resourceId)),e.preventDefault())},[t]);return(0,s.jsxs)(tQ.bL,{manager:o,children:[(0,s.jsx)(eA.SidebarRow,{ariaDescription:(0,S.t)("file_browser.team_capitalized"),dragKey:e.dragKey,icon:(0,s.jsx)(rd,{favoritedTeam:e.favorite}),isDragTarget:e.isDragTarget,isSelected:e.isSelected,onClick:t=>l(t,e.favorite),onDragDrop:e.onDragDrop,onDragEnd:e.onDragEnd,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:e.onDragStart,showGrabber:e.showGrabber,text:r.name,wrapInListItem:!1,...a()}),(0,s.jsx)(rn,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}function rd({favoritedTeam:e}){let t=(0,eK.No)().unwrapOr(null),r=(0,re.y)(t?.planRecordId);return e.team?.imgUrl?(0,s.jsx)("div",{className:N.s.colorIcon.$,children:(0,s.jsx)(t8.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:t8.Pf.SMALL,fallbackSize:t8.Pf.SMALL},fallbackDisplay:t9.U.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl},fallbackSvg:ro.A})}):r?(0,s.jsx)(rr.CH,{shape:"ROUNDED_SQUARE",hideFallbackInitial:!0,entity:{...e.team,imgUrl:void 0},size:{imgSize:t8.Pf.SMALL,fallbackSize:t8.Pf.SMALL}}):(0,s.jsx)(t7.U,{})}var rc=r(132711),ru=r(382137),rm=r(397261),r_=r(804101),rp=r(619070),rf=r(434362),rx=r(392243),rg=r(248043),rh=r(893393),rb=r(661654),rv=r(701299),ry=r(407261),rj=r(225417),rw=r(707026),rT=r(263131),rE=r(303106),rI=r(65180),rN=r(822601);let rS="sidebar context menu";function rk(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),a=(0,rT.p)(),i=e.favorite.file,o=(0,th.aI)(),{Sprig:u}=(0,t5.A)();if(null==i)return null;let m=i.editorType===eU._Y.FIGMAKE&&!o;return(0,s.jsxs)(tQ.mc,{children:[(0,s.jsxs)(tQ.YJ,{children:[(0,s.jsx)(tQ.q7,{onClick:()=>{(0,t2.DF)("open"),(0,t2.LP)(i.key,eU.bk.FILE,e.favorite?.sidebarSectionId??void 0,rS,i.editorType??void 0),(0,ry.Tq)({dispatch:t,fileResult:i,sprig:u})},children:(0,S.t)("tile.dropdown.open")}),!c.eD&&!(0,d.ce)()&&(0,s.jsx)(tQ.q7,{onClick:()=>{(0,ry.nz)((0,rg.jN)({file:i,allowDefaulting:!0}),i.key,r,t,u),(0,t2.LP)(i.key,eU.bk.FILE,e.favorite?.sidebarSectionId??void 0,rS,i.editorType),(0,t2.DF)("open_in_new_tab")},children:(0,S.t)("tile.dropdown.open_new_tab")})]}),(0,s.jsx)(ra.b,{resourceId:e.favorite.file.key,resourceType:eU.bk.FILE,orderedSidebarSections:e.orderedSidebarSections,setFavorite:({sectionId:r})=>{t(eL.V1({sectionId:r,favoriteId:e.favorite.id,resourceType:eU.bk.FILE})),(0,l.kc)().file_browser_sentiment_survey&&u("setAttribute","fb_file_organized",!0)},removeFavorite:()=>{t(eL.qP({file:i,repoId:i.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id})),(0,l.kc)().file_browser_sentiment_survey&&u("setAttribute","fb_file_organized",!0)},userHasMaxFavorites:!1,favoriteId:e.favorite.id,currentSectionId:e.favorite.sidebarSectionId}),(0,s.jsxs)(tQ.YJ,{children:[(0,s.jsx)(tQ.q7,{onClick:()=>{t(rp.S({fileKey:i.key,url:(0,rg.jN)({file:i,attributionContext:(0,rE.b)(a,rE.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:rE.d.FAVORITED_FILE_CONTEXT_MENU}))},children:(0,S.t)("file_browser.copy_link")}),!m&&(0,s.jsx)(tQ.q7,{onClick:()=>{(0,t2.DF)("share"),t((0,tC.to)({type:rN.g_,data:{fileKey:i.key,source:rj.nk.fileBrowserFavoritedContextMenu}}))},children:(0,S.t)("sidebar.share")}),null!==i.folderId&&(0,s.jsx)(rC,{favorite:e.favorite,folderId:i.folderId})]})]})}function rC({favorite:e,folderId:t}){let r=(0,n.wA)(),a=e.file?.project?.canView,i=rh.M4.useFile(e.file?.key).data;return null==i?null:(0,s.jsx)(tQ.q7,{onClick:()=>{if((0,t2.DF)("show_in_project"),r(eR.sf({view:"folder",folderId:t})),r(rv.an()),e.file.fileRepoId){let t=(0,rb.QJ)(e);null!=t&&r(rv.y$({type:rI.F.REPOS,tiles:[{type:rw.nb.REPO,repo:t,branches:[],selectedBranchKey:""}]}))}else r(rv.y$({type:rI.F.FILES,tiles:[(0,rw.fA)(i)]}))},disabled:!a,children:(0,S.t)("tile.dropdown.show_in_project")})}let rA=e=>(0,s.jsx)("div",{className:tD,children:e});function rR(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,n.d4)(e=>e.currentTeamId),o=(0,n.d4)(e=>e.dropdownShown),d=e.favorite.file,c=rh.M4.useFile(d.key).data,m=(0,rm.NN)(),{Sprig:_}=(0,t5.A)(),{getContextMenuTriggerProps:p,manager:f}=tQ.b(),x=i.useMemo(()=>o&&o.type===tR,[o]),g=i.useCallback(()=>{c||t(rp.yJ({file:{key:d.key,team_id:d.teamId,file_repo_id:d.fileRepoId,folder_id:d.folderId,library_key:d.libraryKey}}))},[t,d,c]),h=(0,rg.jN)({file:d,allowDefaulting:!0}),b=(e,r)=>{(0,t2.LP)(r.file?.key,eU.bk.FILE,r.sidebarSectionId??void 0,t2.vg,r.file?.editorType??void 0),(0,P.oJ)(e)?(t(E.UN({fileKey:r.file?.key??"",entrypoint:t2.vg,sprig:_})),e.stopPropagation()):e.preventDefault(),r.file&&(u.Ay.redirect(h,"_blank"),t(E.UN({fileKey:r.file.key,entrypoint:t2.vg,sprig:_})))},v=d.name,y=(0,rf.AE)(v),j=e.favorite.file?m(e.favorite.file):rm.y1.DESIGN,w=y?rA(y):(0,s.jsx)(rm.w4,{size:16,type:j}),T=(0,rm.Ag)(j),I=y?(0,rf.Nn)(v,y):v,N=e.favorite.file?.project?.path,k=(0,rx.S)(N),C=k?t$:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa",{onContextMenu:A,...R}=p();return(0,s.jsxs)(tQ.bL,{manager:f,children:[(0,s.jsxs)("div",{className:tW,children:[(0,s.jsx)(eA.SidebarRow,{ariaDescription:(0,S.t)("file_browser.file_type_icon_aria_label",{fileType:T}),dragKey:e.dragKey,icon:w,isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:t=>b(t,e.favorite),onContextMenu:e=>{A(e),g()},...R,onDragDrop:e.onDragDrop,onDragEnd:e.onDragEnd,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:e.onDragStart,showGrabber:e.showGrabber,text:""!==I?I:(0,S.t)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file"),wrapInListItem:!1}),!x&&(0,s.jsxs)("div",{className:G()(e.showPreviewDelay?tU:tG,{[tB]:(0,l.kc)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`},children:[(0,s.jsx)("div",{className:tz,children:(0,s.jsx)(r_.NM,{file:d,noBorder:!0})}),(0,s.jsxs)("div",{className:tV,children:[(0,s.jsx)("div",{className:tq,children:(0,s.jsx)(rm.w4,{size:16,type:j})}),(0,s.jsxs)("div",{className:tH,children:[(0,s.jsx)("div",{className:C,children:e.favorite.file?.name}),k&&(0,s.jsx)("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa",children:k})]})]})]})]}),(null!==r||!!a)&&d.folderId&&(0,s.jsx)(rk,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var rO=r(388054),rP=r(178867),rL=r(939354),rF=r(550444);function rD(e){let t=(0,n.wA)();return(0,s.jsxs)(tQ.mc,{children:[(0,s.jsx)(ra.b,{resourceId:e.favorite.project.id,resourceType:eU.bk.FOLDER,setFavorite:({sectionId:r})=>{t(eL.Mv({entrypoint:"sidebar",sectionId:r,folder:e.favorite.project,favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eL.jv({entrypoint:"sidebar",folder:e.favorite.project,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,s.jsx)(tQ.YJ,{children:(0,s.jsx)(tQ.q7,{onClick:()=>{let r=(0,rF.EE)(e.favorite.project.id,e.favorite.orgId);t(rs.S({url:r}))},children:(0,S.t)("file_browser.copy_link_to_project")})})]})}let rM=e=>(0,s.jsx)("div",{className:tD,children:e});function rU(e){let t=e.favorite.project,{getContextMenuTriggerProps:r,manager:a}=tQ.b(),n=(0,rL.EB)(),o=i.useCallback((e,t)=>{(0,t2.LP)(t.project?.id,eU.bk.FOLDER,t.sidebarSectionId??void 0,t2.vg),n(t.resourceId,e)},[n]),l=(0,rf.AE)(t.path),d=l?(0,rf.Nn)(t.path,l):t.path,c=e.favorite.project.activeProjectResourceConnections?.[0];return(0,s.jsxs)(tQ.bL,{manager:a,children:[(0,s.jsx)(eA.SidebarRow,{ariaDescription:(0,S.t)("file_browser.project_capitalized"),badge:c?(0,s.jsx)(rP.W,{hostPlanName:c.hostPlanName,connectedPlanName:c.connectedPlanName}):void 0,dragKey:e.dragKey,icon:l?(0,s.jsx)("div",{children:rM(l)}):(0,s.jsx)(rO.e,{}),isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:t=>o(t,e.favorite),...r(),onDragDrop:e.onDragDrop,onDragEnd:e.onDragEnd,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:e.onDragStart,showGrabber:e.showGrabber,text:d,wrapInListItem:!1}),(0,s.jsx)(rD,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var rB=r(250855),rG=r(978746),rW=r(767273),rz=r(919073);function rV({thumbnailUrl:e,isLocked:t,...r}){return t?(0,s.jsx)(rG.N,{thumbnailType:rz.F.PROTOTYPE,...r}):(0,s.jsx)(rW.V,{thumbnailUrl:e,thumbnailType:rz.F.PROTOTYPE,...r})}var rH=r(445046);function r$(e){let t=(0,n.wA)();return(0,s.jsxs)(tQ.mc,{children:[(0,s.jsx)(ra.b,{resourceId:e.favorite.prototype.id,resourceType:eU.bk.PROTOTYPE,setFavorite:({sectionId:r})=>{t(eL.V1({sectionId:r,favoriteId:e.favorite.id,resourceType:eU.bk.PROTOTYPE}))},removeFavorite:()=>{t(eL.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId}),(0,s.jsx)(tQ.YJ,{children:(0,s.jsx)(tQ.q7,{onClick:()=>{let r=(0,rH._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId);t(rs.S({url:r}))},children:(0,S.t)("file_browser.copy_link")})})]})}function rq(e){let t=(0,n.d4)(e=>e.dropdownShown),{getContextMenuTriggerProps:r,manager:a}=tQ.b(),o=i.useMemo(()=>t&&t.type===tR,[t]),d=(0,rH._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),c=(e,t)=>{if((0,t2.LP)(t.prototype?.fileKey,eU.bk.PROTOTYPE,t.sidebarSectionId??void 0,t2.vg),(0,P.oJ)(e)){e.stopPropagation();return}e.preventDefault(),u.Ay.redirect(d,"_blank")};return(0,s.jsxs)(tQ.bL,{manager:a,children:[(0,s.jsxs)("div",{className:tW,children:[(0,s.jsx)(eA.SidebarRow,{ariaDescription:(0,S.t)("general.file_type.prototype"),dragKey:e.dragKey,icon:(0,s.jsx)(rB.F,{}),isDragTarget:e.isDragTarget,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isSelected:e.isSelected,onClick:t=>c(t,e.favorite),...r(),onDragDrop:e.onDragDrop,onDragEnd:e.onDragEnd,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:e.onDragStart,showGrabber:e.showGrabber,text:e.favorite.prototype.file?.name,wrapInListItem:!1}),!o&&(0,s.jsxs)("div",{className:G()(e.showPreviewDelay?tU:tG,{[tB]:(0,l.kc)().file_browser_sidebar_row_ui}),style:{transform:`translateY(${-e.previewYOffset}px)`},children:[(0,s.jsx)("div",{className:tz,children:(0,s.jsx)(rV,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})}),(0,s.jsxs)("div",{className:tV,children:[(0,s.jsx)("div",{className:tq,children:(0,s.jsx)(rB.F,{})}),(0,s.jsx)("div",{className:tH,children:(0,s.jsx)("div",{className:t$,children:e.favorite.prototype.file?.name})})]})]})]}),(0,s.jsx)(r$,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}var rY=r(237494);function rK(e){let t=(0,n.wA)();return(0,s.jsxs)(tQ.mc,{children:[(0,s.jsx)(ra.b,{resourceId:e.favorite.workspace.id,setFavorite:({sectionId:r})=>{t(eL.ZW({entrypoint:"sidebar",workspace:e.favorite.workspace,sectionId:r,favoriteId:e.favorite.id}))},removeFavorite:()=>{t(eL.if({entrypoint:"sidebar",workspace:e.favorite.workspace,favoriteId:e.favorite.id}))},userHasMaxFavorites:!1,favoriteId:e.favorite.id,orderedSidebarSections:e.orderedSidebarSections,currentSectionId:e.favorite.sidebarSectionId,resourceType:eU.bk.WORKSPACE}),(0,s.jsx)(tQ.YJ,{children:(0,s.jsx)(tQ.q7,{onClick:()=>{if(null!==e.favorite.orgId){let r=(0,rY.fO)(e.favorite.workspace.id,e.favorite.orgId);t(rs.S({url:r}))}},children:(0,S.t)("file_browser.copy_link_to_workspace")})})]})}function rJ(e){let t=(0,n.wA)(),r=e.favorite.workspace,{getContextMenuTriggerProps:a,manager:o}=tQ.b(),l=i.useCallback((e,r)=>{let a=r.workspace;(0,t2.LP)(a?.id,eU.bk.WORKSPACE,r.sidebarSectionId??void 0,t2.vg),a&&t(eR.sf({view:"workspace",subView:te.V0.DIRECTORY,workspaceId:a.id,selectedTab:te.dN.TEAMS}))},[t]),d=e.favorite.workspace?(0,s.jsx)(rr.z6,{entity:e.favorite.workspace,size:16}):(0,s.jsx)(tr.t,{className:N.s.colorIcon.$});return(0,s.jsxs)(tQ.bL,{manager:o,children:[(0,s.jsx)(eA.SidebarRow,{ariaDescription:(0,S.t)("file_browser.workspace_capitalized"),dragKey:e.dragKey,icon:d,isDragTarget:e.isDragTarget,isSelected:e.isSelected,onClick:t=>l(t,e.favorite),onDragDrop:e.onDragDrop,onDragEnd:e.onDragEnd,onDragEnter:e.onDragEnter,onDragLeave:e.onDragLeave,onDragQuadrantUpdate:e.onDragQuadrantUpdate,onDragStart:e.onDragStart,showGrabber:e.showGrabber,text:r.name,wrapInListItem:!1,...a()}),(0,s.jsx)(rK,{favorite:e.favorite,orderedSidebarSections:e.orderedSidebarSections})]})}let rQ=(e,t)=>{let r=e.cloneNode(!0),a=document.createElement("div");return a.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(a.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),r.style.overflow="hidden",t&&(r.classList.add(t),r.classList.add(N.s.colorText.$)),a.appendChild(r),document.body.appendChild(a),a};function rX(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),a=(0,n.d4)(e=>e.currentUserOrgId),{hasPendingRequest:o,getUpgradePathway:l,getUpgradeEligibility:d,getPlanAndPlanUser:c,getHasProvisionalAccess:u,getShouldShowCurf:m,getShouldShowScim:_,getIsUpgradeHandlerLoading:p,getIsEligibleForProvisionalAccess:f}=(0,ru.wH)({folderId:e.favorite.resourceType===eU.bk.FOLDER?e.favorite.resource.project?.id??null:null,isDraftsMove:!0}),x=(0,rc.f4)((0,ec.md)(rc.yH)),[g,h]=i.useState(!1),b=e.favorite.resourceType,v=(0,eO._6)(),{Sprig:y}=(0,t5.A)(),[j,w]=i.useState(!1),T=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!j,[E,N]=i.useState(!1),k=i.useRef(null),C=(0,th.aI)(),A=e.isSelected||(()=>{switch(b){case eU.bk.FOLDER:return"folder"===v.view&&v.folderId===e.favorite.resource.resourceId;case eU.bk.TEAM:return"team"===v.view&&v.teamId===e.favorite.resource.resourceId;case eU.bk.WORKSPACE:return"workspace"===v.view&&v.subView===te.V0.DIRECTORY&&v.workspaceId===e.favorite.resource.resourceId;default:return!1}})(),R=r=>{r.dataTransfer.effectAllowed="move";let a=new tm.le(r.dataTransfer);a.setArbitraryData(e.favorite.resource.id);let s=r.currentTarget;if(!s)return;let i=s.getBoundingClientRect(),n=r.clientX-i.left,o=r.clientY-i.top;k.current=rQ(s,"favorited_generic_row--draggable--QinZd"),a.setDragImage(k.current,n,o),t(tu.v({type:eW.R.Favorite,data:e.favorite}))},O=(t,a)=>{let s=new tm.le(t),i=!1;(r.type===eW.R.Favorite||s.isFigFiles()||s.isRepos()||s.isPrototypes()||s.isTiles())&&((s.isFigFiles()||s.isRepos()||s.isTiles())&&(i=e.favorite.resourceType===eU.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:i?a.upperQuarter:a.upper,dropInto:i&&a.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),N(i))},P=t=>{let a=new tm.le(t);(r.type===eW.R.Favorite||a.isFigFiles()||a.isRepos()||a.isPrototypes()||a.isTiles()&&T)&&(e.clearRearrangeDragState(e.favorite.resource.id),N(!1))},L=(t,r)=>{let a=p();return(0,rc.Zm)({files:t,repos:r,isDestinationDrafts:e.favorite.resourceType===eU.bk.FOLDER&&e.favorite.resource.project?.path==="",enabledForOrgOnly:!1,originFolderIdToPath:x,hasPendingRequest:o,getUpgradePathway:l,getUpgradeEligibility:d,getPlanAndPlanUser:c,getHasProvisionalAccess:u,getShouldShowCurf:m,getShouldShowScim:_,loading:a,getIsEligibleForProvisionalAccess:f})},F=a=>{let s=new tm.le(a);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===eU.bk.FOLDER&&e.favorite.resource.project)tc(t,e.favorite.resource.project,e.favorite.resource.project.team,s,L,C),t(tu.T());else if(s.isFigFiles()||s.isRepos()||s.isPrototypes()||s.isTiles())e.onSetResourceFavoriteDragDrop(a);else if(r.type===eW.R.Favorite&&T){let a=r.data;e.reorderOrInsertFavorite(a.resource.id,a.resourceType,y),t(tu.T())}e.clearRearrangeDragState(e.favorite.resource.id),N(!1)},D=r=>{k.current&&k.current.remove(),t(tu.T()),e.clearRearrangeDragState(e.favorite.resource.id),N(!1)},M=t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:E?t.upperQuarter:t.upper,dropInto:E&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},U=e=>{let t=new tm.le(e);return w(t.isFile()),r.type!==eW.R.SidebarSection&&!t.isFile()};return(0,s.jsx)("li",{className:T?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0,children:(0,s.jsx)("div",{onMouseEnter:()=>{e.preventHoverStyle||h(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),h(!1)},draggable:!e.isFavoritesToMove_DEPRECATED,children:(0,s.jsxs)("div",{className:"favorited_generic_row--rowWithMoveButtons---YE59",children:[(0,s.jsx)("div",{className:"favorited_generic_row--rowContentContainer--9LFsf",children:(()=>{switch(b){case eU.bk.FILE:if(!e.favorite.resource.file)return null;return(0,s.jsx)(rR,{dragKey:`FavoritedFile_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:g,isSelected:A,onDragDrop:F,onDragEnd:D,onDragEnter:O,onDragLeave:P,onDragQuadrantUpdate:M,onDragStart:R,orderedSidebarSections:e.orderedSidebarSections,previewYOffset:e.previewYOffset,showGrabber:!1,showPreviewDelay:e.showPreviewDelay});case eU.bk.PROTOTYPE:if(!e.favorite.resource.prototype)return null;return(0,s.jsx)(rq,{dragKey:`FavoritedPrototype_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:g,isSelected:A,onDragDrop:F,onDragEnd:D,onDragEnter:O,onDragLeave:P,onDragQuadrantUpdate:M,onDragStart:R,orderedSidebarSections:e.orderedSidebarSections,previewYOffset:e.previewYOffset,showGrabber:!1,showPreviewDelay:e.showPreviewDelay});case eU.bk.FOLDER:if(!e.favorite.resource.project)return null;return(0,s.jsx)(rU,{dragKey:`FavoritedProject_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isFavoritesToMove_DEPRECATED:e.isFavoritesToMove_DEPRECATED,isHover:g,isSelected:A,onDragDrop:F,onDragEnd:D,onDragEnter:O,onDragLeave:P,onDragQuadrantUpdate:M,onDragStart:R,orderedSidebarSections:e.orderedSidebarSections,showGrabber:!1});case eU.bk.TEAM:if(!e.favorite.resource.team||!a)return null;return(0,s.jsx)(rl,{dragKey:`FavoritedTeam_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isHover:g,isSelected:A,onDragDrop:F,onDragEnd:D,onDragEnter:O,onDragLeave:P,onDragQuadrantUpdate:M,onDragStart:R,orderedSidebarSections:e.orderedSidebarSections,orgId:a,showGrabber:!1});case eU.bk.WORKSPACE:if(!e.favorite.resource.workspace||!a)return null;return(0,s.jsx)(rJ,{dragKey:`FavoritedWorkspace_${e.favorite.resource.resourceId}`,favorite:e.favorite.resource,isDragTarget:U,isHover:g,isSelected:A,onDragDrop:F,onDragEnd:D,onDragEnter:O,onDragLeave:P,onDragQuadrantUpdate:M,onDragStart:R,orderedSidebarSections:e.orderedSidebarSections,orgId:a,showGrabber:!1});default:(0,I.xb)(b)}})()}),(0,s.jsxs)("div",{className:"favorited_generic_row--moveButtons--gynf- visually_hidden--visuallyHidden--To537",children:[(0,s.jsx)(et.K,{"aria-label":(0,S.t)("favorited_resources.move_down"),onClick:()=>{e.keyboardMoveFavorite(e.favorite.resource.id,to.Mc.Down)},disabled:!e.canMoveWithinSection?.(e.favorite.resource.id,to.Mc.Down),children:(0,s.jsx)(t0.t,{})}),(0,s.jsx)(et.K,{"aria-label":(0,S.t)("favorited_resources.move_up"),onClick:()=>{e.keyboardMoveFavorite(e.favorite.resource.id,to.Mc.Up)},disabled:!e.canMoveWithinSection?.(e.favorite.resource.id,to.Mc.Up),children:(0,s.jsx)(t1.G,{})})]})]})})})}var rZ=r(62032);function r0(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),a=(0,K.dq)()??null,o=(0,$.sb)(e.favorites,e.order),d=(0,eO._6)(),[c,u]=i.useState(!1),m=(0,n.d4)(e=>e.favorites.movingResource),p=(0,n.d4)(e=>e.favorites.collapsedCustomSections),{Sprig:f}=(0,t5.A)(),x=e.section?!p.has(e.section?.id):!p.has("favorited"),[g,h]=i.useState(!1),[b,v]=i.useState(),[y,j]=i.useState(),w=(0,n.d4)(e=>e.dragState),T=(0,_.ZC)(w);i.useEffect(()=>{w.type===eW.R.None&&T&&T.type!==eW.R.None&&j(void 0)},[w,T]),i.useEffect(()=>{!e.isCurrentHoveredSection&&w.type===eW.R.SidebarSection&&y&&j(void 0)},[e.isCurrentHoveredSection,y,w]);let[E,I]=i.useState(void 0),[k,C]=i.useState(!0),A=i.useRef(null),R=tO();i.useEffect(()=>{E===y?.draggedOverFavoriteId&&j(void 0),I(void 0)},[y,j,E,I]);let O=i.useCallback(r=>{e.section?.id&&(r.dataTransfer.effectAllowed="move",new tm.le(r.dataTransfer).setArbitraryData(e.section.id),t(tu.v({type:eW.R.SidebarSection,data:e.section.id})))},[t,e.section]),P=i.useCallback(()=>{(0,t2.xs)(!x);let r=new Set(p);e.section?(rZ.Fp({type:"topLevel",id:"custom",orgId:a,sectionId:e.section?.id},!x),x?r.add(e.section.id):r.delete(e.section.id)):(rZ.Fp({type:"topLevel",id:"favorited",orgId:a},!x),x?r.add("favorited"):r.delete("favorited")),t(eL.U6({collapsedCustomSections:r}))},[x,a,e.section,p,t]),L=(r,a)=>{let s;let i=o.map(e=>e.resource.id);if(!y?.draggedOverFavoriteId)return i;let n=-1!==i.indexOf(r);if(n)s=(0,tj.Pe)(i,r,y.draggedOverFavoriteId,y.dropBefore);else{let e=i.indexOf(y.draggedOverFavoriteId);y.dropBefore||(e+=1),s=[...i.slice(0,e),r,...i.slice(e)]}if((0,t2.hp)(),v(r),(0,l.kc)().file_browser_sentiment_survey&&f("setAttribute","fb_file_organized",!0),e.section?.id){n?t(eL.vg({sectionId:e.section.id,orderedFavoriteIds:s})):t(eL.V1({favoriteId:r,sectionId:e.section.id,resourceType:a,orderedFavoriteIds:s}));return}n||t(eL.V1({favoriteId:r,sectionId:void 0,resourceType:a})),t(W.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:s,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},F=(e,t)=>{let r=o.map(e=>e.resource.id);return(0,tJ.K)(r,e,t)},D=(r,a)=>{let s=o.map(e=>e.resource.id),i=(0,tJ.$)(s,r,a);(0,t2.hp)(),e.section?.id?t(eL.vg({sectionId:e.section?.id,orderedFavoriteIds:i})):t(W.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:i,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},M=i.useCallback(e=>{e.stopPropagation(),b&&v(void 0)},[b]),U=i.useCallback(()=>{C(!0)},[]),B=i.useCallback(e=>{let t=new tm.le(e);return u(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),z=s=>{let i=new tm.le(s),n=[],c=[],u=[];if(h(!1),i.isFigFiles()){if(!(n=i.getData()))return!1}else if(i.isPrototypes()){if(!(u=i.getData()))return!1}else if(i.isRepos()){let e=i.getReposData();if(!e)return!1;c=e.repos}else if(i.isTiles()){let e=i.getTilesData();if(!e)return!1;n=e.files,c=e.repos,u=e.prototypes}n=n.filter(e=>!e.is_favorited),c=c.filter(e=>!e.is_favorited),u=u.filter(e=>!e.is_favorited);let m=o.map(e=>e.resource.id),_=n.length+c.length+u.length,p=(0,$.kK)(a);if(_+o.length>p)return t(tl.F.enqueue({message:(0,S.t)("tile.favoriting.max_favorites",{maxFavorites:p})})),!1;let x=null;return y&&(x=m.indexOf(y.draggedOverFavoriteId)+(y.dropBefore?0:1)),t(eL.N9({files:n,repos:c,prototypes:u,orgId:a,teamId:r,selectedView:d.view,entrypoint:"sidebar",insertAtIndex:x,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),(0,l.kc)().file_browser_sentiment_survey&&f("setAttribute","fb_file_organized",!0),!0},V=i.useCallback(()=>{h(!0)},[]),H=i.useCallback(()=>{h(!1)},[]),q=G()(N.s.relative.$,g||y?.draggedOverSectionId&&e.section&&!c&&y.draggedOverSectionId===e.section.id?tM:""),Y=e.section?.name===""||e.section?.name===void 0?(0,S.tx)("sidebar.starred"):e.section.name,{getTriggerProps:J,manager:Q}=tQ.b(),{getContextMenuTriggerProps:X,manager:Z}=tQ.b(),ee=(0,l.kc)().file_browser_sidebar_options_menu_fpl_migration?Q.isOpen:R?.data?.customSection?.id===e.section?.id,er=e.isCreatingNewSection||e.isRenaming,ea=e.section?.name===void 0?(0,S.t)("sidebar.new_section"):(0,$.R3)(e.section)?(0,S.t)("sidebar.starred"):e.section.name,es=!!a,ei=(0,l.kc)().file_browser_sidebar_options_menu_fpl_migration?e.section&&e.setRenamingSectionId&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t3,{manager:Q,customSectionId:e.section.id,customSectionName:e.section.name,favoritesCount:o.length,setRenamingSectionId:e.setRenamingSectionId}),(0,s.jsx)(tX.d,{"aria-label":(0,S.t)("favorited_resources.settings_tooltip"),...J(),children:(0,s.jsx)(tZ.J,{})})]}):(0,s.jsx)(tX.d,{"aria-expanded":!!R,"aria-label":(0,S.t)("favorited_resources.settings_tooltip"),onClick:r=>{R?t(eR.oB()):A.current&&t(eR.j7({type:tR,data:{targetRect:A.current.getBoundingClientRect(),customSection:e.section,favoritesCount:o.length}})),r.stopPropagation(),r.preventDefault()},ref:A,children:(0,s.jsx)(tZ.J,{})}),en=(0,l.kc)().file_browser_sidebar_options_menu_fpl_migration?X():{onContextMenu:r=>{r.stopPropagation(),r.preventDefault();let a={top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1};t(eR.j7({type:tR,data:{customSection:e.section,favoritesCount:o.length,isFromRightClick:!0,targetRect:a}}))}},eo=(0,l.kc)().file_browser_sidebar_options_menu_fpl_migration?e.section&&e.setRenamingSectionId&&es&&(0,s.jsx)(t3,{manager:Z,customSectionId:e.section.id,customSectionName:e.section.name,favoritesCount:o.length,setRenamingSectionId:e.setRenamingSectionId}):null;return(0,s.jsx)(tn.Y,{className:q,isDragTarget:B,draggable:!1,onTargetDrop:z,onTargetDragEnter:V,onTargetDragLeave:H,children:(0,s.jsx)("div",{...{0:{className:"x1n2onr6 x1xv4cb7 x11vwm0n x1776rzk x1ynmmh2"},2:{className:"x1n2onr6 x1xv4cb7 x11vwm0n x1776rzk x1ynmmh2 x9addt1 xj02ohu"},1:{className:"x1n2onr6 x1xv4cb7 x11vwm0n x1776rzk x1ynmmh2 x1osdahg"},3:{className:"x1n2onr6 x1xv4cb7 x11vwm0n x1776rzk x1ynmmh2 x1osdahg"}}[!er<<1|!!(ee&&!er)<<0],children:(0,s.jsxs)(tw.bL,{isOpen:x,toggle:P,...en,children:[(0,s.jsxs)(tw.Y9,{children:[e.isRenaming&&(0,s.jsx)(t6.p,{className:"x10l6tqk x13vifvy x1qpfodn xn5hqff x10w6t97 x4zv5z4",inputId:`section-name-input-${e.section?.id}`,hiddenLabelText:(0,S.t)("sidebar.section_name_aria_label"),placeholderValue:ea,submit:r=>{e.isCreatingNewSection?(m?t(eL.yH({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.orderedSidebarSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:m})):t(eL.YI({name:r,insertAtIndex:e.sectionIndex,currentOrderedSections:e.orderedSidebarSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(eL.vg({sectionId:e.section.id,name:r.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),m&&t(eL.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}),(0,s.jsx)(tw.JU,{htmlAttributes:{draggable:!0,onDragStart:O,"data-onboarding-key":1===e.orderedSidebarSections.length?null:"FAVORITES_ONBOARDING_KEY"},children:(0,s.jsx)("div",{...{0:{className:"x1f6ge7u xb3r6kr xlyipyv xuxw1ft"},1:{className:"xb3r6kr xlyipyv xuxw1ft xwjqxzn"}}[!!(0,l.kc)().file_browser_sidebar_row_ui<<0],children:Y})}),es&&(0,s.jsx)(tw.X0,{children:(0,s.jsxs)("div",{className:"xvq6ntt x1euntei x78zum5 x6s0dn4",children:[(0,s.jsx)("div",{className:"xmiomt6 xvqzeea",children:(0,s.jsx)(et.K,{"aria-label":e.section?.name===""||e.section?.name===void 0?(0,S.t)("favorited_resources.starred_section_move_down"):(0,S.t)("favorited_resources.custom_section_move_down",{sectionName:e.section?.name}),onClick:()=>{e.keyboardMoveSection?.(e.section?.id??"",to.Mc.Down)},disabled:!e.canKeyboardMoveSection?.(e.section?.id??"",to.Mc.Down),children:(0,s.jsx)(t0.t,{})})}),(0,s.jsx)("div",{className:"xmiomt6 xvqzeea",children:(0,s.jsx)(et.K,{"aria-label":e.section?.name===""||e.section?.name===void 0?(0,S.t)("favorited_resources.starred_section_move_up"):(0,S.t)("favorited_resources.custom_section_move_up",{sectionName:e.section?.name}),onClick:()=>{e.keyboardMoveSection?.(e.section?.id??"",to.Mc.Up)},disabled:!e.canKeyboardMoveSection?.(e.section?.id??"",to.Mc.Up),children:(0,s.jsx)(t1.G,{})})}),ei,(0,s.jsx)(r1,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})]})})]}),eo,(0,s.jsx)(tw.UC,{children:0===o.length?1===e.orderedSidebarSections.length&&(0,$.R3)(e.orderedSidebarSections[0])&&!e.isCreatingNewSection?(0,s.jsx)(tY,{}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("ol",{onMouseMove:M,onMouseLeave:U,children:o.map(t=>{let r=b===t.resource.id;return(0,s.jsx)(rX,{canMoveWithinSection:F,clearRearrangeDragState:I,favorite:t,isSelected:r,keyboardMoveFavorite:D,onSetResourceFavoriteDragDrop:z,orderedSidebarSections:e.orderedSidebarSections,preventHoverStyle:void 0!==b,previewYOffset:e.previewYOffset,rearrangeDragState:y,reorderOrInsertFavorite:L,setShowPreviewDelay:C,showPreviewDelay:k,updateRearrangeDragState:j},t.resource.resourceId)})})})]})})})}function r1(e){return(0,s.jsx)("div",{className:"favorited_section--dialogTriggerButtonContainer--m7yPm",children:(0,s.jsx)(et.K,{"aria-label":(0,S.t)("favorited_resources.create_a_new_section_tooltip"),htmlAttributes:{"data-tooltip":(0,S.t)("favorited_resources.create_a_new_section_tooltip"),"data-tooltip-type":"text"},onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},children:(0,s.jsx)(t4.e,{})})})}function r4(e){let t=(0,$.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,null,null);return(0,s.jsx)(r0,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,orderedSidebarSections:[],sectionIndex:0,previewYOffset:e.previewYOffset})}function r2(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.dragState),a=(0,n.d4)(e=>e.favorites.newCustomSectionIndex),o=(0,n.d4)(e=>e.favorites.favoritesCount),l=(0,$.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[d,c]=i.useState(),[u,m]=i.useState(),[_,p]=i.useState(!1),f=i.useMemo(()=>(0,$.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);i.useMemo(()=>{o&&o<15&&l.length>=15&&(0,tT.YQ)({id:tE.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(eL.lF({favoritesCount:l.length}))},[o,l.length,t]);let x={},g=[];l.forEach(e=>{e.resource.sidebarSectionId?x[e.resource.sidebarSectionId]?x[e.resource.sidebarSectionId].push(e):x[e.resource.sidebarSectionId]=[e]:g.push(e)});let h=i.useCallback(()=>r.type===eW.R.Favorite||r.type===eW.R.SidebarSection,[r]),b=i.useCallback(e=>{r.type===eW.R.SidebarSection&&p(e.upper)},[r]),v=i.useCallback(()=>{let a="starred"===d?void 0:d;if(r.type===eW.R.Favorite){let e=r.data;t(eL.V1({favoriteId:e.resource.id,sectionId:a,resourceType:e.resourceType}))}else if(r.type===eW.R.SidebarSection&&a){let s=f.map(e=>e.id)??[],i=(0,tj.Pe)(s,r.data,a,_);t(W.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))}p(!1),c(void 0),t(tu.T())},[d,t,r,_,f,e.fileBrowserPreferences]),y=i.useCallback(e=>()=>{c(e)},[]),j=i.useCallback(()=>{c(void 0)},[]),w=i.useCallback(e=>{t(eL.pS({newCustomSectionIndex:e}))},[t]),T=i.useCallback((e,t)=>{let r=f.map(e=>e.id)??[];return(0,tJ.K)(r,e,t)},[f]),E=i.useCallback((r,a)=>{let s=f.map(e=>e.id)??[],i=(0,tJ.$)(s,r,a);t(W.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))},[t,e.fileBrowserPreferences,f]);if(0===f.length&&void 0===a)return(0,s.jsx)(tK,{});let I=(0,s.jsx)("div",{className:N.s.mb8.$,children:(0,s.jsx)(r0,{canKeyboardMoveSection:T,favorites:[],fileBrowserPreferences:e.fileBrowserPreferences,isCreatingNewSection:!0,isRenaming:!0,keyboardMoveSection:E,order:[],orderedSidebarSections:f,previewYOffset:e.previewYOffset,sectionIndex:a||0,setNewCustomSectionIndex:w,setRenamingSectionId:m})});return(0,s.jsx)("div",{className:N.s.mt8.$,children:(0,s.jsxs)(tw.YJ,{"aria-label":(0,S.t)("sidebar.starred"),children:[0===a&&I,f.map((t,i)=>{let n=r.type===eW.R.Favorite?tM:_?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",o=G()(d===t.id?n:"",N.s.mb8.$);return(0,s.jsxs)("div",{children:[(0,s.jsx)(tn.Y,{className:o,isDragTarget:h,draggable:!1,onTargetDragQuadrantUpdate:b,onTargetDrop:v,onTargetDragEnter:y(t.id),onTargetDragLeave:j,children:(0,s.jsx)(r0,{canKeyboardMoveSection:T,favorites:x[t.id]??[],isCurrentHoveredSection:d===t.id,isRenaming:u===t.id,keyboardMoveSection:E,order:t.orderedFavoritedResourceIds??[],orderedSidebarSections:f,previewYOffset:e.previewYOffset,section:t,sectionIndex:i,setNewCustomSectionIndex:w,setRenamingSectionId:m})}),a===i+1&&I]},t.id)}),(0,s.jsx)(tP,{setRenamingSectionId:m})]})})}var r5=r(856909),r6=r(903853),r3=r(652539),r7=r(111297),r8=r(349311),r9=r(563554),ae=r(555013),at=r(806650),ar=r(418732),aa=r(708749),as=r(432786),ai=r(824007);let an=(0,tS.Ju)(function(e){let[t,r]=(0,i.useState)(null),a=(0,n.wA)(),o=(0,at.Gs)(),l=(0,Q.TA)(),d=(0,n.d4)(e=>e.teamUserByTeamId),c=(0,n.d4)(e=>l?e.authedUsers.byId[l]?.plans?.filter(e=>!e.is_org):null),u=(0,S.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>a(tC.Ce()),_={};l&&(0,aa._)(d,l).forEach(e=>{e.drafts_folder_id&&(_[e.team_id]=e.drafts_folder_id)});let p=(e,t)=>{t&&a(ar.Cy({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return(0,s.jsx)(as.OJ,{title:u,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0,children:(0,s.jsxs)("div",{className:"move_favorites_modal--modalBody---Rdx2",children:[c&&(0,s.jsx)(eo.P,{width:480,children:(0,s.jsx)("div",{className:N.s.pl8.pr8.$,children:c.map(e=>(0,s.jsx)(ao,{planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>r(t?.plan_id===e.plan_id?null:e)},e.plan_id))})}),(0,s.jsxs)("div",{className:"move_favorites_modal--footer--ERUeX",children:[(0,s.jsx)(ae.nR,{onClick:m,children:(0,S.tx)("modal.cancel")}),(0,s.jsx)(ae.vd,{disabled:!t,onClick:()=>{let r=t?.is_org?null:t?.plan_id,s=e.favorites.reduce((e,t)=>t.resourceType===eU.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),i={},n=o.filter(e=>{let t=!!s[e.key];return t&&(i[e.key]=!0),t}),l=e.favorites.filter(e=>!(e.resourceType===eU.bk.FILE&&e.resource.file?.key)||!i[e.resource.file?.key]).map(e=>e.resource.id);a(eL.Ic({favoriteIds:l,teamId:r})),r&&p(n,_[r]),m()},children:(0,S.t)("modal.confirm")})]})]})})},"MoveFavoritesModal");function ao(e){return(0,s.jsxs)("button",{"data-testid":`${e.name}-button`,className:G()("move_favorites_modal--teamRow--qNRGf",e.checked?N.s.colorBgSelected.$:""),onClick:e.onSelect,children:[(0,s.jsx)("div",{className:"move_favorites_modal--iconContainer--oDATP",children:e.checked?(0,s.jsx)(r3.B,{className:N.s.colorIcon.$,svg:ai.A}):(0,s.jsx)(t8.nl,{size:t8.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:t9.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})}),(0,s.jsx)("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa",children:(0,s.jsx)("span",{className:"move_favorites_modal--destinationHeading--mwxLX",children:e.name})})]})}var al=r(523860),ad=r(85206),ac=r(507015);let au="favorited_drafts_to_move";function am(e){let t=(0,n.wA)(),[r,a]=i.useState(!0),l=(0,Q.TA)(),d=(0,n.d4)(e=>e.favorites.collapsedCustomSections),c=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),u=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),m=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),_=(0,$.ds)(c,u,m),p=!d.has(au),f=i.useCallback(()=>{rZ.Fp({type:"topLevel",id:au,orgId:null},!p),p?d.add(au):d.delete(au),t(eL.U6({collapsedCustomSections:d}))},[p,d,t]),x=i.useCallback(()=>{t(eL.vr({favoriteIds:_.map(e=>e.id)}))},[t,_]);if(0===_.length)return(0,s.jsx)(s.Fragment,{});let g=_.map(t=>(0,s.jsx)(rX,{clearRearrangeDragState:o.lQ,favorite:t,isFavoritesToMove_DEPRECATED:!0,isSelected:!1,keyboardMoveFavorite:o.lQ,onSetResourceFavoriteDragDrop:o.lQ,orderedSidebarSections:[],preventHoverStyle:!1,previewYOffset:e.previewYOffset,rearrangeDragState:void 0,reorderOrInsertFavorite:o.lQ,setShowPreviewDelay:a,showPreviewDelay:r,updateRearrangeDragState:o.lQ},t.resource.resourceId));return(0,s.jsx)(r7.fu,{name:r9.e0.FAVORITES_TO_MOVE_SECTION,properties:{userId:l,numFiles:_.length},children:(0,s.jsxs)("div",{className:G()("favorited_section--moveFavoritesContainer--qp39R",N.s.pt4.pb4.ml8.mr8.mb8.$),children:[(0,s.jsxs)("div",{className:G()(N.s.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"),children:[(0,s.jsxs)("div",{onClick:f,className:N.s.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0,children:[(0,s.jsx)(r3.B,{className:G()(N.s.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:p?al.A:ad.A}),(0,S.tx)("sidebar.move_these_starred_items"),(0,s.jsx)(r3.B,{svg:ac.A,className:G()("favorited_section--helpIcon--vfl5Y",N.s.flex.itemsBaseline.ml4.$),"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})]}),p?null:(0,s.jsx)(r5.Ex,{text:_.length>99?"99+":`${_.length}`,color:r5.zE.DEFAULT,className:N.s.mr8.colorText.colorBgSelectedSecondary.$})]}),p?(0,s.jsxs)("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p",children:[(0,s.jsx)("ol",{children:g}),(0,s.jsxs)("div",{className:N.s.flex.justifyBetween.m8.h24.$,children:[(0,s.jsx)(r6.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(tC.to({type:an,data:{favorites:_}}))},children:(0,S.tx)("file_browser.planless_favorites.add_to_sidebar")}),(0,s.jsx)(r6.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:x,children:(0,S.tx)("file_browser.planless_favorites.unstar_all")})]})]}):null]})})}function a_(e){let t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.wA)();return t?(0,s.jsx)(eA.SidebarRow,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{r(E.eP()),r(eC.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:(0,s.jsx)(tr.t,{}),text:(0,S.t)("sidebar.all_shared_projects"),wrapInListItem:!0}):null}function ap(e){return e?(0,S.t)("sidebar.browse.all_workspaces"):(0,S.t)("sidebar.browse.all_teams")}function af(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(t=>e?t.orgById[e]:null),r=(0,Z.c4)(e).data??!1;return t&&e?(0,s.jsx)(s.Fragment,{children:ap(r)}):null}function ax({hasWorkspaces:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,n.d4)(e=>e.selectedView),i=(0,n.d4)(e=>r?e.orgById[r]:null),o="org"===a.view&&a.orgId===r,l=ap(e);return i&&r&&l?(0,s.jsx)(eA.SidebarRow,{isSelected:o,onClick:()=>{t(eR.sf({view:"org",orgId:r,orgViewTab:tF.X.HOME})),t(eC.Oe({clickedResourceType:"org",resourceIdOrKey:r}))},icon:(0,s.jsx)(tr.t,{className:N.s.colorIcon.$}),text:l,wrapInListItem:!0}):null}var ag=r(372071),ah=r(172269);let ab="seen_team_admin_moved_unassigned_drafts_onboarding",av=(0,ef.r1)(ab);function ay(){let e=(0,ec.md)(av),{show:t,isShowing:r,complete:a}=(0,ep.e)({overlay:ev.tZO,priority:eg.N.DEFAULT_MODAL},[e]);return(0,m.h)(()=>{t({canShow:e=>!e})}),(0,s.jsx)(eh.rq,{arrowPosition:eb.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,S.tx)("team_admin.onboarding.unassigned_drafts.description"),isShowing:r,onClose:a,primaryCta:{label:(0,S.tx)("general.got_it"),type:"button",onClick:a,ctaTrackingDescriptor:e_.c.DONE},secondaryCta:{label:(0,S.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:e_.c.LEARN_MORE},shouldCenterArrow:eb.EL.FALLBACK,targetKey:aj,title:(0,S.tx)("team_admin.onboarding.unassigned_drafts.title"),trackingContextName:ah.o8,userFlagOnShow:ab})}let aj="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function aw(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentTeamId),a=(0,eK.px)(),o=(0,eK.W8)(a).unwrapOr(!1),l=(0,eK.No)(),d=(0,i.useMemo)(()=>l.transform(({tier:e})=>({isProTeam:e===eU.Ag.PRO,hasProAccess:e===eU.Ag.PRO||e===eU.Ag.STUDENT})),[l]);if("loaded"!==d.status)return null;let c=d.data;if(!r||!o||!c.hasProAccess)return null;let u=e.selectedView&&"teamAdminConsole"===e.selectedView.view,m=(0,s.jsx)(eH.e9,{planType:eV.ps.TEAM,planId:r,isSelected:u,isDataLoaded:!0,isOrgAdmin:!1});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e4,{badge:c.isProTeam?m:void 0,isSelected:u,dataTestId:"admin-settings-link",dataOnboardingKey:aj,onClick:()=>{t(eR.sf({view:"teamAdminConsole",teamId:r,isProTeam:c.isProTeam,teamAdminConsoleViewTab:c.isProTeam?eQ.Iv.DASHBOARD:eQ.Iv.MEMBERS})),t(eC.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:r}))}}),(0,s.jsx)(ay,{})]})}var aT=r(81409),aE=r(483497),aI=r(250596),aN=r(845945);function aS(){let e=(0,n.wA)(),t=(0,aI.Om)(),r=(0,aI.tv)(),a=aE.Rd(aI.au)?.tab??null;return(0,s.jsx)(eA.SidebarRow,{onClick:()=>{u.Ay.push(new aI.au({...t,tab:aN.N$.COMMUNITY},r).href),e(eC.Oe({clickedResourceType:"resourceHubCommunity"}))},"data-onboarding-key":aN.Pm,isSelected:a===aN.N$.COMMUNITY,icon:(0,s.jsx)(aT.N,{}),text:(0,S.t)("sidebar.community"),wrapInListItem:!1})}var ak=r(361248);function aC(){let e=(0,n.wA)(),t=(0,aI.Om)(),r=(0,aI.tv)(),a=aE.Rd(aI.au)?.tab??null;return(0,s.jsx)(eA.SidebarRow,{onClick:()=>{u.Ay.push(new aI.au({...t,tab:aN.N$.INTERNAL},r).href),e(eC.Oe({clickedResourceType:"resourceHubInternal"}))},"data-onboarding-key":aN.d6,isSelected:a===aN.N$.INTERNAL,icon:(0,s.jsx)(ak.Q,{}),text:(0,S.t)("sidebar.resources"),wrapInListItem:!1})}var aA=r(140490),aR=r(670540),aO=r(180610),aP=r(428147),aL=r(729226),aF=r(561602),aD=r(958127),aM=r(104836),aU=r(285359),aB=r(49795),aG=r(911374),aW=r(769109),az=r(613997);let aV="base_upgrade_section--closeButton--cbjWt",aH=(0,r7.tf)(aB.l),a$=(0,r7.tf)(aG.k);function aq(){return(0,s.jsx)("div",{className:G()("base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4",ea.Ay.classNames(aK.divider))})}function aY(e){return(0,s.jsx)(r7.fu,{name:e.trackingContext,properties:e.trackingProperties,children:(0,s.jsxs)("div",{className:G()({"base_upgrade_section--content--95XrT":!e.demure,"base_upgrade_section--contentCollapsible--W7q8q base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":e.demure&&e.collapsible,"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":e.demure&&!e.collapsible}),children:[e.onDismiss&&(0,s.jsx)(aW.Jn,{className:aV,onClick:e.onDismiss,trackingProperties:{trackingDescriptor:e_.c.CLOSE}}),e.header&&(0,s.jsxs)("div",{className:N.s.wFull.if(e.demure,N.s.font13.lh24,N.s.mb12).$,children:[(0,s.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4",children:[(0,s.jsx)("h3",{className:"base_upgrade_section--header--NKOUG",children:e.header}),e.collapsible&&(0,s.jsx)("div",{className:aV,children:e.isCollapsed?(0,s.jsx)(aH,{"aria-label":(0,S.t)("base_upgrade_section.expand"),onClick:()=>e.setIsCollapsed(!1),trackingProperties:{action:"expand"}}):(0,s.jsx)(a$,{"aria-label":(0,S.t)("base_upgrade_section.collapse"),onClick:()=>e.setIsCollapsed(!0),trackingProperties:{action:"collapse"}})})]}),(!e.demure||e.collapsible&&!e.isCollapsed)&&(0,s.jsx)(aq,{})]}),!!e.icon&&e.icon,e.countDownDaysLeft&&(0,s.jsx)("div",{className:"base_upgrade_section--countdownTicker--6YLVt",children:(0,s.jsx)(k.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})}),!(e.collapsible&&e.isCollapsed)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ base_upgrade_section--baseTextContainer--t4bW6":"base_upgrade_section--textContainer--ObHaO base_upgrade_section--baseTextContainer--t4bW6",children:[e.titleText&&(0,s.jsx)("p",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:e.titleText}),(0,s.jsx)("p",{children:e.bodyText})]}),(0,s.jsx)(az.hK,{height:12}),(0,s.jsx)(ed.Ih,{onClick:e.onClickCTA,"data-testid":e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties,children:e.ctaText}),e.footerText&&(0,s.jsx)("div",{className:"base_upgrade_section--footerText--mohlV",children:e.footerText})]})]})})}let aK={divider:{koQZXg:"x18wv8x9",km5ZXQ:"x1wdly0x",keTefX:null,k71WvV:null,kzqmXN:"x1xirlz",$$css:!0}},aJ="upgrade_section--upgradeTextEmphasized--aQCr9";var aQ=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(aQ||{});function aX(e){let t=(0,n.wA)(),r=e.type,a=(0,s.jsx)("span",{className:aJ,children:(0,S.t)("edu.sidebar_section.verified")});return(0,s.jsx)(aY,{trackingContext:0===r?"Edu Upgrade Section":"Edu Create Section",icon:(0,s.jsx)(aR.d,{}),bodyText:(0,s.jsxs)(s.Fragment,{children:[a," ",0===r?(0,S.t)("edu.sidebar_section.upgrade"):(0,S.t)("edu.sidebar_section.create_team")]}),ctaText:0===r?(0,S.t)("edu.choose_team"):(0,S.t)("edu.create_free_team"),onClickCTA:0===r?()=>{t((0,tC.to)({type:aL.q}))}:()=>{t(E.Dw({isEduTeam:!0}))},onDismiss:()=>{t(eF.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function aZ({daysLeft:e}){let t=(0,p.Rs)((0,eY.UpR)({})),r=t.data?.currentUser?.eduPeriodEnd,a=(0,aF.Cr)();return(0,aF.l)(r,a)?(0,s.jsx)(a0,{daysLeft:e}):(0,s.jsx)(a1,{daysLeft:e})}function a0({daysLeft:e}){let t=(0,n.wA)(),r=(0,aF.Cr)(),a=(0,aM.ol)();if(e<0)return null;let i=()=>{u.Ay.redirect("/education/apply",g.Ay.isIpadNative?void 0:"_blank")},o=(0,s.jsx)(ed.rb,{onClick:()=>{a?.id&&t?.(tC.to({type:aU.ZL,data:{teamId:a?.id}}))},children:(0,S.tx)("edu.banner.learn_more")});return e>0?(0,s.jsx)(aY,{trackingContext:"Universal Upgrade Section Education Plan Countdown New Reverification",countDownDaysLeft:e,titleText:(0,S.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:(0,S.tx)("edu.sidebar_section.all_education_accounts_must_reverify",{offboardingDate:r,linkLearnMore:o}),ctaText:(0,S.tx)("edu.offboarding_modal.verify_your_status"),onClickCTA:i}):(0,s.jsx)(aY,{trackingContext:"Universal Upgrade Section Education Plan Expired New Reverification",icon:(0,s.jsx)(aO.n,{}),titleText:(0,S.tx)("edu.sidebar_section.education_status_expired"),bodyText:(0,S.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:o}),ctaText:(0,S.tx)("edu.offboarding_modal.verify_your_status"),onClickCTA:i})}function a1({daysLeft:e}){let t=(0,n.wA)(),r=!!(0,tp.f)("edu_hide_verification");if(e<0)return null;let a=()=>{t((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.EDU_UPGRADE_SECTION}}))},i=(0,s.jsx)(ae.eM,{onClick:()=>u.Ay.redirect("/education/apply",g.Ay.isIpadNative?void 0:"_blank"),children:(0,S.tx)("edu.sidebar_section.verify_your_education_status")});return e>0?(0,s.jsx)(aY,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,S.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:r?(0,S.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,S.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:i}),ctaText:(0,S.tx)("upgrade.upgrade_to_professional"),onClickCTA:a}):(0,s.jsx)(aY,{trackingContext:"Universal Upgrade Section Education Plan Expired",icon:(0,s.jsx)(aO.n,{}),titleText:(0,S.tx)("edu.sidebar_section.education_plan_expired"),bodyText:r?(0,S.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,S.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:i}),ctaText:(0,S.tx)("upgrade.upgrade_to_professional"),onClickCTA:a})}var a4=r(256384),a2=r(901556),a5=r(507665);let a6="dismissed_limited_team_space_uub";function a3(e){let t=(0,n.wA)(),[r,a]=i.useState(!1),o=(0,p.bc)(eY.qOl,{teamId:e.team.id}),l=(0,Q.iZ)(),d="loaded"===o.status&&(0,ti.oA)(o.data?.teamRoleRequest),c=!!d&&"pending"===d.status,u=!!d&&"approved"===d.status,m=!!d&&"denied"===d.status;if(i.useEffect(()=>{c&&a(!0)},[c]),"loaded"!==o.status||u||m)return null;let _=async()=>{try{await a5.$.requestTeamRole({teamId:e.team.id}),t(tl.F.enqueue({message:(0,S.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,H.uE)("limited_team_plan_request_upgrade_clicked",{user:l},{teamId:e.team.id}),a(!0)}catch(e){t(a4.s.error("Failed to request team role",e))}};return(0,s.jsx)(aY,{bodyText:(0,S.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:r?(0,S.tx)("upgrade.access_requested"):(0,S.tx)("upgrade.request_full_access"),ctaTrackingProperties:{},demure:"very",disabled:c||r,header:(0,S.tx)("upgrade.limited_access_in_this_team"),onClickCTA:_,onDismiss:()=>{t(a2.bE({all_team_flags:[{team_id:e.team.id,flags:{[a6]:!0}}]}))},trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id}})}var a7=r(439279),a8=r(671424),a9=r(906356),se=r(454967),st=r(571430),sr=r(295770),sa=r(498726),ss=r(103345);function si({orgUpsellEligibility:e}){let t=(0,n.wA)(),r=(0,aM.ol)(),a=(0,n.d4)(e=>e.userFlags),i=e===sr.VY.SINGLE_TEAM?(0,S.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,S.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),o=`${e===sr.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`,l=a7.v.getFeatureGate("pro_to_org_upgrades_uub"),d=(0,s.jsx)("span",{className:"xkezfkh",children:(0,S.tx)("upgrade.upgrade_to_an_organization_plan")}),c=e===sr.VY.SINGLE_TEAM?(0,S.tx)("upgrade.upgrade_to_an_organization_plan_to_access_cross_team_design_libraries_sso_and_more",{upgradeToAnOrganizationPlan:d}):(0,S.tx)("upgrade.upgrade_to_an_organization_plan_to_centralize_your_teams_and_share_design_libraries",{upgradeToAnOrganizationPlan:d}),u=(0,s.jsx)(ae.Us,{onClick:()=>t((0,tC.to)({type:a9.lk,data:{source:se.B.ORG_UPGRADE_SECTION}})),trackingProperties:{trackingDescriptor:e_.c.CONTACT_SALES},trusted:!0,children:(0,S.tx)("upgrade.contact_sales")}),m=(0,S.tx)("upgrade.or_contact_sales",{contactSalesLink:u});return(0,s.jsx)(aY,{trackingContext:l?"DismissibleOrgUpgradeSection":o,ctaTrackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS},icon:(0,s.jsx)(a8.A,{}),bodyText:l?c:i,ctaText:(0,S.tx)("upgrade.view_plans"),onClickCTA:l?()=>{t((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.ORG_UPGRADE_SECTION}}))}:()=>{e===sr.VY.SINGLE_TEAM&&t((0,tC.to)({type:ss.DV,data:{team:r,resource:sa.Bi.ORG,currentPlan:st.F.Plan.PRO,upsellPlan:st.F.Plan.ORG,editorType:null,entryPoint:aD.C6.ORG_UPGRADE_SECTION}})),e===sr.VY.MULTIPLE_TEAMS&&t((0,tC.to)({type:a9.u3,data:{entryPoint:aD.C6.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,sr.CJ)(a)),ctaDataTestId:"org-upgrade-cta",footerText:l?m:void 0})}var sn=r(748314),so=r(332795),sl=r(295253);let sd="dismissed_paid_free_space_uub";function sc(e){let t=(0,n.wA)(),r=so.h.useTrackingContext({trigger:sl.b.UNIVERSAL_UPGRADE_SECTION}),{open:a}=(0,sn.O)(),i=(0,s.jsx)(ae.eM,{onClick:()=>{a()},trackingProperties:{trackingDescriptor:e_.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS},children:(0,S.tx)("upgrade.work_in_one_of_your_paid_teams")}),o=(0,S.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:i});return(0,s.jsx)(aY,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...r},header:(0,S.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:o,ctaText:(0,S.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:e_.c.VIEW_ALL_PLANS},onDismiss:()=>{t(a2.bE({all_team_flags:[{team_id:e.team.id,flags:{[sd]:!0}}]}))},demure:"very"})}var su=r(475477),sm=r(359166);function s_({loading:e,data:t}){let r=(0,n.wA)(),[a,i]=(0,sm.Vc)("resubscription_section_collapsed",!1);if(e)return null;let{cancellationDate:o,team:l}=t,d=(0,s.jsx)("p",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:(0,S.tx)("resubscription_section.header_text")}),c=(0,s.jsx)(su.N,{href:"https://www.figma.com/pricing",newTab:!0,children:(0,S.tx)("resubscription_section.link_so_much_more")});return(0,s.jsx)(aY,{bodyText:(0,S.tx)("resubscription_section.body_text",{linkSoMuchMore:c}),collapsible:!0,ctaDataTestId:"user-churning-cta",ctaText:(0,S.tx)("resubscription_section.cta_text"),ctaTrackingProperties:{trackingDescriptor:e_.c.REACTIVATE_YOUR_PROFESSIONAL_PLAN},demure:"very",header:d,isCollapsed:a,onClickCTA:()=>{r((0,tC.to)({type:a9.U6,data:{upsellSource:sl.b.RESUBSCRIBE_SECTION,team:l}}))},setIsCollapsed:i,titleText:(0,S.tx)("resubscription_section.title_text",{teamName:l.name,date:o}),trackingContext:"Resubscribe UUB"})}var sp=(e=>(e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e.RESUBSCRIPTION="Resubscription",e))(sp||{}),sf=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(sf||{});function sx({onTeam:e,hitFileLimit:t}){let r=(0,n.wA)(),a=so.h.useTrackingContext({trigger:sl.b.UNIVERSAL_UPGRADE_SECTION}),i=t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:aJ,children:(0,S.tx)("upgrade.running_out_of_files_in_your_free_team")})," ",(0,S.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")]}):(0,S.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return(0,s.jsx)(aY,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...a},icon:(0,s.jsx)(a8.A,{}),bodyText:i,ctaText:(0,S.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{r((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.UNIVERSAL_UPGRADE_SECTION}}))}})}var sg=r(287211),sh=r(380494),sb=r(225582),sv=r(889438),sy=r(654231),sj=r(381059),sw=r(151720),sT=r(853039),sE=r(140948);let sI=(0,ec.eU)(e=>{let t=e(sN);return!!t&&[eU.P4.FILES_LIMITED,eU.P4.FILES_LIMITED_LEGACY,eU.P4.WHITEBOARD_FILES_LIMITED,eU.P4.WHITEBOARD_FILES_LIMITED_BETA,eU.P4.SLIDE_FILES_LIMITED,eU.P4.SLIDE_FILES_LIMITED_BETA,eU.P4.GLOBAL_FILES_LIMITED_LEGACY,eU.P4.GLOBAL_FILES_LIMITED].some(e=>t?.restrictions_list?.includes(e))}),sN=(0,sE.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});var sS=r(844882);let sk=rh.M4.Query({key:"upgrade_section/pending_cancellations",fetch:async e=>(await sS.T.getPendingCancellations(e)).data.meta,output:({data:e})=>({annual_subscription:sC(e.annual_subscription),monthly_subscription:sC(e.monthly_subscription),plan_canceled:e.plan_canceled})});function sC(e){return null==e?null:{canceled_at:null==e.canceled_at?null:sA(e.canceled_at),current_period_end:sA(e.current_period_end)}}function sA(e){return new Date(1e3*e).toISOString()}function sR(){return(0,s.jsx)(aA.u,{label:"UpgradeSection",children:(0,s.jsx)(sO,{})})}function sO(){let e=sL();return null===e?null:(0,s.jsx)(D.tH,{boundaryKey:"SidebarUpgradeSection",fallback:D.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:U.e.MONETIZATION_UPGRADES},children:(0,s.jsx)(sP,{...e})})}function sP(e){switch(e.type){case sp.RESUBSCRIPTION:return(0,s.jsx)(s_,{...e.props});case sp.EDU_EXPIRY:return(0,s.jsx)(aZ,{daysLeft:e.props.daysLeft});case sp.EDU_UPGRADE:return(0,s.jsx)(aX,{type:e.props.type});case sp.ORG_UPGRADE:return(0,s.jsx)(si,{orgUpsellEligibility:e.props.orgUpsellEligibility});case sp.PAID_FREE_SPACE:return(0,s.jsx)(sc,{team:e.props.team});case sp.LIMITED_TEAM_SPACE:return(0,s.jsx)(a3,{team:e.props.team});case sp.UNIVERSAL:default:return(0,s.jsx)(sx,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function sL(){let e=function(){let e=(0,l.kc)().can_one_click_resubscribe,t=(0,V.bV)(),r=(0,eK.S2)().unwrapOr(null),a=(0,eK.px)(),s=(0,eK.W8)(a).unwrapOr(!1),i=(0,sb.R)(),n=e&&r&&r.type===eU.OL.TEAM&&r.tier===eU.Ag.PRO&&s,[o,d]=(0,rh.IT)(sk(r?.planRecordId??""),{enabled:!!n}),c={type:sp.RESUBSCRIPTION,overrideLocation:sf.IN_FOOTER};if(!n)return null;if("loading"===o.status)return{...c,props:{loading:!0,data:null}};let u=o.data;if(!u)return null;let m=(0,sy.j)(u,i);return m&&function(e,t,r){let a=new Date(t.getTime());return a.setDate(a.getDate()+(r?30:14)),e>=t&&e<=a}(m,i,!!u.annual_subscription)&&t()?{...c,props:{loading:!1,data:{cancellationDate:m,team:{id:r.key.parentId,name:r.name}}}}:null}(),t=function(){let e=(0,Q.iZ)(),t=(0,aM.ol)(),r=(0,eM.FC)(),a=(0,p.bc)(eY.UpR,{}),s=a.data?.currentUser?.eduPeriodEnd,i=(0,n.d4)(e=>e.userFlags),o=(0,eK.D6)("useEduUpgradeSectionProps"),l=(0,eK.fh)(o).unwrapOr(!1);if(!e||"loaded"!==a.status)return null;let d=(0,sv.x$)(s),c=d>0&&d!==1/0&&(0,sv.cn)(e)&&t?.student_team_state===eU.kU.STUDENT_TEAM_CURRENT,u=0===d&&(t?.student_team_state===eU.kU.STUDENT_TEAM_EXPIRED&&(0,sT.oc)(t.id,r)||t?.student_team_state===eU.kU.STUDENT_TEAM_CURRENT);if(c||u)return{type:sp.EDU_EXPIRY,props:{daysLeft:d}};if(!i.dismissed_edu_sidebar&&(0,sv.cn)(e)&&!l){let e=(0,sT.Kg)(r).length>0;return{type:sp.EDU_UPGRADE,props:{type:e?aQ.UPGRADE:aQ.CREATE}}}return null}(),r=function(){let e=(0,Q.iZ)(),t=(0,n.d4)(e=>e.teams),r=(0,aM.ol)(),a=(0,ec.md)(sI),s=(0,ec.md)(sj.Lm),i=(0,p.bc)(eY.kQI,{id:r?.id??""},{enabled:!!r}),o=(0,eN.vt)(),l=(0,eI.jn)();return e&&r&&"loaded"===i.status&&i.data.team?.hasPermission&&"loaded"===s.status&&s.data?!r||(0,sv.cn)(e)||(0,sT.w5)(t[r.id])||o||l?null:{type:sp.UNIVERSAL,props:{onTeam:Object.keys(t).length>0,hitFileLimit:a}}:null}(),a=function(){let e=(0,n.d4)(e=>e.userFlags),t=function(){let e=(0,eM.FC)(),t=(0,sg.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId})),r=(0,p.bc)((0,eY.yQw)(t.currentTeamId?{teamId:t.currentTeamId}:null));return t.currentTeamId?r.transform(({team:r})=>(0,sr.hF)(t,e,r)):sh.Qw.loaded((0,sr.hF)(t,e,null))}(),r=(0,sr.j)(e);return t.transform(e=>e===sr.VY.NONE||r?null:{type:sp.ORG_UPGRADE,props:{orgUpsellEligibility:e},overrideLocation:sf.IN_FOOTER})}(),s=function(){let e=(0,Q.iZ)(),t=(0,n.d4)(e=>e.teams),r=(0,aM.ol)(),a=(0,ec.md)(sj.Lm),s=(0,n.d4)(e=>e.userTeamFlags),i=(0,p.bc)(eY.kQI,{id:r?.id??""},{enabled:!!r}),o=(0,V.Mi)();return!e||!r||"loaded"!==a.status||a.data||(0,sv.cn)(e)||(0,sT.w5)(t[r.id])||"loaded"!==i.status||!i.data.team?.hasPermission||!o()?null:(0,sw.gY)(s,sd,r.id,7776e6)?null:{type:sp.PAID_FREE_SPACE,props:{team:r},overrideLocation:sf.IN_FOOTER}}(),i=function(){let e=(0,Q.iZ)(),t=(0,aM.ol)(),r=(0,X.d)(),a=(0,n.d4)(e=>e.userTeamFlags);return e&&t&&r?(0,sw.gY)(a,a6,t.id,7776e6)?null:{type:sp.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:sf.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==r?r:"loaded"===a.status&&a.data?a.data:null!==s?s:null}var sF=r(684742),sD=r(16421),sM=r(901014);let sU=(0,ec.eU)(!1);function sB(){let[e,t]=(0,ec.fp)(sU),r=(0,ec.md)(d.Bb);if(!r)return null;let a=async()=>{t(!0);let e=await r.prompt();"dismissed"===e.outcome&&t(!1),(0,sM.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return(0,s.jsxs)(sF.E,{...{0:{className:"xh8yej3 x78zum5 x6s0dn4 x1hc1fzr x12ulsxz xaope02 x167g77z x1icplyp"},1:{className:"xh8yej3 x78zum5 x6s0dn4 x12ulsxz xaope02 x167g77z x1icplyp xg01cxk x47corl x177bw73"}}[!!e<<0],onClick:a,children:[(0,s.jsx)("span",{className:"x2lah0s",children:(0,s.jsx)(sD.z,{})}),(0,s.jsx)(k.E,{truncate:!0,color:"default",children:(0,s.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,S.tx)("file_browser.tool_bar.add_to_chromebook")})})]})}function sG(e){let t=function(){let e=(0,d.lH)(),t=(0,ec.md)(d.Bb);return!!g.Ay.chromeos&&!!g.Ay.chrome&&!e&&!!t}();return(0,s.jsxs)("div",{className:N.s.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,N.s.bt1.colorBorder.bSolid).$,children:[e.shouldShowUUBInFooter&&(0,s.jsx)("div",{className:N.s.pb10.pt12.$,children:(0,s.jsx)(sR,{})}),t&&(0,s.jsx)(sB,{})]})}var sW=r(733071),sz=r(67384);function sV(e){return(0,s.jsxs)("div",{className:N.s.flex.flexColumn.colorBg.if(e.hasBottomBorder,N.s.bb1.colorBorder.bSolid).$,children:[(0,s.jsx)(sz.Xg,{}),(0,s.jsx)(sW.Z,{})]})}var sH=r(787669);function s$(e){let t=(0,n.wA)(),r="teamFeed"===(0,eO._6)().view;return(0,s.jsx)(eA.SidebarRow,{onClick:()=>{t(eR.sf({view:"teamFeed"})),t(eC.Oe({clickedResourceType:"teamFeed"}))},isSelected:r,icon:(0,s.jsx)(sH.h,{}),text:(0,S.t)("fig_feed.feed"),wrapInListItem:!0})}function sq({selectedView:e,teamFolderId:t,teamFolderName:r}){let a=(0,n.wA)();return t&&r?(0,s.jsx)(eA.SidebarRow,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{a(E.gN(t)),a(eC.Oe({clickedResourceType:"folder"}))},icon:(0,s.jsx)(rO.e,{}),text:r,"data-onboarding-key":to.Jo,wrapInListItem:!0}):null}var sY=r(36758);function sK(){let e=(0,n.wA)(),t="deletedFiles"===(0,n.d4)(e=>e.selectedView).view;return(0,s.jsx)(eA.SidebarRow,{isSelected:t,onClick:()=>{e(eR.sf({view:"deletedFiles"})),e(eC.Oe({clickedResourceType:"deletedFiles"}))},icon:(0,s.jsx)(sY.i,{}),text:(0,S.t)("file_browser.tool_bar.trash"),wrapInListItem:!0})}let sJ="sidebar--divider--sHsz4";function sQ(e){let t=(0,n.wA)(),r=(0,K.dq)(),a=(0,n.d4)(e=>e.currentTeamId),o=(0,n.d4)(e=>e.userFlags),d=(0,eM.FC)(),c=(0,n.d4)(e=>e.userStateLoaded),u=(0,eO._6)(),m=(0,n.d4)(e=>e.dragState),_=eS({project:"drafts"}),[p,f]=i.useState(0),[x,h]=i.useState(!1),[b,v]=i.useState(!1),[y,j]=i.useState(!1),w=()=>{t(eF.b({show_create_new_section_banner:!1}))},T=!!a,E=(0,X.d)(),I=(0,eB.wA)(d),N=(0,eD.a9)(),k=N&&N.permission===eU._D.ADMIN,C=(0,eG.eH)(),A=(0,eG.mj)(),R=(0,$.D6)(r),O=()=>C?(0,s.jsx)(aC,{}):null,P=()=>c?(0,s.jsx)(sR,{}):null,L=T?e.dataDriftCorrectedTeamResources?.favoritedFiles:e.sidebarUser?.favoritedFiles,F=T?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:e.sidebarUser?.favoritedPrototypes,D=T?e.dataDriftCorrectedTeamResources?.favoritedProjects:e.sidebarUser?.favoritedProjects;D&&e.FBGNavigationUpdatesTreatment!==V.ih.CONTROL&&(D=D.filter(t=>t.project?.id!==e.teamFolderId));let M=L?.length===0&&F?.length===0&&D?.length===0,U=e.FBGNavigationUpdatesTreatment===V.ih.CONTROL||!M,B=sL(),W={[V.ih.CONTROL]:sf.BETWEEN_CONTENT,[V.ih.VARIANT_A]:sf.IN_FOOTER,[V.ih.VARIANT_B]:sf.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],z=B?.overrideLocation??W,H=!!m.data&&(m.type===eW.R.Folder||m.type===eW.R.Team||m.type===eW.R.Favorite),q=!(e.showLoadingState||e.showingFileBrowserLoader);return(0,s.jsx)(ei.AV,{loadingElementId:"filebrowser-loading-sidebar",loaded:q,children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3",children:[(0,s.jsx)(sV,{hasBottomBorder:y}),(0,s.jsxs)(eo.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:"sidebar--innerScrollContainer--JaOLM",scrollingDisabled:!1,onScroll:e=>f(e),children:[(0,s.jsx)(el.a,{onIntersectionChange:t=>{j(!t.isIntersecting),t.isIntersecting||x||(e.trackScroll(),h(!0))}}),(0,s.jsxs)("div",{className:G()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":H,"sidebar--navWidth240--TCn98":(0,l.kc)().file_browser_sidebar_row_ui}),children:[(0,s.jsx)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("ul",{children:[(0,s.jsx)(eP,{}),(0,s.jsx)(ty.r,{selectedView:u,dispatch:t}),A&&(0,s.jsx)(aS,{})]}),(0,s.jsx)("div",{className:sJ}),(0,s.jsx)("div",{className:"x17qaar8 xr9ek0c xjpr12u",children:(0,s.jsx)(ag.b,{})}),(0,l.kc)().xr_debounce_threshold&&I&&N&&N.permission!==eU._D.GUEST?(0,s.jsx)(s$,{}):null,(0,s.jsxs)("ul",{children:[e.draftsProject&&(0,s.jsx)(tv,{folder:e.draftsProject,selectedView:u,dispatch:t,shouldHideCreateFileButton:!_}),T&&(0,s.jsx)(s.Fragment,{children:E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a_,{selectedView:u}),O(),(0,s.jsx)(sK,{})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ta,{selectedView:u}),O(),(0,s.jsx)(sK,{}),(0,s.jsx)(aw,{selectedView:u}),e.FBGNavigationUpdatesTreatment!==V.ih.CONTROL&&(0,s.jsx)(sq,{selectedView:u,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName})]})})]}),z===sf.BETWEEN_CONTENT&&(0,s.jsxs)("div",{className:"sidebar--section--COZVK",children:[!!B&&(0,s.jsx)("div",{className:"x7hzu26 x1ef8nbk xjm9jq1 x176lpz5"}),P()]}),I&&N&&c&&(0,s.jsxs)("ul",{children:[(0,s.jsx)(ax,{hasWorkspaces:e.isOrgWithWorkspaces}),O(),(0,s.jsx)(sK,{}),!g.Ay.mobile&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tt,{selectedView:u,org:I,orgUser:N}),k&&(0,s.jsx)(eT,{})]})]}),R&&(I&&o.show_create_new_section_banner?(0,s.jsxs)("div",{className:"sidebar--betaAnnouncementContainer--FfmFT",children:[(0,s.jsxs)("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz",children:[(0,s.jsx)("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm",children:(0,S.tx)("favorited_resources.custom_sections_banner_header")}),(0,s.jsx)(et.K,{"aria-label":(0,S.t)("common.close"),onClick:w,children:(0,s.jsx)(er.X,{})})]}),(0,s.jsxs)("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g",children:[(0,s.jsx)("p",{children:(0,S.tx)("favorited_resources.custom_sections_banner_body")}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:(0,s.jsx)(ed.$z,{variant:"secondary",onClick:()=>{t(eL.pS({newCustomSectionIndex:0})),w()},children:(0,S.tx)("favorited_resources.custom_sections_banner_create_new_section_button")})})]})]}):null),(0,s.jsx)("div",{className:sJ}),(0,s.jsx)("section",{"aria-labelledby":"favorites-heading",children:c?(0,s.jsxs)(s.Fragment,{children:[r?(0,s.jsx)(r2,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:L,favoritedPrototypes:F,favoritedProjects:D,favoritedTeams:e.sidebarUser?.favoritedTeams??null,favoritedWorkspaces:e.sidebarUser?.favoritedWorkspaces??null,userSidebarSections:e.sidebarUser?.userSidebarSections?(0,es.oA)(e.sidebarUser.userSidebarSections):[],previewYOffset:p}):(0,s.jsx)(s.Fragment,{children:U&&(0,s.jsx)(r4,{fileBrowserPreferences:e.sidebarUser?.fileBrowserPreferences,favoritedFiles:L,favoritedPrototypes:F,favoritedProjects:D,previewYOffset:p})}),T&&(0,s.jsx)(am,{teamUser:e.sidebarUser?.currentTeamUser??null,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:p})]}):(0,s.jsx)("div",{className:"sidebar--loading--AITp2",children:(0,s.jsx)(en.kt,{})})}),z===sf.AFTER_CONTENT&&(0,s.jsx)("div",{className:"x7wzq59 x1ey2m1c x1yjdb4r x1a8lsjc xz9dl7a",children:P()})]})}),(0,s.jsx)(el.a,{onInitialLoad:e=>{v(!e)},onIntersectionChange:e=>{v(!e.isIntersecting)}})]})]}),(0,s.jsx)(sG,{hasTopBorder:z===sf.BETWEEN_CONTENT&&(b||y),shouldShowUUBInFooter:z===sf.IN_FOOTER})]})})}function sX(e){let t=(0,Q.iZ)(),r=(0,K.dq)(),a=(0,X.d)(),o=(0,n.d4)(e=>e.currentTeamId),l=(0,n.wA)(),d=(0,ee.Q)({currentOrgId:r,currentTeamId:o||null}),c="loaded"===d.status?d.data:null,u="loaded"!==d.status;(0,x.WX)({markName:"Sidebar",isLoaded:!u});let m=(0,Q.TA)(),_=(0,n.d4)(e=>m?e.authedUsers.byId[m]?.plans:null),[{status:p,data:g}]=(0,f.IT)((0,q.Xg)({teamId:o||void 0}),{enabled:!a}),h="loaded"===p&&g?.length===1?g[0]:null,b=h?.id,v=h?.name,y=null,j=(0,i.useMemo)(()=>c?{...c.currentUser}:null,[c]),w=(0,Z.Zr)(c?.org??null),T=i.useMemo(()=>{if(j&&j.currentTeamUser&&o)return(0,$.TF)(j,o,_)},[j,o,_]),E=e.showingFileBrowserLoader;if(i.useEffect(()=>{if(o&&j&&j?.currentTeamUser){let e=j.currentTeamUser;!e.fileBrowserPreferences&&j.fileBrowserPreferences&&l(W.Sh({prefs:j.fileBrowserPreferences,orderedFolderSubscriptions:j.fileBrowserSectionPreferences?.filter(e=>e.teamId===o)[0]?.orderedFolderIds??[],teamUser:e}))}},[o,j,l]),j){if(r&&j.baseOrgUser){let e=j.baseOrgUser;j.fileBrowserPreferences=e.fileBrowserPreferences,j.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else o&&j.currentTeamUser&&(j.fileBrowserPreferences=j.currentTeamUser?.fileBrowserPreferences);o?y=j.currentTeamUser?.draftsProject??null:r&&(y=j.baseOrgUser?.draftsProject??null)}return(0,s.jsx)(sQ,{FBGNavigationUpdatesTreatment:(0,V.fn)(),dataDriftCorrectedTeamResources:T,draftsProject:y,isOrgWithWorkspaces:w,showLoadingState:u,showingFileBrowserLoader:E,sidebarUser:j,teamFolderId:b,teamFolderName:v,trackScroll:()=>(0,H.uE)("Sidebar Scrolled",{user:t})})}var sZ=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(sZ||{});let s0={FileBrowserSidebar:U.e.WAYFINDING,AdminSettingsSidebar:U.e.SCALE};function s1(e){let t=(0,n.d4)(e=>e.mobileNavShown),r=(0,J.n)()?"AdminSettingsSidebar":"FileBrowserSidebar";return(0,s.jsx)("nav",{className:G()("sidebar--navDefault--pYuzm",{"sidebar--navDefaultWidth240--qFPqm":(0,l.kc)().file_browser_sidebar_row_ui,"sidebar--showMobileNav--YiFit":t,"sidebar--showMobileNavWidth240--mMlvE":t&&(0,l.kc)().file_browser_sidebar_row_ui}),"aria-label":(0,S.t)("sidebar.label"),children:(0,s.jsx)(D.tH,{sentryTags:{area:s0[r]},boundaryKey:r,fallback:(0,s.jsx)(z.R,{}),hasCustomWASMBuild:Y.y4,children:"FileBrowserSidebar"===r?(0,s.jsx)(sX,{...e}):(0,s.jsx)(R.ay,{})})})}var s4=r(222195),s2=r(207472),s5=r(562311),s6=r(876793),s3=r(377026),s7=r(623971),s8=r(199440),s9=r(912565),ie=r(280110),it=r(154962),ir=r(983500),ia=r(917736),is=r(298073),ii=r(266808),io=r(428710),il=r(770522),id=r(983468),ic=r(445857);let iu=(0,ec.eU)(void 0),im=(0,ec.eU)(!1),i_=(0,il.H0)("#2c2c2c");function ip(e){let t=(0,ec.md)(iu);if(!e||"unset"===t)return;let r=(e.colorConfig?.colors??[])[0];return t?(0,io.colorToHex)(t):r}function ix(e){return!!e&&"unset"!==e}var ig=r(414191);function ih(e){return e.rightSideActions?(0,s.jsx)(ib,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function ib(e){return(0,s.jsxs)("div",{className:"x78zum5 x1qughib xh8yej3 x6s0dn4 x40hh3e",children:[(0,s.jsx)("div",{className:"x2lah0s",children:e.headerLabel}),(0,s.jsx)("div",{className:"x78zum5 x167g77z xeuugli",children:e.rightSideActions})]})}function iv(e){let t=(0,K.dq)(),r=(0,Z.P)(t,(0,n.d4)(ig.o)),a=ip("Unassigned"===r.data?null:r.data);return(0,s.jsxs)("div",{...{0:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1tudf5h x1m2p0i2"},2:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1m2p0i2 x5tiur9"},1:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1tudf5h x1m2p0i2 xso031l x1q0q8m5 xertd99"},3:{className:"x78zum5 x1q0g3np x2lah0s x167g77z x6s0dn4 xsdox4t x1m2p0i2 x5tiur9 xso031l x1q0q8m5 xertd99"}}[!!e.showNavigationChevrons<<1|!!(e.pageHeaderContent&&!e.pageHeaderDividerHidden)<<0],style:{backgroundColor:a},"data-testid":"file-browser-desktop-header",children:[e.showNavigationChevrons&&(0,s.jsx)(it.J,{parentBackgroundColor:a}),e.pageHeaderContent&&(0,s.jsx)("span",{className:"xeuugli xh8yej3",children:(0,s.jsx)(ih,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})})]})}var iy=r(404343);let ij=(0,ir.jz)(iy.tgj);function iw(e){let t,r;return e.pageHeaderContent?(t=(0,s.jsx)("span",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm",children:e.pageHeaderContent}),r=(0,s.jsx)(is.i,{tabs:[(0,s.jsx)("h1",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm",children:e.pageHeaderContent},"mobilePageHeaderKey")]})):e.pageHeaderTitle&&(t=(0,s.jsx)("h1",{children:(0,s.jsx)("span",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm",children:e.pageHeaderTitle})}),r=(0,s.jsx)(is.i,{tabs:[(0,s.jsx)("h1",{className:"x193iq5w xuxw1ft xb3r6kr xlyipyv x13saxwh xg4jxnz x39l7i4 x1uvdjgy xo1l8bm",children:e.pageHeaderTitle},"mobilePageHeaderKey")]})),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ia.z,{query:`(min-width: ${ij}px)`,defaultClass:N.s.sticky.top0.colorBg.zIndexTopBar.$,children:(0,s.jsx)(iv,{pageHeaderContent:t,pageHeaderDividerHidden:e.pageHeaderDividerHidden,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})}),r]})}function iT(e){let t=i.useRef(null),r=(0,n.d4)(({selectedView:e})=>e),a=(0,it.E)(),o=(0,s9.K)(),u=(0,K.sZ)(),m=o&&u&&!s3.T8.includes(r.view);!function(){let e=(0,n.Pj)();i.useEffect(()=>{let t=e.getState(),r=(0,s5.getPermissionsState)(t),a=(0,s2.vp)(r.user,r.currentUserOrgId,r.currentTeamId);a&&(0,s6.Y9)(a.userId,(0,s4.d9)(t.selectedView),a.orgId,void 0,a.teamId)},[e])}();let _=(0,J.n)()||"litmus"===r.view,p=!e.showingFileBrowserLoader&&!_&&(!!c.eD||(0,d.ce)()||e.pageHeaderContent||e.pageHeaderTitle);i.useEffect(()=>{let e=e=>{e.keyCode===P.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,l.kc)().internal_only_debug_tools&&(0,l.kc)().figment_debugger&&(0,s8.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let{scrollPerformanceMonitorRef:f}=function({flowName:e,scrollStopDelay:t=150,context:r}){let a=(0,i.useRef)(null),s=(0,i.useRef)(!1),n=(0,i.useRef)(null),o=(0,i.useRef)(null),l=(0,i.useCallback)(()=>{s.current||(s.current=!0,a.current=F.J.createVital(e,{level:L.$b.INFO,description:"Logging scroll performance via useScrollPerformanceMonitor",context:r,trackFps:!0}),a.current.start()),n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{s.current=!1,n.current=null,a.current?.stop()},t)},[t,e,r]);return(0,i.useEffect)(()=>{let e=o.current;if(e)return e.addEventListener("scroll",l),()=>{e.removeEventListener("scroll",l),n.current&&clearTimeout(n.current)}},[l]),{scrollPerformanceMonitorRef:o}}({flowName:"file_browser_main_body_scroll_performance",context:{selectedViewView:r.view}}),x=e.pageHeaderContent?{pageHeaderContent:e.pageHeaderContent}:{pageHeaderTitle:e.pageHeaderTitle};return(0,s.jsxs)("div",{className:N.s.flex.flexRow.flexGrow1.$,ref:t,children:[(0,s.jsx)(s1,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),(0,s.jsxs)("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2",ref:f,children:[p&&(0,s.jsx)(D.tH,{boundaryKey:"FileBrowserPageHeader",fallback:D.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:Y.y4,children:(0,s.jsx)(iw,{pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:a,pageHeaderDividerHidden:e.pageHeaderDividerHidden,...x})}),(0,s.jsx)(D.tH,{boundaryKey:"FileBrowserLayout-content",fallback:(0,s.jsx)(z.R,{}),hasCustomWASMBuild:Y.y4,children:!e.showingFileBrowserLoader&&(m?(0,s.jsx)(ie.H,{org:u,isInFileBrowser:!0}):(0,s.jsx)(M.z,{layoutRef:t,children:e.children}))})]}),(0,s.jsx)(s7.G,{entryPoint:s7.Q.FILE_BROWSER})]})}var iE=r(259936),iI=r(510194);function iN(e){let t=[];for(let a of e)if(a.team){var r;let e=ri.w.toSinatra(a.team);t.push({...e,pro_team:!1,org_team:!0,member_count:a.memberCount,realtime_token:(r=a.team,`/team-members-${r.id}:livegraph-stub`),experiment_assignments:[],license_group:null,last_upgraded_at:null,student_autoverifying_team_at:null,sanctioned_at:null,subscription_raw:null,license_group_id:null,legal_name:null})}return t}function iS(e,t){let r="loading"===e,a=i.useRef(r);return(r&&!a.current&&(a.current=!0),t)?"loaded"===e:a.current&&"loaded"===e}function ik(e,t){let r=iC(e,t),a=new Set(e.map(e=>e.id)),s=t.filter(e=>!a.has(e.id)).map(e=>e.id);return s.length>0&&r.push({path:[],oldValue:[],newValue:s,severity:"high"}),r.filter(({path:e,oldValue:t,newValue:r})=>{let a=e[1];return 2!==e.length||"string"!=typeof a||(!iR.includes(a)||!!t||!!r)&&a in iI.hJ.shape&&!iA.includes(a)})}let iC=(0,iE.BG)({strictLists:!1,strictRecords:!0}),iA=["community_profile_handle","community_profile_id","design_default_paid_status","experiment_assignments","figma_provided_libraries_disabled","last_upgraded_at","legal_name","license_group","license_group_id","realtime_token","sanctioned_at","student_autoverifying_team_at","subscription_raw","tax_id_verification_status","vat_gst_id","whiteboard_default_paid_status"],iR=["description","editors","img_url"];var iO=r(566769),iP=r(770366),iL=r(48431),iF=r(460347),iD=r(657853),iM=r(703605),iU=r(505211),iB=r(913582),iG=r(506192),iW=r(842433),iz=r(470949),iV=r(627712),iH=r(575617);function i$(e){let t=(0,K.dq)(),r=(0,n.d4)(e=>e.teams),a=(0,eO._6)(),o=e.teams,l=(0,n.wA)(),{showing:d,show:c,data:m}=(0,iG.BK)(to.RQ),_=i.useCallback((e,t)=>{c({data:{team:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[c]),p=e=>{l(tC.to({type:iV.p,data:{teamId:e.id}}))},f=i.useCallback(e=>{l(tC.to({type:(0,iD.h)(),data:{team:e}}))},[l]),[x,g]=i.useState([]),h=(0,iF.dr)(x),b=m?.team?.id,v=b?h.teams.unwrapOr({})[b]:void 0,y=i.useCallback((e,s)=>{if((0,H._J)("file_browser_team_click",e.id,{teams:r,orgTeams:void 0},{selectedView:"recentsAndSharing"===a.view?a.tab:a.view,viewMode:"grid"}),(0,P.oJ)(s)){let r=(0,rt.bL)(e.id,t);u.Ay.redirect(r,"_blank"),s.stopPropagation();return}l(E.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),l(eR.sf({view:"team",teamId:e.id})),s.stopPropagation(),s.preventDefault()},[t,l,a,r]),j=i.useCallback(e=>{if(1!==e.length)return;let t=e[0];if(!h.teams.data?.[t.id]?.canAdmin)return;l(eR.oB());let r=!!t.org_id,a=e=>{l(tC.to({type:iz.H,data:{team:t,subscriptionStatus:e}}))};r?a(!0):a5.$.getSubscriptionStatus({teamId:t.id}).then(({data:e})=>{a(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&l(a4.s.error(e.data.message))})},[l,h]);return!e.teams||Array.isArray(e.teams)&&!e.teams.length?(0,s.jsx)("div",{className:iH.d,children:e.emptyView}):(0,s.jsxs)("div",{className:"xqui205 x78see x1iymm2a xv90nub",children:[(0,s.jsx)(iM.A,{gridViewProps:{renderCard:({ref:e,item:t,isSelected:r,role:a,onFocus:i,onClick:n,onBlur:o})=>(0,s.jsx)(iU.Gq,{ref:e,cardRole:a,isSelected:r,onBlur:o,onClick:n,onFocus:i,onLeave:p,team:t},`TeamGridCard-${t.id}`)},handleContextMenu:_,handleDeleteKey:j,handleOpenItem:y,isDraggable:!1,items:o,multiselectDisabled:!0,updateRenderedItems:g,viewType:iW.XU.GRID}),d&&v&&(0,s.jsx)(iB.W,{team:m.team,onRenameClick:f,selectedTeamPermissions:v})]})}var iq=r(335331),iY=r(325306),iK=r(930011),iJ=r(691174),iQ=r(545032),iX=r(867012);function iZ(e){return(0,s.jsx)(aA.u,{label:"OrgTeamsViewContent",children:(0,s.jsx)(i0,{...e})})}function i0({orgTeamsQuery:e,workspaceId:t,isGuest:r}){let a=(0,n.wA)(),{orgId:o,orgName:l}=(0,sg.R)(e=>({orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name})),{canCreateTeam:d}=(0,Z.LM)(o?{id:o}:null,t),c="loaded"===e.status,u=i.useMemo(()=>{let t=e.data??[],r=t.length<tj.Tw;return(0,tj.KQ)(t,"name",{useExpensiveNaturalComparison:r}),t},[e]);return c?r?(0,s.jsx)(i$,{teams:u,emptyView:(0,S.t)("team_tile.guest.no_teams.info",{orgName:l})}):(0,s.jsx)("div",{className:N.s.mt24.$,children:(0,s.jsx)(iq.w,{orgTeams:u,orgTeamStatus:e.status,onCreateTeam:d?()=>{let e={workspaceId:t??iQ.O};a(tC.to({type:iX.Uc,data:e}))}:void 0,viewType:iW.XU.GRID,emptyView:t&&!d?(0,S.t)("team_tile.no_teams.empty_workspace"):void 0})}):(0,s.jsx)(iL.X,{isLoading:!0})}function i1(){return(0,n.d4)(e=>{let t=e.orgUsersByOrgId[e.currentUserOrgId]?.[e.user.id];return!!(t&&t.permission===eU._D.GUEST)})}let i4=(0,ec.eU)(()=>sh.Qw.loaded([]));function i2({workspaceId:e,onlyJoinedTeams:t}){let r=(0,eM.FC)(),a=(0,ec.md)(iK.oy),s=!(0,s5.canMemberOrg)(a??null,r),n=(0,ec.md)(s?i4:iO.EK),o=function(){let e=i1();return(0,sg.R)(t=>e?Object.keys((0,iJ.t)(t.roles.byTeamId,t.user.id)).filter(e=>t.teams[e]).map(e=>t.teams[e]).filter(e=>!!e&&e.org_id===t.currentUserOrgId):null)}(),l=i.useMemo(()=>n.transform(a=>a.filter(a=>{if(t)return(0,s5.hasViewerRoleAccessOnTeam)(a.id,r);if(null===e){if(a.workspace_id)return!1}else if(e&&a.workspace_id!==e)return!1;return(0,iY.ox)(a,r)})),[n,r,t,e]);return o?sh.Qw.loaded(o):l}function i5({children:e}){return(0,s.jsxs)("section",{"aria-label":(0,S.t)("file_browser.teams"),children:[(0,s.jsx)("div",{className:N.s.mx32.textBodyLargeStrong.$,children:(0,s.jsx)("div",{children:(0,S.t)("file_browser.teams")})}),e]})}function i6({isLoaded:e,view:t}){(0,iP.I)(e,(e,r,a)=>{0===e||r||a||sM.az.trackDefinedMetric("file_browser.teams_load_time",{durationMs:e,isPaginated:!1,view:t})})}var i3=r(659062),i7=r(944185);function i8({avatar:e,title:t,rightSideActions:r,rightSideOfTitleAction:a,pageHeaderIcon:i,textColor:n,badge:o}){return(0,s.jsx)("div",{className:G()(N.s.mx32.mb20.$,"page_header--marginMobile--ocPfX"),children:(0,s.jsxs)("div",{className:N.s.flex.mt8.itemsCenter.justifyBetween.$,children:[(0,s.jsxs)("div",{className:N.s.flex.itemsCenter.minH40.minW0.$,children:[e,(0,s.jsx)("div",{className:N.s.wFull.overflowHidden.$,style:i3.sx.if(e&&!i,i3.sx.ml16).$,children:(0,s.jsxs)("span",{className:N.s.flex.itemsCenter.$,children:[i,(0,s.jsx)("h1",{style:{wordBreak:"break-word"},children:(0,s.jsxs)(k.E,{color:n,fontSize:24,truncate:"line-clamp",lineClamp:2,children:[t," "]})}),(0,s.jsx)("div",{className:N.s.ml8.$,children:o}),a&&a.element]})})]}),(0,s.jsx)("div",{className:N.s.flex.ml16.gap8.$,children:r?.map(e=>s.jsx(i7.K,{action:e},e.key))})]})})}function i9(e){let{belowHeaderItem:t,...r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i8,{...r}),t]})}var ne=r(872662),nt=r(180),nr=r(166887);function na(e){return(0,s.jsx)(tL.$n,{variant:"secondary",disabled:!0,htmlAttributes:{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onPointerEnter:e.onMouseEnter},"aria-describedby":e.tooltipText,children:e.text})}function ns({backgroundColor:e}){let t=(0,nr.NV)(H.WL),r=(0,n.d4)(e=>e.selectedView.view),a=(0,S.t)("license_group_view.toolbar.new_team_button"),i=()=>{t(H.jd,{placement:r})};return e?(0,s.jsx)("button",{className:G()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,il.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:i,disabled:!0,children:(0,s.jsx)(k.E,{fontSize:11,fontWeight:"medium",truncate:!0,children:a})}):(0,s.jsx)(na,{text:a,tooltipText:(0,S.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:i})}var ni=(e=>(e.NEW_FILE="NEW_FILE",e.NEW_RESOURCE="NEW_RESOURCE",e.PROJECT_OVERFLOW_MENU="PROJECT_OVERFLOW_MENU",e.NEW_TEAM="NEW_TEAM",e.NEW_PROJECT="NEW_PROJECT",e.IMPORT="IMPORT",e.INVITE="INVITE",e.SHARE="SHARE",e.FAVORITE="FAVORITE",e.LOG_OUT="LOG_OUT",e.CLAIM="CLAIM",e.NEW_WHITEBOARD_FILE="NEW_WHITEBOARD_FILE",e.VIEW_COMMUNITY_PROFILE="VIEW_COMMUNITY_PROFILE",e.REQUEST_TO_EDIT="REQUEST_TO_EDIT",e.JOIN_TEAM="JOIN_TEAM",e.UPGRADE_TO_TEAM_ADMIN="UPGRADE_TO_TEAM_ADMIN",e.DROPDOWN="DROPDOWN",e.VIEW_MEMBERS="VIEW_MEMBERS",e.TEAM_OVERFLOW_MENU="TEAM_OVERFLOW_MENU",e.VIEW_LIBRARIES="VIEW_LIBRARIES",e.NEW_SITE_FILE="NEW_SITE_FILE",e.NEW_SLIDES_FILE="NEW_SLIDES_FILE",e.NEW_FIGMAKE_FILE="NEW_FIGMAKE_FILE",e.GET_DESKTOP_APP="GET_DESKTOP_APP",e.ADD_TO_CHROMEBOOK="ADD_TO_CHROMEBOOK",e.REQUEST_SENT_DESIGN="REQUEST_SENT_DESIGN",e.REQUEST_SENT_WHITEBOARD="REQUEST_SENT_WHITEBOARD",e.REQUEST_SENT_ALL="REQUEST_SENT_ALL",e.SETTINGS="SETTINGS",e))(ni||{});function nn(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,eO._6)();return()=>{r?t(tC.to({type:iX.Uc,data:{workspaceId:e??iQ.O}})):t(E.Dw({previousView:a}))}}function no({workspace:e,org:t}){let{canCreateTeam:r,cannotCreateTeamReason:a}=(0,Z.LM)(t,e?.id??null),i=ip(e),n=nn(e?.id);return a===Z.z4.TEAM_CREATION_CONTROL?{kind:i7.A.CUSTOM,key:ni.NEW_TEAM,element:(0,s.jsx)(ns,{backgroundColor:i})}:r?{kind:i7.A.CUSTOM,key:ni.NEW_TEAM,element:(0,s.jsx)(ed.c,{"aria-label":(0,S.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:n,iconPrefix:(0,s.jsx)(nt.$,{}),children:(0,S.t)("license_group_view.toolbar.new_team_button")})}:null}function nl(){let e=(0,K.sZ)(),t=no({org:e,workspace:null}),r=!!(0,l.kc)().fb_paginated_all_teams_shadow_reads,a=i1(),n=i2({workspaceId:null,onlyJoinedTeams:!1}),o=iS(n.status,a),[d]=(0,f.IT)((0,eY.QTu)(r?{orgId:e.id,firstPageSize:50}:null)),c=i.useMemo(()=>d.transform(e=>iN(e.orgUnassignedTeams??[])),[d]);return(0,iE.u8)({enableShadowRead:r,label:iE.A5.OrgPageView.unassignedTeams,oldValue:n.data,oldValueReady:o,newValue:c.data,newValueReady:"loaded"===d.status,contextArgs:{orgId:e.id,numTeams:n.transform(e=>e.length).unwrapOr(null),isGuest:a},comparator:ik}),(0,x.kF)("OrgUnassignedTeams"),(0,x.WX)({markName:"MainBodyContent",isLoaded:o,contextArgs:{isGuest:a}}),i6({isLoaded:o,view:"OrgUnassignedTeams"}),(0,s.jsx)(ne.r,{header:(0,s.jsx)(i9,{title:(0,S.t)("license_group_view.meta.unassigned_title",{orgName:e.name}),rightSideActions:t?[t]:void 0}),content:(0,s.jsx)("div",{className:N.s.flex.flexColumn.my24.$,children:(0,s.jsx)(i5,{children:(0,s.jsx)(iZ,{orgTeamsQuery:n,isGuest:a,workspaceId:null})})})})}var nd=r(346536),nc=r(419822),nu=r(286138),nm=r(467735),n_=r(432990),np=r(859120),nf=r(790009),nx=r(837007);function ng({buttonAriaLabel:e,menuGroups:t,dataOnboardingKey:r}){let{manager:a,getTriggerProps:i}=tQ.b({initialPosition:"bottom"}),n=(0,r7.j6)();return(0,s.jsx)("div",{className:"x1iog12x",children:(0,s.jsxs)(tQ.bL,{manager:a,children:[(0,s.jsx)(tX.d,{...i(),"aria-label":e,"data-onboarding-key":r,children:(0,s.jsx)(aG.k,{})}),(0,s.jsx)(nx.s,{groups:t,minItemContentWidth:192,trackedContext:r9.e0.PAGE_HEADER_DROPDOWN,onTrackedItemClick:e=>{(0,H.Cu)({...n.properties,trackingContext:n.name,...e.trackingProperties})}})]})})}var nh=r(258544),nb=r(617176),nv=r(302955),ny=r(12533),nj=r(635002),nw=r(797196);let nT=rh.M4.Mutation(async e=>{await nj.u.updateDescription(e)});function nE({workspace:e}){let t=(0,n.wA)(),r=(0,rh.gY)(nT);return(0,s.jsx)(nw.c,{title:(0,S.t)("workspace_view.description_modal.title"),subtitle:(0,s.jsx)("div",{className:N.s.mb16.$,children:(0,s.jsx)(k.E,{color:"secondary",children:(0,S.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:(0,s.jsx)("span",{className:N.s.fontSemiBold.$,children:(0,S.t)("sidebar.browse.all_workspaces")})})})}),initialName:e.description??"",placeholder:(0,S.t)("workspace_view.description.placeholder"),submitText:(0,S.t)("workspace_view.description.save"),onRename:a=>r({workspaceId:e.id,description:a}).then(()=>t(tl.F.enqueue({message:(0,S.t)("workspace_view.description_update_updated")})),()=>{let e=(0,S.t)("workspace_view.description_update_error");t(a4.s.error(e)),console.error(e)})})}let nI=(0,tS.Ju)(function(e){return(0,s.jsx)(aA.u,{label:"UpdateWorkspaceDescriptionModal",children:(0,s.jsx)(nE,{...e})})},"UpdateWorkspaceDescriptionModal");function nN(){let e=(0,n.wA)(),t=(0,Q.TA)();return i.useCallback(r=>{let a=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),s=[];a&&s.push({key:"admin",items:[{displayText:(0,S.t)("workspace_view.toolbar.admin_settings"),onClick:()=>{e(eR.sf({view:"workspace",subView:te.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:te._C}))}}]});let i={key:"default",items:[]};return s.push(i),i.items.push({displayText:(0,S.t)("file_browser.copy_link"),onClick:()=>{let t=(0,rY.fO)(r.workspace.id,r.org.id);e(rs.S({url:t}))}}),r.workspace.canAdmin&&i.items.push({displayText:(0,S.t)("license_group_view.toolbar.change_icon"),onClick:()=>{e((0,ny.X)({entity:r.workspace,entityType:nb.ck.WORKSPACE,shape:"SQUARE"}))}}),s},[e,t])}var nS=r(665261),nk=r(373547),nC=r(410527),nA=r(965815),nR=r(594440),nO=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(nO||{});function nP({selectedFillOption:e,onSelectFillOption:t}){let r={solid:(0,S.t)("workspace_view.toolbar.solid"),no_fill:(0,S.t)("workspace_view.toolbar.no_fill")};return(0,s.jsx)(nS.Ve,{className:N.s.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return(0,s.jsx)(nA.$n,{className:N.s.ml4.mr4.$,role:"combobox",onClick:t,caret:"down",children:(0,s.jsx)("span",{className:N.s.minW32.mr8.$,children:r[e]})})},dropdownOptionsClassName:N.s.mt4.$,options:["solid","no_fill"].map((e,a)=>(0,s.jsx)(nS.c$,{className:N.s.colorTextMenuSecondary.$,id:e,onClick:()=>{t(e)},children:r[e]},a)),optionsBelowSelector:!0,noBorder:!0})}let nL=rh.M4.Mutation(async e=>{await nj.u.updateColor(e)});function nF({workspace:e,onClose:t}){let r=(0,n.wA)(),a=(0,rh.gY)(nL),o=[{option:i_},...(0,ic.TS)("base").filter(e=>!(0,il.DA)(e,(0,ic.BV)(ii.daH.BLACK,"base"))).map(e=>({option:e})),...(0,ic.TS)("baseLight").map(e=>({option:e}))],l=i.useRef(null),[d,c]=i.useState(!1),u=(0,nk.DP)(),m=function(e){try{if(e)return(0,il.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[_,p]=i.useState(m?"solid":"no_fill"),[f,x]=(0,ec.fp)(iu);return i.useEffect(()=>(x(m),()=>{x(void 0)}),[]),i.useEffect(()=>{if(!d){let e=e=>{"Escape"===e.key&&t()},r=e=>{l.current&&!l.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",r)}}},[d,t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{role:"button","aria-label":(0,S.t)("common.close"),tabIndex:0,className:N.s.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),(0,s.jsxs)("div",{className:N.s.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:l,children:[(0,s.jsx)(nP,{selectedFillOption:_,onSelectFillOption:e=>{if(p(e),"solid"===e){let e="dark"===u?i_:il.UE;x(m??e)}else x("unset")}}),ix(f)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nA.wv,{}),(0,s.jsx)(nC.qW,{buttonClassName:N.s.ml2.mr2.$,buttonSize:"xsmall",dropperDisabled:!0,fixedNumColumns:9,hasNonWhiteboardColors:!0,isColorPopoverOpen:d,onColorChange:e=>{x(e.option)},optionSize:"medium",options:o,paletteType:"base",positionX:()=>0,positionY:(e,t)=>(0,nR.DH)(e,t,4),setIsColorPopoverOpen:c,shouldCustomColorPopoverCloseOnEscape:!0,shouldDisableDataTooltip:!0,value:{option:f}})]}),(0,s.jsx)(nA.wv,{}),(0,s.jsx)(nA.$n,{className:N.s.ml4.mr2.$,onClick:t,children:(0,s.jsx)("span",{className:N.s.mr1.colorTextToolbarSecondary.$,children:(0,S.t)("workspace_view.color.toolbar.cancel")})}),(0,s.jsx)(nA.$n,{className:N.s.mr8.$,onClick:()=>{a({workspaceId:e.id,colors:ix(f)?[(0,io.colorToHex)(f)]:[],onfulfilled:()=>r(tl.F.enqueue({message:(0,S.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,S.t)("workspace_view.toolbar.workspace_color_update_error");r(a4.s.error(e)),console.error(e)}}),t()},children:(0,s.jsx)("span",{className:N.s.colorTextOnbrand.$,children:(0,S.t)("workspace_view.color.toolbar.save")})})]})]})}var nD=r(80969),nM=r(929302),nU=r(322530),nB=r(950187),nG=r(268389),nW=r(915459),nz=r(982393);function nV(e){let t=(0,Q.TA)(),r=e.members.length,a=e.membersToShow||10;return(0,s.jsxs)("div",{children:[!e.removeHeader&&(0,s.jsx)("h2",{className:N.s.font13.fontMedium.mb12.$,children:e.label||(0,S.t)("file_browser.team_overview.member_label")}),e.members.slice(0,a).map(r=>{let a=r.id===t,i=e.showAdminBadge&&e.showAdminBadge(r);return(0,s.jsx)("div",{className:"x12sbs06 xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l",children:(0,s.jsx)(rr.az,{size:24,entity:r,showIsMe:a,onClick:e.onMemberClick,badge:i?{color:r5.zE.DEFAULT,text:(0,S.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress})},r.id)}),r>a&&(e.customOverflowRow||(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[(0,s.jsx)(nz.T,{"aria-hidden":!0,className:"xe5c7bq"}),(0,s.jsx)("div",{className:"x98rzlu x1n0bwc9 xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l",children:(0,S.tx)("file_browser.team_overview.num_others",{numMembers:r-a})})]}))]})}var nH=r(295110);let n$="workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib";var nq=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(nq||{});function nY(e){return(0,l.kc)().fpl_workspace_members_search_input?(0,s.jsx)("div",{className:n$,children:(0,s.jsx)(nD.D,{"aria-label":(0,S.t)("workspace_view.members_modal.search_aria_label"),variant:"borderless",value:e.query,onChange:e.onChange,placeholder:(0,S.t)("workspace_view.members_modal.search_placeholder"),size:"lg","aria-description":(0,S.t)("general.search_will_update")})}):(0,s.jsx)("div",{className:n$,children:(0,s.jsx)(nW.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,S.t)("workspace_view.members_modal.search_placeholder")})})}function nK(e){return(0,s.jsx)("div",{className:"workspace_members_modal--emptyContainer--bTf-s",children:(0,s.jsx)("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.content})})}let nJ=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),nQ=(0,tS.Ju)(function(e){let t=nM.hS({open:e.open,onClose:e.onClose}),[r,a]=(0,i.useState)(""),[n,o,l]=nU.t.useTabs({MEMBERS:!0,ADMINS:!0});i.useEffect(()=>{a("")},[a,l.activeTab]);let d=e.workspace.members.slice().sort(nJ),c=e.workspace.admins.slice().sort(nJ),u={};d.forEach(e=>{e.baseOrgUser&&(u[e.baseOrgUser.user.id]=e.permission)});let m=e=>u[e.id]===eU.bp.ADMIN&&"MEMBERS"===l.activeTab;return(0,s.jsx)(nB.bL,{manager:t,width:"lg",height:"fixed",children:(0,s.jsxs)(nG.vo,{children:[(0,s.jsxs)(nG.Y9,{children:[(0,s.jsx)(nG.r1,{children:(0,S.t)("workspace_view.members_modal.title")}),(0,s.jsxs)(nU.t.TabStrip,{manager:l,children:[(0,s.jsx)(nU.t.Tab,{...n.MEMBERS,children:(0,S.t)("workspace_view.members_modal.members")}),(0,s.jsx)(nU.t.Tab,{...n.ADMINS,children:(0,S.t)("workspace_view.members_modal.admins")})]})]}),(0,s.jsxs)(nG.nB,{scrolling:"manual",padding:0,children:[(n.MEMBERS.display?d:c).length>0&&(0,s.jsx)(nY,{query:r,onChange:a}),(0,s.jsx)(eo.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi",children:(0,s.jsxs)("div",{className:"workspace_members_modal--modalContainer--3d9wu",children:[(0,s.jsx)(nU.t.TabPanel,{...o.MEMBERS,children:0===d.length?(0,s.jsx)(nK,{content:(0,S.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace.name})}):(0,s.jsx)(nX,{getShouldShowAdminBadge:m,query:r,users:d})}),(0,s.jsx)(nU.t.TabPanel,{...o.ADMINS,children:0===c.length?(0,s.jsx)(nK,{content:(0,S.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace.name})}):(0,s.jsx)(nX,{getShouldShowAdminBadge:m,query:r,users:c})})]})})]})]})})},"WORKSPACE_MEMBERS_MODAL",tS.ZU.YES);function nX({getShouldShowAdminBadge:e,query:t,users:r}){let a=(0,n.wA)(),o=i.useCallback((e,t)=>{a(eR.sf({view:"user",userId:t.id,userViewTab:nH.o.INTERNAL_PROFILE})),a(tC.Ce())},[a]),l=r.filter(e=>{let r=e.baseOrgUser?.user,a=t.toLocaleLowerCase();return!!r?.email?.toLocaleLowerCase().includes(a)||!!r?.handle.toLocaleLowerCase().includes(a)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[];return 0===l.length?(0,s.jsx)(nK,{content:(0,S.tx)("workspace_view.members_modal.no_results",{query:t})}):(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xnm25rq xyfqnmn x1y1aw1k",children:(0,s.jsx)(nV,{members:l,showAdminBadge:e,membersToShow:l.length,onMemberClick:o,removeHeader:!0,shouldIncludeUserEmailAddress:!0})})}function nZ(e){let{workspace:t,org:r}=e,a=(0,n.wA)(),o=(0,n.d4)(e=>e.currentUserOrgId),l=(0,n.d4)(e=>e.avatarEditorState),d=t.canAdmin,[c,u]=(0,ec.fp)(im),{canCreateTeam:m}=(0,Z.LM)(r,t.id),_=window.innerWidth<=(0,ir.hG)(iy.tgj),p=t?t.id:iQ.O,f=ip(t),x=function(e){if(e&&"unset"!==e)return(0,il.kx)(e)?"dark":"light"}(f),g=(t?.members||[]).length,h=(0,np.G)(),b=nn(t.id),v=i.useCallback(({favoriteId:e,sectionId:r})=>{a(eL.ZW({workspace:t,entrypoint:"workspace_page_view",sectionId:r,favoriteId:e}))},[a,t]),y=i.useCallback(({favoriteId:e})=>{a(eL.if({workspace:t,entrypoint:"workspace_page_view",favoriteId:e}))},[a,t]),j={kind:i7.A.CUSTOM,key:ni.VIEW_MEMBERS,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:()=>{a(tC.to({type:nQ,data:{workspace:e.workspace,tab:nq.MEMBERS}}))},iconPrefix:(0,s.jsx)(nm.j,{}),htmlAttributes:{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("file_browser.view_members_with_count",{numMembers:g})},"aria-label":(0,S.t)("file_browser.view_members_with_count",{numMembers:g}),children:e.isWorkspaceMembersLoading?(0,s.jsx)(nc.k,{}):(0,s.jsx)(s.Fragment,{children:g.toString()})})},w=i.useMemo(()=>(0,s.jsx)(nh.i,{setFavorite:v,removeFavorite:y,favoriteType:eU.bk.WORKSPACE,resourceId:p,orgId:o,monochrome:!!f,size:"lg"}),[p,v,y,o,f]),T=function(){let e=nN(),t=(0,n.wA)(),[r,a]=(0,ec.fp)(im);return i.useCallback(r=>{let s=e(r),i=s[s.length-1];return i||(i={key:"workspace-page-header-menu-items",items:[]},s.push(i)),r.workspace.canAdmin&&(i.items.push({displayText:(0,S.t)("workspace_view.toolbar.change_color"),onClick:()=>a(!0)}),i.items.push({displayText:(0,S.t)("workspace_view.description.title"),onClick:()=>{t(tC.to({type:nI,data:{workspace:r.workspace}}))}})),s},[e,t,a])}(),E=t&&r?T({workspace:t,org:r}):m&&_?[{key:"mobile-workspace-page-header-menu-items",items:[{displayText:(0,S.t)("org_view.new_team"),onClick:b}]}]:void 0,I=[],N=no({workspace:t,org:r});if(N&&I.push(N),e.showMembersButton&&I.push(j),t&&I.push({kind:i7.A.CUSTOM,key:ni.FAVORITE,element:w}),!t)return(0,s.jsx)(i9,{title:(0,S.t)("license_group_view.meta.unassigned_title",{orgName:r.name}),rightSideActions:I});let k=E?{kind:i7.A.CUSTOM,key:ni.DROPDOWN,element:(0,s.jsx)(ng,{buttonAriaLabel:(0,S.t)("org_view.page_header_dropdown_label"),menuGroups:E})}:void 0;return(0,s.jsx)("div",{"data-testid":"workspace-page-header",style:{backgroundColor:f},children:(0,s.jsx)(nf.J,{mode:f?x:h.color,children:(0,s.jsx)(i9,{avatar:d?(0,s.jsx)(nv.j,{avatarEditorState:l,entityType:nb.ck.WORKSPACE,entity:t,dispatch:a,size:40}):(0,s.jsx)(rr.z6,{entity:t,size:40}),title:(0,s.jsx)("span",{className:"workspace_page_header--titleColorForBackground--e6EH9",children:t.name}),badge:t.orgAccess===eU.bU.SECRET?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nu.E,{children:(0,S.t)("workspace_table.secret_workspace_lock_sr_only_text")}),(0,s.jsx)(n_.M,{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,S.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300,"aria-hidden":!0,className:"workspace_page_header--iconColorForBackground--QSzJh"})]}):void 0,rightSideActions:I,rightSideOfTitleAction:k,belowHeaderItem:c?(0,s.jsx)(nF,{workspace:t,onClose:()=>u(!1)}):void 0})})})}function n0(e){let t=(0,n.wA)(),r=e.workspace.members,a=i.useMemo(()=>r?r.sort((e,t)=>{let r=e.permission===eU.bp.ADMIN,a=t.permission===eU.bp.ADMIN;if(r&&!a)return -1;if(!r&&a)return 1;let s=e.baseOrgUser?.user?.handle||"",i=t.baseOrgUser?.user?.handle||"",n=""===s,o=""===i;return n&&!o?1:!n&&o?-1:n&&o?0:s.localeCompare(i,void 0,{sensitivity:"base"})}):[],[r]),o={};return a.forEach(e=>{e.baseOrgUser&&(o[e.baseOrgUser.user.id]=e.permission)}),(0,s.jsxs)("div",{className:N.s.my24.mr8.ml24.$,children:[(0,s.jsx)("h2",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,S.t)("workspace_view.sidebar.members")}),(0,s.jsx)(nV,{removeHeader:!0,members:a.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,r)=>{t(eR.sf({view:"user",userId:r.id,userViewTab:nH.o.INTERNAL_PROFILE}))},showAdminBadge:e=>o[e.id]===eU.bp.ADMIN,customOverflowRow:(0,s.jsx)(sF.E,{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(tC.to({type:nQ,data:{workspace:e.workspace,tab:nq.MEMBERS}}))},children:(0,S.t)("workspace_view.sidebar.see_all_members")})})]})}var n1=r(408825),n4=r(666875),n2=r(431916),n5=r(340099),n6=r(778281),n3=r(671032),n7=r(751309),n8=r(938607);function n9({file:e,isDisabled:t,orgName:r}){let a=(0,rm.NN)();return(0,s.jsx)(n8.i,{thumbnail:(0,s.jsx)(r_.NM,{file:e,noBorder:!0}),bottomLeftIcon:(0,s.jsx)(rm.w4,{size:16,type:a(e)}),title:(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x1jnr06f x1qughib x6s0dn4",children:[(0,s.jsx)("span",{...{0:{className:"xuxw1ft xb3r6kr xlyipyv"},1:{className:"xuxw1ft xb3r6kr xlyipyv x1n0bwc9"}}[!!t<<0],children:e.name}),t&&r&&(0,s.jsx)("span",{"data-tooltip-type":"text","data-tooltip":(0,S.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:r}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500,children:(0,s.jsx)(n7.B,{className:"xmauxvm"})})]}),subtitle:e.project?.name})}let oe=(0,tS.Ju)(function({workspaceId:e,open:t,onClose:r}){let a=nM.hS({open:t,onClose:r}),o=(0,n.wA)(),l=(0,eK.T5)("ChooseFileToPinModal").unwrapOr(null),d=l?.name??null,[c,u]=i.useState(""),[m]=(0,n4.A)(c,400),[_,f]=i.useState(null);(0,p.bc)(eY.wtK,{fileKey:_??""},{enabled:!!_});let x=function({searchQuery:e,workspaceId:t}){let r=sh.Qw.useTransformShallowEqual((0,p.bc)(eY.z07,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t}),a=function({searchQuery:e,workspaceId:t}){let r=(0,K.dq)();(0,I.vA)(!!r,"currentUserOrgId must be defined in useSearchWorkspaceFilesQuery");let a=(0,p.bc)(eY.Imb,{query:e,workspaceId:t,orgId:r,sort:"relevancy",desc:"true"},{enabled:!!e});return sh.Qw.useTransformShallowEqual(a,e=>{let t=[];for(let r of e.searchWorkspaceFiles)r.file&&t.push(r.file);return t})}({searchQuery:e,workspaceId:t}),s="disabled"!==a.status?a:r;return(0,n5.z1)(s,t)}({searchQuery:m,workspaceId:e}),g=sh.Qw.useTransformShallowEqual(x,e=>e.map(e=>e.key)),h=(0,n5.H6)(g.unwrapOr([])),b=i.useCallback(()=>{_&&(r(),o(tC.to({type:(0,n2.a)(),data:{fileKey:_,source:c?"add_file_modal_search":"add_file_modal_suggested"}})))},[o,c,r,_]);i.useEffect(()=>(o(n3.Dy({entryPoint:"file_browser:file_picker_modal"})),o(n3.Rz({workspaceFilter:e})),()=>{o(n3.Rz({workspaceFilter:null})),o(n3.ky())}),[o,u,e]);let v="loaded"!==h.status||"loaded"!==x.status;return(0,s.jsx)(nB.bL,{manager:a,width:1024,height:"dynamic",children:(0,s.jsxs)(nG.vo,{children:[(0,s.jsx)(nG.Y9,{children:(0,s.jsx)(nG.hE,{children:(0,S.t)("file_browser.pinning.pin_modal.pin_file_to_workspace")})}),(0,s.jsxs)(nG.nB,{padding:0,scrolling:"manual",className:"x2xcw19 x78zum5 xdt5ytf",children:[(0,s.jsx)(nW.IW,{className:"x1vvogim x1hr3lfm xso031l x1q0q8m5 xertd99 x1vqgdyp",hasTransparentBackground:!0,placeholder:(0,S.t)("file_browser.choose_file_modal.search_for_a_file"),focusOnMount:!0,query:c,onChange:u,clearSearch:()=>u(""),withUI3Icon:!0,hideXIcon:!0}),v?(0,s.jsx)(or,{}):0===x.data.length?(0,s.jsx)(oa,{query:m}):(0,s.jsx)(ot,{isSuggested:!m,files:x.data,orgName:d,setSelectedFileKey:f,shouldDisableTile:e=>{let t=h.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace}})]}),(0,s.jsx)(nG.wi,{children:(0,s.jsxs)(nG.jk,{children:[(0,s.jsx)(ed.$z,{variant:"secondary",onClick:r,children:(0,S.t)("general.cancel")}),(0,s.jsx)(ed.$z,{variant:"primary",disabled:v||!_,onClick:b,children:(0,S.t)("general.next")})]})})]})})},"ChooseFileToPinModal");function ot({isSuggested:e,files:t,orgName:r,shouldDisableTile:a,setSelectedFileKey:n}){let l=i.useCallback(e=>{let t=e[0];t?n(t.key):n(null)},[n]);return(0,s.jsx)("div",{className:"x1rife3k",children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x1pulhmw x1xn8qrt x4l9tsp",children:[e&&(0,s.jsx)("span",{className:"x1n0bwc9",children:(0,S.t)("file_browser.pinning.suggested")}),(0,s.jsx)(n6.g,{canSelectItem:e=>!a(e),doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,handleContextMenu:o.lQ,isDraggable:!1,items:t,keepSelectionOnFocusLost:!0,multiselectDisabled:!0,onSelection:l,renderTile:e=>(0,s.jsx)(n9,{file:e,orgName:r,isDisabled:a(e)}),renderTileFooter:()=>(0,s.jsx)(s.Fragment,{})})]})})}function or(){return(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k x98rzlu",children:(0,s.jsx)(nc.k,{})})}function oa({query:e}){let t=e?(0,S.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:(0,s.jsx)("div",{className:"x1akne3o xuxw1ft xb3r6kr xlyipyv xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:e})}):(0,S.t)("file_browser.workspace_pinning.no_suggested_files");return(0,s.jsx)("div",{className:"x78zum5 x1q0g3np x195vfkc x6s0dn4 xl56j7k x1n0bwc9 x98rzlu x2b8uid",children:t})}var os=r(577737),oi=r(36002),on=r(354925);let oo=i.forwardRef(function({thumbnail:e,title:t,subtitle:r,isSelected:a,onClick:i,cardRole:n,onFocus:o,onBlur:l,draggable:d,isHoverContentVisibleOverride:c},u){let m=(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x1y1aw1k xlyipyv xuxw1ft xb3r6kr",children:[(0,s.jsx)(on.R.Title,{children:t}),(0,s.jsx)(on.R.Subtitle,{children:r})]});return(0,s.jsx)(on.R.Root,{ref:u,cardRole:n,draggable:d,footer:m,isSelected:!!a,onBlur:l,onClick:i,onFocus:o,isHoverContentVisibleOverride:c,children:(0,s.jsx)("div",{className:"x1n2onr6",children:e})})});var ol=r(874916),od=r(604853),oc=r(378080),ou=r(666388),om=r(42995);let o_={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function op({suggestedFiles:e}){let t=e.slice(0,8),r=(0,eO._6)(),a=(0,n.wA)(),{showing:o,show:l,data:d}=(0,od.L)(),c=i.useCallback((e,t)=>{u.Ay.redirect((0,rg.r1)(e)),(0,H.k1)(e.key,{selectedViewName:r.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[r.view]),m=i.useCallback((e,t)=>{c(e,t)},[c]),_=i.useCallback((e,t,r)=>{let a=e[0];a&&l({data:{tile:(0,n5.bn)(a),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[l]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr",children:(0,S.t)("file_browser.pinning.suggested")}),(0,s.jsx)(iM.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:m,onSelection:e=>{a(rv.an()),a(rv.PW({type:rI.F.FILES,keys:e.map(e=>e.key)}))},handleContextMenu:_,gridViewProps:{containerStyle:ox.grid,renderTile:e=>(0,s.jsx)("div",{className:"x1dmp6jm xkib98w xbyyjgo x12oqio5 xgk9eko xb3r6kr",children:(0,s.jsx)(r_.NM,{file:e,noBorder:!0,size:rz.y.SMALL})}),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:r})=>(0,s.jsx)(of,{file:e,isHovered:r,isSelected:t})},viewType:iW.XU.GRID}),o&&d?.tile?(0,s.jsx)(oc.i,{tileActions:o_,openTile:e=>c(d.tile.file,e),tile:d.tile,selectedTiles:[d.tile],dropdownVisible:o}):null]})}function of({file:e,isHovered:t,isSelected:r}){let a=(0,n.wA)(),{Sprig:o}=(0,t5.A)(),d=i.useCallback(t=>{a(tC.to({type:(0,n2.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),(0,l.kc)().file_browser_sentiment_survey&&o("setAttribute","fb_file_organized",!0),t.stopPropagation(),t.preventDefault()},[a,e,o]),c=e.project?.name;return(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x195vfkc x1iyjqo2 xl56j7k xb3r6kr xq1n1xh",children:[(0,s.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xlyipyv xuxw1ft xb3r6kr",children:e.name}),t||r||g.Ay.mobile||g.Ay.tablet?(0,s.jsx)("div",{role:"button",tabIndex:0,className:"x1quhyk7 xlyipyv xuxw1ft xb3r6kr x1ypdohk",onClick:d,children:(0,S.t)("file_browser.pinning.pin_file")}):c?(0,s.jsx)("div",{className:"x1n0bwc9 xlyipyv xuxw1ft xb3r6kr",children:c}):null]})}let ox={grid:{kumcoG:"xem2tbl",kOIVth:"xou54vl",khm7nJ:null,k1C7PZ:null,$$css:!0}};function og({workspaceId:e}){let t;let r=function(e){let t=sh.Qw.useTransform((0,p.bc)(eY.m28,{}),e=>{if(!e.currentUser.recentFiles2)return[];let t=[];for(let{file:r}of e.currentUser?.recentFiles2)r&&t.push(r);return t});return(0,n5.z1)(t,e)}(e);return t="loaded"!==r.status?(0,s.jsx)("div",{className:N.s.py1.h20.wFull.$,children:(0,s.jsx)(en.qc,{})}):r.data.length>0?(0,s.jsx)(op,{suggestedFiles:r.data}):(0,s.jsx)("span",{className:N.s.colorTextSecondary.truncate.textBodyLarge.alignCenter.$,children:(0,S.t)("file_browser.pinning.no_pinned_files")}),(0,s.jsx)("div",{className:N.s.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$,children:t})}var oh=r(754245),ob=r(88314),ov=r(972920),oy=r.n(ov),oj=r(686549),ow=r(89312),oT=r(750802),oE=r(115989),oI=r(796110),oN=r(34952),oS=r(351625);function ok({pinnedFile:e}){let t=(0,n5.bn)(e.file),r=(0,oI.l)(e.file.folderId),a=(0,oN.C)(t);return(0,s.jsxs)("div",{className:N.s.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:i3.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$,children:[(0,s.jsxs)("div",{className:N.s.flex.flexRow.gap16.$,children:[(0,s.jsx)("div",{className:N.s.flexBasisAuto.$,children:(0,s.jsx)(oS.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})}),(0,s.jsxs)("div",{className:N.s.flex.flexColumn.overflowHidden.$,children:[(0,s.jsxs)("div",{className:N.s.flex.flexRow.gap8.textBodyLarge.$,children:[(0,s.jsx)(k.E,{fontWeight:"semi-bold",truncate:!0,children:e.creator.name}),(0,s.jsx)("span",{className:N.s.flexBasisAuto.flexGrow1.flexShrink0.$,children:(0,s.jsx)(k.E,{color:"secondary",children:(0,s.jsx)(oE.h1,{date:e.createdAt})})})]}),(0,s.jsx)("div",{className:N.s.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,oT.p)((0,ou.sP)(e.description))}})]})]}),(0,s.jsx)("div",{className:N.s.flex.flexColumn.$,children:(0,s.jsxs)("div",{className:N.s.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$,children:[(0,s.jsx)("div",{children:(0,s.jsx)(os.e,{tile:t,noBorder:!0})}),(0,s.jsx)("div",{className:N.s.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$,children:(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x1v2ro7d x6s0dn4",children:[(0,s.jsx)(rm.w4,{size:16,type:a}),(0,s.jsxs)("div",{className:N.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$,children:[(0,s.jsx)("div",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:e.file.name}),"loaded"===r.status&&r.data?(0,s.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:r.data}):null]})]})})]})})]})}let oC={width:0,height:0};function oA({pinnedFile:e,targetRef:t,shouldHide:r}){let a=(0,ow.s)(t),[n,o]=(0,ow.M)(),[l,d]=i.useState(oC),[c,u]=i.useState(!1),m=i.useCallback(()=>{if(!t.current)return;let e=(0,oj.E)(t.current.getBoundingClientRect()),r=window.innerWidth,a=window.innerHeight,s=a-e.top-8,i=s>100;if(r-e.right>438&&i){d({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:s});return}if(e.left>438&&i){d({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:s});return}let n=430-(r-e.left),o=a-e.bottom-16;if(o>100){d({transform:`translate(${(0,ob.qE)(e.left-n,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:o});return}let l=e.top-16;d({top:"auto",bottom:"100vh",transform:`translate(${(0,ob.qE)(e.left-n,0,e.left)}px, ${e.top-8}px)`,maxHeight:l})},[t,d]),p=!r&&(a||o),f=(0,_.ZC)(p);if(i.useEffect(()=>{if(!f&&p)m();else if(f&&!p){u(!0);let e=setTimeout(()=>{u(!1)},(0,ir.XB)("150ms"));return()=>{clearTimeout(e)}}},[p,f,m]),i.useEffect(()=>{let e=oy()(m),t=()=>{p&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[p,m]),!t.current)return null;let x=(0,s.jsx)("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM",children:(0,s.jsx)("div",{className:G()("pinned_files_hover--hoverCard--MLJbb",p&&"pinned_files_hover--makeVisible--QrDF7"),style:l,ref:n,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(p||c)&&(0,s.jsx)(ok,{pinnedFile:e})})});return oh.createPortal(x,document.body)}let oR={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0},oO=[];function oP({workspace:e}){let t=(0,n.wA)(),r=(0,eO._6)(),a=(0,Q.TA)(),{showing:o,show:l,data:d}=(0,od.L)(),c=(0,ol.v)(),u=i.useCallback((t,a,s,i)=>{c(t,s),(0,H.E9)(H.gH,a.file,{entrypoint:i,selectedView:r.view,resourceType:"workspace",resourceId:e.id,pinDescription:(0,ou._Z)(a.description)})},[c,r.view,e.id]),m=i.useCallback((e,t)=>{u((0,n5.bn)(e.file),e,t,"pinned files")},[u]),_=e.pinnedFiles??oO,p=i.useCallback(r=>{let s=r[0];s&&(e.canAdmin||s.creator?.id===a)&&t(tC.to({type:(0,oi.I)(),data:{pinnedFileId:s.id}}))},[e.canAdmin,a,t]),f=i.useMemo(()=>_.filter(({file:e})=>!!e).map(e=>(0,n5.bn)(e.file)),[_]),x=(0,rw.nw)(f),g=i.useMemo(()=>_.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[_]);return(0,s.jsxs)(s.Fragment,{children:[_.length>0?(0,s.jsx)(iM.A,{doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,gridViewProps:{containerStyle:oM.grid,renderCard:({ref:e,item:t,isSelected:r,role:a,onFocus:i,onClick:n,onBlur:l})=>(0,s.jsx)(oD,{pinnedFile:t,isDropdownOpen:o,ref:e,isSelected:r,cardRole:a,onFocus:i,onClick:n,onBlur:l,draggable:!0}),renderTileDragImage:e=>(0,s.jsx)(r_.NM,{file:e.file,noBorder:!0})},handleContextMenu:(e,r,a)=>{t(rv.an());let s=e.map(e=>e.file).filter(e=>null!==e);t(rv.PW({type:rI.F.FILES,keys:s.map(e=>e.key)}));let i=s[0];i&&l({data:{tile:(0,n5.bn)(i),targetRect:{top:r.clientY,right:r.clientX,bottom:r.clientY,left:r.clientX,width:1,height:1},index:a}})},handleDeleteKey:p,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>om.F.toSinatra({...e.file})))},handleOpenItem:m,isDraggable:!0,items:g,viewType:iW.XU.GRID}):(0,s.jsx)(og,{workspaceId:e.id}),(()=>{let e=d?.tile??null,t=d?.index??0;return(0,s.jsx)(oc.i,{tile:e,selectedTiles:x,tileActions:oR,openTile:r=>{e&&u(e,_[t],r,"pinned files: context menu")},dropdownVisible:o})})()]})}function oL({pinnedFile:e}){return(0,s.jsx)("span",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly xlyipyv xuxw1ft xb3r6kr",children:e.file.name})}function oF({pinnedFile:e}){return(0,s.jsx)(k.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary",children:(0,S.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})})}let oD=i.forwardRef(function({pinnedFile:e,isSelected:t,isDropdownOpen:r,cardRole:a,onClick:n,onFocus:o,onBlur:l,draggable:d},c){let u=(0,n5.bn)(e.file),m=i.useRef(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(oA,{pinnedFile:e,targetRef:m,shouldHide:r}),(0,s.jsx)("div",{ref:m,children:(0,s.jsx)(oo,{ref:c,cardRole:a,draggable:d,isSelected:t,onBlur:l,onClick:n,onFocus:o,subtitle:(0,s.jsx)(oF,{pinnedFile:e}),thumbnail:(0,s.jsx)(os.e,{tile:u,noBorder:!0,size:rz.y.SMALL}),title:(0,s.jsx)(oL,{pinnedFile:e})})})]})}),oM={grid:{kLKAdn:"xyamay9",kumcoG:"x1g5i94c",kfSwDN:"x87ps6o",$$css:!0}},oU=(0,ec.Iz)(e=>(0,ec.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,n1.z.boolean()));function oB({workspace:e,isAssignedWorkspace:t}){let[r,a]=(0,ec.fp)(oU(e.id)),o=i.useCallback(()=>a(e=>!e),[a]),d=(0,n.wA)(),{Sprig:c}=(0,t5.A)(),u=e.pinnedFiles?.length??0,m=t||e.canAdmin,_=u>=n5.D1,p=m||u>0,f=i.useCallback(()=>{d(tC.to({type:oe,data:{workspaceId:e.id}})),(0,l.kc)().file_browser_sentiment_survey&&c("setAttribute","fb_file_organized",!0)},[d,e.id,c]);return(0,s.jsx)(s.Fragment,{children:p&&(0,s.jsxs)(tw.bL,{isOpen:r,toggle:o,children:[(0,s.jsxs)(tw.Y9,{children:[(0,s.jsx)(tw.JU,{size:"lg",children:(0,S.t)("file_browser.pinning.pinned_files")}),(0,s.jsx)(tw.X0,{children:m&&(0,s.jsx)(tL.$n,{variant:"link",onClick:f,disabled:_,htmlAttributes:{"data-tooltip":_?(0,S.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:n5.D1}):void 0,"data-tooltip-type":r8.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,S.t)("file_browser.pinning.add_file")})})]}),(0,s.jsx)(tw.UC,{children:(0,s.jsx)(oP,{workspace:e})})]})})}function oG(e){return(0,s.jsx)(aA.u,{label:"WorkspacePage",children:(0,s.jsx)(oW,{...e})})}function oW({workspaceId:e}){let t=(0,K.sZ)(),r=(0,p.bc)(eY.aON,{orgId:t.id,workspaceId:e}),a=(0,p.bc)(eY.nD$,{workspaceId:e}).transform(e=>e.workspace?.members??null),{result:n,isLoaded:o}=function(e){let t=!!(0,l.kc)().fb_paginated_workspace_teams_shadow_reads,[r]=(0,f.IT)((0,eY.QJZ)(t?{workspaceId:e,firstPageSize:50}:null)),a=i.useMemo(()=>r.transform(e=>iN(e.workspace?.activeTeams??[])),[r]),s=i2({workspaceId:e,onlyJoinedTeams:!1}),n=iS(s.status,!1);return(0,iE.u8)({enableShadowRead:t,label:iE.A5.WorkspacePageView.teams,oldValue:s.data,oldValueReady:n,newValue:a.data,newValueReady:"loaded"===r.status,contextArgs:{workspaceId:e,numTeams:s.transform(e=>e.length).unwrapOr(null)},comparator:ik}),{result:s,isLoaded:n}}(e),d="loaded"===r.status&&o;if((0,x.kF)("Workspace"),(0,x.WX)({markName:"MainBodyContent",isLoaded:d,contextArgs:{numTeams:n.transform(e=>e.length).unwrapOr(null)}}),i6({isLoaded:o,view:"Workspace"}),"loading"===r.status)return(0,s.jsx)(en.qc,{});if("loaded"!==r.status)return(0,s.jsx)(nd.S,{resourceType:s3.Ft.WORKSPACE});let c=r.data.workspace;if(!c||!c.canView)return(0,s.jsx)(nd.S,{resourceType:s3.Ft.WORKSPACE});let u=(0,Z.eO)(r.data.currentUser)===c.id;return(0,s.jsx)(oz,{org:t,workspace:c,workspaceMembersQuery:a,workspaceOrgTeamsQuery:n,isAssignedWorkspace:u})}function oz({org:e,workspace:t,workspaceMembersQuery:r,workspaceOrgTeamsQuery:a,isAssignedWorkspace:i}){(0,ry.hL)(t.name);let n={...t,members:r.data??[]},o=r.transform(e=>!!e&&e.length>0),l=t.admins.length>0,d=o.transform(e=>e||l).unwrapOr(!0);return(0,s.jsx)(ne.r,{header:(0,s.jsx)(nZ,{workspace:n,org:e,isWorkspaceMembersLoading:"loading"===r.status,showMembersButton:d}),content:(0,s.jsxs)("div",{className:N.s.flex.flexColumn.gap24.my24.$,children:[(0,s.jsx)("section",{"aria-label":(0,S.t)("file_browser.pinning.pinned_files"),className:"xl8oe17 xbdeg4j",children:(0,s.jsx)(oB,{workspace:t,isAssignedWorkspace:i})}),(0,s.jsx)(i5,{children:(0,s.jsx)(iZ,{orgTeamsQuery:a,workspaceId:t.id,isGuest:!1})})]}),metaContent:o.unwrapOr(!1)?(0,s.jsx)(n0,{workspace:n}):void 0})}var oV=r(946053),oH=r(667693),o$=r(530299),oq=r(456877),oY=r(128385),oK=r(755444),oJ=r(123941),oQ=r(105963),oX=r(948799),oZ=r(887696);function o0(e){i.useEffect(()=>{sM.az.trackDefinedEvent("search_experience.dead_code",{userId:oK.Ay().user_data?.id,codeLocation:"search/views/search_bar.tsx"})},[]);let t=(0,n.d4)(e=>!!e.user),r=(0,n.d4)(e=>"search"===e.selectedView.view?e.search.parameters.query:""),a=(0,n.d4)(t=>void 0!==e.isFocusedOverride?e.isFocusedOverride:t.search.isFocused),o=i.useMemo(()=>e.query??r,[e.query,r]),l=(0,n.wA)(),{onFocusOverride:d,onBlurOverride:c,onQueryChanged:u}=e,{Sprig:m}=(0,t5.A)(),_=(0,oJ.y)(e.entryPoint,e.searchScope),p=(0,ec.md)(oX.BA),f=i.useCallback(()=>{if(l(n3.W0({entryPoint:e.entryPoint})),d)return d();l(n3.Z6({isFocused:!0}))},[l,e.entryPoint,d]),x=i.useCallback(()=>{if(c)return c();l(n3.Z6({isFocused:!1,persistAnalyticsSession:p}))},[l,c,p]),h=i.useCallback(t=>{u(t),e.disableSearchOnQueryChange||_(t,p,!1,!1)},[u,_,p,e.disableSearchOnQueryChange]),b=i.useCallback(t=>{"file_browser"===e.entryPoint&&m("track",oQ.R),t.preventDefault(),_(o,p,!0,!0),document.activeElement&&g.rr&&document.activeElement.blur()},[e.entryPoint,_,o,p,m]),v=i.useCallback(()=>{u(""),l(n3._z({})),p&&history.go(-1)},[l,u,p]);return i.useEffect(()=>{let e=e=>{e.keyCode===P.Uz.FORWARD_SLASH&&document.activeElement?.tagName==="BODY"&&f()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),(0,s.jsx)("form",{onSubmit:b,className:N.s.wFull.$,children:e.useCommunityLandingStyles?(0,s.jsx)(nW.xD,{focusOnMount:p,query:o,clearSearch:v,onChange:h,placeholder:e.placeholder,onFocus:f,onBlur:x,isFocused:a,onSubmit:b}):t?e.useSidebarStyles?(0,s.jsx)(nW.Qv,{className:g.Ay.mobile?oZ.G1:void 0,clearSearch:v,focusOnMount:p,hideXIcon:!1,isFocused:a,onBlur:x,onChange:h,onFocus:f,onSubmit:b,placeholder:e.placeholder,query:o}):e.useBrowseIANavBarStyles?(0,s.jsx)(nW.Cp,{className:g.Ay.mobile?oZ.G1:void 0,clearSearch:v,focusOnMount:p,hideXIcon:!1,isFocused:a,onBlur:x,onChange:h,onFocus:f,onSubmit:b,placeholder:e.placeholder,query:o}):(0,s.jsx)(nW.IW,{className:g.Ay.mobile?oZ.G1:void 0,clearSearch:v,focusOnMount:p,hideXIcon:!1,isFocused:a,onBlur:x,onChange:h,onFocus:f,onSubmit:b,placeholder:e.placeholder,query:o}):(0,s.jsx)(nW.o_,{className:g.Ay.mobile?oZ.G1:void 0,clearSearch:v,focusOnMount:p,isFocused:a,onBlur:x,onChange:h,onFocus:f,onSubmit:b,placeholder:e.placeholder,query:o})})}function o1(){let e=(0,n.d4)(e=>e.search.parameters.searchScope),t=(0,n.d4)(e=>(0,s4.d9)(e.selectedView)),[r,a]=(0,i.useState)(null),o="community"===e?(0,S.t)("search.empty_state.search_placeholder_figma_community"):(0,S.t)("search.empty_state.search_placeholder"),l=(0,s.jsx)("div",{className:"search_page_mobile_top_bar--searchBar--MTr-v",children:(0,s.jsx)(o0,{query:r,onQueryChanged:e=>a(e),searchScope:e,entryPoint:t?"community":"file_browser",placeholder:o})});return g.Ay.mobile?(0,s.jsx)("div",{className:"search_page_mobile_top_bar--mobileToolBarSpacerContainer--ma1sf",children:l}):(0,s.jsx)(oY.W,{tabs:null,center:l,centerFullWidth:!0})}var o4=r(950129),o2=r(830853);class o5 extends i.Component{constructor(e){super(e),this.onScroll=e=>{this.updateIsTop(e.target)},this.updateIsTop=e=>{this.props.setScrollTop(window.pageYOffset)},this.shouldScroll=()=>0!==this.props.searchScrollTop,this.getLoadingKey=()=>n3.$P.loadingKeyForPayload({parameters:this.props.parameters}),this.isLoading=()=>o$.VP(this.props.loadingState,this.getLoadingKey()),this.didSucceed=()=>o$.GH(this.props.loadingState,this.getLoadingKey()),this.didFail=()=>o$.aF(this.props.loadingState,this.getLoadingKey()),this.getFailedReason=()=>o$.Fl(this.props.loadingStateFailureReasons,this.getLoadingKey());let t=this.getFilteredResults(e.searchResults??[],e.sortFilterConfig);this.state={showContainer:!this.shouldScroll(),filteredFileResults:t}}componentDidMount(){window.addEventListener("scroll",this.onScroll,!0),this.shouldScroll()?setTimeout(()=>{window.scrollTo(0,this.props.searchScrollTop),this.setState({showContainer:!0})},0):this.updateIsTop({})}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll,!0)}componentDidUpdate(e){if(this.props.searchModelType===oq.uH.FILES){let t=e.searchResults??[],r=this.props.searchResults??[],a=t.length!==r.length;if(!a)for(let e=0;e<t.length;e++)(0,oH.c2)(t[e],r[e])||(a=!0);if(a){let e=this.getFilteredResults(r,this.props.sortFilterConfig);this.setState({...this.state,filteredFileResults:e})}}}getFilteredResults(e,t){return this.props.searchModelType===oq.uH.FILES?e.filter(e=>{let r=e.model;switch(t.filters.fileType){case iW.t2.ANY:return!0;case iW.t2.DESIGN:return"design"===r.editor_type;case iW.t2.FIGJAM:return"whiteboard"===r.editor_type;case iW.t2.SITES:return"sites"===r.editor_type;case iW.t2.SLIDES:return"slides"===r.editor_type;case iW.t2.COOPER:return"cooper"===r.editor_type;case iW.t2.MAKE:return"figmake"===r.editor_type;case iW.t2.PROTOTYPE:return!1;default:(0,I.xb)(t.filters.fileType)}}):e}render(){let e=this.props.searchResults??[],t=this.getFilteredResults(e,this.props.sortFilterConfig);return(0,s.jsx)(ne.r,{toolbar:g.Ay.mobile?(0,s.jsx)(o1,{}):void 0,viewbar:(0,s.jsx)(o2.ZG,{sortControlsDisabled:0===e.length}),viewBarSticky:!0,content:(0,s.jsx)(o4.g,{didFail:this.didFail(),didSucceed:this.didSucceed(),failureMessage:this.getFailedReason(),isLoading:this.isLoading(),onChangeSortState:this.props.onChangeSortState,planFilter:this.props.parameters.planFilter,query:this.props.completedQuery,searchModelType:this.props.searchModelType,searchResults:t,searchScope:this.props.parameters.searchScope,sortState:this.props.parameters.sortState})},"unified-search")}}function o6(){let e=(0,n.d4)(e=>e.search.parameters),t=e.facetFilters?.searchModelType?e.facetFilters.searchModelType:oq.uH.FILES,r=(0,n.wA)(),a=(0,n.d4)(e=>e.search.parameters),o=(0,n.d4)(e=>e.search.responses[t]?.results||null),l=(0,n.d4)(e=>e.search.completedQueries[t]),d=(0,n.d4)(e=>e.loadingState),c=(0,n.d4)(e=>e.loadingStateFailureReasons),u=(0,n.d4)(e=>e.search.searchScrollTop),m=(0,n.d4)(e=>e.tileSortFilterStateByView.search),_=i.useCallback(e=>{r(n3.qv({sortState:e}))},[r]),p=i.useCallback(e=>{r(n3.PP({top:e}))},[r]);return(0,s.jsx)(o5,{completedQuery:l,loadingState:d,loadingStateFailureReasons:c,onChangeSortState:_,parameters:a,searchModelType:t,searchResults:o,searchScrollTop:u,setScrollTop:p,sortFilterConfig:m})}o5.displayName="SearchPageView";var o3=r(30899),o7=r(208740),o8=r(878936),o9=r(67147),le=r(81686),lt=r(172096),lr=r(218491),la=r(786751),ls=r(851300),li=r(680384),ln=r(28056),lo=r(347571),ll=r(482996),ld=r(858959),lc=r(816565),lu=r(212028),lm=r(345288),l_=r(205984);let lp=new Set([lm.LJ.uiKits,lm.LJ.wireframes,lm.LJ.designTemplates,lm.LJ.mobileApps,lm.LJ.portfolios,lm.LJ.resumes,lm.LJ.visualAssets,lm.LJ.illustrations,lm.LJ.icons,lm.LJ.shapesColors]),lf=new Set([lm.LJ.brainstorming,lm.LJ.diagramming,lm.LJ.funGames,lm.LJ.teamMeetings,lm.LJ.whiteboarding,lm.LJ.strategicPlanning]),lx=new Set([lm.LJ.editingEffects,lm.LJ.fileOrganization,lm.LJ.development,lm.LJ.whiteboarding,lm.LJ.designTools,lm.LJ.importExport,lm.LJ.accessibility,lm.LJ.prototypingAnimation]),lg=new Set([lm.LJ.presentations]),lh=new Set([lm.LJ.desktopAppsWebsites]),lb={DESIGN_RESOURCES:"designResources",PLUGINS_AND_WIDGETS:"pluginsAndWidgets",WHITEBOARDING:"whiteboarding",PRESENTATIONS:"presentations",WEBSITES:"websites"};function lv(e){let t=(0,aI.Om)(),r=(0,aI.tv)();return(0,i.useMemo)(()=>Object.fromEntries(e.map(({key:e,category:a,resource_type:s,editor_type:i,tag:n})=>[e,new lt.Dv({...t,categorySlug:a,tagSlug:n},{resource_type:s??lu.L.BrowseResourceTypes.FILES,editor_type:i??void 0,...r})])),[e,t,r])}var ly=(e=>(e.marketing="marketing",e.product="product",e.pitchDeck="pitch-deck",e.sales="sales",e.landingPages="landing-pages",e.portfolio="portfolio",e.ecommerce="ecommerce",e.blog="blog",e.wedding="wedding",e.photography="photography",e))(ly||{});function lj(e,t,r){let a=t?({marketing:(0,S.t)("community.resource_hub.categories.marketing_presentations"),product:(0,S.t)("community.resource_hub.categories.product_presentations"),"pitch-deck":(0,S.t)("community.resource_hub.categories.pitch_decks"),sales:(0,S.t)("community.resource_hub.categories.sales_presentations"),"landing-pages":(0,S.t)("community.resource_hub.categories.landing_pages"),portfolio:(0,S.t)("community.resource_hub.categories.portfolio"),ecommerce:(0,S.t)("community.resource_hub.categories.ecommerce"),blog:(0,S.t)("community.resource_hub.categories.blog"),wedding:(0,S.t)("community.resource_hub.categories.wedding"),photography:(0,S.t)("community.resource_hub.categories.photography")})[t]:void 0;if(a)return a;let s=(0,l_.WG)(e),i=r?function(e,t){let r={[lm.LJ.whiteboarding]:{[lu.L.BrowseResourceTypes.WIDGETS]:(0,S.t)("categories.widgets")},[lm.LJ.designTools]:{[lu.L.BrowseResourceTypes.PLUGINS]:(0,S.t)("community.view_bar.plugins")}};return r[e]?.[t]}(s,r):void 0;return i?i:({[lm.LJ.mobileApps]:(0,S.t)("community.resource_hub.categories.mobile_app_templates"),[lm.LJ.desktopAppsWebsites]:(0,S.t)("community.resource_hub.categories.websites"),[lm.LJ.make]:(0,S.t)("community.view_bar.figmake")})[s]||(0,l_.xF)(e)}let lw={bannerHeaderText:{kMv6JI:"xor4psk",kGuDYH:"x1ncjjhx",k63SB2:"xaoa4km",kLWn49:"x2i041",kb6lSQ:"x14terfx",ks0D6T:"xw5ewwj",k9WMMc:"x2b8uid",$$css:!0},bannerContainer:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",koQZXg:"x1qmclg5",km5ZXQ:"x6zwu1g",keTefX:null,k71WvV:null,kKwaWg:"x18klckb x9y3dz2",$$css:!0},contentContainer:{k1xSpc:"x78zum5",kXwgrk:"x1q0g3np",kGNEyG:"x6s0dn4",kjj79g:"xl56j7k",kVAEAm:"x1n2onr6",kZKoxP:"x1iu8u7t",kLKAdn:"x1y1aw1k",kGO01o:"xwib8y2",kzqmXN:"xh8yej3",ks0D6T:"xrlsmeg",k9g6sI:"x12h1iku",$$css:!0},iconContainer:{kzqmXN:"xrostsh",kZKoxP:"x5yr21d",kGNEyG:"x6s0dn4",k1xSpc:"x78zum5 x1mr30q6",$$css:!0},pluginIcon:{kVAEAm:"x10l6tqk",kzqmXN:"x1691je0",kZKoxP:"x90ne7k",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kGVxlE:"xcnv1gw",$$css:!0},iconSetIcon:{kVAEAm:"x10l6tqk",kzqmXN:"x100vrsf",kZKoxP:"x1vqgdyp",kDwRjp:"xbh8q5q",kjVXCG:"x1ayoduh",kDd8S0:"x1g350g8",$$css:!0},libraryIcon:{kzqmXN:"x100vrsf",kZKoxP:"x1vqgdyp",kVAEAm:"x10l6tqk",kDd8S0:"x1g350g8",$$css:!0},categoryLink:{k1xSpc:"x1rg5ohu",kkrTdU:"x1ypdohk",$$css:!0},categoryLinkActive:{kMwMTN:"x1quhyk7",$$css:!0},fillAccent:{"--color-icon":"x1aue78i","--community-hero-illustrations-fill-opacity":"x1nru0vl",$$css:!0},typeIcon:{"--community-hero-illustrations-fill-opacity":"x1nru0vl",$$css:!0}};var lT=r(193831),lE=r(535130),lI=r(959224),lN=r(474238),lS=r(573246),lk=r(175700),lC=r(903248),lA=r(212003),lR=r(191469),lO=r(598664),lP=r(959113),lL=r(330773),lF=r(478386),lD=r(442990);let lM=(0,oK.ck)("4c694b59552bdaf728d6bbad5c5603c08e768dde"),lU=(0,oK.ck)("65c3bfafc5758245135ea68c46bf8649e08fc682"),lB=(0,oK.ck)("0d28516cbda0bfcf87b214c919c6ed52f3358efb"),lG=(0,oK.ck)("34cf09b757fec1181abee8d8ece8a06ee0383408"),lW={left:{topLeft:{src:lM,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:127,y:-40,rotate:15},hover:{opacity:1,scale:1,x:110,y:-70,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},middleLeft:{src:lU,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:67.6,y:0,rotate:-22},hover:{opacity:1,scale:1,x:40,y:-5,rotate:-22}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},bottomLeft:{src:lB,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:133,y:40,rotate:-18},hover:{opacity:1,scale:1,x:110,y:38,rotate:-18}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},right:{topRight:{src:lG,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:-12.6,y:-40,rotate:15},hover:{opacity:1,scale:1,x:15,y:-70,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},middleRight:{src:(0,oK.ck)("ebe89d33f7040c60d83a01887800a522babf7de7"),variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:37.4,y:0,rotate:1},hover:{opacity:1,scale:1,x:55,y:-15,rotate:1}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},bottomRight:{src:(0,oK.ck)("2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39"),variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:-17.6,y:45,rotate:-6},hover:{opacity:1,scale:1,x:0,y:35,rotate:-6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}}},lz={left:{profileIcon:{svg:lP.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:100,y:-35,rotate:-10},hover:{opacity:1,scale:1,x:80,y:-55,rotate:-10}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},asterikIcon:{svg:lT.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:-15,rotate:-15},hover:{opacity:1,scale:1,x:20,y:-35,rotate:-15}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},homeIcon:{svg:lA.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:40,rotate:-15},hover:{opacity:1,scale:1,x:20,y:20,rotate:-15}},transition:{delay:.025,type:"spring",bounce:.4,duration:.25}},mentionIcon:{svg:lO.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:115,y:40,rotate:10},hover:{opacity:1,scale:1,x:95,y:20,rotate:10}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}},right:{emojiIcon:{svg:lC.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:25,y:-40,rotate:15},hover:{opacity:1,scale:1,x:30,y:-55,rotate:15}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},chatIcon:{svg:lI.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:90,y:-25,rotate:5},hover:{opacity:1,scale:1,x:95,y:-45,rotate:5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},settingsIcon:{svg:lL.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:30,y:35,rotate:15},hover:{opacity:1,scale:1,x:35,y:15,rotate:15}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}},bookmarkIcon:{svg:lE.A,variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:95,y:45,rotate:5},hover:{opacity:1,scale:1,x:100,y:25,rotate:5}},transition:{delay:.025,type:"spring",bounce:.4,duration:.25}}}},lV={left:{colorSwatches:{component:function(){return(0,s.jsx)(r3.B,{svg:lN.A,...ea.xk(lw.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:110,y:40,rotate:0},hover:{opacity:1,scale:1,x:70,y:15,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}},colorsIcon:{component:function(){return(0,s.jsx)(r3.B,{svg:lS.A,...ea.xk(lw.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:110,y:-35,rotate:5},hover:{opacity:1,scale:1,x:90,y:-55,rotate:5}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},variableIcon:{component:function(){return(0,s.jsx)(r3.B,{svg:lD.A,...ea.xk(lw.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:40,y:5,rotate:-5},hover:{opacity:1,scale:1,x:10,y:-20,rotate:-5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}}},right:{libraryIcon:{component:function(){return(0,s.jsx)(r3.B,{svg:lR.A,...ea.xk(lw.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:5,y:50,rotate:-5},hover:{opacity:1,scale:1,x:10,y:30,rotate:-5}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25}},typeIcon:{component:function(){return(0,s.jsx)(r3.B,{svg:lF.A,...ea.xk(lw.typeIcon),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:0,y:-50,rotate:0},hover:{opacity:1,scale:1,x:5,y:-65,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25}},componentIllustrations:{component:function(){return(0,s.jsx)(r3.B,{svg:lk.A,...ea.xk(lw.fillAccent),useOriginalSrcFills_DEPRECATED:!0})},variants:{hidden:{pointerEvents:"none",opacity:0,scale:.5,x:45,y:10,rotate:0},hover:{opacity:1,scale:1,x:50,y:-20,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25}}}},lH=(e,t)=>{a=setTimeout(()=>{e(e=>(e+1)%6),l$(e)},t??500)},l$=e=>{a=setTimeout(()=>{e(e=>(e+1)%6),lH(e)},3e3)};function lq({configs:e,isActive:t,styleKey:r="pluginIcon"}){return(0,s.jsx)(s.Fragment,{children:Object.entries(e).map(([e,a])=>(0,s.jsxs)(ld.P.div,{variants:a.variants,transition:a.transition,initial:"hidden",animate:t?"hover":"hidden",children:[a.src&&(0,s.jsx)(lc.oW,{...ea.xk(lw[r]),src:a.src,alt:""}),a.component&&(0,s.jsx)("div",{...ea.xk(lw[r]),children:(0,s.jsx)(a.component,{})}),a.svg&&(0,s.jsx)("div",{...ea.xk(lw[r]),children:(0,s.jsx)(r3.B,{svg:a.svg})})]},e))})}function lY({href:e,text:t,isActive:r,onMouseOver:a,onMouseLeave:i}){return(0,s.jsx)(ld.P.span,{variants:{hidden:{opacity:.5},hover:{opacity:1}},initial:"hidden",animate:r?"hover":"hidden",children:(0,s.jsx)("span",{...ea.xk(lw.categoryLink,r&&lw.categoryLinkActive),onMouseOver:a,onMouseLeave:i,children:(0,s.jsx)(tL.$n.Link,{onClick:()=>{u.Ay.push(e)},children:t})})})}function lK(){let e=lv([{key:"pluginsRoute",category:lm.LJ.designTools,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"librariesRoute",category:lm.LJ.libraries,resource_type:lu.L.BrowseResourceTypes.FILES},{key:"iconSetsRoute",category:lm.LJ.icons,resource_type:lu.L.BrowseResourceTypes.FILES}]),[t,r]=(0,i.useState)(2*Math.floor(3*Math.random())),[n,o]=(0,i.useState)(null);(0,i.useEffect)(()=>(lH(r),()=>{clearTimeout(a)}),[]),(0,i.useEffect)(()=>{null!==n?(clearTimeout(a),a=void 0,r(e=>e%2==1?(e+1)%6:e)):a||lH(r,3e3)},[n]);let l=t%2==0?null:Math.ceil(t/2),d=n??l,c=(0,S.tx)("community.homepage.header",{librariesLink:(0,s.jsx)(lY,{href:e.librariesRoute?.href||"#",text:(0,S.t)("community.homepage.header_libraries"),isActive:1===d,onMouseOver:()=>o(1),onMouseLeave:()=>o(null)}),pluginsLink:(0,s.jsx)(lY,{href:e.pluginsRoute?.href||"#",text:(0,S.t)("community.homepage.header_plugins"),isActive:2===d,onMouseOver:()=>o(2),onMouseLeave:()=>o(null)}),iconSetsLink:(0,s.jsx)(lY,{href:e.iconSetsRoute?.href||"#",text:(0,S.t)("community.homepage.header_icon_sets"),isActive:3===d,onMouseOver:()=>o(3),onMouseLeave:()=>o(null)})});return(0,s.jsx)("div",{...ea.xk(lw.bannerContainer),children:(0,s.jsxs)("div",{...ea.xk(lw.contentContainer),children:[(0,s.jsxs)("div",{...ea.xk(lw.iconContainer),children:[(0,s.jsx)(lq,{configs:lz.left,isActive:3===d,styleKey:"iconSetIcon"}),(0,s.jsx)(lq,{configs:lW.left,isActive:2===d,styleKey:"pluginIcon"}),(0,s.jsx)(lq,{configs:lV.left,isActive:1===d,styleKey:"libraryIcon"})]}),(0,s.jsx)("div",{...ea.xk(lw.bannerHeaderText),children:c}),(0,s.jsxs)("div",{...ea.xk(lw.iconContainer),children:[(0,s.jsx)(lq,{configs:lz.right,isActive:3===d,styleKey:"iconSetIcon"}),(0,s.jsx)(lq,{configs:lW.right,isActive:2===d,styleKey:"pluginIcon"}),(0,s.jsx)(lq,{configs:lV.right,isActive:1===d,styleKey:"libraryIcon"})]})]})})}function lJ({tab:e}){let t,r;let a=(0,ll.ac)(),i=(0,eK.S2)(),n=i?.data?.name??"";return e===aN.N$.COMMUNITY?(t=(0,S.t)("community.resource_hub.discover_community_resources"),r=(0,S.t)("community.resource_hub.browse_community_resources")):(t=n?(0,S.t)("community.resource_hub.browse_resources_created_by_your_team",{orgOrTeamName:n}):(0,S.t)("community.resource_hub.browse_resources"),r=(0,S.t)("community.resource_hub.browse_resources_internal_subheader")),a&&e===aN.N$.COMMUNITY?(0,s.jsx)(lK,{}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x1qbkcu5",children:t}),(0,s.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1y1aw1k x1n0bwc9",children:r})]})}var lQ=r(951645),lX=r(272364),lZ=r(685031),l0=r(620480);let l1="category_button_base--outlineStyle--9AMRG",l4="category_button_base--button--6V4Sy",l2="category_button_base--selected--A2Qzy",l5="category_button_base--buttonContent--K7omY",l6="category_button_base--noChevronButton--lbov0",l3="category_menu_button--buttonText--0inUk";function l7({defaultText:e,iconPrefix:t,categorySlug:r,tagSlug:a,resourceType:i,getTriggerProps:n,isSelected:o}){let l=r?lj(r,a,i):void 0;return(0,s.jsx)(sF.E,{"aria-pressed":o,className:G()(l4,l1,o&&l2),...n(),children:(0,s.jsxs)("span",{className:l5,children:[t,(0,s.jsx)("span",{className:l3,children:l||e}),(0,s.jsx)(l0.r,{})]})})}var l8=r(62351);function l9({parentDropdown:e,defaultText:t,iconPrefix:r,menuItemsByGroup:a}){let{getTriggerProps:i,manager:n}=tQ.b(),o=(0,aE.Rd)(lt.Dv),l=o?.categorySlug,d=o?.tagSlug,c=(0,aE.vA)(lt.Dv),m=c?.resource_type,_=l&&function(e,t){if(!e)return null;let r=(0,l_.WG)(e);return e===lm.LJ.whiteboarding?t===lu.L.BrowseResourceTypes.WIDGETS?lb.PLUGINS_AND_WIDGETS:lb.WHITEBOARDING:lf.has(r)?lb.WHITEBOARDING:lx.has(r)?lb.PLUGINS_AND_WIDGETS:lp.has(r)?lb.DESIGN_RESOURCES:lg.has(r)?lb.PRESENTATIONS:lh.has(r)?lb.WEBSITES:null}(l,m)===e;return(0,s.jsxs)(tQ.bL,{manager:n,children:[(0,s.jsx)(l7,{defaultText:t,iconPrefix:r,categorySlug:_?l:void 0,tagSlug:d,resourceType:m,getTriggerProps:i,isSelected:n.isOpen}),(0,s.jsx)(tQ.mc,{children:a.map((e,t)=>(0,s.jsx)(tQ.YJ,{children:e.map((e,t)=>(0,s.jsx)(tQ.q7,{onClick:()=>{(0,l8.pt)(e?.href??""),u.Ay.push(e?.href??"")},children:(0,s.jsx)("div",{style:{minWidth:132},children:e.text})},t))},t))})]})}function de(){let e=lv([{key:"uikitRoute",category:lm.LJ.uiKits},{key:"wireframesRoute",category:lm.LJ.wireframes},{key:"socialMediaTemplatesRoute",category:lm.LJ.socialMediaTemplates,editor_type:lZ.k.Editors.COOPER},{key:"cardTemplatesRoute",category:lm.LJ.cardTemplates,editor_type:lZ.k.Editors.COOPER},{key:"designTemplatesRoute",category:lm.LJ.designTemplates},{key:"mobileAppRoute",category:lm.LJ.mobileApps},{key:"portfolioRoute",category:lm.LJ.portfolios},{key:"resumeRoute",category:lm.LJ.resumes},{key:"visualAssetsRoute",category:lm.LJ.visualAssets},{key:"illustrationsRoute",category:lm.LJ.illustrations},{key:"iconsRoute",category:lm.LJ.icons},{key:"shapesColorsRoute",category:lm.LJ.shapesColors}]),t=[[{href:e.uikitRoute?.href,text:(0,S.t)("categories.ui_kits")},{href:e.wireframesRoute?.href,text:(0,S.t)("categories.wireframes")}],[{href:e.socialMediaTemplatesRoute?.href,text:(0,S.t)("categories.social_media_templates")},{href:e.cardTemplatesRoute?.href,text:(0,S.t)("categories.cards_and_invites")}],[{href:e.mobileAppRoute?.href,text:(0,S.t)("community.resource_hub.categories.mobile_app_templates")},{href:e.resumeRoute?.href,text:(0,S.t)("categories.resume_templates")},{href:e.portfolioRoute?.href,text:(0,S.t)("categories.portfolio_templates")},{href:e.designTemplatesRoute?.href,text:(0,S.t)("community.resource_hub.see_more")}],[{href:e.iconsRoute?.href,text:(0,S.t)("categories.icons")},{href:e.illustrationsRoute?.href,text:(0,S.t)("categories.illustrations")},{href:e.shapesColorsRoute?.href,text:(0,S.t)("categories.shapes_colors")},{href:e.visualAssetsRoute?.href,text:(0,S.t)("community.resource_hub.see_more")}]].filter(e=>e.length>0);return(0,s.jsx)(l9,{parentDropdown:lb.DESIGN_RESOURCES,menuItemsByGroup:t,defaultText:(0,S.t)("community.homepage.figma_section.header"),iconPrefix:(0,s.jsx)(lX.a,{})})}var dt=r(814157);function dr(){let e=lv([{key:"editingEffectsRoute",category:lm.LJ.editingEffects,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"fileOrganizationRoute",category:lm.LJ.fileOrganization,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"developmentRoute",category:lm.LJ.development,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"widgetsRoute",category:lm.LJ.whiteboarding,resource_type:lu.L.BrowseResourceTypes.WIDGETS},{key:"pluginsRoute",category:lm.LJ.designTools,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"importExportRoute",category:lm.LJ.importExport,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"accessibilityRoute",category:lm.LJ.accessibility,resource_type:lu.L.BrowseResourceTypes.PLUGINS},{key:"prototypingAnimationRoute",category:lm.LJ.prototypingAnimation,resource_type:lu.L.BrowseResourceTypes.PLUGINS}]),t=[[{href:e.fileOrganizationRoute?.href,text:(0,S.t)("categories.file_organization")},{href:e.developmentRoute?.href,text:(0,S.t)("categories.navbar.development")},{href:e.editingEffectsRoute?.href,text:(0,S.t)("categories.editing_effects")},{href:e.importExportRoute?.href,text:(0,S.t)("categories.import_export")},{href:e.accessibilityRoute?.href,text:(0,S.t)("categories.accessibility_tools")},{href:e.prototypingAnimationRoute?.href,text:(0,S.t)("categories.prototyping_animation")}],[{href:e.widgetsRoute?.href,text:(0,S.t)("community.resource_hub.categories.see_all_widgets")},{href:e.pluginsRoute?.href,text:(0,S.t)("community.resource_hub.categories.see_all_plugins")}]];return(0,s.jsx)(l9,{parentDropdown:lb.PLUGINS_AND_WIDGETS,defaultText:(0,S.t)("community.resource_hub.categories.plugins_and_widgets"),iconPrefix:(0,s.jsx)(dt.x,{}),menuItemsByGroup:t})}var da=r(108692);function ds(){let e=lv([{key:"marketingRoute",category:lm.LJ.presentations,tag:ly.marketing,editor_type:lZ.k.Editors.SLIDES},{key:"productRoute",category:lm.LJ.presentations,tag:ly.product,editor_type:lZ.k.Editors.SLIDES},{key:"pitchDecksRoute",category:lm.LJ.presentations,tag:ly.pitchDeck,editor_type:lZ.k.Editors.SLIDES},{key:"salesRoute",category:lm.LJ.presentations,tag:ly.sales,editor_type:lZ.k.Editors.SLIDES},{key:"presentationsRoute",category:lm.LJ.presentations,editor_type:lZ.k.Editors.SLIDES}]),t=[[{href:e.marketingRoute?.href,text:(0,S.t)("community.resource_hub.categories.marketing_presentations")},{href:e.productRoute?.href,text:(0,S.t)("community.resource_hub.categories.product_presentations")},{href:e.pitchDecksRoute?.href,text:(0,S.t)("community.resource_hub.categories.pitch_decks")},{href:e.salesRoute?.href,text:(0,S.t)("community.resource_hub.categories.sales_presentations")}],[{href:e.presentationsRoute?.href,text:(0,S.t)("community.resource_hub.see_more")}]];return(0,s.jsx)(l9,{parentDropdown:lb.PRESENTATIONS,menuItemsByGroup:t,defaultText:(0,S.t)("categories.presentations"),iconPrefix:(0,s.jsx)(da.o,{})})}var di=r(975484);function dn(){let e=lv([{key:"websitesRoute",category:lm.LJ.desktopAppsWebsites,editor_type:lZ.k.Editors.SITES},{key:"landingPagesRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.landingPages,editor_type:lZ.k.Editors.SITES},{key:"portfolioRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.portfolio,editor_type:lZ.k.Editors.SITES},{key:"ecommerceRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.ecommerce,editor_type:lZ.k.Editors.SITES},{key:"blogRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.blog,editor_type:lZ.k.Editors.SITES},{key:"weddingRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.wedding,editor_type:lZ.k.Editors.SITES},{key:"photographyRoute",category:lm.LJ.desktopAppsWebsites,tag:ly.photography,editor_type:lZ.k.Editors.SITES}]),t=[[{href:e.landingPagesRoute?.href,text:(0,S.t)("community.resource_hub.categories.landing_pages")},{href:e.portfolioRoute?.href,text:(0,S.t)("community.resource_hub.categories.portfolio")},{href:e.ecommerceRoute?.href,text:(0,S.t)("community.resource_hub.categories.ecommerce")},{href:e.blogRoute?.href,text:(0,S.t)("community.resource_hub.categories.blog")},{href:e.weddingRoute?.href,text:(0,S.t)("community.resource_hub.categories.wedding")},{href:e.photographyRoute?.href,text:(0,S.t)("community.resource_hub.categories.photography")}],[{href:e.websitesRoute?.href,text:(0,S.t)("community.resource_hub.see_more")}]];return(0,s.jsx)(l9,{parentDropdown:lb.WEBSITES,menuItemsByGroup:t,defaultText:(0,S.t)("community.resource_hub.categories.websites"),iconPrefix:(0,s.jsx)(di.a,{})})}var dl=r(660360);function dd(){let e=lv([{key:"brainstormingRoute",category:lm.LJ.brainstorming},{key:"diagrammingRoute",category:lm.LJ.diagramming},{key:"funGamesRoute",category:lm.LJ.funGames},{key:"teamMeetingsRoute",category:lm.LJ.teamMeetings},{key:"whiteboardingRoute",category:lm.LJ.whiteboarding},{key:"strategicPlanningRoute",category:lm.LJ.strategicPlanning}]),t=[[{href:e.diagrammingRoute?.href,text:(0,S.t)("categories.diagramming")},{href:e.brainstormingRoute?.href,text:(0,S.t)("categories.brainstorming")},{href:e.funGamesRoute?.href,text:(0,S.t)("categories.fun_games")},{href:e.teamMeetingsRoute?.href,text:(0,S.t)("categories.team_meetings")},{href:e.strategicPlanningRoute?.href,text:(0,S.t)("categories.strategic_planning")}],[{href:e.whiteboardingRoute?.href,text:(0,S.t)("community.resource_hub.see_more")}]];return(0,s.jsx)(l9,{parentDropdown:lb.WHITEBOARDING,menuItemsByGroup:t,defaultText:(0,S.t)("categories.whiteboarding"),iconPrefix:(0,s.jsx)(dl.A,{})})}var dc=r(322028);function du(){let e=(0,S.t)("community.view_bar.figmake"),t=lv([{key:"categoryRoute",category:lm.LJ.make}]).categoryRoute;return t?(0,s.jsx)(sF.E,{"aria-label":e,className:G()(l4,l1,l6),onClick:()=>{u.Ay.push(t.href)},children:(0,s.jsxs)("span",{className:l5,children:[(0,s.jsx)(dc.s,{}),(0,s.jsx)("span",{className:l3,children:e})]})}):null}var dm=r(706903);function d_(){let e=(0,S.t)("community.profiles.saved"),t=(0,aI.Om)(),r=(0,aI.tv)()??void 0;return(0,s.jsx)(sF.E,{"aria-label":e,className:G()(l4,l1,l6),onClick:()=>{let e=new li.e(t,r);u.Ay.push(e.href),(0,l8.YM)()},children:(0,s.jsxs)("span",{className:l5,children:[(0,s.jsx)(dm.T,{}),(0,s.jsx)("span",{className:l3,children:e})]})})}function dp(){let e=(0,ll.l$)();return(0,s.jsx)(lQ.a,{mode:"match",children:(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x167g77z x1a02dak",children:[(0,s.jsx)(d_,{}),(0,s.jsx)(de,{}),e&&(0,s.jsx)(du,{}),(0,s.jsx)(dr,{}),(0,s.jsx)(ds,{}),(0,s.jsx)(dd,{}),(0,s.jsx)(dn,{})]})})}var df=r(684917),dx=r(391346),dg=r(3234),dh=r(840485);let db=e=>Math.ceil(e/aN.Yn)*aN.Yn;function dv({resourceCount:e,resourceType:t,category:r,editorType:a,caller:s,includeContent:n,boostCategoryShelf:o,enabled:l=!0}){let d=(0,i.useRef)(null);(0,i.useEffect)(()=>{e>0&&null===d.current&&(d.current=db(e))},[e]);let c=(0,dx.v_)(),[{data:u,status:m,hasNextPage:_},{fetchNextPage:p}]=(0,f.IT)(dg.a.CommunityResourcesPaginatedQuery({resourceType:t,category:r,editorType:a,caller:s,pageSize:d.current??0,includeContent:n,boostCategoryShelf:o,locale:c}),{enabled:null!==d.current&&l}),x="loading"===m;return(0,i.useEffect)(()=>{!x&&_&&e>(u?.length??0)&&p()},[x,_,e,u,p]),{resources:u,loading:x,hasNextPage:_}}function dy({resourceCount:e,resourceType:t,includeContent:r,enabled:a=!0}){let[{data:s,status:n,hasNextPage:o},{fetchNextPage:l}]=(0,f.IT)(dh.K.PaginatedCommunityResourceSavesQuery({pageSize:e,resourceType:t,includeContent:r}),{enabled:a}),d="loading"===n;return(0,i.useEffect)(()=>{!d&&o&&e>(s?.length??0)&&l()},[d,o,e,s,l]),{resources:s,loading:d,hasNextPage:o}}var dj=r(109578),dw=r(511920),dT=r(292168),dE=r(755893),dI=r(484495),dN=r(890373);function dS({imageSources:e,isHovered:t}){return(0,s.jsx)("div",{className:"x10l6tqk x1y0lptx xxbcxho x78zum5 x1q0g3np x1v2ro7d x1g75g36",children:e.map((e,r)=>(0,s.jsx)(lc.oW,{...{0:{className:"x1u3p76b x1i5byms x1iyjqo2 xacr46v x1mxnbhz"},1:{className:"x1u3p76b x1i5byms x1iyjqo2 xacr46v x1mxnbhz xqc4caa"}}[!!t<<0],src:(0,oK.ck)(e),alt:""},r))})}function dk({imageSources:e,isHovered:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(lc.oW,{...{0:{className:"xamxeob x1u3p76b x1el4u5y x10l6tqk x1nrll8i xkz1y4k x874rk5 x1mxnbhz"},1:{className:"xamxeob x1u3p76b x1el4u5y x10l6tqk x1nrll8i x874rk5 x1mxnbhz xcvh5f3"}}[!!t<<0],src:(0,oK.ck)(e[0]),alt:""}),(0,s.jsx)(lc.oW,{...{0:{className:"xamxeob x1u3p76b x1el4u5y x10l6tqk x1nrll8i xpdgo6v x1y0lptx x1mxnbhz"},1:{className:"xamxeob x1u3p76b x1el4u5y x10l6tqk x1nrll8i x1y0lptx x1mxnbhz xgz6438"}}[!!t<<0],src:(0,oK.ck)(e[1]),alt:""})]})}function dC({imageSource:e,isHovered:t}){return(0,s.jsx)("div",{className:"x10l6tqk x1d9swqr x5yr21d",children:(0,s.jsx)(lc.oW,{...{0:{className:"x1el4u5y x1n2onr6 xlxyqfn x1y0lptx"},1:{className:"x1el4u5y x1n2onr6 xlxyqfn x1y0lptx xeybphm"}}[!!t<<0],src:(0,oK.ck)(e),alt:""})})}function dA({imageSource:e,containerStyle:t,isHovered:r}){let a="sheetStyle"===t?dR.hoveredSheetImage:dR.hoveredWidgetImage;return(0,s.jsx)("div",{...ea.xk(dR[t]),children:(0,s.jsx)(lc.oW,{...ea.xk(dR.image,r&&a),src:(0,oK.ck)(e),alt:""})})}let dR={sheetStyle:{kzqmXN:"xamxeob",kGVxlE:"x1u3p76b",kbCHJM:"x1nrll8i",kLqNvP:null,kt4wiu:null,k3aq6I:"xv9q2wl",kVAEAm:"x10l6tqk",$$css:!0},hoveredSheetImage:{k3aq6I:"xfx47b9",$$css:!0},widgetCardStyle:{kZKoxP:"x5yr21d",k87sOh:"x8l1umf",kCIrl2:"x3m8u43",kLqNvP:null,kt4wiu:null,kSiTet:"x1us6l5c",kVAEAm:"x10l6tqk",$$css:!0},hoveredWidgetImage:{k3aq6I:"x1bao77f",$$css:!0},image:{kmkexE:"x1el4u5y",kzIqYQ:null,kIr0Dl:null,kIyJzY:null,k1ekBW:null,kAMwcw:null,kzqmXN:"xh8yej3",kZKoxP:"x5yr21d",$$css:!0}};function dO({imageSources:e,isHovered:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(lc.oW,{className:"x1el4u5y x10l6tqk x1nrll8i xuuh30 x1y0lptx x19y5rnk xqjhr6n x1u3p76b",src:(0,oK.ck)(e[0]),alt:""}),(0,s.jsx)(lc.oW,{...{0:{className:"x1el4u5y x10l6tqk x1nrll8i xuuh30 x19y5rnk x8uc0wx x1g84rlc x1wu5q8a"},1:{className:"x1el4u5y x10l6tqk x1nrll8i x19y5rnk x8uc0wx x1g84rlc x1wu5q8a xbtikzi"}}[!!t<<0],src:(0,oK.ck)(e[1]),alt:""}),(0,s.jsx)(lc.oW,{...{0:{className:"xamxeob x1el4u5y x10l6tqk x1nrll8i xuuh30 x19y5rnk x1otreau"},1:{className:"xamxeob x1el4u5y x10l6tqk x1nrll8i x19y5rnk x1otreau x16ui88a"}}[!!t<<0],src:(0,oK.ck)(e[2]),alt:""})]})}function dP({header:e,route:t,content:r,showSeeMore:a}){let i=t&&a?(0,s.jsxs)(ed.e6,{"aria-label":(0,S.t)("community.resource_hub.see_more"),onClick:()=>{(0,l8.CA)(t.pathname),u.Ay.push(t.href)},className:"x78zum5 x8rdmch x6s0dn4 x19y5rnk x1d4akdp",children:[(0,s.jsx)("h3",{className:"xuzfeq1 x8yk33q x1e00guj x1o2sk6j x22v61l","data-testid":"section-header",children:e}),(0,s.jsx)(eq.a,{})]}):(0,s.jsx)("h3",{className:"xuzfeq1 x8yk33q x1e00guj x1o2sk6j x22v61l","data-testid":"section-header",children:e});return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 x1y1aw1k xwib8y2 x1jnr06f",children:i}),r]})}var dL=(e=>(e.BRAINSTORMING="brainstorming",e.CARD_TEMPLATES="cardTemplates",e.CLASSROOM_ACTIVITIES="classroomActivities",e.DATA_TEMPLATES="dataTemplates",e.DESIGN_TUTORIALS="designTutorials",e.DEVELOPMENT="development",e.DIAGRAMMING="diagramming",e.EDITING_EFFECTS="editingEffects",e.FILE_ORGANIZATION="fileOrganization",e.PRESENTATIONS_LARGE="presentationsLarge",e.PRESENTATIONS_SMALL="presentationsSmall",e.RESUMES="resumes",e.STRATEGIC_PLANNING="strategicPlanning",e.TEAM_MEETINGS_SMALL="teamMeetingsSmall",e.TEAM_MEETINGS_LARGE="teamMeetingsLarge",e.UI_KITS="uiKits",e.VISUAL_ASSETS="visualAssets",e.WIDGETS="widgets",e.WIREFRAMES="wireframes",e.WORKSHOP_TEMPLATES="workshopTemplates",e))(dL||{});let dF={brainstorming:{category:lm.LJ.brainstorming,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["f01ed35801ea5830119fbe503b42f18f8b8fa6bb","d96670e9dd7d8f500b1d82f97d4d08ca5762f014","25a7262271550cf605425ae1f9dbb3186df9e938","75319ef48f81cc1e0f733b2a9ee834ae20ad7383","1d6892175c739459b51f88450efd4fd63647a2d6","0e81b3f80cb2491aac0675bd33fbbbb79db59ddd"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},cardTemplates:{category:lm.LJ.cardTemplates,editorType:lZ.k.Editors.COOPER,size:"small",art:e=>(0,s.jsx)(dA,{imageSource:"2c4bc9301e89bc080dbadbdb33df70febe9bf82f",containerStyle:"sheetStyle",isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"cooper"},classroomActivities:{category:lm.LJ.classroomActivities,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["ad9ed6524f8541f00d3968f21e59fcc627be04a6","9633b9c063fd07075008ee206a4ea712c2931994"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},dataTemplates:{category:lm.LJ.dataTemplates,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["85c247027dd036bb720dbaac9ecf63318e138266","55da4072453228deaa707a61fac742fd6b8a1022"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},designTutorials:{category:lm.LJ.designTutorials,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["f341d1cb6464b9ff5d2eb63c89eb380249fc7c78","985e74dda7ed515202f6b7a55ffc2e1562c9ff94","d48320278ece5f694fe686c2c971bcb9c5381f88","1864952e1f5b8fbc94fe85f548d41b77458dcc87","deb79a32eabbdaed5b86904ec9c4adda486345fb","3e63b05276c55b2d9e95c49e90969cc51023344b"],isHovered:e}),backgroundColor:dN.Tj.bgSecondary},development:{category:lm.LJ.development,resourceType:lu.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>(0,s.jsx)(dC,{isHovered:e,imageSource:"6ce1bcbe88b8f4f202e4307f0de131f8fb6cf61e"}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},diagramming:{category:lm.LJ.diagramming,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["378c5389dc551daa4f2a3daa5f4e4748fa811eb9","f5fa32f34d57e6b4b01f67f10c13fa4ced6fa20f","82cc8e76b689ad016a0e4871ad99f68fe7c67864","b1f9c2bb18232dd55c41e0528227a2a82ecdd151","37903eb6b345c31cc1ad0967dc6ff8a541a16b90","9f70f6b78199251bb1213c6f3e5e00df8fc0572b"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},editingEffects:{category:lm.LJ.editingEffects,resourceType:lu.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>(0,s.jsx)(dC,{imageSource:"6ce1bcbe88b8f4f202e4307f0de131f8fb6cf61e",isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},fileOrganization:{category:lm.LJ.fileOrganization,resourceType:lu.L.BrowseResourceTypes.PLUGINS,size:"small",art:e=>(0,s.jsx)(dC,{imageSource:"2f1dc06209ebe620cb42e03cdb85da7ef9d9efa0",isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},presentationsLarge:{category:lm.LJ.presentations,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["0b6a114955ffe1c7a56e993323f212990422a525","0b8f4c7881cf0404fb105a1a680d74564205bc8c","b9d5d2df7dfd58ee29a44ecd72c83dbb6f6588c0","1eb484ec6df2d5d6874b92bae0b221fcbbebc79c","ed0ab6a51ef9b7275a9c123994db37df3188fee7","b616eae234aeefb2ad7c62d5f0bd84c843c3d86d"],isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"piper"},presentationsSmall:{category:lm.LJ.presentations,size:"small",art:e=>(0,s.jsx)(dO,{imageSources:["8b73180892c70a676c567732411c422e46f1fcae","4963a5a549df301b0ba8dbdc788c2c3424c4217e","e66ce4f446be08f56a330a9b39c5e9c72e6d3338"],isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"piper"},teamMeetingsLarge:{category:lm.LJ.teamMeetings,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["b7e05a6d6b76b8b377e5c4f0eb006dfe99e5875d","61830de70c1cec8ae28737c1f9c36ff5a7b07d18","742fbce6b78404d48f62e39a6be510dce4cae699","6405c322fda966de6578a55cb0c861d2fb774b84","d22c05d35fc088e4d089e814f42379b395b86e26","89d7df8b21116cbf283086a5056f305de01f91a4"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},teamMeetingsSmall:{category:lm.LJ.teamMeetings,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["742fbce6b78404d48f62e39a6be510dce4cae699","b7e05a6d6b76b8b377e5c4f0eb006dfe99e5875d"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},resumes:{category:lm.LJ.resumes,size:"small",art:e=>(0,s.jsx)(dA,{imageSource:"ba7504eb5c18069ca8c0455768fcf46c6bc4ee52",containerStyle:"sheetStyle",isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},strategicPlanning:{category:lm.LJ.strategicPlanning,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["3b212f16a905705728bf1dc973fa25001844b4bc","28c8e9a68927b0f9f55a41efd6df2251b8823eea"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},uiKits:{category:lm.LJ.uiKits,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["52e2511dc978b4b6aad9ad3799dd2fb75139cb2a","fc614bae349b646e1ea8ffe00e5b6e723ec9f13f"],isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},visualAssets:{category:lm.LJ.visualAssets,size:"large",art:e=>(0,s.jsx)(dC,{imageSource:"a9b2bb97699222fc52104170706120e06c6f971a",isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},widgets:{category:lm.LJ.whiteboarding,resourceType:lu.L.BrowseResourceTypes.WIDGETS,size:"large",art:e=>(0,s.jsx)(dA,{imageSource:"c14d817322fb0a630ceb76de93d5669b91e6bce1",containerStyle:"widgetCardStyle",isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"},wireframes:{category:lm.LJ.wireframes,size:"large",art:e=>(0,s.jsx)(dS,{imageSources:["4c787218f1399d78e7035575c6041d05b7c51abf","4a119c09ddc4e5a598728b3121b81e7df52f30f0","d380df1c57eb9d1c6d963673d2c718d515b69e9e","c04936ee5bd33d718c78e37fd42e4f8dbe058f35","c8e4c4f9dd45d76797e4c8f1a7515fbbb0f49a61","448ad0f1bc089057cf63f983b7fe865ae1395a56"],isHovered:e}),backgroundColor:dN.Tj.bgBrandTertiary,brand:"design"},workshopTemplates:{category:lm.LJ.workshopTemplates,size:"small",art:e=>(0,s.jsx)(dk,{imageSources:["c6bfc0d07a504cbb9daa39452cb5d1afa29f4e36","6899629efb49a4e0cb289017a2a6c8380e494fae"],isHovered:e}),backgroundColor:dN.Tj.bgFigjamTertiary,brand:"seascape"}};function dD({size:e,title:t,description:r,art:a,backgroundColor:n,brand:o,route:l,userJobTitle:d}){let[c,m]=(0,i.useState)(!1);return(0,s.jsx)(nf.J,{brand:o,children:(0,i.createElement)(sF.E,{"aria-label":t,...{0:{className:"x1n2onr6 x1lliihq x1hd2rbs x1mxnbhz x5yr21d xb3r6kr x1yc453h xmkeg23 x1y0btm7 x1co876m x3sae66 xhnlq4v x1iyjqo2"},2:{className:"x1n2onr6 x1lliihq x1hd2rbs x1mxnbhz x5yr21d xb3r6kr x1yc453h xmkeg23 x1y0btm7 x1co876m x3yx74t xhnlq4v x1iyjqo2"},1:{className:"x1n2onr6 x1lliihq x1hd2rbs x1mxnbhz x5yr21d xb3r6kr x1yc453h xmkeg23 x1y0btm7 x1co876m x3sae66 x4pfjvb xgyuaek"},3:{className:"x1n2onr6 x1lliihq x1hd2rbs x1mxnbhz x5yr21d xb3r6kr x1yc453h xmkeg23 x1y0btm7 x1co876m x3yx74t x4pfjvb xgyuaek"}}[!!o<<1|!("large"!==e)<<0],onClick:()=>{l&&((0,l8.rC)(d,l.href),u.Ay.push(l.href))},htmlAttributes:{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1)},style:{backgroundColor:n},key:t},(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x10l6tqk x13vifvy x1nejdyq x1p5oq8j x8e5d8q x18d9i69 xd3ty66",children:[(0,s.jsx)("div",{className:"x1l3kr2 x1mnx3iv xk50ysn xeefxrb xdjnq2g",children:t}),(0,s.jsx)("div",{className:"x1n0bwc9",children:r})]}),a(c))})}function dM(){let e=(0,dI.w)(),t=function(e){let t={designer:["visualAssets","presentationsSmall","editingEffects"],developer:["diagramming","development","teamMeetingsSmall"],"product-manager":["widgets","presentationsSmall","teamMeetingsSmall"],marketer:["brainstorming","cardTemplates","resumes"],researcher:["diagramming","teamMeetingsSmall","strategicPlanning"],education:["classroomActivities","designTutorials","workshopTemplates"],"ux-writer":["uiKits","teamMeetingsLarge","fileOrganization"],data:["dataTemplates","presentationsLarge","strategicPlanning"],other:["wireframes","presentationsSmall","uiKits"],unknown:["wireframes","presentationsSmall","uiKits"]};return(t[e]||t.unknown).map(e=>dF[e]).filter(e=>void 0!==e)}(e),r=lv(t.map(e=>({key:e.category,category:e.category,resource_type:e.resourceType||void 0,editor_type:e.editorType||void 0}))),a=t.map(t=>({...function(e){switch(e){case lm.LJ.brainstorming:return{title:(0,S.t)("categories.brainstorming"),description:(0,S.t)("community.resource_hub.category_description.brainstorming")};case lm.LJ.cardTemplates:return{title:(0,S.t)("community.resource_hub.featured_categories.invites_templates"),description:(0,S.t)("community.resource_hub.category_description.card_templates")};case lm.LJ.classroomActivities:return{title:(0,S.t)("community.resource_hub.featured_categories.classroom_activities"),description:(0,S.t)("community.resource_hub.category_description.classroom_activities")};case lm.LJ.dataTemplates:return{title:(0,S.t)("community.footer.data_templates"),description:(0,S.t)("community.resource_hub.category_description.data_templates")};case lm.LJ.designTutorials:return{title:(0,S.t)("community.resource_hub.featured_categories.design_tutorials"),description:(0,S.t)("community.resource_hub.category_description.design_tutorials")};case lm.LJ.development:return{title:(0,S.t)("community.resource_hub.featured_categories.plugins_for_development"),description:(0,S.t)("community.resource_hub.category_description.development")};case lm.LJ.diagramming:return{title:(0,S.t)("categories.diagramming"),description:(0,S.t)("community.resource_hub.category_description.diagramming")};case lm.LJ.editingEffects:return{title:(0,S.t)("community.resource_hub.featured_categories.plugins_for_editing_and_effects"),description:(0,S.t)("community.resource_hub.category_description.editing_effects")};case lm.LJ.fileOrganization:return{title:(0,S.t)("community.resource_hub.featured_categories.plugins_for_file_organization"),description:(0,S.t)("community.resource_hub.category_description.file_organization")};case lm.LJ.presentations:return{title:(0,S.t)("categories.presentations"),description:(0,S.t)("community.resource_hub.category_description.presentations")};case lm.LJ.resumes:return{title:(0,S.t)("categories.resume_templates"),description:(0,S.t)("community.resource_hub.category_description.resumes")};case lm.LJ.strategicPlanning:return{title:(0,S.t)("categories.strategic_planning"),description:(0,S.t)("community.resource_hub.category_description.strategic_planning")};case lm.LJ.teamMeetings:return{title:(0,S.t)("community.resource_hub.featured_categories.team_meetings"),description:(0,S.t)("community.resource_hub.category_description.team_meetings")};case lm.LJ.uiKits:return{title:(0,S.t)("categories.ui_kits"),description:(0,S.t)("community.resource_hub.category_description.ui_kits")};case lm.LJ.visualAssets:return{title:(0,S.t)("community.resource_hub.featured_categories.assets"),description:(0,S.t)("community.resource_hub.category_description.visual_assets")};case lm.LJ.whiteboarding:return{title:(0,S.t)("categories.widgets"),description:(0,S.t)("community.resource_hub.category_description.widgets")};case lm.LJ.wireframes:return{title:(0,S.t)("categories.wireframes"),description:(0,S.t)("community.resource_hub.category_description.wireframes")};case lm.LJ.workshopTemplates:return{title:(0,S.t)("community.resource_hub.featured_categories.workshop_templates"),description:(0,S.t)("community.resource_hub.category_description.workshop_templates")};default:(0,I.xb)(e)}}(t.category),size:t.size,art:t.art,backgroundColor:t.backgroundColor,brand:t.brand,route:r[t.category],userJobTitle:e})),n=(0,i.useRef)(null),[o,l]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=new ResizeObserver(e=>{l(e[0]?.contentRect.width??0)});return n.current&&(l(n.current.clientWidth),e.observe(n.current)),()=>{e.disconnect()}},[n]);let d=(0,i.useMemo)(()=>{let e=[],t=0;return a.forEach(r=>{let a="large"===r.size?420:210;t+a<=o&&(e.push(r),t+=a)}),e},[o,a]);return(0,s.jsx)(dP,{header:(0,S.t)("community.resource_hub.featured_categories"),content:(0,s.jsx)("div",{className:"x78zum5 x1q0g3np x1665zp3 xc6p2dh",ref:n,children:d.map(e=>(0,s.jsx)(dD,{...e},e.title))}),showSeeMore:!1})}var dU=r(320208),dB=(e=>(e.BRAINSTORMING="brainstorming",e.COOPER_TEMPLATE="cooperTemplate",e.DATA_TEMPLATE="dataTemplate",e.DESIGN_TEMPLATE="designTemplate",e.DESIGN_TOOLS="designTools",e.DIAGRAMMING="diagramming",e.EDUCATION="education",e.FIGJAM_TEMPLATE="figJamTemplate",e.FUN_AND_GAMES="funAndGames",e.MAKE_TEMPLATE="makeTemplate",e.PRESENTATION_TEMPLATE="presentationTemplate",e.SITE_TEMPLATE="siteTemplate",e.STRATEGIC_PLANNING="strategicPlanning",e.UI_KITS="uiKits",e.WEBSITE_TEMPLATE="websiteTemplate",e.WHITEBOARDING="whiteboarding",e.WIREFRAMES="wireframes",e))(dB||{});let dG=(0,aA._)(function({sizingInfo:e}){let t=(function(e){let t={brainstorming:{key:"brainstorming",header:(0,S.t)("categories.brainstorming"),categoryForQuery:lm.LJ.brainstorming,categorySlug:lm.LJ.brainstorming,resourceType:[dT.vt.FIGJAM_TEMPLATE]},cooperTemplate:{key:"cooperTemplate",header:(0,S.t)("categories.social_media_templates"),categoryForQuery:lm.LJ.socialMediaTemplates,categorySlug:lm.LJ.socialMediaTemplates,resourceType:[dT.vt.COOPER_TEMPLATE_FILE],resourceEditorType:dE.qq.COOPER,apiEditorType:lZ.k.Editors.COOPER},dataTemplate:{key:"dataTemplate",header:(0,S.t)("community.footer.data_templates"),categoryForQuery:lm.LJ.dataTemplates,categorySlug:lm.LJ.dataTemplates,resourceType:[dT.vt.DESIGN_TEMPLATE]},designTemplate:{key:"designTemplate",header:(0,S.t)("categories.design_templates"),categorySlug:lm.LJ.designTemplates,resourceType:[dT.vt.DESIGN_TEMPLATE]},designTools:{key:"designTools",header:(0,S.t)("community.view_bar.plugins"),categorySlug:lm.LJ.designTools,resourceType:[dT.vt.PLUGIN],isPlugin:!0},diagramming:{key:"diagramming",header:(0,S.t)("categories.diagramming"),categoryForQuery:lm.LJ.diagramming,categorySlug:lm.LJ.diagramming,resourceType:[dT.vt.FIGJAM_TEMPLATE]},education:{key:"education",header:(0,S.t)("categories.education"),categoryForQuery:lm.LJ.education,categorySlug:lm.LJ.education,resourceType:[dT.vt.DESIGN_TEMPLATE]},figJamTemplate:{key:"figJamTemplate",header:(0,S.t)("community.resource_hub.figjam_templates"),categorySlug:lm.LJ.whiteboarding,resourceType:[dT.vt.FIGJAM_TEMPLATE],resourceEditorType:dE.qq.WHITEBOARD,apiEditorType:lZ.k.Editors.FIGJAM},funAndGames:{key:"funAndGames",header:(0,S.t)("categories.fun_games"),categoryForQuery:lm.LJ.funGames,categorySlug:lm.LJ.funGames,resourceType:[dT.vt.WIDGET],apiResourceType:lu.L.BrowseResourceTypes.WIDGETS},makeTemplate:{key:"makeTemplate",header:(0,S.t)("community.resource_hub.make_shelf_header"),categoryForQuery:lm.LJ.make,categorySlug:lm.LJ.make,resourceType:[dT.vt.FIGMAKE_TEMPLATE]},presentationTemplate:{key:"presentationTemplate",header:(0,S.t)("community.footer.presentations"),categoryForQuery:lm.LJ.presentations,categorySlug:lm.LJ.presentations,resourceType:[dT.vt.SLIDE_TEMPLATE],resourceEditorType:dE.qq.SLIDES,apiEditorType:lZ.k.Editors.SLIDES},siteTemplate:{key:"siteTemplate",header:(0,S.t)("categories.website_templates"),categoryForQuery:lm.LJ.websiteTemplates,categorySlug:lm.LJ.websiteTemplates,resourceType:[dT.vt.SITE_TEMPLATE],resourceEditorType:dE.qq.SITES,apiEditorType:lZ.k.Editors.SITES},strategicPlanning:{key:"strategicPlanning",header:(0,S.t)("categories.strategic_planning"),categoryForQuery:lm.LJ.strategicPlanning,categorySlug:lm.LJ.strategicPlanning,resourceType:[dT.vt.FIGJAM_TEMPLATE]},uiKits:{key:"uiKits",header:(0,S.t)("categories.ui_kits"),categoryForQuery:lm.LJ.uiKits,categorySlug:lm.LJ.uiKits,resourceType:[dT.vt.DESIGN_TEMPLATE,dT.vt.UI_KIT]},websiteTemplate:{key:"websiteTemplate",header:(0,S.t)("categories.website_templates"),categoryForQuery:lm.LJ.websiteTemplates,categorySlug:lm.LJ.websiteTemplates,resourceType:[dT.vt.DESIGN_TEMPLATE],resourceEditorType:dE.qq.DESIGN},whiteboarding:{key:"whiteboarding",header:(0,S.t)("categories.whiteboarding"),categoryForQuery:lm.LJ.whiteboarding,categorySlug:lm.LJ.whiteboarding,resourceType:[dT.vt.FIGJAM_TEMPLATE]},wireframes:{key:"wireframes",header:(0,S.t)("categories.wireframes"),categoryForQuery:lm.LJ.wireframes,categorySlug:lm.LJ.wireframes,resourceType:[dT.vt.DESIGN_TEMPLATE]}},r={designer:["siteTemplate","uiKits","figJamTemplate","designTools","cooperTemplate"],developer:["siteTemplate","wireframes","whiteboarding","uiKits","cooperTemplate"],"product-manager":["brainstorming","strategicPlanning","dataTemplate","uiKits","siteTemplate"],marketer:["cooperTemplate","presentationTemplate","strategicPlanning","uiKits","whiteboarding"],researcher:["brainstorming","presentationTemplate","dataTemplate","uiKits","cooperTemplate"],education:["education","presentationTemplate","funAndGames","uiKits","siteTemplate"],"ux-writer":["brainstorming","presentationTemplate","wireframes","cooperTemplate","siteTemplate"],data:["diagramming","brainstorming","uiKits","siteTemplate","cooperTemplate"],other:["brainstorming","cooperTemplate","designTools","uiKits","siteTemplate"],unknown:["brainstorming","cooperTemplate","designTools","uiKits","siteTemplate"]},a=r[e]||r.unknown||[];return(0,ll.l$)()&&a.unshift("makeTemplate"),a.map(e=>t[e]).filter(e=>void 0!==e)})((0,dI.w)()).map(e=>({key:e.key,header:e.header,categoryForQuery:e.categoryForQuery,categorySlug:e.categorySlug,resourceType:e.resourceType,resourceEditorType:e.resourceEditorType,apiResourceType:e.apiResourceType,apiEditorType:e.apiEditorType,isPlugin:e.isPlugin}));return(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d x1665zp3",children:t.map((t,r)=>(0,s.jsxs)("div",{children:[2===r&&(0,s.jsx)("div",{className:"x1hq5gj4",children:(0,s.jsx)(dM,{})}),t.isPlugin?(0,s.jsx)(dz,{header:t.header,categorySlug:t.categorySlug},t.key):(0,s.jsx)(dW,{header:t.header,categoryForQuery:t.categoryForQuery,categorySlug:t.categorySlug,resourceType:t.resourceType,resourceEditorType:t.resourceEditorType,apiResourceType:t.apiResourceType,apiEditorType:t.apiEditorType,sizingInfo:e},t.key)]},r))})},"CommunityCategorySections");function dW({header:e,categoryForQuery:t,categorySlug:r,resourceType:a,resourceEditorType:n,apiResourceType:o,apiEditorType:l,sizingInfo:d}){let{resources:c,loading:u}=dv({resourceCount:d.numberOfTiles,resourceType:a,editorType:n,category:t,caller:dw.z.RESOURCE_HUB,includeContent:!1,boostCategoryShelf:r===lm.LJ.uiKits}),m=lv([{key:"categoryRoute",category:r,resource_type:o,editor_type:l}]),{trackResourceImpression:_}=(0,dj.GS)(),p=(0,i.useCallback)((e,t)=>{t&&_(e)},[_]);return u||c&&0!==c.length?(0,s.jsx)(dP,{header:e,route:m.categoryRoute,content:(0,s.jsx)(dU.T,{resources:(c&&c.slice(0,d.numberOfTiles))??[],loadingTileCount:d.numberOfTiles,isLoading:u,resourceImpressionTracking:p}),showSeeMore:!0}):null}function dz({header:e,categorySlug:t}){let{resources:r,loading:a}=dv({resourceCount:aN.l_,resourceType:[dT.vt.PLUGIN],category:t,caller:dw.z.RESOURCE_HUB,includeContent:!0}),{trackResourceImpression:n}=(0,dj.GS)(),o=(0,i.useCallback)((e,t)=>{t&&n(e)},[n]),l=lv([{key:"pluginsRoute",category:t,resource_type:lu.L.BrowseResourceTypes.PLUGINS}]);return a||r&&0!==r.length?(0,s.jsx)(dP,{header:e,route:l.pluginsRoute,content:(0,s.jsx)(df.M,{plugins:(r??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:o,isOrgTeamBrowsing:!1,isLoading:a,loadingRowCount:aN.l_}),showSeeMore:!0}):null}function dV({currentOrgId:e}){return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_COMMUNITY_TAB_DISABLED_PAGE,properties:{orgId:e},children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k",children:[(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x155cy4d x1yf7rl7 x38tqe7 xj3b58b",children:(0,s.jsx)(lc.oW,{className:"x193iq5w xl1xv1r",src:(0,oK.ck)("8b7c6fb3e353c1972267681e37a56765b96f5b3c"),alt:(0,S.t)("community.resource_hub.your_admins_have_restricted_access"),loading:"lazy"})}),(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1665zp3 xycev2y xo3t2mw x6s0dn4 x1nhvcw1",children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid",children:(0,S.t)("community.resource_hub.your_admins_have_restricted_access")}),(0,s.jsx)("div",{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid",children:(0,S.tx)("community.resource_hub.looking_for_inspiration_you_can",{link:(0,s.jsx)(su.N,{href:"/community",newTab:!0,children:(0,S.t)("community.resource_hub.community_link")})})})]})}),(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xjwf9q1 x98rzlu"})]})})}var dH=r(621450);function d$({currentOrgId:e,isCommunityTabDisabledForOrg:t}){let r=(0,dH.X)();return t?(0,s.jsx)("div",{className:"xijc0j3",children:(0,s.jsx)(dV,{currentOrgId:e})}):(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_COMMUNITY_RESOURCES_HOME_PAGE,children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d x1665zp3",ref:r.sizeRef,children:[(0,s.jsx)(lJ,{tab:aN.N$.COMMUNITY}),(0,s.jsx)(dp,{}),(0,s.jsx)(dG,{sizingInfo:r})]})})}var dq=r(596224),dY=r(792028);function dK(e,t){let r={orgId:e??void 0,teamId:t??void 0,isInternal:!0},{trackResourceImpression:a,flushAndResetResourceImpressions:s}=(0,dj.GS)({extraProperties:r}),{trackResourceImpression:n,flushAndResetResourceImpressions:o}=(0,dj.r4)({extraProperties:r}),{trackResourceImpression:l,flushAndResetResourceImpressions:d}=(0,dj.FD)({extraProperties:r});return{onIntersectionChange:(0,i.useCallback)((e,t)=>{t&&((0,dq.o_)(e)?n(e):(0,dq.NC)(e)?a(e):(0,dY.I0)(e)&&l(e))},[a,n,l]),flushAndResetImpressions:(0,i.useCallback)(()=>{s(),o(),d()},[s,o,d])}}var dJ=r(887555),dQ=r(977710),dX=r(221602),dZ=r(734477),d0=r(574822),d1=r(915707),d4=r(172996);let d2=new Set([eU._Y.COOPER,eU._Y.SLIDES,eU._Y.WHITEBOARD]),d5=new Set([eU._Y.COOPER,eU._Y.SLIDES]);function d6({newFileFrom:e,contextClicked:t,forceOpenNewTab:r}){let a=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:s,status:i}=(0,dX.nt)(a),o=(0,dZ.h)(s),l=(0,eK.T5)("useTemplatesOmnicreateMenuItemsProps"),d=o.filter(({editorType:e})=>{switch(l.data?.tier){case eU.Ag.STUDENT:case eU.Ag.PRO:return d5.has(e);case eU.Ag.ORG:case eU.Ag.ENTERPRISE:return d2.has(e);case eU.Ag.STARTER:default:return!0}}),[c,u]=(0,ec.fp)(d4.bW),m=u({showOrgTemplateView:!0}),_=(0,d1.E)({isDraftsFolder:!0,newFileFrom:e,forceOpenNewTab:r}),p="loading"===i||"loading"===l.status;return{newFiles:d.map(({editorType:e,canCreate:r})=>(0,d0.p)({editorType:e,isDisabled:!r,isLoading:p,onClick:_({editorType:e,contextClicked:t,newFileDataLocalStorageKey:m})})),import:null}}var d3=r(731676);function d7({planTier:e}){let t;let{color:r}=(0,np.G)();t=e===eU.Ag.ORG||e===eU.Ag.ENTERPRISE?"dark"===r?(0,oK.ck)("156640b467fc94700549db25a70310582e3ef24b"):(0,oK.ck)("923655d3d7ad0e0261946e6b8175911e0daceff3"):"dark"===r?(0,oK.ck)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,oK.ck)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596");let a=d6({newFileFrom:o7.f6.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,contextClicked:r9.e0.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,forceOpenNewTab:!0});return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_FEW_TEMPLATES_UPSELL,children:(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np xh8yej3 xeq9io7 xgqmno8 xmkeg23 xbsl7fq x1co876m",children:[(0,s.jsx)("div",{className:"x3nfvp2 x13a6bvl xgqmno8 xb3r6kr",children:(0,s.jsx)(lc.oW,{className:"xnq0rdo x15elv7b x1sy10c2 x1d6c7ev xl1xv1r",src:t,alt:(0,S.t)("community.resource_hub.get_more_done"),loading:"lazy"})}),(0,s.jsx)("div",{className:"x1iyjqo2 x1264ykn xmcgfsh"}),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x1665zp3 x1d3hk7y x1cy8zhl x1dcn8h2 x1sai7j1 xuzjt68 x1uhho1l x1n2onr6",children:[(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x167g77z xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:(0,S.t)("community.resource_hub.get_more_done")}),(0,s.jsx)("div",{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,S.t)("community.resource_hub.create_custom_templates_to_add")})]}),(0,s.jsx)(d3.a,{menuItems:a})]})]})})}function d8({planTier:e,isTemplatesPublishingDisabledForOrg:t}){let r;let a=(0,aI.Om)(),i=(0,aI.tv)(),{color:n}=(0,np.G)();r=e===eU.Ag.ORG||e===eU.Ag.ENTERPRISE?t?(0,oK.ck)("ceafb20933e03362e3d3f6c8191e892c8321d3db"):"dark"===n?(0,oK.ck)("156640b467fc94700549db25a70310582e3ef24b"):(0,oK.ck)("923655d3d7ad0e0261946e6b8175911e0daceff3"):"dark"===n?(0,oK.ck)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,oK.ck)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596");let o=d6({newFileFrom:o7.f6.RESOURCE_HUB_NO_RESOURCES_UPSELL,contextClicked:r9.e0.RESOURCE_HUB_NO_RESOURCES_UPSELL,forceOpenNewTab:!0}),l=new aI.au({...a,tab:aN.N$.COMMUNITY},i),d=t?(0,S.t)("community.resource_hub.template_publishing_has_been_disabled"):(0,S.t)("community.resource_hub.streamline_your_work_with_custom");return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_NO_RESOURCES_UPSELL,children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k",children:[(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c",children:(0,s.jsx)(lc.oW,{className:"x193iq5w xl1xv1r xetamn0",src:r,alt:d,loading:"lazy"})}),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xo3t2mw x6s0dn4",children:[(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid",children:d}),(0,s.jsx)("div",{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid",children:(0,S.t)("community.resource_hub.create_templates_to_keep_up")})]}),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s",children:[!t&&(0,s.jsx)(d3.a,{menuItems:o}),(0,s.jsx)(r7.o3,{className:"x1quhyk7 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid x1ypdohk",to:l.to,trackingEventName:l8.HH.RESOURCE_HUB_BROWSE_COMMUNITY_CLICKED,trackingProperties:{route:l.pathname},children:(0,S.t)("community.resource_hub.browse_resources_from_community")})]})]})]})})}var d9=r(483200),ce=r(745529);function ct({teamId:e}){let t=(0,n.wA)(),r=(0,aI.Om)(),a=(0,aI.tv)(),{color:i}=(0,np.G)(),o=new aI.au({...r,tab:aN.N$.COMMUNITY},a);return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_UPGRADE_UPSELL,properties:{planTier:eU.Ag.STARTER,teamId:e},children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k",children:[(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xwbyk0q x2lah0s xk1l47c",children:(0,s.jsx)(lc.oW,{className:"x193iq5w xl1xv1r xetamn0",src:"dark"===i?(0,oK.ck)("199fc5fd43ab7b8cdb2208db7a7a1c8b4f039119"):(0,oK.ck)("363ceafa11ccd8ba7b2d9fe2b9aba1f8f8477596"),alt:(0,S.t)("community.resource_hub.custom_templates_for_your_team"),loading:"lazy"})}),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xo3t2mw x6s0dn4",children:[(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid",children:(0,S.t)("community.resource_hub.custom_templates_for_your_team")}),(0,s.jsx)("div",{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid",children:(0,S.t)("community.resource_hub.upgrade_to_the_professional_plan")})]}),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)(ed.$z,{onClick:()=>{t(d9.WX({teamId:e,entryPoint:(0,ce.c)(aD.C6.RESOURCE_HUB),openInNewTab:!1}))},children:(0,S.t)("community.resource_hub.upgrade_to_professional")}),(0,s.jsx)(r7.o3,{className:"x1quhyk7 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid x1ypdohk",to:o.to,trackingEventName:l8.HH.RESOURCE_HUB_BROWSE_COMMUNITY_CLICKED,children:(0,S.t)("community.resource_hub.browse_resources_from_community")})]})]})]})})}var cr=r(159134),ca=r(520843);function cs({resourceTypeSlugs:e}){return(0,s.jsx)("div",{className:"x78zum5 x167g77z x1a02dak",children:e.map(e=>(0,i.createElement)("div",{className:"x167g77z x4vwp2a",key:e},(0,s.jsx)(ci,{resourceTypeSlug:e})))})}function ci({resourceTypeSlug:e}){let t=(0,aI.Om)(),r=(0,aI.tv)(),a=(0,eG.i_)(e),i=function(e){switch(e){case lr.M.PLUGINS:return(0,s.jsx)(dt.x,{});case lr.M.FIGJAM_TEMPLATES:return(0,s.jsx)(dl.A,{});case lr.M.WIDGETS:return(0,s.jsx)(cr.C,{});case lr.M.SLIDE_TEMPLATES:return(0,s.jsx)(da.o,{});case lr.M.LIBRARIES:break;case lr.M.COOPER_TEMPLATES:return(0,s.jsx)(ca.h,{});case lr.M.FIGMAKE_TEMPLATES:return(0,s.jsx)(dc.s,{});case lr.M.RECENTLY_ADDED_TEMPLATES:break;default:(0,I.S9)(e,null)}return null}(e);return(0,s.jsx)(sF.E,{"aria-label":a,className:G()(l4,l1,l6),onClick:()=>{let a=new lr.U({...t,resourceTypeSlug:e},r);(0,l8.ng)(e),u.Ay.push(a.href)},children:(0,s.jsxs)("span",{className:l5,children:[i,(0,s.jsx)("span",{className:l3,children:a})]})})}function cn({planTier:e,isTemplatesPublishingDisabledForOrg:t,currentOrgId:r,currentTeamId:a}){let i;let n=(0,dH.X)(),{onIntersectionChange:o}=dK(r??void 0,a??void 0),d=(0,dQ.LU)(e,a??null,!!t),c=(0,dQ.GZ)(e,r??null,!!t),{[eU._Y.COOPER]:{templates:u,isLoading:m,hasMoreTemplates:_},[eU._Y.WHITEBOARD]:{templates:p,isLoading:f,hasMoreTemplates:x},[eU._Y.SLIDES]:{templates:g,isLoading:h,hasMoreTemplates:b},[eU._Y.FIGMAKE]:{templates:v,isLoading:y,hasMoreTemplates:j}}=r?c:d,{resources:w,loading:T,hasNextPage:E}=(0,dQ.wO)({limit:aN.Fx,caller:dw.z.RESOURCE_HUB,orgId:r,includeContent:!0}),{resources:I,loading:N,hasNextPage:S}=(0,dQ.GO)({resourceType:dT.vt.WIDGET,orgId:r,teamId:a,planTier:e,sortBy:dJ.e.Browse.ALL_TIME,isTemplatesPublishingDisabledForOrg:!!t});if(m||f||h||y||T||N)return(0,s.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 xg87l8a",ref:n.sizeRef,children:(0,s.jsx)(nc.k,{})});let k=(0,l.kc)().cooper,C=(0,l.kc)().make_template_discovery||(0,l.kc)().make_template_discovery_plan_key,A=(w??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),R=[];if([...C?[{resources:v,slug:lr.M.FIGMAKE_TEMPLATES}]:[],...k?[{resources:u,slug:lr.M.COOPER_TEMPLATES}]:[],{resources:p,slug:lr.M.FIGJAM_TEMPLATES},{resources:g,slug:lr.M.SLIDE_TEMPLATES},{resources:A,slug:lr.M.PLUGINS},{resources:I,slug:lr.M.WIDGETS}].forEach(({resources:e,slug:t})=>{e&&e.length>0&&R.push(t)}),e===eU.Ag.STARTER&&a)return(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1665zp3 xijc0j3",ref:n.sizeRef,children:(0,s.jsx)(ct,{teamId:a})});let O=0===A.length&&0===I.length,P=u.length+p.length+g.length+v.length;if(t&&O||0===P&&O)return(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1665zp3 xijc0j3",ref:n.sizeRef,children:(0,s.jsx)(d8,{planTier:e,isTemplatesPublishingDisabledForOrg:t})});if(!t){if(0===P)i=(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xw7yly9",children:(0,s.jsx)(d7,{planTier:e})});else if(P<4){let t=[...v,...u,...p,...g];i=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(co,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:t??[]}),(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xw7yly9",children:(0,s.jsx)(d7,{planTier:e})})]})}else i=(0,s.jsxs)(s.Fragment,{children:[C&&(0,s.jsx)(cu,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:v,hasNextPage:j}),k&&(0,s.jsx)(cl,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:u,hasNextPage:_}),(0,s.jsx)(cc,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:p,hasNextPage:x}),(0,s.jsx)(cd,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:g,hasNextPage:b}),1===R.length&&(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xw7yly9",children:(0,s.jsx)(d7,{planTier:e})})]})}return(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1665zp3",ref:n.sizeRef,children:(0,s.jsxs)(r7.fu,{name:r9.e0.RESOURCE_HUB_INTERNAL_RESOURCES_HOME_PAGE,children:[(0,s.jsx)(lJ,{tab:aN.N$.INTERNAL}),R.length>1&&(0,s.jsx)("div",{className:"x78zum5 x1qughib x6s0dn4 x1a02dak xou54vl",children:(0,s.jsx)(cs,{resourceTypeSlugs:R})}),i,(0,s.jsx)(cm,{resourceImpressionTracking:o,resources:A??[],hasNextPage:E}),(0,s.jsx)(c_,{resourceImpressionTracking:o,numberOfTiles:n.numberOfTiles,resources:I??[],hasNextPage:S})]})})}function co({resourceImpressionTracking:e,numberOfTiles:t,resources:r}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.RECENTLY_ADDED_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:!1})}function cl({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.COOPER_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a})}function cd({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.SLIDE_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a})}function cc({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.FIGJAM_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a})}function cu({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.FIGMAKE_TEMPLATES,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a})}function cm({resourceImpressionTracking:e,resources:t,hasNextPage:r}){let a=(0,aI.Om)(),i=(0,aI.tv)();return t&&0!==t.length?(0,s.jsx)(dP,{header:(0,eG.i_)(lr.M.PLUGINS),route:new lr.U({...a,resourceTypeSlug:lr.M.PLUGINS},i),content:(0,s.jsx)(df.M,{plugins:t,onIntersectionChange:e,isOrgTeamBrowsing:!1,isLoading:!1,loadingRowCount:aN.Fx,layoutV1:"twoColumn"}),showSeeMore:!!r}):null}function c_({resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a}){return(0,s.jsx)(cp,{resourceTypeSlug:lr.M.WIDGETS,resourceImpressionTracking:e,numberOfTiles:t,resources:r,hasNextPage:a})}function cp({resourceTypeSlug:e,resources:t,hasNextPage:r,resourceImpressionTracking:a,numberOfTiles:i}){let n=(0,aI.Om)(),o=(0,aI.tv)();if(0===t.length)return null;let l=!!r||t.length>i;return(0,s.jsx)(dP,{header:(0,eG.i_)(e),route:new lr.U({...n,resourceTypeSlug:e},o),content:(0,s.jsx)(dU.T,{resources:t.slice(0,i),resourceImpressionTracking:a}),showSeeMore:l})}let cf="resource_hub--pageContainer--0k53S",cx=(0,aA._)(function({planTier:e,isTemplatesPublishingDisabledForOrg:t,currentOrgId:r,currentTeamId:a,isCommunityTabDisabledForOrg:i}){let n;let{tab:o}=(0,aE.RA)(aI.au);switch(o){case aN.N$.INTERNAL:n=(0,s.jsx)(cn,{planTier:e,currentOrgId:r??void 0,currentTeamId:a??void 0,isTemplatesPublishingDisabledForOrg:t});break;case aN.N$.COMMUNITY:n=(0,s.jsx)(d$,{currentOrgId:r??void 0,isCommunityTabDisabledForOrg:i});break;default:(0,I.xb)(o)}return(0,s.jsx)("div",{className:cf,children:n})},"HomePage");var cg=r(458834),ch=r(151240),cb=r(505899);function cv(){let{requestLoadMoreForTeam:e,status:t,...r}=(0,cb.F)(),{onIntersectionChange:a}=dK(void 0,void 0),n=(0,i.useRef)(null),o=(0,dH.X)();return(0,ch.X)({containerRef:o.sizeRef,targetRef:n,onIntersectionChange:()=>e}),(0,s.jsxs)("div",{ref:o.sizeRef,children:[(0,s.jsx)(dU.T,{resources:(r.templates||r.resources)??[],resourceImpressionTracking:a,isLoading:"loading"===t,loadingTileCount:3*o.numberOfTiles}),(0,s.jsx)("div",{ref:n})]})}var cy=r(470876);function cj({sizingInfo:e}){return(0,s.jsx)(s.Fragment,{children:Array.from({length:3},(t,r)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"xxk0z11 xrmyp2 x1jp4ehj xrxpjvj x1v8gsql x19y5rnk"}),(0,s.jsx)(dU.T,{resources:[],resourceImpressionTracking:o.lQ,isLoading:!0,loadingTileCount:e.numberOfTiles})]},`by-team-skeleton-${r}`))})}function cw({teamId:e,teamOrOrgName:t,resourcesOrTemplates:r,route:a,showSeeMore:i,lastTeamId:n,targetRef:o,onIntersectionChange:l}){return(0,s.jsx)("div",{ref:e===n?o:null,children:(0,s.jsx)(dP,{header:(0,S.t)("community.resource_hub.internal_tab",{orgOrTeamName:t??""}),route:a,content:(0,s.jsx)(dU.T,{resources:r,resourceImpressionTracking:l}),showSeeMore:i})},e??"org-section")}function cT({teamTemplates:e,sizingInfo:t,internalResourcesRoute:r,lastTeamId:a,targetRef:i,onIntersectionChange:n}){return(0,s.jsx)(s.Fragment,{children:e.map(e=>{let o=e.templates.slice(0,t.numberOfTiles).map(e=>e.template);return(0,s.jsx)(cw,{lastTeamId:a,onIntersectionChange:n,resourcesOrTemplates:o,route:r.copyWith({forTeamId:e.teamId},void 0),showSeeMore:e.templates.length>t.numberOfTiles,targetRef:i,teamId:e.teamId,teamOrOrgName:e.teamName??""},e.teamId)})})}function cE({teamResourceGroups:e,sizingInfo:t,internalResourcesRoute:r,lastTeamId:a,targetRef:i,onIntersectionChange:n,orgId:o}){return(0,s.jsx)(s.Fragment,{children:e.map(e=>(0,s.jsx)(cw,{lastTeamId:a,onIntersectionChange:n,resourcesOrTemplates:e.resources.slice(0,t.numberOfTiles),route:r.copyWith(e.team_id?{forOrg:!1,forTeamId:e.team_id}:{forOrg:!0,forTeamId:void 0},void 0),showSeeMore:e.resources.length>t.numberOfTiles,targetRef:i,teamId:e.team_id??null,teamOrOrgName:e.team_or_org_name},e.team_id??o))})}function cI({resourceType:e,planTier:t,orgId:r,internalResourcesRoute:a}){let n;let o=(0,dH.X)(),{onIntersectionChange:d}=dK(r??void 0,void 0),{isLoading:c,requestLoadMore:u,lastTeamId:m,noResults:_,...p}=function({orgId:e,resourceType:t,planTier:r}){let a=(0,l.kc)().cmty_templates_by_team_on_resources,s=(0,dq.J2)(t),[{data:i,status:n,hasNextPage:o,isFetchingNextPage:d},{fetchNextPage:c}]=(0,rh.IT)(dg.a.getResourcesByTeamPaginatedQuery({orgId:e,resourceType:[t],numResourcesPerTeam:aN.u8+1,includeContent:!0}),{enabled:a}),{teamTemplates:u,isLoading:m,requestLoadMoreForOrg:_}=(0,cy.e2)({orgId:e,areWorkspacesEnabled:r===eU.Ag.ENTERPRISE,numTemplatesPerTeam:aN.u8+1,editorType:s,filterByIds:null,enabled:!!s&&!a});return a?{isLoading:"loading"===n,teamResourceGroups:i??[],requestLoadMore:()=>o&&!d&&c(),lastTeamId:i?.[i.length-1]?.team_id??null,noResults:i?.length===0}:{isLoading:m,teamTemplates:u,requestLoadMore:_,lastTeamId:u?.[u.length-1]?.teamId??null,noResults:u?.length===0}}({orgId:r,resourceType:e,planTier:t}),f=(0,i.useRef)(null);return(0,ch.X)({containerRef:o.sizeRef,targetRef:f,targetKey:m,onIntersectionChange:u}),n=c?(0,s.jsx)(cj,{sizingInfo:o}):_?(0,s.jsx)(d8,{planTier:t}):"teamResourceGroups"in p?(0,s.jsx)(cE,{teamResourceGroups:p.teamResourceGroups,sizingInfo:o,internalResourcesRoute:a,lastTeamId:m,targetRef:f,orgId:r,onIntersectionChange:d}):(0,s.jsx)(cT,{teamTemplates:p.teamTemplates,sizingInfo:o,internalResourcesRoute:a,lastTeamId:m,targetRef:f,onIntersectionChange:d}),(0,s.jsx)(eo.P,{scrollContainerRef:o.sizeRef,children:(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xou54vl x1120s5i",children:n})})}function cN({planTier:e,currentOrgId:t,currentTeamId:r,fallbackRedirectRoute:a}){let n;let o=(0,l.kc)().cooper,d=(0,aE.a4)(lr.U),{resourceTypeSlug:c,forTeamId:m,forOrg:_}=d.params,{onIntersectionChange:p,flushAndResetImpressions:f}=dK(t??void 0,r??void 0);if(i.useEffect(()=>{f()},[c,f]),!c)return u.Ay.redirect(a.href),null;let x=(0,eG.W6)(c).filter(e=>o||e!==dT.vt.COOPER_TEMPLATE_FILE);return 0===x.length?null:(x[0]&&(0,eG.Pe)(e,x[0])&&(n=x[0]===dT.vt.PLUGIN?(0,s.jsx)(ck,{orgId:t??void 0,resourceImpressionTracking:p,planTier:e}):x[0]===dT.vt.WIDGET||c===lr.M.RECENTLY_ADDED_TEMPLATES?(0,s.jsx)(cS,{resourceTypes:x,orgId:t??void 0,teamId:r??void 0,resourceImpressionTracking:p,planTier:e}):r||_||m?(0,s.jsx)(cv,{}):(0,s.jsx)(cI,{resourceType:x[0],planTier:e,orgId:t??"",internalResourcesRoute:d})),(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_INTERNAL_RESOURCES_PAGE,children:(0,s.jsx)("div",{className:cf,children:n})}))}function cS({resourceTypes:e,orgId:t,teamId:r,resourceImpressionTracking:a,planTier:i}){let n=(0,dH.X)(),{resources:o,loading:l,hasNextPage:d,fetchNextPage:c,isFetchingNextPage:u}=(0,dQ.yH)({resourceTypes:e,limit:aN.u8,caller:dw.z.RESOURCE_HUB,orgId:t,teamId:r,includeContent:!0,sortBy:e.some(e=>[dT.vt.SLIDE_TEMPLATE,dT.vt.COOPER_TEMPLATE_FILE,dT.vt.FIGJAM_TEMPLATE].includes(e))?dJ.e.Browse.PUBLISHED_AT:dJ.e.Browse.ALL_TIME});if(!l&&(!o||0===o.length))return(0,s.jsx)(d8,{planTier:i});let m=n.numberOfTiles;return(0,s.jsxs)("div",{ref:n.sizeRef,children:[(0,s.jsx)(dU.T,{resources:o??[],isLoading:l,loadingTileCount:m*aN.Z_,resourceImpressionTracking:a}),(0,s.jsx)(cg.D,{useInfiniteScroll:!0,fetchNextPage:c,isFetchingNextPage:u,hasNextPage:!!d,containerRef:n.sizeRef})]})}function ck({orgId:e,resourceImpressionTracking:t,planTier:r}){let{resources:a,loading:n,hasNextPage:o,isFetchingNextPage:l,fetchNextPage:d}=(0,dQ.wO)({limit:10,caller:dw.z.RESOURCE_HUB,orgId:e,includeContent:!0}),c=(0,i.useRef)(null);return n||a&&0!==a.length?(0,s.jsxs)("div",{ref:c,children:[(0,s.jsx)(df.M,{plugins:(a??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),onIntersectionChange:t,isOrgTeamBrowsing:!1,isLoading:n}),(0,s.jsx)(cg.D,{useInfiniteScroll:!0,fetchNextPage:d,isFetchingNextPage:l,hasNextPage:!!o,containerRef:c})]}):(0,s.jsx)(d8,{planTier:r})}var cC=r(49606),cA=r(233972),cR=r(885893),cO=r(204826),cP=r(468650),cL=r(44625),cF=r(554849),cD=r(220146),cM=r(166115),cU=r(222714);function cB({text:e,isSelected:t,onClick:r}){return(0,s.jsx)(sF.E,{"aria-label":e,"aria-pressed":t,className:G()(l4,l1,"category_link_pill--tagPill--vb98J",t&&l2),onClick:r,children:(0,s.jsx)("span",{className:G()(l5,"category_link_pill--tagPillContent--tADeA"),children:e})})}function cG({links:e}){let t=(0,aE.a4)(lt.Dv),{tagSlug:r}=(0,aE.RA)(lt.Dv),a=i.useRef(null),[n,o]=i.useState(!1),[l,d]=i.useState(!1),c=(0,cU.l)(),[m,_]=i.useState(0),[p,f]=i.useState(0);return i.useLayoutEffect(()=>{if(!a.current)return;let t=Array.from(a.current.children).filter(e=>!e.className.includes("expansionButton"));if(l)t.every(e=>0===e.offsetTop)&&d(!1),a.current.scrollWidth>a.current.clientWidth&&(d(!1),_(-1));else if(a.current.scrollWidth>a.current.clientWidth){let e=a.current.clientWidth-83,r=Array.from(t).findIndex(t=>t.offsetLeft+t.offsetWidth>e)-1;if(_(r),r<0){o(!1);return}f(t[r].offsetLeft+t[r].offsetWidth+8),o(!0)}else _(e.length-1),o(!1)},[l,n,c,e]),(0,s.jsxs)("div",{...{0:{className:"x78zum5 x167g77z x193iq5w x6ikm8r xozqiw3"},1:{className:"x78zum5 x167g77z x193iq5w x6ikm8r x1a02dak"}}[!!l<<0],ref:a,children:[e.map(({to:e,translatedTitle:a,categorySlug:n,tagSlug:o},d)=>{let c=!!(o&&r&&o===r),_=l||d<=m;return(0,i.createElement)("div",{...{0:{className:"xkz0k9k"},1:{className:"xkz0k9k xlshs6z"}}[!_<<0],key:e},(0,s.jsx)(cB,{text:a,categoryTagSlug:o,onClick:()=>{if(c){let e=t.copyWith({categorySlug:n,tagSlug:void 0}).href;(0,l8.uo)(t.href,e),u.Ay.push(e)}else(0,l8.uo)(t.href,e),u.Ay.push(e)},isSelected:c}))}),(n||l)&&(0,s.jsx)(sF.E,{className:"expansion-button",className:"xuxw1ft x1n0bwc9 x1qgsegg xaatb59 xru40mv x1sxf85j x12ulsxz xdqyycr x1g40iwv xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x133fa97",style:n?{left:`${p}px`,position:"absolute"}:{},onClick:()=>{o(!n),d(!l)},children:n?(0,S.t)("community.shelves.show_more"):(0,S.t)("community.detail_view.show_less")})]})}function cW({category:e,showTags:t=!1}){let r=(0,aE.a4)(lt.Dv),a=(0,cM.S)(e.url_slug,lm.LJ);if(!a)return null;let i=(0,cD.m)(e,a,t,r);return(0,s.jsx)("div",{className:"x78zum5 x167g77z xozqiw3",children:(0,s.jsx)(cG,{links:i})})}function cz(){let e=(0,dH.X)(),t=(0,aE.a4)(lt.Dv);(0,lt.pj)(t);let r=t.params,{categorySlug:a,tagSlug:n}=r,[o,l]=i.useState(null),d=t.search,c=(0,dx.v_)(),[{data:m,status:_}]=(0,f.IT)((0,cF.Zp)({categorySlug:a,tagSlug:n,locale:c})),p="loading"===_;i.useEffect(()=>{m&&!p&&l(m)},[m,p]);let x=(0,cR.V)(r,d,aN.u8),{filterState:g,handleFilterUpdate:h}=(0,cO.v)(cL.gM.CATEGORY,{...x.filterState}),b=i.useCallback(e=>{let r=h(e);u.Ay.replace(t.copyWith({categorySlug:a,tagSlug:n},{resource_type:r.resourceType,editor_type:r.editorType,price:r.price,sort_by:r.sortBy}).href)},[h,t,a,n]);return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_CATEGORY,properties:{category:a,tag:n},children:(0,s.jsx)("div",{className:"x78zum5 xdt5ytf xou54vl x1gan7if",ref:e.sizeRef,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"x78zum5 x1qughib x1cy8zhl xozqiw3 xou54vl",children:[(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1n2onr6 x12lumcd xeuugli",children:(0,s.jsx)(cW,{category:o,showTags:!!o.tags.length})}),(0,s.jsx)("div",{className:"x78zum5 x13a6bvl x3psx0u xuxw1ft",children:(0,s.jsx)(cA.y,{allowMixedResourceType:!1,allowedEditorTypes:o.editor_types,context:cL.gM.CATEGORY,filterState:g,isInternal:!1,onUpdate:b,showEditorFilter:!0,showPriceFilter:a!==lm.LJ.make,showResourceTypeFilter:a!==lm.LJ.make,showSortDropdown:!0})})]}),(0,s.jsx)("div",{className:"xw7yly9",children:(0,s.jsx)(cC.e,{category:o,categoryPageData:x,numTilesPerRow:e.numberOfTiles})})]}):(0,s.jsx)("div",{className:"x7z7khe",children:(0,s.jsx)(cP.y$,{})})})})}var cV=r(769649),cH=r(54704);function c$({orgOrTeamName:e}){let{tab:t}=(0,aE.RA)(aI.au);return(0,aE.ye)(aI.au,!0)?null:(0,s.jsx)(cV.f,{leftSide:(0,s.jsx)(cq,{selectedTab:t||aN.N$.INTERNAL,orgOrTeamName:e}),rightSide:[]})}function cq({selectedTab:e,orgOrTeamName:t}){let r=!!(0,cH.v$)(),a=(0,aE.ed)(lt.Dv),i=(0,aE.ed)(lr.U),n=(0,aE.ed)(li.e),{teamOrOrgName:o}=(0,cb.F)(),l="";return r||a||i||n?(r?l=e===aN.N$.INTERNAL?t?(0,S.t)("community.search.search_results_from_org_or_team",{orgOrTeamName:t}):(0,S.t)("community.search.search_results"):(0,S.t)("community.search.search_results_from_community"):i?(l=(0,eG.i_)(i.params.resourceTypeSlug),(i.params.forTeamId||i.params.forOrg)&&(l=o?(0,S.t)("community.resource_hub.internal_tab",{orgOrTeamName:o}):"")):a?l=lj(a.params.categorySlug,void 0,a.search.resource_type)||"":n&&(l=(0,S.t)("community.saves.saved_by_me")),(0,s.jsx)("h1",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:l})):null}var cY=r(870637),cK=r(721917),cJ=r(293972),cQ=r(781046),cX=r(298745),cZ=r(436905),c0=r(315266);let c1=(0,aA._)(function(){let e=(0,n.wA)(),t=(0,aE.RA)(ls.jT),r=t.apiResourceType,a=t.resourceId,[o]=(0,f.IT)((0,cZ.Z)({apiResourceType:r,id:a})),l=o.data,d=l?(0,dq.qY)(l):void 0;i.useEffect(()=>{d&&(0,c0.S)(e,d)},[e,d]);let c=(0,cY.eJ)(),u=(0,cX.Jm)(),m=(0,cX.BY)(),_=(0,l8.W6)(r,a,u,m);if(!l||!d)return(0,s.jsx)(s.Fragment,{});let p=(0,dq.zL)(l);return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_COMMUNITY_RESOURCE_DETAIL_PAGE,properties:_,children:(0,s.jsxs)("div",{children:[p?(0,s.jsx)(cJ.Y,{resource:l}):(0,s.jsx)(cQ.Y,{resource:l}),(0,s.jsx)(cK.X6,{resource:l,rdpImpressionId:c})]})})},"ResourceHubResourcePage");var c4=r(100416),c2=r(15329);function c5(){let e;let{color:t}=(0,np.G)();return e="dark"===t?(0,oK.ck)("7ab53d43da451ec79f8b986fd66e173285e8f890"):(0,oK.ck)("09318ceb86318f7b9246ee48a8634ef0d126c06f"),(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 x16g6g8t xgqmno8 x1sjmt1f xl56j7k",children:[(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xvue9z xl0j6f1 x1wft13i x2lah0s",children:(0,s.jsx)(lc.oW,{className:"x193iq5w xl1xv1r",src:e,alt:(0,S.t)("community.saves.no_saves_title"),loading:"lazy"})}),(0,s.jsx)("div",{className:"x78zum5 xdt5ytf x1665zp3 xz84dc7 xl2nq6h x14ilqb xo3t2mw x1bzacg x1egpy1l x6s0dn4",children:(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x167g77z xkh2ocl xh8yej3 x2lah0s",children:[(0,s.jsx)("div",{className:"x1akne3o xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x2b8uid",children:(0,S.t)("community.saves.no_saves_heading")}),(0,s.jsx)("div",{className:"x1n0bwc9 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x2b8uid",children:(0,S.t)("community.saves.no_saves_subheading")})]})})]})}function c6(){let e=(0,Q.TA)()??void 0,t=(0,aE.a4)(li.e),r=(0,dH.X)(),{resourceType:a}=t.params,i=a?(0,s.jsx)(c7,{resourceType:a,currentUserId:e,sizingInfo:r}):(0,s.jsx)(c3,{currentUserId:e,sizingInfo:r});return(0,s.jsx)("div",{className:cf,ref:r.sizeRef,children:(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_SAVES_PAGE,children:i})})}function c3({currentUserId:e,sizingInfo:t}){let{trackResourceImpression:r}=(0,dj.GS)({extraProperties:{tab:"saves"}}),a=i.useCallback((e,t)=>{t&&r(e)},[r]),n=i.useCallback((e,t)=>{t&&r(e)},[r]),{resources:o,loading:l,hasNextPage:d}=dy({resourceType:(0,c2.yl)(lu.t.FILES),resourceCount:2*aN.u8,includeContent:!1,enabled:!!e}),{resources:c,loading:u,hasNextPage:m}=dy({resourceType:(0,c2.yl)(lu.t.PLUGINS),resourceCount:aN.u8,includeContent:!0,enabled:!!e}),{resources:_,loading:p,hasNextPage:f}=dy({resourceType:(0,c2.yl)(lu.t.WIDGETS),resourceCount:2*aN.u8,includeContent:!1,enabled:!!e});return o?.length===0&&c?.length===0&&_?.length===0?(0,s.jsx)("div",{className:cf,children:(0,s.jsx)(c5,{})}):(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf xnfooyd",children:[(0,s.jsx)(c8,{resources:o??[],resourceType:lu.t.FILES,header:(0,S.t)("community.saves.all_files"),numTilesPerRow:t.numberOfTiles,hasNextPage:!!d,loading:l,resourceImpressionTracking:n}),(0,s.jsx)(c9,{resources:(c??[]).map(e=>e.content?.plugin).filter(e=>void 0!==e),hasNextPage:!!m,loading:u,resourceImpressionTracking:a}),(0,s.jsx)(c8,{resources:_??[],resourceType:lu.t.WIDGETS,header:(0,S.t)("community.view_bar.widgets"),numTilesPerRow:t.numberOfTiles,hasNextPage:!!f,loading:p,resourceImpressionTracking:n})]})}function c7({resourceType:e,currentUserId:t,sizingInfo:r}){let a=i.useRef(null),{trackResourceImpression:n}=(0,dj.GS)({extraProperties:{tab:"saves",resourceType:e}}),[{data:o,status:l,hasNextPage:d,isFetchingNextPage:c},{fetchNextPage:u}]=(0,f.IT)(dh.K.PaginatedCommunityResourceSavesQuery({pageSize:aN.u8,resourceType:(0,c2.yl)(e),includeContent:e===lu.t.PLUGINS}),{enabled:!!t});return(0,s.jsxs)("div",{ref:a,children:[(0,s.jsx)(c4.O,{resourcesLoading:"loading"===l,totalResources:o??[],numTilesPerRow:r.numberOfTiles,hasNextPage:!!d,trackResourceImpression:n,filterState:{...(0,cL.c5)(),resourceType:e},customLoadingView:(0,s.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 x4ygwfs",children:(0,s.jsx)(en.kt,{})}),emptyResourceStateQuery:e}),d&&(0,s.jsx)(cg.D,{useInfiniteScroll:!0,fetchNextPage:u,isFetchingNextPage:c,hasNextPage:d,containerRef:a})]})}function c8({resources:e,resourceType:t,header:r,numTilesPerRow:a,hasNextPage:i,loading:n,resourceImpressionTracking:o}){let l=(0,aI.Om)(),d=(0,aI.tv)();if(!n&&0===e.length)return null;let c=i&&e.length===2*a||e.length>2*a;return(0,s.jsx)(dP,{header:r,content:(0,s.jsx)(dU.T,{resources:e.slice(0,2*a),loadingTileCount:2*a,isLoading:n,resourceImpressionTracking:o}),route:new li.e({...l,resourceType:t},d),showSeeMore:c})}function c9({resources:e,hasNextPage:t,loading:r,resourceImpressionTracking:a}){let i=(0,aI.Om)(),n=(0,aI.tv)();if(!r&&0===e.length)return null;let o=t&&e.length===aN.Fx||e.length>aN.Fx;return(0,s.jsx)(dP,{header:(0,S.t)("community.view_bar.plugins"),content:(0,s.jsx)(df.M,{plugins:e.slice(0,aN.Fx),onIntersectionChange:a,isOrgTeamBrowsing:!1,isLoading:r,loadingRowCount:aN.Fx,layoutV1:"twoColumn"}),route:new li.e({...i,resourceType:lu.t.PLUGINS},n),showSeeMore:o})}var ue=r(417528),ut=r(645981);function ur({selectedTab:e,resultsByType:t,filtersControlState:r,onUpdate:a}){let i=(0,cH.e3)(),n=i instanceof ln.bP?aN.N$.COMMUNITY:aN.N$.INTERNAL,o=(0,aI.tv)(),l=(0,ut.v)(t),d=(e,t)=>{let r=i.copyWith({},{...o,resource_type:t}).href;u.Ay.push(r),(0,sM.sx)("resource_type_filter_changed",{resource_type:t,from:e})},[c,m,_]=nU.t.useManagedTabs({[lu.t.FILES]:!0,[lu.t.PLUGINS]:!0,[lu.t.WIDGETS]:!0},e,t=>{d(e,t)}),p=Object.keys(lu.t).map(e=>{let{count:t=0,hasMore:r}=l[lu.t[e]];return(0,s.jsxs)(nU.t.Tab,{...c[lu.t[e]],children:[(0,s.jsx)("span",{children:function(e,t){switch(e){case lu.t.FILES:if(t===aN.N$.COMMUNITY)return(0,S.t)("community.view_bar.files_and_templates_tab");return(0,S.t)("community.view_bar.templates_tab");case lu.t.PLUGINS:return(0,S.t)("community.view_bar.plugins");case lu.t.WIDGETS:return(0,S.t)("community.view_bar.widgets");default:(0,I.xb)(e)}}(lu.t[e],n)}),(0,s.jsx)("span",{children:` (${t??0}${r?"+":""})`})]},e)});return(0,s.jsx)("div",{children:(0,s.jsx)(cV.f,{leftSide:(0,s.jsx)(nU.t.TabStrip,{manager:_,children:p}),rightSide:[(0,s.jsx)(cA.y,{context:cL.gM.SEARCH,filterState:r,onUpdate:a,showEditorFilter:!0,showResourceTypeFilter:!1,showPriceFilter:n!==aN.N$.INTERNAL,showSortDropdown:n!==aN.N$.INTERNAL,isInternal:n===aN.N$.INTERNAL},"filters")]})})}var ua=r(722261),us=r(513879),ui=r(208013),un=r(451667),uo=r(821655),ul=r(369729);function ud({onSearchInCommunity:e}){return(0,s.jsx)("div",{className:"x19y5rnk xb3r6kr",children:(0,s.jsxs)(uo.Cs,{variant:"brand",icon:(0,s.jsx)(aT.N,{}),children:[(0,s.jsx)(ul.Q,{title:(0,S.t)("community.search.search_in_community_banner.title"),children:(0,S.t)("community.search.search_in_community_banner.description")}),(0,s.jsx)(ue.N,{href:"#",onClick:e,children:(0,S.t)("community.search.search_in_community_banner.cta")})]})})}let uc=e=>({query:e.search.query??"",editor_type:e.search.editor_type??lZ.k.Editors.ALL,price:e.search.price??us.C.Price.ALL,resource_type:e.search.resource_type??lu.t.FILES,...e instanceof ln.bP&&{sort_by:e.search.sort_by??dJ.e.Search.RELEVANCY}});function uu({currentOrgId:e,currentTeamId:t}){let r=!!(e||t),a=(0,cH.e3)();(0,ui._4)(a,r);let n=uc(a),o=n.resource_type,{trackResourceImpression:l,flushAndResetResourceImpressions:d}=(0,dj.GS)({extraProperties:{resourceType:n.resource_type}}),{filterState:c,handleFilterUpdate:m}=(0,cO.v)(cL.gM.SEARCH,{resourceType:n.resource_type,editorType:n.editor_type??lZ.k.Editors.ALL,price:n.price,sortBy:n.sort_by??dJ.e.Search.RELEVANCY}),_=(0,i.useCallback)(e=>{let t=m(e);u.Ay.replace(a.copyWith({},{query:n.query,editor_type:t.editorType,price:t.price,sort_by:t.sortBy}).href)},[m,a,n.query]);i.useEffect(()=>{d()},[n.resource_type,n.query,n.editor_type,n.price,n.sort_by,d]);let{resultsByType:p,loadedStatusByType:f}=(0,ua._w)((0,i.useMemo)(()=>({query:n.query,editor_type:n.editor_type,price:n.price,sort_by:n.sort_by??dJ.e.Search.RELEVANCY,org_id:e,team_id:t}),[n.query,n.editor_type,n.price,n.sort_by,e,t]),o),x=(0,dH.X)(),g=(0,eK.S2)(),h=(0,eG.LQ)(g),b=(0,cX.Jm)(),v=(0,cX.BY)(),y=p[o].resources.length,j=i.useCallback(()=>{(0,l8.JO)(b,v,y);let e=new ln.bP(a.params,n).href;u.Ay.push(e)},[a.params,n,y,b,v]),w=r&&!h&&f[o]&&y<=10,T=w&&y>0,E=w&&!T;return(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB_SEARCH,children:(0,s.jsxs)("div",{className:cf,ref:x.sizeRef,children:[(0,s.jsx)(ur,{selectedTab:o,resultsByType:p,filtersControlState:c,onUpdate:_}),(0,s.jsx)(un.G,{searchParams:n,trackResourceImpression:l,resultsByType:p,isLoadingThisView:!f[o],emptyStateActions:E?(0,s.jsx)(ue.N,{href:"#",onClick:j,children:(0,S.t)("community.search.search_in_community_instead_cta")}):void 0,numTilesPerRow:x.numberOfTiles}),T&&(0,s.jsx)("div",{className:"xpgiz1h x1buy44e",children:(0,s.jsx)(ud,{onSearchInCommunity:j})})]})})}let um=(0,aA._)(function(){let e=(0,n.wA)(),t=(0,aI.Om)(),r=(0,aI.tv)(),a=(0,eK.T5)("ResourceHubApp"),o=(0,eG.LQ)(a),l=a.data?.type===eU.OL.ORG?a.data?.key.parentId:void 0,d=a.data?.type===eU.OL.TEAM?a.data?.key.parentId:void 0,c=(0,eG.eH)(),u=(0,eG.mj)(),m=a.data?.type!==eU.OL.ORG||(0,es.oA)(a.data.customTemplatesAllowed),_=(0,i.useMemo)(()=>{let e=aN.N$.INTERNAL;return"loaded"===a.status&&a.data?.tier===eU.Ag.STARTER&&(e=aN.N$.COMMUNITY),new aI.au({...t,tab:e},r)},[t,r,a]),p="loading"===a.status||!t;return((0,i.useEffect)(()=>{p||c||u||e(eR.sf({view:"recentsAndSharing"}))},[p,c,u,e]),p)?null:(0,s.jsx)(r7.fu,{name:r9.e0.RESOURCE_HUB,children:(0,s.jsx)(le.Rj.Provider,{value:le.mk.RESOURCE_HUB,children:(0,s.jsx)(o9.qh,{path:aI.VR,children:(0,s.jsxs)("div",{className:"xv90nub x78see",children:[(0,s.jsx)(c$,{orgOrTeamName:a.data?.name}),(0,s.jsxs)(o9.dO,{children:[(0,s.jsx)(o9.qh,{path:la.qL.path,children:o?(0,s.jsx)(o9.rd,{to:_.to}):(0,s.jsx)(lo.P,{fallbackRedirectRoute:_})}),(0,s.jsx)(o9.qh,{path:ls.jT.path,children:o?(0,s.jsx)(o9.rd,{to:_.to}):(0,s.jsx)(c1,{})}),(0,s.jsx)(o9.qh,{path:ln.bP.path,children:o?(0,s.jsx)(o9.rd,{to:_.to}):(0,s.jsx)(uu,{})}),(0,s.jsx)(o9.qh,{path:ln.IQ.path,children:l||d?(0,s.jsx)(uu,{currentOrgId:l,currentTeamId:d}):(0,s.jsx)(o9.rd,{to:_.to})}),(0,s.jsx)(o9.qh,{path:lr.U.path,children:(0,s.jsx)(cN,{planTier:a.data?.tier??null,currentOrgId:l,currentTeamId:d,fallbackRedirectRoute:_})}),(0,s.jsx)(o9.qh,{path:li.e.path,children:o?(0,s.jsx)(o9.rd,{to:_.to}):(0,s.jsx)(c6,{})}),(0,s.jsx)(o9.qh,{path:lt.Dv.path,children:o?(0,s.jsx)(o9.rd,{to:_.to}):(0,s.jsx)(cz,{})}),(0,s.jsx)(o9.qh,{path:aI.au.path,children:(0,s.jsx)(cx,{planTier:a.data?.tier??null,currentOrgId:l,currentTeamId:d,isCommunityTabDisabledForOrg:o,isTemplatesPublishingDisabledForOrg:!m})}),(0,s.jsx)(o9.rd,{to:_.to})]})]})})})})},"ResourceHubApp"),u_=(0,aA._)(function(){let e=(0,aI.Om)(),t=(0,aI.tv)();return e?(0,s.jsx)(up,{sharedRouteParams:e,sharedSearchParams:t}):null},"ResourceHubBreadcrumbs");function up({sharedRouteParams:e,sharedSearchParams:t}){let[r,a]=i.useState(null),[n,o]=i.useState(null),[l,d]=i.useState(null),{teamOrOrgName:c}=(0,cb.F)(),m=[],_=aE.Rd(aI.au)?.tab||aN.N$.INTERNAL,p=_===aN.N$.COMMUNITY?(0,S.t)("community.community"):(0,S.t)("sidebar.resources");m=[{text:p,to:new aI.au({...e,tab:_},t).href,trackingProperties:{name:l8.HH.RESOURCE_HUB_HOME_BREADCRUMB_CLICKED,text:p}}];let x=(0,aE.ed)(lt.Dv),g=!!x,h=(0,aE.ed)(ls.jT),b=!!h,v=g||b;i.useEffect(()=>{v||(a(null),d(null),o(null))},[v]);let y=h?.params.apiResourceType,j=h?.params.resourceId,[w]=(0,f.IT)((0,cZ.Z)({apiResourceType:y,id:j}),{enabled:b&&!!y&&!!j}),T=x?.params.categorySlug||w.data?.category_slug||"",E=x?.params.tagSlug||"",I=(0,dx.v_)(),[{data:N,status:k}]=(0,f.IT)((0,cF.Zp)({categorySlug:T,tagSlug:E,locale:I}),{enabled:v});i.useEffect(()=>{if("loaded"===k){d(N?.selected_tag||null);let{parent_category:e}=N||{parent_category:null};o(e||null),a(N)}},[N,k]),v&&r&&(m=[...m,...function({currentCategory:e,currentParentCategory:t,currentTag:r,sharedRouteParams:a,sharedSearchParams:s,categoryRoute:i}){if(!e)return[];let n=(0,cM.S)(t?.url_slug,lm.LJ),o=(0,cM.S)(e.url_slug,lm.LJ);return[t&&n&&{text:lj(n,void 0,i?.search.resource_type)||(0,S.Yd)(t.i18n_meta?.title,t.title),to:i?i.copyWith({categorySlug:n,tagSlug:void 0}).href:new lt.Dv({...a,categorySlug:n},{...s}).href,trackingProperties:{name:l8.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:lj(n,void 0,i?.search.resource_type)||(0,S.Yd)(t.i18n_meta?.title,t.title),category_slug:n}},e&&o&&{text:lj(o,void 0,i?.search.resource_type)||(0,S.Yd)(e.i18n_meta?.title,e.title),to:i?i.copyWith({categorySlug:o,tagSlug:void 0}).href:new lt.Dv({...a,categorySlug:o},{...s}).href,trackingProperties:{name:l8.HH.RESOURCE_HUB_CATEGORY_BREADCRUMB_CLICKED,text:lj(o,void 0,i?.search.resource_type)||(0,S.Yd)(e.i18n_meta?.title,e.title),category_slug:o}},r&&{text:(0,S.Yd)(r.i18n_meta?.text,r.text)}].filter(Boolean)}({currentCategory:r,currentParentCategory:n,currentTag:l,sharedRouteParams:e,sharedSearchParams:t,categoryRoute:g?x:void 0})]);let C=w.data;if(b&&C&&(r||!C.category_slug)){let e={text:(0,c2.K2)(C)||""};m=[...m,e]}let A=(0,aE.ed)(li.e);if(A){let t={text:(0,S.t)("community.profiles.saved"),to:new li.e({...e,resourceType:void 0}).href};m=[...m,t];let r=A?.params.resourceType,a=r?(0,eG.M0)(r):void 0;a&&(m=[...m,{text:a}])}if((0,cH.v$)()){let e={text:(0,S.t)("community.resource_hub.search_breadcrumb")};m=[...m,e]}let R=(0,aE.ed)(lr.U);if(R){let e=R.params.resourceTypeSlug,t={text:(0,eG.i_)(e)};m=[...m,t],(R?.params.forTeamId||R?.params.forOrg)&&(t.to=R.copyWith({forTeamId:void 0,forOrg:!1}).href,t.trackingProperties={name:l8.HH.RESOURCE_HUB_INTERNAL_RESOURCE_TYPE_BREADCRUMB_CLICKED,text:(0,eG.i_)(e)},c&&(m=[...m,{text:c}]))}if((0,aE.ye)(la.qL)){let e={text:(0,S.t)("community.profiles.community_profile")};m=[...m,e]}return 1===m.length&&m[0]?.text?(0,s.jsx)("h1",{children:m[0].text}):(0,s.jsx)(oV.A5,{children:m.map((e,t)=>(0,s.jsx)(oV.J5,{text:e.text,onClick:()=>{e.to&&u.Ay.push(e.to),e.trackingProperties&&(0,l8.Ox)(e.trackingProperties)},hasTrailingDivider:t<m.length-1,disabled:t===m.length-1},`resource_hub_breadcrumb_${t}`))})}var uf=r(368422),ux=r(285466),ug=r(662376),uh=r(851824),ub=r(171916);let uv=(0,aA._)(function(){let{onSubmit:e,currentTab:t}=function(){let e=function(){let e=(0,eK.T5)("useDefaultResourceHubTab"),t=e.data?.type===eU.OL.TEAM?e.data?.key.parentId:null,r=e.data?.type===eU.OL.ORG?e.data?.key.parentId:null,a="loaded"===e.status&&e.data?.tier===eU.Ag.STARTER,s=e.data?.type!==eU.OL.ORG||(0,es.oA)(e.data.customTemplatesAllowed),i=(0,dQ.LU)(e.data?.tier??null,t,!s,1),n=(0,dQ.GZ)(e.data?.tier??null,r,!s,1),{[eU._Y.COOPER]:{templates:o,isLoading:l},[eU._Y.WHITEBOARD]:{templates:d,isLoading:c},[eU._Y.SLIDES]:{templates:u,isLoading:m}}=r?n:i,_=[...o,...d,...u],p="loaded"===e.status&&(e.data?.tier===eU.Ag.PRO||e.data?.tier===eU.Ag.STUDENT)&&!(l||c||m)&&0===_.length;return a||p?aN.N$.COMMUNITY:aN.N$.INTERNAL}(),t=aE.Rd(aI.au)?.tab||e,r=t===aN.N$.INTERNAL?ln.IQ:ln.bP,a=(0,cH.UX)(),s=!!a,i=(0,aI.Om)(),n=(0,aI.tv)();return{onSubmit:e=>{let o;if(o=a?a.copyWith({},{query:e}).href:new r(i,{...n,query:e}).href,e.length)u.Ay.push(o);else if(s){let e=new aI.au({...i,tab:t},n).href;u.Ay.push(e)}},currentTab:t}}();return(0,s.jsx)(uy,{onSubmit:e,currentTab:t})},"ResourceHubSearchBar");function uy({onSubmit:e,currentTab:t}){let r;let a=(0,cH.UX)(),o=!!a,l=a?.search.query,d=(0,n.wA)(),[c,u]=i.useState(""),m=(0,uh.A)(e,400);r=t===aN.N$.COMMUNITY?(0,S.t)("community.search.search_community"):(0,S.t)("community.search.search_internal_placeholder");let _=(0,s.jsx)(ux.W,{className:"xexx8yu xmzs88n x18d9i69 xcpk43y"});i.useEffect(()=>{o&&l&&u(l),o||d(ub.ky())},[o]);let p=i.useCallback(()=>{u("")},[]);return i.useEffect(()=>{o||p()},[p,o]),(0,s.jsxs)(uf.p.Root,{size:"lg",onFocus:()=>{o||d(ub.Dy({entryPoint:"resource_hub"}))},children:[_,(0,s.jsx)(uf.p,{value:c,onChange:e=>{u(e),e&&m(e)},"aria-label":(0,S.t)("community.search.search_templates_and_tools"),placeholder:r}),c.length>0&&(0,s.jsx)(sF.E,{className:"xt0e3qv xy13l1i","aria-label":(0,S.t)("common.clearSearch"),onClick:()=>{u("")},children:(0,s.jsx)(ug.A,{})})]})}function uj(){let e=(0,s.jsx)(u_,{});return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x1qughib xaobbuh xozqiw3",children:[e,(0,s.jsx)(le.Rj.Provider,{value:le.mk.RESOURCE_HUB,children:(0,s.jsx)("div",{className:"xnmoo23 x1thqx0m",children:(0,s.jsx)(uv,{})})})]})}var uw=r(851561),uT=r(567255),uE=r(698266),uI=r(182777),uN=r(407644),uS=r(78439),uk=r(432099);let uC=new class{markFeedVisited(e){return uk.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var uA=r(220812),uR=r(372868),uO=r(977843),uP=r(580910),uL=r(188154),uF=r(198365),uD=r(782059),uM=r(549794);let uU=new class{markFeedViewed(e){uk.Ay.post(`/api/feed_posts/${e.publicUuid}/mark_viewed`)}vote(e){uk.Ay.post(`/api/feed_posts/${e.publicUuid}/vote`,{vote_option:e.voteOption})}};var uB=r(87535),uG=r(706070),uW=r(248979),uz=r(660587),uV=r(211498),uH=r(809439);let u$="feed_tile--commentPillText--goQ26",uq="feed_tile--feedPostHoverContainerSelectable--rhPI9";var uY=r(505e3);function uK(e){let t=(0,n.wA)(),r=i.useRef(null),[a,o]=(0,ow.M)(),[l,d]=(0,ow.M)(),{requestToOpenPostByFeedIdx:c}=e,u=i.useCallback((r,a)=>{r?.stopPropagation();let s=e.itemIdx+1;(0,sM.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:s}),t((0,tC.to)({type:uA.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:a?.autofocusCommentInput,selectedContentIdx:a?.selectedContentIdx,onSetSelectedContentIdx:a?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),{refSetter:m}=function(e){let t=i.useRef(null),r=i.useRef(e);r.current=e;let a=i.useMemo(()=>new ResizeObserver(()=>{r.current(t.current)}),[]);return i.useEffect(()=>()=>{a.disconnect()},[a]),{refSetter:i.useCallback(e=>{null!==t.current&&a.unobserve(t.current),t.current=e,null!==t.current&&a.observe(t.current)},[a])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(r.current?.getBoundingClientRect().left??0)-p),x=(0,s.jsxs)("div",{className:"feed_tile--caughtUpContainer--5uyiy",children:[(0,s.jsx)("div",{className:"feed_tile--caughtUpTitle--PVabL",children:(0,S.t)("fig_feed.youre_all_caught_up")}),(0,s.jsx)("div",{className:"feed_tile--caughtUpSubtitle--j2qKn",children:(0,S.t)("fig_feed.come_back_later_for_more_posts")})]});return(0,s.jsxs)("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{m(e),e&&(r.current=e,a(e))},style:_,children:[(0,s.jsx)("div",{className:"feed_tile--hoverExtension--aYeAh",ref:l}),(0,s.jsxs)("div",{className:"feed_tile--tileContainer---NbBK",children:[(0,s.jsx)(uJ,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:u,horizontalMargin:f,isHovered:o||d}),e.mostRecentUnviewed&&x]})]})}function uJ(e){let t=parseInt(e.feedPost.numComments,10),r=(0,uF.o8)(e.feedPost.descriptionMeta),a=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],n=(0,s.jsx)("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--V7d-0 text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0,children:t>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(uO.u,{users:a,totalNum:a.length,numAvatarsToDisplay:4}),(0,s.jsx)("div",{className:u$,children:(0,S.tx)("fig_feed.num_comments",{numComments:t})})]}):(0,s.jsx)("div",{className:u$,children:(0,S.tx)("fig_feed.add_comment")})}),[o,l]=i.useState(!1),d=i.useRef(null);i.useEffect(()=>{let e=d.current;e&&l(e.scrollHeight>e.offsetHeight)},[]);let c=i.useMemo(()=>(r.length>0&&(r[0].t=r[0].t?.trimStart(),r[r.length-1].t=r[r.length-1].t?.trimEnd()),r),[r]),u=(0,uM.q)(),m=i.useCallback((e=[],t)=>e?e.map((e,r)=>{let a=(e.user_annotated?e.user_annotated.handle:e.t)||"",n=(0,oT.F)(a),o=null,l=e.link&&(0,uL.xT)(e.link);if(e.user_annotated&&n)o=(0,s.jsx)("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0,children:(0,s.jsx)(uL.E4,{href:`/files${u}/user/${e.user_id}`,userId:e.user_annotated.id,handle:n,imgUrl:e.user_annotated.img_url})});else if(l&&n&&(0,uD.$x)(l))o=(0,s.jsx)("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0,children:(0,s.jsx)(uL.Rk,{text:n,hyperlink:l})});else{let e=(0,uR.x6)(n?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");o=(0,s.jsx)("span",{children:e})}return(0,s.jsxs)(i.Fragment,{children:[o,e.children?.length&&e.styles?.length&&e.children.map((a,n)=>(0,s.jsxs)(i.Fragment,{children:[" ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",m(a.children,`${t}-${r}-${n}`)," "]},`${t}-${r}-${n}`))]},`${t}-${r}`)}):[(0,s.jsx)(s.Fragment,{})],[u]),_=i.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:p}=e,f=i.useMemo(()=>(0,s.jsxs)("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:p,role:"button",tabIndex:0,children:[(0,s.jsx)("div",{className:"feed_tile--postTitle--DY-Hh",children:e.feedPost.title}),(0,s.jsxs)("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:d,children:[(0,s.jsx)("div",{className:G()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--EqEue","feed_tile--collapsed--ruER6",o&&"feed_tile--hasShowMore--6Nm-e"),children:_}),o&&(0,s.jsxs)("div",{onMouseDown:e=>{e.stopPropagation(),p()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0,children:[(0,s.jsx)("div",{className:"feed_tile--viewMoreEllipsis--k1nCe",children:"..."}),(0,s.jsx)("div",{className:"feed_tile--viewMoreText--WpL2K",children:(0,S.t)("fig_feed.see_more")})]})]})]}),[o,d,e.feedPost,p,_]),x=(0,uG.DG)(e.feedPost.publicUuid,uG.dy.TILE),g=(0,iG.Um)(),h=e.isHovered||g?.type===(0,uH.j8)(uH.Hx.USER,e.feedPost.publicUuid,uG.Zp.TILE);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"feed_tile--topRowUGC--oWJxs",children:[(0,s.jsx)("div",{className:"feed_tile--avatarFloat--h-EFM",children:(0,s.jsx)(uz.A,{user:e.feedPost.creator,size:t8.Pf.LARGE,noHandle:!0})}),(0,s.jsx)(uz.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),(0,s.jsxs)("div",{className:N.s.flex.flexRow.$,children:[(0,s.jsx)(uH.Wu,{hideTarget:!h,feedPost:e.feedPost,source:uG.Zp.TILE}),h&&(0,s.jsx)(uB.K0,{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("fig_feed.copy_link_to_post"),onClick:x,children:(0,s.jsx)(uP.In,{icon:"hyperlink-32"})})]})]}),f,(0,s.jsx)(uQ,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),(0,s.jsx)("div",{className:"feed_tile--bottomRow--CTXwC",children:(0,s.jsx)(uV.Q$,{type:uV.Us.FULL,source:uV.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[n]})})]})}function uQ(e){let t=i.useRef(null),r=e.feedPost.content.map(e=>JSON.parse(e)),[a,n]=i.useState(!1),[o,l]=i.useState(!1),[d,c]=i.useState(0);i.useEffect(()=>{0!==d&&uU.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[d,e.feedPost.publicUuid]);let u=(0,uV.mz)({type:"post",id:e.feedPost.publicUuid},uV.zY.TILE_CONTENT),m=r.length>1,_=G()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(a||o||u)&&"feed_tile--hidden--9bafI"),p={selectedContentIdx:d,onSetSelectedContentIdx:c},{fileData:f,fileIcon:x,fileLoaded:g,openFile:h}=(0,uG.rS)(e.feedPost.publicUuid,r,e.feedPost.fileKey);return(0,s.jsxs)("div",{ref:e=>{e&&(t.current=e)},className:G()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7"),children:[(0,s.jsx)(uW.x,{contentItems:r,feedPostIdx:e.feedIdx,feedPostUuid:e.feedPost.publicUuid,onContentHover:e=>n(e),onSelectedTileMouseDown:t=>e.onTileMouseDown(t,p),pageBackgroundColor:e.backgroundColor||void 0,selectedContentIdx:d,setSelectedContentIdx:c,source:uG.Zp.TILE,staticContent:!0}),g&&(0,s.jsxs)("button",{className:G()(_,uq,"feed_tile--hoverTopLeft--zVWFQ"),onClick:h,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[(0,s.jsx)(rm.w4,{type:x,size:16}),(0,s.jsx)("div",{children:f.name})]}),(0,s.jsx)("button",{className:G()(_,uq,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,p),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,s.jsx)(r3.B,{svg:uY.A})})]})}function uX(e){let t=(0,n.wA)(),r=i.useRef(null),a=(0,Q.iZ)(),o=(0,n.d4)(e=>e.teamFeedRefreshNonce),[l,d]=i.useState(null),c=(0,eO._6)(),u="teamFeed"===c.view,m="user"===c.view;i.useEffect(()=>{u&&(uC.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{d(e.data.meta?new Date(e.data.meta):null)}),t(eF.b({has_visited_feed:!0})))},[e.currentOrgId,o,t,u]);let f=(0,p.bc)(eY.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:o}),x=(0,_.ZC)(o);x&&x!==o&&r.current&&(r.current.scrollTop=0),i.useEffect(()=>{"errors"===f.status&&t(tl.F.enqueue({message:(0,S.t)("general.an_error_occurred"),error:!0}))},[t,f.status]);let g=i.useMemo(()=>"loaded"===f.status?{...f,data:f.data.feedPosts.filter(e=>!!e.feedPost)}:f,[f]),h="loaded"===g.status&&"loaded"===f.status,b=i.useCallback(()=>512,[]),v=g.data?g.data.length:0,y=(0,uS.z)({size:v,parentRef:r,estimateSize:b,overscan:15,paddingStart:0}),j=i.useRef(0);i.useEffect(()=>{j.current=g.data?.length??0},[h,g.data?.length]),i.useEffect(()=>{h&&(0,sM.sx)("Team Feed Posts Rendered",{numPosts:j.current,view:c.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,j,h,c.view]);let[w,T]=i.useState(!1),E=f.data?.feedPosts?.loadNext,I=i.useCallback((e,t)=>{e>0&&!w&&((0,sM.sx)("Team Feed User Scrolled Down"),T(!0));let r=v/50,a=e+t.trackHeight,s=t.scrollHeight;1-(s-a)/(s/r)>=.5&&E?.(50)},[w,E,v]),k=i.useMemo(()=>{let e={};return g.data&&g.data.forEach((t,r)=>{e[t.publicUuid]=r}),e},[g]),[C,A]=i.useState(void 0),R=i.useCallback(e=>{A(e)},[]);i.useEffect(()=>{if(void 0===C||(A(void 0),C<0)||(C>=.5*v&&E?.(50),C>=v))return;let e=g.data[C];t(tC.hm({type:uA.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:C,requestToOpenPostByFeedIdx:R}}))},[C,t,g,R,E,v]);let O=i.useMemo(()=>{if(!l||!g.data)return null;let e=0,t=g.data.length-1,r=-1,s=0;for(;e<=t;){let a=Math.floor((e+t)/2);if(new Date(g.data[a].createdAt)>l?(r=a,e=a+1):t=a-1,(s+=1)>50)break}for(;r>=0&&a&&g.data[r].feedPost?.creator.id===a.id;)r-=1;return r},[l,g.data,a]),P=h&&g.data&&0===g.data.length&&e.selectedUser;return(0,s.jsx)(eo.P,{scrollContainerRef:r,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:G()("feed_list_view--scrollContainerInner--8Le-r",m&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:I,children:(0,s.jsx)("div",{className:"feed_list_view--feedListContainer--2BMds",children:P?(0,s.jsxs)("div",{className:"feed_list_view--noPostsFound--COpgM",children:[(0,s.jsx)("div",{className:N.s.fontMedium.$,children:(0,S.tx)("fig_feed.no_posts_found_title")}),(0,s.jsx)("div",{className:N.s.colorTextSecondary.$,children:(0,S.tx)("fig_feed.no_posts_found_description")})]}):(0,s.jsx)("div",{style:{margin:"0 8px",height:`${y.totalSize}px`,position:"relative"},children:y.virtualItems.map(e=>{let t=e.index;if(!g.data||!g.data[t].feedPost)return null;let a=g.data[t].feedPost;return(0,s.jsx)(uK,{post:a,virtualRowItem:e,feedListRef:r,itemIdx:t,feedIdx:k[a.publicUuid],requestToOpenPostByFeedIdx:R,mostRecentUnviewed:u&&k[a.publicUuid]===O},e.key)})})})})}function uZ(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.teamFeedRefreshNonce);return i.useEffect(()=>{t(uN.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,r,e.currentOrgId]),(0,s.jsx)(uX,{...e})}let u0="new_post_indicator--icon--uvRMg";var u1=r(185333),u4=r(821527);function u2(e){return(0,s.jsxs)("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",children:[(0,s.jsxs)("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0,children:[(0,s.jsx)(r3.B,{svg:u1.A,className:u0}),(0,S.tx)("fig_feed.new_posts")]}),(0,s.jsx)("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0,children:(0,s.jsx)(r3.B,{svg:u4.A,className:u0})})]})}function u5(e){let t=(0,n.wA)();i.useEffect(()=>((0,sM.sx)("Team Feed Posts List View Visited"),t(uN.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,sM.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let r=i.useCallback(()=>t(uN.Y9()),[t]),a=i.useCallback(()=>{r()},[r]),o=(0,n.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[l,d]=i.useState(!1),c=(0,_.ZC)(o);return i.useEffect(()=>{o&&!1===c?d(!0):c&&!1===o&&d(!1)},[o,c,t]),i.useEffect(()=>{e.initialPostUuidToShow&&t((0,tC.to)({type:uA.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]),(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(u2,{onRefresh:a,onDismiss:()=>d(!1)}),(0,s.jsx)(uZ,{currentOrgId:e.currentOrgId}),(0,s.jsx)(uI.cx,{})]})}function u6(e){let t=(0,n.d4)(e=>e.currentUserOrgId),r=i.useRef(new uE.M4);return(i.useEffect(()=>{r.current.start()},[]),t)?(0,s.jsx)(u5,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:r.current}):null}var u3=r(324063);function u7(e){let t=e.tabs?(0,s.jsx)(nU.t.TabStrip,{manager:e.tabManager,children:e.tabs.map(e=>(0,i.createElement)(nU.t.Tab,{...e.tabProps,key:e.tabName},e.tabName))}):(0,s.jsx)(s.Fragment,{});return(0,s.jsx)(cV.f,{leftSide:t,rightSide:e.viewbarActions||[]})}var u8=r(731083),u9=r(140174),me=r(439454);let mt=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[iW.C0.TRASHED_AT]}),mr=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[iW.C0.TRASHED_AT,iW.C0.NAME]}),ma=(e,t,r)=>{let a=(0,u3.xx)(mt)(t);return[(0,s.jsx)(u8.gr,{dispatch:e,options:a,selectedView:r},0),(0,s.jsx)(u8.ye,{config:a.tileSortFilterConfig},1),(0,s.jsx)(u8.mc,{dispatch:e,options:a,selectedView:r},2),(0,s.jsx)(u9.$c,{initialViewMode:a.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,sM.sx)("file view toggle",{viewType:t===iW.XU.GRID?"grid":"list"}),e(eC.JF({selectedView:r,config:{...a.tileSortFilterConfig,viewMode:t}}))}},3)]},ms=(e,t,r)=>{let a=(0,u3.xx)(mr)(t);return[(0,s.jsx)(u8.KH,{dispatch:e,options:a,selectedView:r},6),(0,s.jsx)(u8.mc,{dispatch:e,options:a,selectedView:r},4),(0,s.jsx)(u9.$c,{initialViewMode:a.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,sM.sx)("folder view toggle",{viewType:t===iW.XU.GRID?"grid":"list"}),e(eC.JF({selectedView:r,config:{...a.tileSortFilterConfig,viewMode:t}})),e(eC.uV({viewId:me.l,viewMode:t}))}},5)]};function mi({currView:e}){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),a=ma(t,r,e),o=ms(t,r,e),[l,d,c]=nU.t.useManagedTabs({deletedFiles:!0,trashedFolders:!0},e.view,i.useCallback(e=>{t(eR.sf({view:e}))},[t]));return(0,s.jsx)(u7,{tabManager:c,tabs:[{tabName:(0,S.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,S.t)("file_browser.tool_bar.trashed_files.aria_label"),tabProps:l.deletedFiles},{tabName:(0,S.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,S.t)("file_browser.tool_bar.trashed_projects.aria_label"),tabProps:l.trashedFolders}],viewbarActions:"deletedFiles"===e.view?a:o})}var mn=r(902185),mo=r(863062);let ml=(e,t)=>{let r=rw.Tf.getName(e)||"",a=rw.Tf.getName(t)||"";return tj.Tt.compare(r,a)},md=(e,t)=>{let r=(rw.Tf.getName(e)||"").toLowerCase(),a=(rw.Tf.getName(t)||"").toLowerCase();return r===a?0:r<a?-1:1},mc=(e,t)=>{if(e.type!==rw.nb.FILE||t.type!==rw.nb.FILE)return 0;let r=e.file,a=t.file;return r.createdAt<a.createdAt?1:-1},mu=(e,t)=>e.type!==rw.nb.PROTOTYPE||t.type!==rw.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,mm=(e,t)=>{let r=rw.Tf.getAccessedAt(e),a=rw.Tf.getAccessedAt(t);return r&&a?r>a?1:-1:a?-1:r?1:0},m_=(e,t)=>rw.Tf.getCreatedAt(e)>rw.Tf.getCreatedAt(t)?1:-1,mp=(e,t)=>{let r=rw.Tf.getTouchedAt(e),a=rw.Tf.getTouchedAt(t);return null===r||null===a?0:r>a?1:-1},mf=(e,t)=>e.type!==rw.nb.FILE&&e.type!==rw.nb.REPO||t.type!==rw.nb.FILE&&t.type!==rw.nb.REPO?0:(e.type===rw.nb.FILE?e.file.trashedAt:e.repo.trashed_at)>(t.type===rw.nb.FILE?t.file.trashedAt:t.repo.trashed_at)?1:-1,mx=(e,t)=>{let r="design";switch(t.type===rw.nb.FILE?r=t.file.editorType:t.type===rw.nb.PINNED_FILE?r=t.file.editorType:t.type===rw.nb.OFFLINE_FILE&&(r=t.file.editorType),e){case iW.t2.ANY:return!0;case iW.t2.DESIGN:if(t.type===rw.nb.FILE||t.type===rw.nb.REPO||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"design"===r;return!1;case iW.t2.FIGJAM:if(t.type===rw.nb.FILE||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"whiteboard"===r;return!1;case iW.t2.PROTOTYPE:return t.type===rw.nb.PROTOTYPE;case iW.t2.SLIDES:if(t.type===rw.nb.FILE||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"slides"===r;return!1;case iW.t2.SITES:if(t.type===rw.nb.FILE||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"sites"===r;return!1;case iW.t2.COOPER:if(t.type===rw.nb.FILE||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"cooper"===r;return!1;case iW.t2.MAKE:if(t.type===rw.nb.FILE||t.type===rw.nb.PINNED_FILE||t.type===rw.nb.OFFLINE_FILE)return"figmake"===r;return!1;default:(0,I.xb)(e)}},mg=(e,t)=>!e||e===`${rw.Tf.getSharedBy(t)}`,mh=(e,t)=>{if(!e||!e.planId)return!0;let r=e.planId;switch(t.type){case rw.nb.FILE:return("org"===e.planType?t.file.parentOrgId:t.file.teamId)===r;case rw.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===r;case rw.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===r;case rw.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===r;default:return!1}};function mb({tilesResult:e,tileSortFilterConfig:t,isDataPartial:r,isDraftsFolder:a}){let s=(0,eO._6)(),n="recentsAndSharing"===s.view&&s.tab===mo.Gw.SHARED_FILES;return i.useMemo(()=>e.transform(e=>{let i,o,l;let d=e.filter(e=>mg(t.filters.sharedBy,e)&&mx(t.filters.fileType,e)&&(!!n||mh(t.filters.plan,e)));if(i=n?d.filter(e=>e.type===rw.nb.FILE||e.type===rw.nb.PROTOTYPE||e.type===rw.nb.REPO):d.filter(e=>e.type===rw.nb.FILE||e.type===rw.nb.REPO||e.type===rw.nb.OFFLINE_FILE),"recentsAndSharing"===s.view&&s.tab===mo.Gw.SHARED_FILES)return d;let c=t.sort.dir===iW.ue.DESC;switch(t.sort.key){case iW.C0.ACCESSED_AT:o=mn.f.byComparators(mm),l=d;break;case iW.C0.CREATED_AT:o=mn.f.byComparators(m_),l=d;break;case iW.C0.TOUCHED_AT:o=mn.f.byComparators(mp),l=i;break;case iW.C0.NAME:if(a){o=mn.f.byComparators(ml,mn.f.byProperty("type")),l=d;break}let u=d.length<tj.Tw;o=mn.f.byComparators(u?ml:md,mn.f.byProperty("type"),mc,mu),l=d;break;case iW.C0.TRASHED_AT:o=mn.f.byComparators(mf),l=i;break;case iW.C0.SHARED_AT:return d;default:return console.error("Unknown sort key",t.sort.key),[]}if(o=c?mn.f.reverse(o):o,l.sort(o),r)for(;l[l.length-1]?.type===rw.nb.OFFLINE_FILE;)l.pop();return l}),[e,n,r,a,s,t])}var mv=r(212721),my=r(824570),mj=r(76616),mw=r(120191),mT=r(875808),mE=r(398990),mI=r(668242),mN=r(578059),mS=r(388488),mk=r(20940),mC=r(802529),mA=r(250779),mR=r(176203);function mO({dropdownData:e,isFolder:t,isDropdownOpen:r,tileActions:a,selectedTiles:i,openTile:n}){let o=e?.tile??null,l=e?.index;return(0,s.jsx)(r7.fu,{name:t?r9.e0.PROJECT_TILES_VIEW_DROPDOWN:r9.e0.TILES_VIEW_DROP_DOWN,enabled:r,properties:{tileType:o?.type,tileFileId:o?.type===rw.nb.FILE?o?.file.key:void 0},children:(0,s.jsx)(oc.i,{tileActions:a,tile:o,selectedTiles:i,openTile:e=>{o&&n(o,e,l)},dropdownVisible:r})})}var mP=r(911990);function mL({currentProgress:e,totalAllowed:t}){return(0,s.jsxs)(mP.Y,{spacing:"auto",children:[(0,s.jsxs)("div",{className:N.s.relative.wFull.$,className:"x1b68738 x1n2onr6",children:[(0,s.jsx)("div",{className:N.s.absolute.wFull.$,children:(0,s.jsx)(mP.Y,{cornerRadius:5,height:6,backgroundColor:"secondary"})}),(0,s.jsx)("div",{className:N.s.absolute.wFull.flex.itemsCenter.$,children:(0,s.jsx)(mP.Y,{cornerRadius:5,height:6,width:`${Math.min(e/t*100,100)}%`,backgroundColor:e>=t?"warning":"brand"})})]}),(0,s.jsx)("div",{className:"x1i0uq9b x1ok221b xp5pvr8 x4z9k3i xk50ysn x1d3mw78 x122x9cr",children:(0,S.t)("file_browser.starter_limit_global.files_used",{numFilesUsed:e,totalFiles:t})})]})}function mF({text:e,tooltipText:t,currentProgress:r,totalProgress:a}){return(0,s.jsxs)(mP.Y,{direction:"vertical",height:"hug-contents",spacing:"7px",children:[(0,s.jsxs)(mP.Y,{horizontalAlignItems:"space-between",children:[(0,s.jsxs)(mP.Y,{spacing:4,children:[(0,s.jsx)(k.E,{fontSize:13,fontWeight:"medium",children:e}),(0,s.jsx)("div",{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,children:(0,s.jsx)(uP.In,{icon:"info-16",fill:"secondary"})})]}),(0,s.jsxs)(k.E,{fontSize:13,fontWeight:"medium",children:[r,"/",a]})]}),(0,s.jsxs)("div",{className:N.s.relative.wFull.$,children:[(0,s.jsx)("div",{className:N.s.absolute.wFull.$,children:(0,s.jsx)(mP.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})}),(0,s.jsx)("div",{className:N.s.absolute.wFull.$,children:(0,s.jsx)(mP.Y,{cornerRadius:5,height:5,width:`${Math.min(r/a*100,100)}%`,backgroundColor:r>=a?"warning":"brand"})})]})]})}let mD=(0,r7.tf)(tL.$n);function mM(e){return(0,s.jsx)(aA.u,{label:"StarterLimitOverview",children:(0,s.jsx)(mU,{...e})})}function mU({canEditTeam:e,isDraftsFolder:t}){let r=(0,n.wA)(),a=(0,aM.ol)(),i=(0,eO._6)(),o=(0,l.kc)().sites_design_starter_combined_file_limit;return t||!a||(0,sT.w5)(a)||"folder"!==i.view||o?null:(0,s.jsx)(mB,{folderId:i.folderId,showPlanComparisonModal:()=>{r((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.STARTER_LIMIT_OVERVIEW,teamId:a.id}}))},canEditTeam:e})}function mB({folderId:e,showPlanComparisonModal:t,canEditTeam:r}){let a=(0,V.E9)(),i=(0,p.bc)((0,eY.yU5)({projectId:e})),n=so.h.useTrackingContext({trigger:sl.b.STARTER_LIMIT_OVERVIEW});if("loaded"!==i.status)return null;let o=i.data.project?.team?.projectsCount.status==="loaded"?i.data.project?.team?.projectsCount.data??1:1,l=i.data.project?.team?.teamFileCounts?.designFileCount??0,d=i.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,c=i.data.project?.team?.teamFileCounts?.slideFileCount,u=c?parseInt(c,10):0,m=(0,es.oA)(i.data.project?.team?.teamFileCounts?.totalFileCount)??0,_=a?m>=sT.WW:l>=sT.WW||d>=sT.WW;return(0,s.jsx)(r7.fu,{name:"Starter Limit Overview",properties:n,children:(0,s.jsx)("div",{className:G()(N.s.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--nMkA0"),style:i3.sx.sticky.add({alignSelf:"flex-start",top:"128px",maxWidth:a?"280px":"300px"}).$,children:(0,s.jsxs)(mP.Y,{direction:"vertical",padding:a?16:32,spacing:a?"auto":24,cornerRadius:a?13:8,strokeWidth:1,strokeColor:"default",height:"hug-contents",children:[(0,s.jsx)("div",{...{0:{},1:{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly"}}[!!a<<0],children:a?(0,S.tx)("file_browser.starter_limit_global.your_plan_files"):(0,s.jsx)(k.E,{fontSize:16,fontWeight:"semi-bold",children:(0,S.tx)("file_browser.starter_limit.your_starter_team_overview")})}),(0,s.jsx)(mG,{numProjects:o,numFigmaFilesUsed:l,numFigjamFilesUsed:d,numSlidesFilesUsed:u,totalFilesUsed:m,isStarterGlobalFileLimitOn:a}),r?(0,s.jsxs)(mP.Y,{direction:"vertical",spacing:"12px",children:[a?(0,s.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xmzs88n x1xmf6yo",children:(0,S.tx)("file_browser.starter_limit_global.description")}):(0,s.jsx)(k.E,{fontSize:13,children:(0,S.tx)(_?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")}),(0,s.jsx)(mD,{onClick:t,trackingProperties:{trackingDescriptor:e_.c.VIEW_PLANS,numFiles:m},children:(0,S.tx)("upgrade.view_plans")})]}):(0,s.jsx)(k.E,{fontSize:13,children:(0,S.tx)("file_browser.starter_limit.trying_things_out")})]})})})}function mG({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:r,numSlidesFilesUsed:a,totalFilesUsed:i,isStarterGlobalFileLimitOn:n}){return(0,s.jsxs)(mP.Y,{direction:"vertical",spacing:24,width:n?"100%":234,children:[n&&(0,s.jsx)(mL,{currentProgress:i,totalAllowed:sT.WW}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(mF,{text:(0,S.t)("file_browser.starter_limit.projects"),tooltipText:(0,S.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:sT.Wf}),(0,s.jsx)(mF,{text:(0,S.t)("file_browser.starter_limit.design_files"),tooltipText:(0,S.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:sT.WW}),(0,s.jsx)(mF,{text:(0,S.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,S.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:r,totalProgress:sT.WW}),(0,s.jsx)(mF,{text:(0,S.t)("file_browser.starter_limit.slides"),tooltipText:(0,S.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:a,totalProgress:sT.WW})]})]})}var mW=r(740681),mz=r(833737);let mV="open_invoice_reminder_card--icon--gcN35";function mH(e){let t=(0,n.wA)(),r=e.team.restrictions_list?.includes(eU.P4.LOCKED),a=e.canAdminTeam?r?(0,S.t)("billing.open_invoice_reminder.title"):(0,S.t)("billing.open_invoice_reminder.grace_period_title"):(0,S.t)("billing.open_invoice_reminder.title_viewer"),i=e.canAdminTeam?r?(0,S.t)("billing.open_invoice_reminder.locked_admin_description"):(0,S.t)("billing.open_invoice_reminder.grace_period_admin_description"):(0,S.t)("billing.open_invoice_reminder.locked_viewer_description"),o=e.canAdminTeam?(0,S.t)("billing.open_invoice_reminder.cta"):null,l={"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":(0,S.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,s.jsxs)(mP.Y,{direction:"vertical",padding:e.noPaddingOrBorder?0:20,spacing:24,width:288,cornerRadius:e.noPaddingOrBorder?void 0:8,strokeWidth:e.noPaddingOrBorder?void 0:1,strokeColor:"default",height:"hug-contents",children:[(0,s.jsx)("div",{className:N.s.flex.justifyBetween.wFull.$,children:(0,s.jsx)("div",{className:N.s.flex.itemsCenter.justifyCenter.w32.h32.bRadius5.colorBgWarning.$,children:r?(0,s.jsx)(mW.s,{className:mV}):(0,s.jsx)(mz.R,{className:mV})})}),(0,s.jsx)("div",{className:N.s.font14.fontSemiBold.lh24.$,children:a}),(0,s.jsx)("div",{className:N.s.font13.lh24.$,children:i}),!!o&&(0,s.jsx)("div",{className:N.s.flex.justifyEnd.wFull.$,children:(0,s.jsx)(tL.IK,{onClick:()=>t(eR.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:eQ.Iv.BILLING})),variant:"primary",htmlAttributes:l,children:o})})]})}function m$(e){return e.team.restrictions_list?.includes(eU.P4.LOCKED)||e.canAdminTeam?(0,s.jsx)(r7.fu,{name:"Open Invoice Reminder Card",properties:{teamId:e.team.id},children:(0,s.jsx)(mH,{...e})}):null}var mq=r(649266);function mY({team:e,canEditTeam:t,canAdminTeam:r,isDraftsFolder:a,shouldShowLockedRedesign:i,shouldShowLockedProTeamRevampDesign:n}){return e&&i?(0,s.jsx)("div",{className:"x1hx13ah",children:(0,s.jsx)(mq.R,{teamId:e.id,canEditTeam:t})}):e&&n?(0,s.jsx)("div",{className:"x1hx13ah",children:(0,s.jsx)(m$,{team:e,canAdminTeam:r})}):(0,s.jsx)(mM,{canEditTeam:t,isDraftsFolder:a})}var mK=r(817351);let mJ="tiles_view--container--u00AG",mQ="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd";function mX({tile:e,index:t,dispatch:r,selectedView:a,currentPlanFilter:s,currentSharedByFilter:i,isListView:n,sprig:o}){e.type===rw.nb.FILE&&(r(E.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:s,currentSharedByFilter:i,viewMode:void 0!==n?n?"list":"grid":void 0,sprig:o})),"recentsAndSharing"===a.view&&a.tab===mo.Gw.RECENTLY_VIEWED&&r(E.T5({index:t})),c.eD&&(0,sM.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.fileRepoId,uiSelectedView:JSON.stringify(a)}))}function mZ({currentPlanFilter:e,currentSharedByFilter:t,emptyStateContent:r,emptyStateText:a,isDraftsFolder:o=!1,isFolder:d,isEligbileForProTeamLockedRevampUI:m,newFileTile:_,overFilteredText:f,shouldLogVisibleTileCount:x=!1,sortFilterOptions:h,tileActions:b,tiles:v,sortedFilteredTiles:y}){let j=(0,eO._6)(),w="folder"===j.view?j.folderId:null,T=rh.M4.Folder.useValue(w).data,{showing:E,show:k,data:C}=(0,od.L)(),A=(0,eM.FC)(),R=(0,aM.ol)(),{Sprig:O}=(0,t5.A)(),P=T?.team_id||R?.id,L=(0,p.bc)((0,eY.yQw)(P?{teamId:P}:null)),F=i.useMemo(()=>L.transform(({team:e})=>!!e?.canEdit).unwrapOr(!1),[L]),D=i.useMemo(()=>L.transform(({team:e})=>!!e?.canAdmin).unwrapOr(!1),[L]),M=(0,ol.v)();i.useEffect(()=>{let e="page_selected_view",t=mj.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=mj.sn.tryStop(e);t&&(0,sM.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:j.view},{forwardToDatadog:!0,batchRequest:!0})}},[j.view,w]);let U=(0,sg.R)(e=>e.selectedBranchKeyByRepoId),B=i.useMemo(()=>(0,s5.isOrgUserExternallyRestrictedFromState)(A),[A]),G=(0,n.wA)(),W=(0,eN.vt)(R?.id),z=!!R&&W,V=!!R&&!!m,H=h.tileSortFilterConfig.viewMode??iW.XU.GRID,$=H===iW.XU.LIST,q=(0,ec.md)(rw.Y6),Y=i.useCallback((r,a,s)=>{mX({tile:r,index:s,dispatch:G,selectedView:j,currentPlanFilter:e,currentSharedByFilter:t,isListView:$,sprig:O}),(0,l.kc)().kill_tile_view_open_generic_tile?M(r,a):function({tile:e,e:t,dispatch:r,selectedView:a,permissionsState:s,selectedBranchKeyByRepoId:i,renamingItem:n}){if(rw.Tf.isRenaming(e,n)||e.type===rw.nb.FILE&&e.file.trashedAt||e.type===rw.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let o=g.Ay.mac?t.metaKey:t.ctrlKey,l=null;o&&t.shiftKey?l=c.aw.FOCAL_TAB:o?l=c.aw.BACKGROUND_TAB:t.shiftKey&&(l=c.aw.NEW_WINDOW);let d=s.user;if(c.eD){let a;switch(l=l??c.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case rw.nb.FILE:a=!!(e.file.isTeamTemplate&&(0,eD.LQ)(s)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,target:l,isBranch:(0,mk.Kz)(e.file),isLibrary:!!e.file.lastPublishedAt,isTeamTemplate:a,userId:d?.id});break;case rw.nb.PINNED_FILE:a=!!(e.file.isTeamTemplate&&(0,eD.LQ)(s)),c.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:a,target:l,userId:d?.id});break;case rw.nb.PROTOTYPE:c.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.fig_file.name||"",l,d?.id);break;case rw.nb.REPO:let n=(0,mk.mr)(e.repo,e.branches,i);c.eD.openFile({fileKey:n.key,title:n.name,fileEditorType:n.editor_type,target:l,isBranch:(0,mk.Xm)(n),isLibrary:!!n.last_published_at,userId:d?.id});break;case rw.nb.OFFLINE_FILE:r(mI.NA({file:e.file,openNewFileIn:o7.ai.NEW_TAB,source:mA.U.OFFLINE_FILE_TILE}));break;default:(0,I.xb)(e)}return}if(null!=l){if(r(eR.oB()),e.type===rw.nb.OFFLINE_FILE){r(mI.NA({file:e.file,openNewFileIn:o7.ai.NEW_TAB,source:mA.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let r=rw.Tf.getUrl(e,i);u.Ay.redirect(r,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let m=s.currentUserOrgId,_=s.currentTeamId,p="recentsAndSharing"===a.view||"folder"===a.view?a:void 0;r(mN.c5({planId:m||_,planType:m?o8.O.ORG:o8.O.TEAM}));let f={user:d,teamId:_,orgId:m,selectedView:a};switch(e.type){case rw.nb.FILE:(0,oj.N7)(m,e.file.parentOrgId,_,e.file.teamId)?(0,oj.QV)({file:{key:e.file.key,editorType:e.file.editorType||void 0}},f):r(eR.sf({view:"fullscreen",fileKey:e.file.key,editorType:mC.z4.getIsExtension()?mR.nT.DevHandoff:e.file.editorType?(0,mR.wN)(e.file.editorType):mR.nT.Design,prevSelectedView:p}));break;case rw.nb.PINNED_FILE:(0,oj.N7)(m,e.file.parentOrgId,_,e.file.teamId)?(0,oj.QV)({file:{key:e.file.key,editorType:e.file.editorType}},f):r(eR.sf({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,mR.wN)(e.file.editorType):mR.nT.Design,prevSelectedView:p}));break;case rw.nb.PROTOTYPE:let x=e.prototype.fig_file;(0,oj.N7)(m,x.parent_org_id,_,x.team_id)?(0,oj.QV)({base:"proto",file:{key:x.key,editorType:x.editor_type||void 0},nodeId:e.prototype.page_id},f):r(eR.sf({view:"prototype",file:x,nodeId:e.prototype.page_id,prevSelectedView:p}));break;case rw.nb.REPO:{let t=(0,mk.mr)(e.repo,e.branches,i);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let a=t.key;(0,oj.N7)(m,t.parent_org_id,_,t.team_id)?(0,oj.QV)({file:{key:a}},f):r(eR.sf({view:"fullscreen",fileKey:a,editorType:mR.nT.Design,prevSelectedView:p}));break}case rw.nb.OFFLINE_FILE:r(mI.NA({file:e.file,openNewFileIn:o7.ai.SAME_TAB,source:mA.U.OFFLINE_FILE_TILE}));break;default:(0,I.xb)(e)}}({tile:r,e:a,dispatch:G,selectedView:j,permissionsState:A,selectedBranchKeyByRepoId:U,renamingItem:q})},[$,e,t,G,A,M,U,j,q,O]),K=i.useCallback((r,a,s)=>{mX({tile:r,index:s,dispatch:G,selectedView:j,currentPlanFilter:e,currentSharedByFilter:t,isListView:$,sprig:O})},[$,e,t,j,G,O]),J=i.useCallback((e,t,r)=>{let a=rw.Tf.getId(e);mT.$.start(a),k({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[k]),Q=(0,rw.nw)(y),[X,Z]=i.useState([]),{visibleTiles:ee,setVisibleTiles:et}=function({shouldLogVisibleTileCount:e,viewMode:t,sortedFilteredTilesLength:r}){let[a,s]=i.useState(null),n=(0,eO._6)().view,o=i.useRef(!1);return i.useEffect(()=>{let s=o.current;e&&!s&&a&&(sM.az.trackDefinedEvent("file_browser.visible_tiles_count",{totalCount:r,visibleCount:a.length,viewMode:(0,iW.jq)(t),selectedView:n,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,isMobileDevice:g.Ay.mobile}),o.current=!0)},[a,e,t,r,n]),{visibleTiles:a,setVisibleTiles:s}}({shouldLogVisibleTileCount:x,viewMode:H,sortedFilteredTilesLength:y.length});if((0,mw.Cm)(ee??[]),!function(e){let t=(0,eO._6)(),r=(0,n.wA)(),a=(0,my.k9)(()=>{if("deletedFiles"===t.view)return[];let r=[];return e.forEach(e=>{switch(e.type){case rw.nb.FILE:r.push({fileKey:e.file.key});break;case rw.nb.REPO:let t=(0,rw.yF)(e);r.push({fileKey:t.key})}}),r},[t.view,e]),s=(0,p.p)(eY.hqi,a);i.useEffect(()=>{for(let{result:e,args:t}of s)if("loaded"===e.status&&e.data){let a=(0,mS.ZF)(e.data);r(rp.Lk({fileKey:t.fileKey,users:a}))}},[s,r])}(X),0===y.length){let e=(()=>{if(v.length>0&&""!==f){let e=f??(0,S.t)("file_browser.tiles_view.default_overfiltered_text");return(0,s.jsx)("div",{className:mQ,"data-test-id":"over-filtered-state-text",children:e})}let e="";return(a?e=a:(g.Ay.mobile||g.Ay.tablet)&&(e=(0,S.t)("file_browser.folder.this_project_is_empty")),e)?(0,s.jsx)("div",{className:mQ,"data-test-id":"empty-state-text",children:e}):null})();if(e)return(0,s.jsx)("div",{className:mJ,children:(0,s.jsxs)("div",{className:N.s.flex.$,children:[e,!!R&&(0,s.jsx)(mY,{shouldShowLockedRedesign:z,shouldShowLockedProTeamRevampDesign:V,team:R,canEditTeam:F,canAdminTeam:D,isDraftsFolder:o})]})});if(r)return(0,s.jsx)("div",{className:mJ,children:r})}let er=mJ+($?` ${mK._O} `:` ${mK.CK} `),ea=v.length>0,es=!!R?.restrictions_list?.includes(eU.P4.LOCKED),ei=z||es&&V;return(0,s.jsxs)("div",{className:mJ,children:[(0,s.jsxs)("div",{className:er,children:[(0,s.jsxs)("div",{className:N.s.flex.$,children:[ea&&(0,s.jsx)(mE.d,{sortConfig:h.tileSortFilterConfig.sort,handleOpenTile:K,items:y,sortBy:e=>{let t=h.tileSortFilterConfig,r=t.sort.dir===iW.ue.DESC?iW.ue.ASC:iW.ue.DESC;G(eC.JF({selectedView:j,config:{...t,sort:{key:e,dir:e===t.sort.key?r:t.sort.dir}},tab:"recentsAndSharing"===j.view?j.tab:void 0}))},viewType:$?iW.XU.LIST:iW.XU.GRID,updateRenderedItems:Z,updateVisibleItems:et,handleOpenDropdown:J,checksForViewOnlyLabels:ei?{teamId:R.id,isLockedTeam:!0}:void 0}),ea&&(0,s.jsx)(mY,{shouldShowLockedRedesign:z,shouldShowLockedProTeamRevampDesign:V,team:R,canEditTeam:F,canAdminTeam:D,isDraftsFolder:o})]}),!(g.Ay.mobile||g.Ay.tablet)&&_&&!B&&!ea&&(0,s.jsxs)("div",{className:N.s.flex.$,children:[(0,s.jsx)("div",{className:"tiles_view--importPrompt--srrJn",children:(0,s.jsxs)("div",{className:mQ,children:[(0,s.jsx)("div",{className:"tiles_view--emptyTitle--3Vwmu",children:d?(0,S.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,S.t)("file_browser.folder.no_files_yet")}),(0,S.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch_with_pptx")]})}),(0,s.jsx)(mY,{shouldShowLockedRedesign:z,shouldShowLockedProTeamRevampDesign:V,team:R,canEditTeam:F,canAdminTeam:D,isDraftsFolder:o})]})]}),(0,s.jsx)(mO,{dropdownData:C,isFolder:d,isDropdownOpen:E,tileActions:b,selectedTiles:Q,openTile:Y})]})}var m0=r(133724),m1=r(548233);function m4(){let e=(0,X.d)(),t=(0,n.d4)(e=>e.currentTeamId),r=(0,n.d4)(e=>e.tileSortFilterStateByView),a={restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!e},o=(0,eI.R)(t),l=(0,u3.xx)(e=>({tileSortFilterConfig:e,sortKeys:[iW.C0.TRASHED_AT,iW.C0.NAME,iW.C0.CREATED_AT,iW.C0.TOUCHED_AT]}))(r.deletedFiles),{creatorFilter:d,fileTypeFilter:c}=function(e){let t="your_files";switch(e.tileSortFilterConfig.filters.creator){case iW.rJ.SELF:t="your_files";break;case iW.rJ.OTHER:t="other_files";break;case iW.rJ.ANY:t="all";break;default:(0,I.xb)(e.tileSortFilterConfig.filters.creator)}let r="";switch(e.tileSortFilterConfig.filters.fileType){case iW.t2.DESIGN:r="design";break;case iW.t2.FIGJAM:r="whiteboard";break;case iW.t2.PROTOTYPE:r="prototype";break;case iW.t2.SLIDES:r="slides";break;case iW.t2.SITES:r="sites";break;case iW.t2.COOPER:r="cooper";break;case iW.t2.MAKE:r="figmake";break;case iW.t2.ANY:r="";break;default:(0,I.xb)(e.tileSortFilterConfig.filters.fileType)}return{creatorFilter:t,fileTypeFilter:r}}(l),u=(0,eK.XP)({reportErrorsToTeam:U.e.WAYFINDING}),{subscription:m,fetchNextPage:_,isFetchingNextPage:f}=function(e){let t=(0,p.bc)(eY.R89,{...e,firstPageSize:55}),r=(0,i.useCallback)(()=>{t.data?.trashedResources?.loadNext(55)},[t,55]),a="loaded"===t.status&&t.data.trashedResources.isLoadingNextPage,s=(0,i.useMemo)(()=>t.transform(e=>{let t=e.trashedResources;return t?t.reduce((e,t)=>{if(t.file&&t.file.trashedAt){var r;e.push((r=t.file,{type:rw.nb.FILE,file:{...r,signedPreviewThumbnailUrls:null,isClaimableFile:!1},sharedWithYouFields:null}))}else if(t.repo&&t.repo.trashedAt){let r=function(e){if(!e.sourceFile)return null;let t=m1.H.toSinatra(e);return{type:rw.nb.REPO,repo:t,branches:[om.F.toSinatra({...e.sourceFile})],selectedBranchKey:e.sourceFile.key}}(t.repo);r&&e.push(r)}return e},[]):[]}),[t]),o=(0,n.wA)();return(0,i.useEffect)(()=>{if(s.data){let e=s.data?.filter(e=>e.type===rw.nb.FILE).map(e=>om.F.toSinatra(e.file))||[],t=s.data?.filter(e=>e.type===rw.nb.REPO).map(e=>e.repo)||[];o(rp.uo({files:e})),o(m0.uo({repos:t}))}},[s.data,o]),{subscription:s,fetchNextPage:r,isFetchingNextPage:a}}({cursor:null,creatorFilter:d,fileTypeFilter:c,sortType:l.tileSortFilterConfig.sort.key===iW.C0.TRASHED_AT?"trashed_at":"name",sortDirection:l.tileSortFilterConfig.sort.dir===iW.ue.ASC?"asc":"desc",planId:u?.key.parentId??null,planType:u?.key.type??null,queryParams:null}),x=mb({tilesResult:m,tileSortFilterConfig:l.tileSortFilterConfig}),g=i.useCallback(()=>{f||_()},[f,_]),h=l.tileSortFilterConfig.filters,b=l.tileSortFilterConfig.sort;return(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",result:sh.Qw.all([m,x]),loadingElementClassName:N.s.pr32.$,children:([e,t])=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(mv.B,{onShouldFetchNextPage:g,isFetchingNextPage:f,children:(0,s.jsx)(mZ,{tiles:e,sortedFilteredTiles:t,newFileTile:!1,tileActions:a,sortFilterOptions:l,emptyStateText:(0,S.t)("file_browser.tool_bar.trashed_empty_state"),isEligbileForProTeamLockedRevampUI:o})},`${d}-${h.fileType}-${b.key}-${b.dir}`),(0,s.jsx)(uI.cx,{})]})})}var m2=r(520741),m5=r(396331);function m6({canEditTeam:e}){var t;let r=(0,n.wA)(),a=(0,aM.ol)(),i=(0,eO.z3)(),o=(0,h.I7)("exp_fbg_project_limit_upsell"),l=so.h.useTrackingContext({trigger:sl.b.FOLDER_UPSELL_CARD});if(!(t=(0,eK.X$)("FolderUpsellCard").unwrapOr(null))||!e||t.tier!==eU.Ag.STARTER||"recentsAndSharing"===i||"trashedFolders"===i||!o.getConfig().getValue("show_upsell",!1))return null;let d=(0,s.jsx)(ae.Us,{className:N.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),e.preventDefault(),r((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.FOLDER_UPSELL_CARD,teamId:a?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...l},trusted:!0,canFocus:!0,children:(0,S.tx)("team_view.folder_upsell.professional_plan")});return(0,s.jsx)(r7.fu,{name:"Folder Upsell Card",properties:l,children:(0,s.jsxs)(r7.$z,{className:G()(N.s.flex.flexColumn.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{r((0,tC.to)({type:ss.DV,data:{team:a,resource:sa.vL.FOLDER,action:rt.ZN.CREATE_FOLDER,currentPlan:st.F.Plan.STARTER,upsellPlan:st.F.Plan.PRO,editorType:null,entryPoint:aD.C6.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button",children:[(0,s.jsxs)("div",{className:N.s.relative.wFull.$,children:[(0,s.jsx)(m5.X,{FileThumbnailComponent:m3}),(0,s.jsx)("div",{style:i3.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$,children:(0,s.jsx)("div",{className:"folder_upsell--listCardItemContainer--kgCcG",children:(0,s.jsx)(nt.$,{})})})]}),(0,s.jsxs)(mP.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents",children:[(0,s.jsx)(k.E,{fontSize:13,fontWeight:"medium",children:(0,S.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")}),(0,s.jsx)(k.E,{fontSize:11,color:"secondary",children:(0,S.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:d})})]})]})})}function m3(){return(0,s.jsx)("div",{className:N.s.wFull.hFull.colorBg.$})}function m7({canEditTeam:e}){let t=(0,n.wA)(),r=(0,aM.ol)(),a=(0,eO.z3)(),i=so.h.useTrackingContext({trigger:sl.b.FOLDER_UPSELL_CARD}),o=(0,h.I7)("exp_fbg_project_limit_upsell");if(!r||!e||(0,sT.w5)(r)||"recentsAndSharing"===a||"trashedFolders"===a||!o.getConfig().getValue("show_upsell",!1))return null;let l=(0,s.jsx)(ae.Us,{className:N.s.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,tC.to)({type:aP.V,data:{entrypoint:aD.C6.FOLDER_UPSELL_CARD,teamId:r?.id}}))},trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL_PLAN,...i},trusted:!0,children:(0,S.tx)("team_view.folder_upsell.professional_plan")});return(0,s.jsx)(r7.fu,{name:"Folder Upsell List",properties:i,children:(0,s.jsx)("div",{className:N.s.flex.mt16.bRadius8.b1.colorBorder.$,style:i3.sx.add({borderStyle:"dashed"}).$,children:(0,s.jsxs)(r7.$z,{className:G()(N.s.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.pl36.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,tC.to)({type:ss.DV,data:{team:r,resource:sa.vL.FOLDER,action:rt.ZN.CREATE_FOLDER,currentPlan:st.F.Plan.STARTER,upsellPlan:st.F.Plan.PRO,editorType:null,entryPoint:aD.C6.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:e_.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button",children:[(0,s.jsxs)("div",{className:G()(N.s.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf"),children:[(0,s.jsx)("div",{style:i3.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$,children:(0,s.jsx)(mP.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center",children:(0,s.jsx)(nt.$,{})})}),(0,s.jsxs)(mP.Y,{direction:"vertical",spacing:4,children:[(0,s.jsxs)(mP.Y,{direction:"horizontal",spacing:4,children:[(0,s.jsx)(mP.Y,{cornerRadius:2,backgroundColor:"default"}),(0,s.jsx)(mP.Y,{cornerRadius:2,backgroundColor:"default"})]}),(0,s.jsxs)(mP.Y,{direction:"horizontal",spacing:4,children:[(0,s.jsx)(mP.Y,{cornerRadius:2,backgroundColor:"default"}),(0,s.jsx)(mP.Y,{cornerRadius:2,backgroundColor:"default"})]})]})]}),(0,s.jsxs)(mP.Y,{direction:"vertical",spacing:0,children:[(0,s.jsx)(k.E,{fontSize:13,children:(0,S.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")}),(0,s.jsx)(k.E,{fontSize:11,color:"secondary",children:(0,S.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:l})})]})]})})})}var m8=r(578726),m9=r(957867),_e=r(713606),_t=r(768823);let _r="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd";function _a(e){let t=(0,n.d4)(e=>e.dropdownShown),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,n.d4)(e=>e.user),{folderList:i}=e,o=()=>e.viewMode===iW.XU.LIST,l=(0,eN.vt)(e.teamId),d=!!e.teamId&&!!e.isEligbileForProTeamLockedRevampUI,c=(0,eI.jn)(),u=e.teamId?{teamId:e.teamId,isLockedTeam:!!l||c}:void 0,m=(0,m8.H)(t);return 0===i.length?(0,s.jsx)(s.Fragment,{children:e.onCreateNewFolder&&!(0,eE.R$)(a,r)?(0,s.jsx)("div",{className:_r,children:e.canEditTeamContents?(0,s.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k xou54vl",children:[(0,s.jsx)("div",{className:"xk50ysn",children:(0,S.tx)("team_view.folder_empty_view.no_projects_yet")}),(0,S.tx)("team_view.folder_empty_view.projects_help_you_organize"),(0,s.jsx)(tL.$n,{variant:"secondary",onClick:e.onCreateNewFolder,iconPrefix:(0,s.jsx)(t4.e,{}),children:(0,S.tx)("team_view.folder_empty_view.new_project")})]}):(0,S.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")}):null!=e.emptyStateText?(0,s.jsxs)("div",{className:"x78zum5 x1rzw5jd",children:[(0,s.jsx)("div",{className:_r,children:e.emptyStateText}),l&&(0,s.jsx)(mq.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&d&&(0,s.jsx)(m$,{team:e.team,canAdminTeam:!!e.canAdminTeam})]}):(0,S.tx)("team_view.folder_empty_view.no_projects")}):(0,s.jsxs)(s.Fragment,{children:[(()=>{let t=i.length>=2?1:1===i.length?0:void 0;return(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np",children:[(0,s.jsxs)("div",{className:"xh8yej3",children:[(0,s.jsx)(m9.m,{checksForViewOnlyLabels:u,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:"project-card",dataOnboardingKeyIndex:t,folderList:i,isSharerInfoIncluded:e.isSharerInfoIncluded,onChangeSortOptions:e.onChangeSortOptions,trailingGridElements:l||c?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(m6,{canEditTeam:e.canEditTeamContents}),viewType:e.viewMode}),!l&&!c&&o()&&(0,s.jsx)(m7,{canEditTeam:e.canEditTeamContents})]}),(0,s.jsxs)("div",{className:"folder_list_view--infoCard--DzZGD",children:[l&&(0,s.jsx)(mq.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}),e.team&&d&&(0,s.jsx)(m$,{team:e.team,canAdminTeam:!!e.canAdminTeam})]})]})})(),m&&(0,s.jsx)(_e.p,{folder:m,shouldHideShareOption:!1})]})}let _s={name:mn.f.byProperty("name",mn.f.LEXICOGRAPHICALLY),lastModified:mn.f.byProperty("folderLastUpdated"),team:mn.f.byProperty("folderTeamName",mn.f.LEXICOGRAPHICALLY),sharedAt:mn.f.byProperty("folderSharedAt"),createdAt:mn.f.byProperty("created_at"),trashedAt:mn.f.byProperty("trashed_at")};function _i(e){let{folderList:t,...r}=e,a=(0,n.wA)(),o="trashedFolders"===e.selectedView.view,l="team"===e.selectedView.view,d="recentsAndSharing"===e.selectedView.view,c=(0,n.d4)(e=>e.tileSortFilterStateByView),u=i.useMemo(()=>{if(l){let e=c.team;return{viewMode:void 0!==e.viewMode?e.viewMode:iW.XU.GRID,sortKey:function(e){switch(e){case iW.C0.NAME:return"name";case iW.C0.TOUCHED_AT:return"lastModified";case iW.C0.CREATED_AT:return"createdAt";case iW.C0.TRASHED_AT:return"trashedAt";case iW.C0.ACCESSED_AT:case iW.C0.SHARED_AT:return"lastModified";case iW.C0.SEARCH_RELEVANCE:case iW.C0.PROJECT_NAME:return"name";default:(0,I.xb)(e)}}(e.sort.key),sortDesc:e.sort.dir===iW.ue.DESC}}if(o){let e=c.trashedFolders;return{viewMode:void 0!==e.viewMode?e.viewMode:iW.XU.GRID,sortKey:(0,iW.jx)(e.sort.key)??"trashedAt",sortDesc:e.sort.dir===iW.ue.DESC}}if(!d)return{viewMode:iW.XU.GRID,sortKey:"lastModified",sortDesc:!0};{let e=c.recentsAndSharing;return{viewMode:void 0!==e.sharedProjects.viewMode?e.sharedProjects.viewMode:iW.XU.GRID,sortKey:(0,iW.jx)(e.sharedProjects.sort.key)??"lastModified",sortDesc:e.sharedProjects.sort.dir===iW.ue.DESC}}},[l,o,d,c.team,c.trashedFolders,c.recentsAndSharing]),m=i.useMemo(()=>{if(d)return e.folderList;let t=_s[u.sortKey];if(!t)return e.folderList;let r=u.sortDesc?mn.f.reverse(t):t,a=e.folderList.map(e=>({...e,...(0,_t.Z)(e)}));return a.sort(r),a},[d,u.sortKey,u.sortDesc,e.folderList]);return(0,s.jsxs)("div",{children:[o&&c.trashedFolders.filters.role===iW.Jh.CAN_BE_VIEWED&&(0,s.jsx)("div",{className:"x1yztbdb x1tudf5h x1m2p0i2",children:(0,s.jsx)(m2._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:m2.S.INFORMATION,text:(0,s.jsxs)("p",{className:"xk50ysn",children:[(0,s.jsx)("span",{className:"x1s688f",children:(0,S.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")}),"\xa0",(0,S.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content")]})})}),(0,s.jsx)(_a,{folderList:m,chunkSize:e.chunkSize,viewMode:u.viewMode,onChangeSortOptions:t=>{if(l){let r=t.sortKey===rF.Dq.NAME?iW.C0.NAME:iW.C0.TOUCHED_AT,s=t.sortDesc?iW.ue.DESC:iW.ue.ASC;a(eC.JF({selectedView:e.selectedView,config:{...c.team,sort:{key:r,dir:s}}}))}else a(eC.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},...r})]})}function _n(){let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,aM.ol)(),r=(0,p.bc)(eY.kQI,{id:t?t.id:""},{enabled:!!t?.id}),a=(0,p.bc)(eY.TNJ,{id:t?t.id:""},{enabled:!!t?.id}),i=(0,n.d4)(e=>e.tileSortFilterStateByView),o=(0,eO._6)(),l=(0,eI.R)(t?.id),d=i.trashedFolders,[c]=(0,f.IT)((0,E.p5)({orgId:e,teamId:t?.id??null,roleFilter:d.filters.role})),u="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission,m="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission;return(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",delay:250,result:c,loadingElementClassName:N.s.pr32.$,children:e=>(0,s.jsx)("div",{style:i3.sx.mt1.$,children:(0,s.jsx)(_i,{canAdminTeam:m,canEditTeamContents:u,chunkSize:e?.folders?.length||0,emptyStateText:(0,S.t)("file_browser.trash_project.trashed_empty_state"),folderList:e?.folders||[],isEligbileForProTeamLockedRevampUI:l,isSharerInfoIncluded:!1,selectedView:o,team:t,teamId:t?.id,viewId:me.l})})})}var _o=(e=>(e.FILES="files",e.FOLDERS="folders",e))(_o||{});function _l(e){let t=(0,eO._6)();if("deletedFiles"!==t.view&&"trashedFolders"!==t.view)return(0,s.jsx)(s.Fragment,{});let r=(0,s.jsx)(mi,{currView:t}),a="folders"===e.selectedTab?(0,s.jsx)(_n,{}):(0,s.jsx)(m4,{});return(0,s.jsx)(ne.r,{viewBarSticky:!0,viewbar:r,content:a})}var _d=r(671512);let _c=[ev.Wb3,ev.Ult,ev.kmq,ev.USq,ev.jQF,ev.j0N,ev.Ob5,ev.Qlc,ev.I$z,ev.X5_,ev.LB2,ev.I5n,ev.Msu,ev.UmN,ev.Ql8,ev.Q16,ev.O5v,ev.rv,ev.HaT,ev.rQs,ev.YHe,ev.hxO,ev.sqw,ev.Duq,ev.yjU,ev.BTz,ev.I3H,ev.tZO,ev.LPt,ev.cJy,ev.tUL,ev.tBR,ev.K69,ev.Tp6,ev.XIg,ev.fQh,ev.O9D,ev.c6t,ev.NM0,ev.YPG,ev.j9$,ev.LQ8,ev.r3Y].map(e=>e.id);function _u({children:e}){return(0,s.jsx)(_d.A,{name:"FileBrowser",order:_c,children:e})}var _m=r(550209);function __({folderId:e,enabled:t=!0,shouldCompareWithUnpaginated:r,source:a}){let s=(0,n.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),o=(0,i.useMemo)(()=>({fileType:_p(s.filters.fileType),sortOrder:s.sort.dir===iW.ue.ASC?"asc":"desc",sortColumn:_f(s.sort.key)}),[s.filters.fileType,s.sort.dir,s.sort.key]);return(0,f.IT)((0,q.BU)({folderId:e,shouldCompareWithUnpaginated:r,source:a,...o}),{enabled:t})}let _p=e=>{switch(e){case iW.t2.DESIGN:return"design";case iW.t2.FIGJAM:return"whiteboard";case iW.t2.PROTOTYPE:return"prototype";case iW.t2.SITES:return"sites";case iW.t2.SLIDES:return"slides";case iW.t2.COOPER:return"cooper";case iW.t2.MAKE:return"figmake";case iW.t2.ANY:return"";default:(0,I.xb)(e)}},_f=e=>{switch(e){case iW.C0.NAME:return"name";case iW.C0.CREATED_AT:return"created_at";case iW.C0.TOUCHED_AT:return"touched_at";default:return(0,_m.$D)(U.e.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var _x=r(678375),_g=r(158965),_h=r(457923),_b=r(268305),_v=r(464103),_y=r(839216),_j=r(678184);function _w(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.teams)[e.teamId].subscription,a=e.paymentRequiresAction;return(0,i.useEffect)(()=>{sS.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,oj.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,i.useEffect)(()=>{a||r===eU.Qh.INCOMPLETE||t(tC.ES({type:_T.type}))},[r,t,a]),(0,s.jsx)(as.Dd,{title:(0,S.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,S.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:e_.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"},children:(0,S.tx)("payments.pending_subscription_modal_description")})}let _T=(0,tS.Ju)(function(e){return(0,s.jsx)(aA.u,{label:"PendingSubscriptionChangeModal",children:(0,s.jsx)(_w,{...e})})},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var _E=r(148470);let _I="banners--warn--bC4ke",_N="banners--primaryCtaButton--tyhCJ",_S="banners--content--ciED3",_k="banners--titleSmall--ceZgU",_C="banners--bold--qt00U",_A="banners--message--9BMLM",_R="banners--messageSmall--YT-82",_O="banners--secondaryCtaButton--uYrvi",_P="banners--ctaButtonGroup--r8cfU",_L="banners--closeButton--IXY-V",_F="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",_D="banners--teamUpgradeNotice--gqc9c",_M="banners--softWarningBanner--QK9Y5",_U="banners--softWarningBannerBlue--uQmhb";var _B=r(616591),_G=r(169256),_W=r(205778),_z=r(128912);function _V(e,t){let r=(0,eK.px)(),a=(0,eK.j_)(r),n=(0,eK.Kd)(r);return i.useMemo(()=>sh.Qw.transformAll([a,n],(r,a)=>(function(e,t,r,a){let i;if(!e.currentUserOrgId||!(0,sT.wn)(e.currentUserOrgId,e))return null;let n=e.orgById[e.currentUserOrgId];if(!n)return null;let o=n.past_due_at&&(0,eu.A)(n.past_due_at).add(2,"weeks")>(0,eu.A)(new Date);if(!r&&o)return null;let l=e.orgUsersByOrgId[e.currentUserOrgId]??{},d=(0,ex.zR)(l).map(e=>(0,s.jsxs)("span",{className:_C,children:[e.user.handle," (",e.user.email,")"]},e.id));return i=r?n.billing===_v.EZ.CHARGE_IMMEDIATELY?(0,S.tx)("payments.org_past_due_on_payment",{invoice:(0,s.jsx)("a",{onClick:()=>{t?.(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.BILLING}))},children:(0,S.tx)("payments.outstanding_invoice")}),orgName:n.name}):(0,S.tx)("payments.org_past_due_on_payment_invoiced",{email:(0,s.jsx)("b",{className:_C,children:(0,oK.W4)()}),orgName:n.name}):(0,S.tx)("payments.please_reach_out_to_org_admins",{orgName:n.name,admins:a&&(0,s.jsxs)("span",{children:[" ",(0,s.jsx)(_g.T,{formatType:"disjunction",children:d})]}),numAdmins:d.length}),{severity:_E.c.WARN,title:(0,S.t)("payments.payment_not_received"),message:i,cta:null,onClickCta:null}})(e,t,r,a)),[a,n,t,e])}function _H(e){return e?.status==="open"&&!!e.payment_intent&&[rt.pk.REQUIRES_ACTION,rt.pk.REQUIRES_SOURCE_ACTION].includes(e.payment_intent.status)}function _$(e,t,r,a,n){let o=function(e){let t=(0,p.bc)((0,eY.yQw)(e?{teamId:e}:null));return i.useMemo(()=>"disabled"===t.status?sh.Qw.loaded({canOwn:!1,canAdmin:!1,canEdit:!1}):t.transform(({team:e})=>({canOwn:e?.isOwner??!1,canAdmin:e?.canAdmin??!1,canEdit:e?.canEdit??!1})),[t])}(r),d=_V(a,n);return i.useMemo(()=>sh.Qw.transformAll([d,o],(i,o)=>i||function(e,t,r,a,i,n){let o=r?a.teams[r]:null;if(r&&!o||"file"===e)return null;let d=o&&o.subscription===eU.Qh.GRACE_PERIOD,c=a.billingSummary,m=o?.subscription===eU.Qh.INCOMPLETE,_=!!o?.org_id,p=!!o?.subscription,f=d&&!_&&p&&(_H(c?.last_monthly_invoice)||_H(c?.last_annual_invoice)),x=o&&(m||f),h=o&&o.subscription===eU.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,b=n.canOwn,v=n.canAdmin,y=n.canEdit,j=o&&(0,sT.oc)(o.id,a),w="folder"===e?t:null,T="folder"===e&&!w,E=(0,oK.Ay)().is_limited_team_plan&&T,I=0,N={showReminder:!1,showAccessRestricted:!1};if(a.user){let e=(0,sv.cn)(a.user),t=a.userEduGracePeriods,r=a.currentTeamId;r&&(N=(0,sv.GU)(t,e,r,!!a.teams[r]?.student_team),I=(0,sv.qS)(t,r))}let k=o&&!(0,sT.n0)(o)&&!o.student_team&&w&&!(0,rx.Gi)(w),C=k&&w.is_invite_only,A=k&&w.is_view_only,R=w&&(0,rx.sp)(w),O=!R&&!o&&w&&(0,sT.ZZ)(w,a),P=e=>()=>i?.(d9.WX({teamId:o.id,selectedView:a.selectedView,entryPoint:e})),L=()=>u.Ay.redirect("/education/apply",g.Ay.isIpadNative?void 0:"_blank"),F=e=>()=>i?.(d9.WX({teamId:o.id,openInNewTab:!1,selectedView:{view:"team",teamId:o.id},entryPoint:e})),D=()=>i?.(tC.to({type:aP.V,data:{entrypoint:aD.C6.BANNERS_FOLDERS_LOCKED}})),M=(0,sT._b)(o),U=o&&o.subscription_raw!==eU.Qh.OK&&(0,sT.WQ)(o)&&v&&_b.ng.getProTrialStatus(o)!==_y.a.IN_TRIAL&&M,B=["team","folder"].includes(e)&&y&&(0,aM.cU)(o),G=y&&function(e,t){let r=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,aM.zs)(e)&&!r}(o,a.userTeamFlags),W=(0,eE.R$)(a.user,a.currentUserOrgId),z=_b.ng.canSeeExpiredProTrialBanner(a.userTeamFlags,o,a),V=o&&a.userTeamFlags[o.id]?.[_b.lg],H=a.user?(0,sv.x$)(a.eduPeriodEnd):1/0,$=H>0&&H!==1/0,q=0===H,Y=o&&o.student_team_state===eU.kU.STUDENT_TEAM_CURRENT,K=o&&o.student_team_state===eU.kU.STUDENT_TEAM_EXPIRED&&j,J=$&&b&&Y,Q=q&&(b||y)&&(K||Y),X=$&&y&&Y,Z=q&&!y&&Y,ee=J||Q||X||Z,et=(0,aF.l)(a.eduPeriodEnd,a.offboardingDate),er=()=>{r&&i?.(tC.to({type:aU.ZL,data:{teamId:r}}))};if(h)return{severity:_E.c.WARN,title:(0,S.t)("payments.locked"),message:v?(0,s.jsx)("span",{children:(0,S.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:(0,s.jsx)("a",{href:`mailto:${(0,oK.W4)()}`,children:(0,S.tx)("payments.contact_support")})})}):(0,s.jsx)("span",{children:(0,S.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")}),cta:v?(0,S.t)("payments.manage_plan"):null,onClickCta:v?()=>{i?.(eR.sf({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:eQ.Iv.SETTINGS}))}:null};if(z&&(j||y&&!V)){let e,t,a,n;return j?(e=y?(0,S.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:o.name,lowerUsageLink:(0,s.jsx)(r7.$z,{onClick:e=>{e.preventDefault(),i?.(tC.to({type:_j.v,data:{teamId:r}}))},children:(0,S.tx)("payments.pro_trial_expiry.lower_usage")})}):(0,S.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:o.name}),t=y?(0,S.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,a=`${_M} `,n="Pro Trial Expiry Banner Locked"):(e=o?(0,S.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:o.name}):(0,S.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,S.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),a=`${_M} ${_U}`,n="Pro Trial Expiry Banner Unlocked"),{severity:_E.c.WARN_SOFT,title:(0,S.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:y?F((0,ce.c)(aD.C6.PRO_TRIAL_UPSELL_BANNER)):void 0,svg:_G.A,bannerClassName:a,trackingContextName:n,dismissible:!j,onClose:j?void 0:()=>{r&&i?.(a2.bE({all_team_flags:[{team_id:r,flags:{[_b.lg]:!0}}]}))}}}if(E)return{severity:_E.c.WARN_SOFT,title:(0,S.tx)("file_browser.limited_space_banner.heading"),message:(0,S.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(et&&ee)return J||X?{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.sidebar_section.all_education_accounts_must_reverify",{offboardingDate:a.offboardingDate,linkLearnMore:null}),message:(0,S.tx)("edu.banner.to_keep_using_pro_features",{linkVerify:(0,s.jsx)(ae.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,S.tx)("edu.banner.verify_your_education_status")})}),cta:(0,S.tx)("edu.banner.learn_more"),onClickCta:er,svg:_B.A,bannerClassName:`${_M} ${_U}`,trackingContextName:"Edu Offboarding Banner Expiring Soon New Reverification"}:{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.banner.your_education_status_has_expired"),message:(0,S.tx)("edu.banner.to_keep_using_pro_features_no_link"),cta:(0,S.tx)("edu.banner.learn_more"),onClickCta:er,svg:_B.A,bannerClassName:_M,trackingContextName:"Edu Offboarding Banner Expired New Reverification"};if(ee){if(J||X)return{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,S.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:o.name,verify:(0,s.jsx)(ae.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,S.tx)("edu.banner.verify_your_education_status")})}),cta:(0,S.tx)("edu.banner.learn_more"),onClickCta:er,svg:_B.A,bannerClassName:`${_M} ${_U}`,trackingContextName:"Edu Offboarding Banner"};if(Q)return{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.banner.your_education_status_has_expired"),message:(0,S.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:o.name}),cta:(0,S.tx)("edu.banner.learn_more"),onClickCta:er,svg:_B.A,bannerClassName:_M,trackingContextName:"Edu Offboarding Banner"};if(Z)return{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.banner.your_education_status_has_expired"),message:(0,S.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:o.name}),cta:(0,S.tx)("edu.banner.learn_more"),onClickCta:er,svg:_B.A,bannerClassName:_M,trackingContextName:"Edu Offboarding Banner"}}else if(K)return{severity:_E.c.WARN_SOFT,title:(0,S.tx)("edu.banner.team_s_education_status_has_expired",{teamName:o.name}),message:(0,S.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:_B.A,bannerClassName:_M,trackingContextName:"Edu Offboarding Banner"};else if(W){let e=a.user.external_restricted_org_id,t=(0,S.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&a.orgById[e]){let r=a.orgById[e];t=(0,S.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:r.name})}return{severity:_E.c.WARN,title:(0,S.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}else if(N.showAccessRestricted)return{severity:_E.c.ANNOUNCEMENT,title:(0,S.t)("banner.edu_grace_period.verify_your_education_status"),message:(0,S.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),cta:(0,S.t)("banner.edu_grace_period.verify_status_button"),onClickCta:L,svg:_B.A,bannerClassName:_D,trackingContextName:"Edu Grace Period Restricted Banner"};else if(N.showReminder)return{severity:_E.c.ANNOUNCEMENT,title:(0,S.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:I}),message:(0,S.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,S.t)("banner.edu_grace_period.verify_status_button"),onClickCta:L,svg:_z.A,trackingContextName:"Edu Grace Period Reminder Banner"};else if(C||A)return{severity:_E.c.WARN,title:(0,S.t)("payments.folder_locked"),message:(0,S.t)("payments.folder_locked_description",{projectType:"Invite"==(C?"Invite":"View")?(0,S.t)("payments.invite_only_projects"):(0,S.t)("payments.view_only_projects"),teamName:o.name}),learnMoreUrl:"/pricing",cta:y?(0,S.t)("payments.upgrade_now"):(0,S.t)("payments.contact_admin_for_details"),ctaTrackingProperties:y?{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:sl.b.BANNER}:void 0,onClickCta:y?P((0,ce.c)(aD.C6.LOCKED_TEAM_BANNER)):null};else if(O&&"folder"===e)return(0,iE.HZ)({label:iE.A5.getBannerContent.personalProjectDeprecated,oldValue:O&&"folder"===e,newValue:!1,maxReports:3}),{severity:_E.c.WARN,title:(0,S.t)("payments.locked"),message:(0,S.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(R&&"folder"===e)return{severity:_E.c.WARN,title:(0,S.t)("payments.abandoned_project"),message:(0,S.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(G){let e=(0,S.t)("payments.file_limit_unified",{figmaFiles:sT.WW,figjamFiles:sT.WW});B?G||(e=(0,S.t)("payments.file_limit_figjam",{figjamFiles:sT.WW})):e=(0,S.t)("payments.file_limit_figma",{figmaFiles:sT.WW});let t=()=>(0,s.jsx)("button",{type:"button",onClick:D,className:"banners--bannerInlineTextButton--GRx12",children:(0,S.tx)("payments.check_out_our_paid_plans")}),r=null;return r=o?(0,l.kc)().sites_design_starter_combined_file_limit?(0,s.jsx)("span",{children:(0,S.tx)("payments.team_over_starter_team_limit_with_button.legacy_team_without_mentioning_file_limit",{checkoutOurPlans:t(),teamName:o.name})}):(0,s.jsx)("span",{children:(0,S.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:o.name})}):(0,l.kc)().sites_design_starter_combined_file_limit?(0,s.jsx)("span",{children:(0,S.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present.without_mentioning_file_limit",{checkoutOurPlans:t()})}):(0,s.jsx)("span",{children:(0,S.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()})}),{severity:_E.c.ANNOUNCEMENT,title:(0,S.t)("payments.team_over_starter_team_limit_title"),message:r,cta:(0,S.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:e_.c.UPGRADE_NOW,upsellSource:sl.b.BANNER},onClickCta:P((0,ce.c)(aD.C6.UNIFIED_FILE_LIMIT_BANNER)),svg:_W.A,bannerClassName:_D,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(U){let e=(0,eu.A)(o.grace_period_end).toDate(),t=(0,S.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:(0,s.jsx)(oE.h1,{date:e})});return M||(t=(0,S.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:_E.c.ANNOUNCEMENT,title:t,message:(0,S.t)("payments.pro_plan_ends_for_team_description",{teamName:o.name}),cta:(0,S.t)("payments.pro_plan_ends_button"),onClickCta:F((0,ce.c)(aD.C6.PROMO_CODE_EXPIRATION_BANNER)),svg:M?_W.A:_G.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:M?_D:void 0}}else if(x){let e=m?(0,S.t)("payments.complete_team_payment_description",{teamName:o.name}):(0,S.t)("payments.complete_team_renewal_payment_description");return{severity:_E.c.WARN,title:(0,S.t)("payments.complete_payment"),message:e,cta:(0,s.jsx)(_h.V,{trackingProperties:{trackingDescriptor:e_.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>i?.(tC.to({type:_T,data:{teamId:r,paymentRequiresAction:!!f}})),children:(0,S.tx)("payments.complete_payment_cta")}),onClickCta:null}}return null}(e,t,r,a,n,o)),[d,o,e,t,r,a,n])}function _q(e){let t=(0,eM.FC)(),r=(0,n.d4)(e=>e.userEduGracePeriods),a=(0,n.d4)(e=>e.userFlags),s=(0,n.d4)(e=>e.userTeamFlags),o=(0,n.d4)(e=>e.selectedView),l=(0,n.d4)(e=>e.isFreeUser),d=(0,n.d4)(e=>e.userAnalyticsData),c=i.useMemo(()=>({...t,checks:e.checks,isFreeUser:l,selectedView:o,userAnalyticsData:d,userEduGracePeriods:r,userFlags:a,userTeamFlags:s}),[t,e.checks,l,o,d,r,a,s]);return _$(e.resourceType||eU.vt.FOLDER,e.resource||null,e.teamId||null,c,null).transform(e=>!!e)}function _Y(e,t){let r={...e};return"string"==typeof t.title&&(r.title=t.title),"string"==typeof t.message&&(r.message=t.message),r}var _K=r(396842),_J=r(578888);let _Q=(0,s.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[(0,s.jsx)("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),(0,s.jsx)("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48",children:(0,s.jsx)("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})}),(0,s.jsx)("g",{mask:"url(#mask0_4:25)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"})]});function _X(e){let{title:t,message:r,cta:a,ctaTrackingProperties:i,learnMoreUrl:n,onClickCta:o,severity:l,secondaryCTA:d,secondaryOnClickCta:c,svg:u,trackingContextName:m="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:x}=e;return l===_E.c.ANNOUNCEMENT?(0,s.jsx)(r7.fu,{name:m,properties:{severity:l,...e.tracking},children:(0,s.jsxs)("div",{className:_S,children:[u&&(0,s.jsx)(r3.B,{svg:u,useOriginalSrcFills_DEPRECATED:!0}),(0,s.jsxs)("div",{className:_A,children:[(0,s.jsx)("div",{className:_k,children:t}),(0,s.jsx)("div",{className:_R,children:r})]}),(0,s.jsxs)(ae.e2,{reversed:p,className:_P,children:[o&&(0,s.jsx)(ae.vd,{className:_N,onClick:o,trackingProperties:i,children:a}),c&&(0,s.jsx)(ae.tM,{className:_O,onClick:c,children:d}),f&&x&&(0,s.jsx)(aW.Jn,{className:_L,onClick:x})]})]})}):l===_E.c.EVENT?(0,s.jsx)(r7.fu,{name:m,properties:{severity:l,...e.tracking},children:(0,s.jsxs)("div",{className:`${_S} ${_}`,children:[(0,s.jsx)("div",{className:"banners--eventMegaphoneIcon--7J3rx",children:_Q}),(0,s.jsxs)("div",{className:_A,children:[(0,s.jsx)("p",{className:_k,children:t}),(0,s.jsx)("p",{className:_R,children:r})]}),(0,s.jsxs)(ae.e2,{className:_P,children:[o&&(0,s.jsx)(ae.vd,{className:_N,onClick:o,trackingProperties:i,children:a}),c&&(0,s.jsx)(ae.tM,{className:_O,onClick:c,children:d}),f&&x&&(0,s.jsx)(aW.Jn,{className:_L,onClick:x})]})]})}):(0,s.jsx)(r7.fu,{name:m,properties:{severity:l,...e.tracking},children:(0,s.jsxs)("div",{className:`${_S} ${_}`,children:[!e.hideIcon&&(0,s.jsx)(r3.B,{svg:_J.A,className:"banners--warningIcon--A5YS-",svgWidth:l===_E.c.WARN_SOFT?"16px":void 0,svgHeight:l===_E.c.WARN_SOFT?"16px":void 0}),(0,s.jsxs)("div",{className:_A,children:[(0,s.jsx)("span",{className:"banners--title--OIA0P",children:t}),r,n&&(0,s.jsxs)("span",{children:["\xa0",(0,s.jsx)("a",{target:"_blank",rel:"noopener",href:n,children:(0,S.tx)("payments.learn_more")})]})]}),(0,s.jsxs)(ae.e2,{reversed:p,className:_P,children:[o&&(0,s.jsx)(ae.vd,{className:_N,onClick:o,trackingProperties:i,children:a}),!o&&(0,s.jsx)("div",{className:"banners--ctaMessage--5MB88",children:a}),f&&x&&(0,s.jsx)(aW.Jn,{className:_L,onClick:x})]})]})})}function _Z(e){return(0,s.jsx)(aA.u,{label:"FolderBanner",children:(0,s.jsx)(_0,{...e})})}function _0(e){let t;let r=(0,n.wA)(),a=(0,n.d4)(e=>e.folders),o=(0,n.d4)(e=>e.teams),l=(0,n.d4)(e=>e.userFlags),d=(0,n.d4)(e=>e.userTeamFlags),c=(0,n.d4)(e=>e.selectedView),u=(0,n.d4)(e=>e.isFreeUser),m=(0,n.d4)(e=>e.userAnalyticsData),_=(0,n.d4)(e=>(0,s5.getPermissionsState)(e)),f=(0,p.bc)(eY.UpR,{}),x=(0,aF.Cr)(),g=e.folderId?a[e.folderId]:null,h=g?g.team_id:null,b=h?o[h]:null,v=!!b?.org_id,y=!!b?.subscription,j=(0,p.bc)((0,eY.Ywy)(h?{teamId:h}:null)),w=i.useMemo(()=>j.transform(({team:e})=>!!e?.canAdmin),[j]).unwrapOr(!1);(0,i.useEffect)(()=>{h&&!v&&y&&w&&r(_K.Be({teamId:h}))},[r,h,v,y,w]);let T=(0,n.d4)(e=>e.teamBilling?.summary),E=_$(eU.vt.FOLDER,g??null,h,{eduPeriodEnd:f.data?.currentUser?.eduPeriodEnd,offboardingDate:x,billingSummary:T,userFlags:l,userTeamFlags:d,selectedView:c,isFreeUser:u,userAnalyticsData:m,..._},r).unwrapOr(null);if(!E)return(0,s.jsx)("div",{});t=g?_Y({resourceType:eU.vt.TEAM,teamId:h,folderId:g.id},E):_Y({resourceType:"recents"},E);let I=E.severity===_E.c.WARN?_I:"",N=E.bannerClassName||"",S=`${_F} ${I} ${N}`;return(0,s.jsx)("div",{className:S,children:(0,s.jsx)(_X,{...E,tracking:t})})}let _1=()=>{let e=(0,n.d4)(e=>e.currentUserOrgId),t=(0,n.d4)(e=>e.currentTeamId),r=(0,p.bc)((0,eY._aE)({currentOrgId:e,currentTeamId:t}));return"loaded"===r.status?r.data:null};function _4(){let e;let t=(0,n.wA)(),r=(0,n.d4)(e=>e.currentUserOrgId),a=(0,n.d4)(e=>e.currentTeamId),i=_1();r?e=i?.currentUser.baseOrgUser?.draftsProject:a&&(e=i?.currentUser.currentTeamUser?.draftsProject);let o=(0,n.d4)(e=>e.tileSortFilterStateByView),l=(0,eO._6)();if(!i||!e)return(0,s.jsx)(u7,{viewbarActions:[]});let d="deletedFiles"===l.view?(0,u3.xx)(mt)(o):(0,u3.xx)(rx.ZN)(e.id,o),c=[(0,s.jsx)(u8.ye,{config:d.tileSortFilterConfig},0),(0,s.jsx)(u8.mc,{dispatch:t,options:d,selectedView:l},1),(0,s.jsx)(u9.$c,{initialViewMode:d.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,sM.sx)("file view toggle",{viewType:e===iW.XU.GRID?"grid":"list"}),t(eC.JF({selectedView:l,config:{...d.tileSortFilterConfig,viewMode:e}}))}},2)];return(0,s.jsx)(u7,{viewbarActions:c})}let _2={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},_5=(0,u3.xx)(rx.ZN);function _6(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:r}=(0,sg.R)(t=>({sortFilterOptions:_5(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),a=(0,_x.Rp)(),o=(0,n.d4)(({currentUserOrgId:e})=>e),d=(0,h.I7)("exp_aa_test_org_drafts");o&&d.getConfig();let c=()=>{},[u,m]=__({folderId:e.folderId,source:"drafts",shouldCompareWithUnpaginated:!!(0,l.kc)().fb_paginated_files_diff_unpaginated_fetch}),_=u.data?.folder,p=(0,eI.R)(_?.team_id),f=_q({resourceType:eU.vt.FOLDER,resource:_,teamId:_?.team_id||null}).unwrapOr(!1);c=i.useCallback(()=>{!u.isFetchingNextPage&&u.hasNextPage&&m.fetchNextPage()},[u.isFetchingNextPage,u.hasNextPage,m]);let g=i.useMemo(()=>u.transform(e=>{let t=(e.files||[]).map(e=>(0,rw.fA)(e)),s=e.filesByRepoId||{};return[...t,...(e.repos||[]).map(e=>({type:rw.nb.REPO,repo:e,branches:s[e.id],selectedBranchKey:r[e.id]||""})),...Object.values(a).filter(e=>e.orgId===o).map(rw.gB)]}),[o,u,a,r]),b=mb({tilesResult:g,tileSortFilterConfig:t.tileSortFilterConfig,isDataPartial:!!u.hasNextPage,isDraftsFolder:!0}),v="loaded"===g.status,y=(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",result:sh.Qw.all([g,b]),loadingElementClassName:N.s.pr32.$,children:([e,r])=>(0,s.jsxs)(mv.B,{onShouldFetchNextPage:c,isFetchingNextPage:u.isFetchingNextPage,children:[(0,s.jsx)(mZ,{newFileTile:!0,tiles:e,sortedFilteredTiles:r,tileActions:_2,sortFilterOptions:t,emptyStateText:"",isDraftsFolder:!0,isEligbileForProTeamLockedRevampUI:p}),(0,s.jsx)(uI.cx,{})]},`${t.tileSortFilterConfig.filters.fileType}`)});return(0,x.kF)("Drafts"),(0,x.WX)({markName:"MainBodyContent",isLoaded:v,contextArgs:{numFiles:u.transform(e=>e.files.length).unwrapOr(null)}}),(0,r7.T8)((0,s.jsx)(ne.r,{viewBarSticky:!0,banner:f?(0,s.jsx)(_Z,{folderId:e.folderId}):void 0,content:y,viewbar:(0,s.jsx)(_4,{})}),r9.e0.FILE_BROWSER,{view:"drafts"})}var _3=r(232707),_7=r(507147),_8=r(848106),_9=r(236356),pe=r(388816),pt=r(587658),pr=r(549029),pa=r(967500);let ps=(0,tS.Ju)(function(e){let t,r;let a=(0,n.wA)(),[o,d]=i.useState(""),c=(0,n.d4)(e=>e.deletedReposById),u=(0,n.d4)(e=>e.fileByKey),{reposToDelete:m,draftsToDelete:_,deleteAllDraftsAsync:p,isDeleteAll:f,isPermanentDeletion:x}=e,g=_.map(e=>e.name).concat(m.map(e=>e.name)),h=g.length>1;t=x?h?(0,S.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,S.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):h?(0,S.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,S.t)("file_browser.draft_delete_modal.header_single_file_trash");let b=(t,r)=>{if(t.length>0){if(x){let r=t.reduce((e,t)=>(e[t.key]=!0,e),{});a(pt.YK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let r=t.reduce((e,t)=>(e[t.key]=om.F.toSinatra(t),e),{});a(pt.VK({fileKeys:r,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let s={};r.forEach(e=>{let t=c[e.id];if(t)s[e.id]=t;else{let t=e.default_file_key&&u[e.default_file_key];t&&(s[e.id]={repo:e,main_file:t})}}),r.length>0&&(x?a((0,pr.YM)({repoIds:Object.keys(s),userInitiated:!0})):a((0,pr.hT)({reposById:s,userInitiated:!0})))},v=()=>pa.k.deleteAllPersonalDrafts().then(()=>a(tl.F.enqueue({message:(0,S.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>a(tl.F.enqueue({message:(0,S.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),y=()=>{let{draftsToDelete:t,reposToDelete:r}=e;t.length+r.length>100?a(a4.s.error((0,S.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),b(t,r))},j=()=>{p?v():y(),e.onClose()},w=i.useMemo(()=>o.trim().toLowerCase()!==(0,S.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[o]);r=x?h?(0,S.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,S.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):h?(0,S.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,S.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=x?(0,s.jsx)(ae.qM,{onClick:j,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:x},dataTestId:"draft-delete-confirmation-button",children:(0,s.jsx)("span",{"data-tooltip":(0,S.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,S.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?r8.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0,children:(0,l.kc)().ps_trashed_drafts_enabled?(0,S.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,S.t)("file_browser.draft_delete_modal.button_delete")})}):(0,s.jsx)(r6.vd,{onClick:j,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:x},children:(0,S.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length})});return(0,s.jsx)(r7.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!p,isDeleteAll:!!f},children:(0,s.jsx)(as.OJ,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0,children:(0,s.jsxs)("div",{className:"draft_delete_modal--modalContent--QYGIS",children:[(0,s.jsxs)("p",{children:[r," ",!x&&(0,s.jsxs)("p",{children:[(0,s.jsx)("br",{}),(0,S.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length})]})]}),(0,s.jsx)("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW",children:x&&(0,S.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,S.t)("file_browser.draft_delete_modal.button_delete")})}),(0,s.jsxs)("form",{onSubmit:j,children:[x&&(0,s.jsx)("div",{children:(0,s.jsx)(pe.i,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:"draft_delete_modal--deleteDraftsInput--pCTUB",dataTestId:"draft-delete-confirmation-input",onChange:e=>{d(e.currentTarget.value)},onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},spellCheck:!1,type:"text",value:o})}),(0,s.jsxs)("div",{className:"draft_delete_modal--footer--SRSo6",children:[(0,s.jsx)(ae.nR,{onClick:e.onClose,children:(0,S.tx)("modal.cancel")}),T]})]})]})})})},"DraftDeleteModal");var pi=r(797774),pn=r(920712),po=r(333705),pl=r(263188);function pd(){return(0,s.jsx)(pl.$,{onClick:()=>u.Ay.unsafeRedirect("https://help.figma.com/hc/articles/18409526530967","_blank"),children:(0,S.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")})}function pc(){let e;return e=(0,l.kc)().dtm_staging_only_annoucement_flag?(0,S.tx)("file_browser.drafts_to_move.heads_up_these_drafts_will_be_moved_starting_sep_15_staging_only"):(0,l.kc)().dtm_production_figmate_only_announcement_flag?(0,S.tx)("file_browser.drafts_to_move.heads_up_these_drafts_will_be_moved_starting_sep_17_production_figmate_only"):(0,S.tx)("file_browser.drafts_to_move.heads_up_these_drafts_will_be_moved_starting_october_9"),(0,s.jsxs)(uo.$y,{variant:"warn",children:[(0,s.jsx)(ul.Q,{title:e,children:(0,S.tx)("file_browser.drafts_to_move.we_ll_put_them_in_the_drafts_section_of_a_relevant_plan")}),(0,s.jsx)(pd,{})]})}function pu(){return(0,s.jsxs)(uo.$y,{variant:"warn",children:[(0,s.jsx)(ul.Q,{title:(0,S.tx)("file_browser.drafts_to_move.these_drafts_are_moving_soon"),children:(0,S.tx)("file_browser.drafts_to_move.we_ll_put_them_in_the_drafts_section_of_a_relevant_plan")}),(0,s.jsx)(pd,{})]})}var pm=r(688527);let p_="drafts_to_move_page_view--fileCellDateSpan--xWiCm",pp="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",pf="drafts_to_move_page_view--emptyContentContainer--w1lwc",px="drafts_to_move_page_view--emptyContentHeader--35cXt",pg=(0,ir.jz)(iy.ISO),ph=(0,oK.ck)("c9f2d8cbce5754a2b6e3e3e81adf5fe313429577"),pb=(0,oK.ck)("6212099329ba7714b869112a09f8dfffce71edf5");var pv=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(pv||{}),py=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(py||{});function pj(e){let t=e=>{switch(e){case"draft-files":return(0,S.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,S.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,I.xb)(e)}},r=t=>{let r=pv[t].replace(/-/g,"_");(0,H.Cu)({text:r,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(pv[t])},a=Object.keys(pv).map(a=>(0,s.jsx)(_9.r,{tab:pv[a],onClick:()=>r(a),isSelected:e.selectedTab===pv[a],tabName:t(pv[a])},a));return(0,s.jsx)(cV.f,{leftSide:(0,s.jsx)(_9.f,{tabs:a}),rightSide:[]})}function pw(e){let t=(0,n.wA)(),r=(0,n.d4)(e=>e.selectedView),a=(0,ol.v)(),{item:i}=e,o=rw.Tf.getFileOrMainBranchKey(i)??"",l=e=>s=>{s.detail>1&&!rw.Tf.getTrashedAt(i)&&(mX({tile:e,index:0,dispatch:t,selectedView:r}),a(e,s),s.stopPropagation())},d=(0,oN.C)(i);return(0,s.jsxs)("div",{className:N.s.inlineFlex.minW0.$,children:[(0,s.jsxs)("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:l(i),"data-testid":`fileTile-${o}`,children:[(0,s.jsx)(os.e,{tile:i,noBorder:!0}),(0,s.jsx)("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe",children:(0,s.jsx)(rm.w4,{size:16,type:d})})]}),(0,s.jsxs)("div",{className:N.s.ml14.minW0.flex.flexColumn.itemSelfCenter.$,children:[(0,s.jsx)("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:l(i),children:rw.Tf.getName(i)}),e.shouldDisplayFileDates&&(0,s.jsxs)("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg",children:[(0,s.jsx)("span",{className:p_,children:(0,S.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:(0,s.jsx)(oE.h1,{date:rw.Tf.getCreatedAt(i)})})}),(0,s.jsx)("span",{className:p_,children:(0,S.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:(0,s.jsx)(oE.h1,{date:rw.Tf.getTouchedAt(i)??""})})})]})]})]})}function pT({currentFileTransferState:e}){let t="dark"===(0,nk.DP)(),r=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.kt,{size:"large"}),(0,s.jsx)("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD",children:(0,S.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,S.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,S.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})}),(0,s.jsx)("p",{children:(0,S.tx)("file_browser.drafts_to_move.file_transfer_description")})]}),a=()=>(0,s.jsx)("div",{className:"drafts_to_move_page_view--slideIn--c-NGK",children:(0,s.jsxs)("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh",children:[(0,s.jsx)(pn.Gv,{src:t?ph:pb,containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),(0,s.jsx)("p",{className:px,children:(0,S.tx)("file_browser.drafts_to_move.empty_header")}),(0,s.jsx)("p",{children:(0,S.tx)("file_browser.drafts_to_move.empty_body_text")})]})}),i=()=>(0,s.jsx)(en.kt,{size:"large"});return(0,s.jsx)("div",{className:pf,children:(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return r(e);case"TRANSFER_COMPLETED":return a();default:return i()}})()})}function pE(){return(0,s.jsx)(aA.u,{label:"DraftsToMovePageView",children:(0,s.jsx)(pI,{})})}function pI(){let e=(0,n.wA)(),t=(0,n.d4)(e=>e.user?.personal_drafts_folder_id),r=(0,n.d4)(e=>e.fileKeysByFolderId),a=(0,n.d4)(e=>e.fileKeysByRepoId),o=(0,n.d4)(e=>e.repoIdsByFolderId),d=(0,n.d4)(e=>e.repos),c=(0,n.d4)(e=>e.fileByKey),u=(0,n.d4)(e=>e.selectedView),m=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),_=(0,n.d4)(e=>e.userFlags),f=_.personal_draft_migration_scheduled,x=_.personal_draft_migration_completed,g=_.personal_draft_deletion_scheduled,b=_.personal_draft_deletion_completed,v=(0,n.d4)(e=>e.loadedFolders),y=(0,n.d4)(e=>e.deletedFilesByKey),j=(0,n.d4)(e=>e.deletedReposById),{windowInnerWidth:w}=(0,cU.l)(),T=(0,p.bc)((0,eY.vXh)({})),I=(0,p.bc)((0,eY.Jzf)({projectId:t??""}),{enabled:!!t}),k=(0,ol.v)(),[C,A]=i.useState("draft-files"),[R,O]=i.useState(!1),[P,L]=i.useState("NONE"),[F,D]=i.useState(!1),[M,U]=i.useState(!1);i.useEffect(()=>{f&&(0,at.rO)(f.updatedAt,x?.updatedAt)?L("ASYNC_FILE_MIGRATION"):g&&(0,at.rO)(g.updatedAt,b?.updatedAt)?L("ASYNC_FILE_DELETION "):F?L("SYNCHRONOUS_DELETION_OR_MIGRATION"):L("NONE")},[f,x,g,b,F]),i.useEffect(()=>{e(E.h3({orgId:null}))},[e]);let B="loaded"===T.status,W=i.useMemo(()=>{if(!B)return[];let e=[];return T.data?.currentUser?.draftsFolderId&&e.push(T.data.currentUser.draftsFolderId),e},[B,T]),z=i.useMemo(()=>I.data?.project?.status!==_3.tT.Loaded?new Set:new Set((I.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[I]),V=i.useMemo(()=>{if(I.data?.project?.status!==_3.tT.Loaded)return new Set;let e=new Set;return(I.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[I]),H=i.useCallback(e=>z.has(e),[z]),$=i.useCallback(e=>V.has(e),[V]);i.useEffect(()=>W.forEach(t=>B&&e((0,q.jl)({folderId:t,loadedFolders:v}))),[v,W,e,B]);let{getConfig:Y}=(0,h.I7)("ps_async_draft_move_limit",void 0,!0),K=Y().get("async_limit",100),J=B&&W.every(e=>e&&"loaded"===v[e]),Q=i.useMemo(()=>Object.keys(y).map(e=>y[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&H(e.key)),[y,t,H]),X=i.useMemo(()=>Object.keys(j).map(e=>j[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&$(e.repo.id)),[j,t,$]),Z=i.useMemo(()=>W.flatMap(e=>o[e]).map(e=>d[e]).filter(e=>!!e&&$(e.id)),[W,d,o,$]),ee=i.useMemo(()=>W.flatMap(e=>r[e]).map(e=>c[e]).filter(e=>!!e&&H(e.key)),[W,c,r,H]);i.useEffect(()=>{let e=ee.length+Z.length,t=Q.length+X.length;J&&!M&&(0===e&&t>0&&A("deleted-draft-files"),U(!0))},[J,M,ee.length,Z.length,X.length,Q.length]);let et=i.useMemo(()=>ee.concat(Q).map(e=>(0,rw.fA)(e)),[ee,Q]),er="deleted-draft-files"===C?Q:ee,ea=i.useMemo(()=>er.map(e=>(0,rw.fA)(e)),[er]),es=i.useMemo(()=>Z.map(e=>{let t=a[e.id].map(e=>c[e]).filter(e=>!!e);return{type:rw.nb.REPO,repo:e,branches:t,selectedBranchKey:m[e.id]}}),[Z,m,c,a]),en=i.useMemo(()=>X.map(e=>({type:rw.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[X]),eo="deleted-draft-files"===C?en:es,el=en.concat(es),ed=ea.concat(eo),ec=et.length>0||el.length>0,eu=ed.length>0,[em,e_]=i.useState([]),ep=()=>{e(tC.Ce()),O(!1)},ef=(t,r)=>{e(tl.F.enqueue({message:(0,S.t)("visual_bell.files_moved_to_folder",{fileCount:r,folderName:t})})),D(!1),e_([])},ex=()=>{D(!1),e_([])},eg=e=>{let t=[],r=[];return e.forEach(e=>{e.type===rw.nb.FILE&&t.push(e.file),e.type===rw.nb.REPO&&r.push(e.repo)}),{draftsToMove:t,reposToMove:r}},eh=t=>{let{draftsToMove:r,reposToMove:a}=eg(em);O(!0),e(tC.to({type:ps,data:{isPermanentDeletion:t,draftsToDelete:r,reposToDelete:a,deleteAllDraftsAsync:em.length>K,setSynchronousFileTransferInProgress:D,onDeleteSuccess:ex,onClose:ep}}))},eb=()=>{let{draftsToMove:t,reposToMove:r}=eg(em);O(!0),e(tC.to({type:pi.K,data:{draftsToMove:t,reposToMove:r,moveAllDraftsAsync:em.length>K,onMoveSuccess:ef,onClose:ep,setSynchronousFileTransferInProgress:D}}))},ev=function(e,t,r,a){let i=a>=1200,n=[{name:(0,S.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>rw.Tf.getName(e),cellComponent:e=>(0,s.jsx)(pw,{item:e,shouldDisplayFileDates:!i})}];return i&&n.push({name:(0,S.t)("file_browser.drafts_to_move.table_header_last_modified"),className:pp,getSortValue:e=>rw.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=rw.Tf.getTouchedAt(e);return t?(0,s.jsx)(oE.h1,{date:t}):""}},{name:(0,S.t)("file_browser.drafts_to_move.table_header_created"),className:pp,getSortValue:e=>rw.Tf.getCreatedAt(e),cellComponent:e=>(0,s.jsx)(oE.h1,{date:rw.Tf.getCreatedAt(e)})}),n.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:a=>0===r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ae.tM,{className:G()("drafts_to_move_page_view--openDraftButton--zXZGf",N.s.if(!!rw.Tf.getTrashedAt(a),N.s.invisible).$),onClick:e=>t(e,a),children:(0,S.tx)("file_browser.drafts_to_move.open_draft_button")}),(0,s.jsx)(ae.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,a),children:(0,S.tx)("file_browser.drafts_to_move.move_draft_button")})]}):(0,s.jsx)(s.Fragment,{})}),n}((t,r)=>{let{draftsToMove:a,reposToMove:s}=eg([r]);e(tC.to({type:pi.K,data:{draftsToMove:a,reposToMove:s,onMoveSuccess:ef,onClose:ep,setSynchronousFileTransferInProgress:D}})),t.stopPropagation()},(t,r)=>{mX({tile:r,index:0,dispatch:e,selectedView:u}),k(r,t),t.stopPropagation()},em.length,w),[ey,ej,ew]=(0,_8.z)({columnName:(0,S.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},ed,ev),eT=(0,s.jsxs)("div",{className:pf,children:[(0,s.jsx)("span",{className:px,children:(0,S.tx)("file_browser.drafts_to_move.empty_header")}),(0,s.jsx)("span",{children:(0,S.tx)("file_browser.drafts_to_move.empty_content_description",{tab:(0,s.jsx)("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>A("draft-files"===C?"deleted-draft-files":"draft-files"),children:"draft-files"===C?(0,S.t)("file_browser.drafts_to_move.deleted_drafts"):(0,S.t)("file_browser.drafts_to_move.drafts")})})})]});if("NONE"!==P)return(0,s.jsx)(pT,{currentFileTransferState:P});let eE=em.length<=0||em.length>K,eI="deleted-draft-files"===C||!(0,l.kc)().ps_trashed_drafts_enabled,eN=(0,s.jsx)(ei.AV,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:J,children:eu?(0,s.jsx)("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2",children:(0,s.jsx)(po.Cj,{actionBar:e=>(0,s.jsxs)("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB",children:[!eE&&(0,s.jsx)(ae.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eh(eI),children:eI?(0,S.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,S.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")}),(0,s.jsx)(ae.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eE,onClick:eb,children:(0,S.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:em.length})})]}),actionBarClassName:G()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":R}),columns:ev,emptyContent:"",getItemKey:e=>rw.Tf.getFileOrMainBranchKey(e)??"",isLoading:!pm.s1,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,S.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},items:ew,minContentWidth:728,onSelectedItemsChange:e_,onSetSortState:ej,rowHeightOverride:pg,scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",selectAllDisabled:ew.length>K,shouldRoundBordersForSelectedRows:!0,sortState:ey,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"}})}):ec?eT:(0,s.jsx)(pT,{currentFileTransferState:"TRANSFER_COMPLETED"})}),eS=J&&((0,l.kc)().dtm_deprecation_pre_migration_onboarding||(0,l.kc)().dtm_production_figmate_only_announcement_flag||(0,l.kc)().dtm_staging_only_annoucement_flag)&&!(0,l.kc)().dtm_deprecation_migration_onboarding;return(0,r7.T8)((0,s.jsx)(ne.r,{content:eN,viewbar:ec&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"drafts_to_move_page_view--dtmContainer--NcCUW",children:J?(0,l.kc)().dtm_deprecation_migration_onboarding?(0,s.jsx)(pu,{}):eS?(0,s.jsx)(pc,{}):null:null}),(0,s.jsx)("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu",children:(0,s.jsxs)("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-",children:[(0,s.jsx)(_7.E,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs",children:(0,S.tx)("file_browser.drafts_to_move.viewbar_heading")}),(0,s.jsxs)("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3",children:[(0,s.jsx)("li",{children:(0,S.tx)("file_browser.drafts_to_move.move_drafts_below")}),(0,s.jsx)("li",{children:(0,S.tx)("file_browser.drafts_to_move.drafts_for_personal_work")}),(0,s.jsx)("li",{children:(0,S.tx)("file_browser.drafts_to_move.access_to_drafts")})]}),(0,s.jsxs)("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt",children:[(0,s.jsx)(ae.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{O(!0),e(tC.to({type:pi.K,data:{reposToMove:el.map(e=>e.repo),draftsToMove:et.map(e=>e.file),onMoveSuccess:ef,isMoveAll:!0,moveAllDraftsAsync:et.length>K,onClose:ep,setSynchronousFileTransferInProgress:D}}))},children:(0,S.tx)("file_browser.drafts_to_move.move_all_drafts_button")}),(0,s.jsx)(ae.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank",children:(0,S.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")})]})]})]})}),(0,s.jsx)("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0",children:(0,s.jsx)(pj,{selectedTab:C,setSelectedTab:A})})]})}),r9.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:C})}var pN=r(666931),pS=r(287291);function pk({shouldAllowImport:e=!0,children:t}){let r=(0,n.wA)(),a=(0,n.d4)(e=>e.fileImport.step),[o,l]=i.useState(!1),d=i.useCallback(()=>l(!0),[]),c=i.useCallback(()=>l(!1),[]),u=i.useCallback(t=>{l(!1),e&&r((0,pN.b6)(t))},[r,e]);return(0,s.jsxs)(tn.Y,{isDragTarget:pN.al,onTargetDragEnter:d,onTargetDragLeave:c,onTargetDrop:u,children:[t,e&&(0,s.jsx)(pC,{step:a,dragging:o})]})}function pC({step:e,dragging:t}){switch(e){case pS.Y5.CONFIRM_PDF_IMPORT:case pS.Y5.IMPORT_REPO:return null;case pS.Y5.START:case pS.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case pS.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return(0,s.jsx)("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,I.xb)(e)}}function pA(e){return(0,s.jsx)(D.tH,{boundaryKey:"FileBrowserDropZone",fallback:(0,s.jsx)(s.Fragment,{children:e.children}),team:U.e.WAYFINDING,children:(0,s.jsx)(pk,{...e})})}var pR=r(8748);function pO(e){return(0,p.Rs)((0,eY.L8O)({projectId:e}))}function pP({folderId:e,children:t}){let r=pO(e),a=(0,pN.Cq)({folder:r.data?.project??null}).unwrapOr(!1);return(0,s.jsx)(pA,{shouldAllowImport:a,children:t})}function pL({org:e,currentResourceId:t,hasTrailingDivider:r}){let a=(0,n.wA)();return(0,s.jsx)(oV.J5,{text:e.name,onClick:r=>{a(eR.sf({view:"org",orgId:e.id,orgViewTab:tF.X.HOME})),(0,H.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})},hasTrailingDivider:r})}var pF=r(503099);function pD({planEntity:e}){return(0,s.jsxs)(mP.Y,{spacing:4,children:[(0,s.jsx)(pF.H,{entityId:e.id,entityName:e.name,imgUrl:e.imgUrl??void 0}),(0,s.jsx)(k.E,{fontSize:13,color:"secondary",children:e.name})]})}function pM({team:e,currentResourceId:t,orgId:r,hasTrailingDivider:a}){let i=(0,n.wA)();return(0,s.jsx)(oV.J5,{text:e.name,onClick:a=>{i(eR.sf({view:"team",teamId:e.id})),(0,H.Cu)({clickedResourceType:"workspace",clickedResourceId:e.id,currentResource:t,orgId:r})},hasTrailingDivider:a})}var pU=r(965275);function pB({workspace:e,currentResourceId:t,orgId:r,hasTrailingDivider:a}){let i=(0,pU.$)(),n=e.id===iQ.O,o=!e.canRead;return(0,s.jsx)(oV.J5,{text:n?(0,S.t)("breadcrumbs.unassigned_license_group"):o?(0,S.t)("breadcrumbs.private_workspace_ellipses"):e.name,onClick:a=>{i(e.id,a),(0,H.Cu)({clickedResourceType:"workspace",clickedResourceId:e.id,currentResource:t,orgId:r})},hasTrailingDivider:a,disabled:n||o})}function pG({folderId:e}){let t;let r=(0,p.bc)(eY.L8O,{projectId:e}),a=r.data?.project||null,i=(0,K.dq)(),n=(0,eK.X$)("FolderPageBreadcrumbs").unwrapOr(null),o=n?.key.type===eU.OL.ORG;if(!a?.team)return null;t=o||a.team.org?i!==a.team.org?.id:!a.team.canRead;let l={...a.team,name:a.teamLimitedInfo?.name||"",imgUrl:a.teamLimitedInfo?.imgUrl??null};if(t)return(0,s.jsx)(pD,{planEntity:a.team.org??l});let d=(0,Z.Zr)(a.team.org);return(0,s.jsxs)(oV.A5,{children:[a.team.org&&(0,s.jsx)(pL,{org:a.team.org,currentResourceId:a.id,hasTrailingDivider:!0}),(a.team.workspace||d)&&a.team.org&&(0,s.jsx)(pB,{workspace:a.team.workspace??{id:iQ.O},currentResourceId:a.id,orgId:a.team.org.id,hasTrailingDivider:!0}),(0,s.jsx)(pM,{team:{id:a.team.id,name:a.teamLimitedInfo?.name||""},currentResourceId:a.id,orgId:a.team.org?.id,hasTrailingDivider:!1})]})}var pW=r(952385);let pz="seen_folder_settings_disconnected_project_share_copy_onboarding",pV="FOLDER_SETTINGS_DISCONNECTED_PROJECT_SHARE_COPY_ONBOARDING_KEY",pH=(0,ef.r1)(pz);function p$({folderId:e}){let t=(0,ec.md)(pH),[r]=(0,f.IT)((0,eY.eQD)({projectId:e})),a=i.useMemo(()=>r.transform(e=>{let t=e.project;if(!t)return!1;let r=t.mostRecentResourceConnection,a=!!r&&!!r.disconnectedAt,s=!!r&&!r.assetTransferRequestId,i=t.canTransferCopy;return a&&s&&i}),[r]),{show:n,isShowing:o,complete:l}=(0,ep.e)({overlay:ev.j9$,priority:eg.N.DEFAULT_MODAL},[t,a]);return(0,m.h)(()=>{n({canShow:(e,t)=>!e&&t})}),(0,s.jsx)(eh.rq,{arrowPosition:eb.F_.TOP,clickOutsideToHide:!0,description:(0,s.jsx)(pq,{result:r}),emphasized:!0,isShowing:o,onClose:l,primaryCta:{label:(0,S.tx)("general.got_it"),ctaTrackingDescriptor:e_.c.GOT_IT,type:"button",onClick:l},shouldCenterArrow:eb.EL.FALLBACK,targetKey:pV,title:(0,S.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_title"),trackingContextName:"seen folder settings disconnected project share copy onboarding overlay",userFlagOnShow:pz})}function pq({result:e}){let t=e.data?.project?.mostRecentResourceConnection;if(!t)return null;let r=e=>(0,s.jsx)("span",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--planName--0GWpT",children:e});return(0,s.jsx)("div",{className:"folder_settings_disconnected_project_share_copy_onboarding_overlay--descriptionText--fItDx",children:(0,S.tx)("resource_connection.onboarding.share_a_project_copy_onboarding_description",{hostPlanName:r(t.hostPlanName),connectedPlanName:r(t.connectedPlanName)})})}function pY(e){return(0,s.jsx)(aA.u,{label:"TeamUpgradeBanner",children:(0,s.jsx)(pK,{...e})})}function pK(e){let{selectedView:t,userFlags:r,userTeamFlags:a,userEduVerified:o,isFreeUser:l,userAnalyticsData:d,...c}=(0,sg.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,s5.getPermissionsState)(e)})),u=(0,n.wA)(),m=(0,p.bc)(eY.UpR,{}),_=(0,aF.Cr)(),{teamId:f,selectedTab:x}=e,g=c.teams[f]??null,h=!!g?.org_id,b=!!g?.subscription,v=(0,p.bc)((0,eY.LKQ)(f?{teamId:f}:null)),y=i.useMemo(()=>v.transform(({team:e})=>!!e?.canAdmin),[v]).unwrapOr(!1),j=(0,n.d4)(e=>e.loadingState),w=_K.Be.loadingKeyForPayload({teamId:f}),T=(0,o$.VP)(j,w),E=(0,o$.D2)(j,w);(0,i.useEffect)(()=>{!T&&!E&&f&&!h&&b&&y&&u(_K.Be({teamId:f}))},[u,f,h,b,y,T,E]);let I=(0,n.d4)(e=>e.teamBilling?.summary),N=_$(eU.vt.TEAM,g,f,{selectedView:t,userFlags:r,userTeamFlags:a,selectedTab:x,isFreeUser:l,userAnalyticsData:d,eduPeriodEnd:m.data?.currentUser?.eduPeriodEnd,offboardingDate:_,billingSummary:I,...c},u).unwrapOr(null);if(!N)return(0,s.jsx)("div",{});let S=_Y({resourceType:eU.vt.TEAM,teamId:f},N),k=N.severity===_E.c.WARN?_I:"",C=N.bannerClassName||"",A=`${_F} ${k} ${C}`;return(0,s.jsx)("div",{className:A,children:(0,s.jsx)(_X,{...N,tracking:S})})}function pJ({folderId:e,pinnedFiles:t,tileActions:r}){let a=(0,n.wA)(),o=(0,eO._6)(),d=(0,Q.TA)(),{Sprig:c}=(0,t5.A)(),{showing:u,show:m,data:_}=(0,od.L)(),p=(0,ol.v)(),f=i.useCallback((t,r,a)=>{p(t,r);let s=t.type===rw.nb.PINNED_FILE?t.file:null;(0,H.E9)(H.gH,s,{entrypoint:a,selectedView:o.view,resourceType:"folder",resourceId:e,pinDescription:"file open from pinned files for file named "+s?.name})},[p,o.view,e]),x=i.useCallback((e,t)=>{f(p0(e.file),t,"pinned files")},[f]),g=i.useCallback((e,t,r)=>{a(rv.an()),a(rv.PW({type:rI.F.PINNED_FILES,keys:e.map(e=>e.file.key)})),m({data:{tile:p0(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[a,m]),h=i.useCallback(t=>{if(1!==t.length)return;let r=t[0];r?.pinnedByUser?.id===d&&(a(pR.z6({folderId:e,fileKey:r.file.key})),(0,l.kc)().file_browser_sentiment_survey&&c("setAttribute","fb_file_organized",!0))},[d,a,e,c]),b=i.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>p0(e.file)),[t]),v=(0,rw.nw)(b),y=i.useMemo(()=>t.sort((e,t)=>e.file.createdAt>t.file.createdAt?1:-1),[t]);return(0,s.jsxs)("div",{className:N.s.px32.pb8.m0.$,children:[t.length>0?(0,s.jsx)(iM.A,{handleContextMenu:g,items:y,doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:iW.XU.GRID,handleOpenItem:x,handleDeleteKey:h,gridViewProps:{containerStyle:p1.grid,renderCard:({ref:e,item:t,isSelected:r,role:a,onFocus:i,onClick:n,onBlur:o})=>(0,s.jsx)(pQ,{pinnedFile:t,ref:e,isSelected:r,cardRole:a,onFocus:i,onClick:n,onBlur:o}),renderTileDragImage:e=>(0,s.jsx)(r_.NM,{file:e.file,noBorder:!0})}}):(0,s.jsx)("div",{}),(()=>{let e=_?.tile??null;return(0,s.jsx)(oc.i,{tile:e,selectedTiles:v,tileActions:r,openTile:t=>{e&&f(e,t,"pinned files: context menu")},dropdownVisible:u})})()]})}let pQ=i.forwardRef(function({pinnedFile:e,isSelected:t,cardRole:r,onClick:a,onFocus:i,onBlur:n,draggable:o},l){let d=p0(e.file);return(0,s.jsx)(oo,{ref:l,cardRole:r,draggable:o,isSelected:t,onBlur:n,onClick:a,onFocus:i,subtitle:(0,s.jsx)(pZ,{pinnedFile:e}),thumbnail:(0,s.jsx)(os.e,{tile:d,noBorder:!0,size:rz.y.SMALL}),title:(0,s.jsx)(pX,{pinnedFile:e})})});function pX({pinnedFile:e}){return(0,s.jsx)("span",{className:N.s.ellipsis.textBodyLargeStrong.truncate.$,children:e.file.name})}function pZ({pinnedFile:e}){return(0,s.jsx)(k.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary",children:(0,S.t)("tile.file_tile.pinned_by_user",{name:e.pinnedByUser?.name??""})})}function p0(e){return{type:rw.nb.PINNED_FILE,file:e}}let p1={grid:{kumcoG:"x1g5i94c",kfSwDN:"x87ps6o",$$css:!0}};var p4=r(265149),p2=r(587710),p5=r(921540),p6=r(526953),p3=r(36599),p7=r(220411),p8=r(338052);let p9=new Set(["PM","ENG","DES","MKT","UR"]),fe=(e,t)=>e?p2.Dw.loadingKeyForPayload({shelfType:dY.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES,filterLabel:t}):p2.sz.loadingKeyForPayload({shelfType:dY.cS.FILE_BROWSER_RECOMMENDED_TEMPLATES}),ft=(0,p8.nh)(e=>(function(e){if(!e)return"OTH";let t={"software-development":"ENG","user-research":"UR",design:"DES",marketing:"MKT","product-management":"PM",other:"OTH"};if(e in t)return t[e];let r={"project-manager":"PM",designer:"DES",developer:"ENG",marketer:"MKT","product-manager":"PM",consultant:"OTH",sales:"MKT","ux-researcher":"UR",student:"OTH",educator:"OTH"};return e in r?r[e]:e.endsWith("-developer")?"ENG":e.endsWith("-designer")?"DES":e.includes("Eng")||e.includes("Dev")?"ENG":e.includes("Des")?"DES":e.includes("Lead")||e.includes("Man")?"PM":"OTH"})(e?.profile?.job_title??"OTH"));var fr=r(615782),fa=r(395556),fs=r(652960),fi=r(583669);let fn=[eU._Y.WHITEBOARD,eU._Y.SLIDES],fo=(0,ec.eU)(!1);function fl(e){let t=(0,n.wA)(),r=ft((0,Q.iZ)()),a=fe(!1,r),o=(0,o$.oh)(a),l=(0,o$.mC)(a),d=p9.has(r)?r:dY.iF.ALL,c=(0,ec.Xr)(fo);i.useEffect(()=>(c(!0),()=>c(!1)),[c]),i.useEffect(()=>{if(!o&&!l)return t(p2.Dw({shelfType:dY.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:d}))},[o,l,t,r,d]);let u=(0,n.d4)(e=>e.communityHub.shelves[dY.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),m=i.useMemo(()=>{let e=new Map;return u.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[u]),_=i.useCallback(e=>{switch(e){case"All":return(0,S.t)("file_browser.templates_shelf.for_you");case"Brainstorm":return(0,S.t)("file_browser.templates_shelf.brainstorm");case"Reviews":return(0,S.t)("file_browser.templates_shelf.reviews");case"Meetings":return(0,S.t)("file_browser.templates_shelf.meetings");case"Planning":return(0,S.t)("file_browser.templates_shelf.planning");case"Diagram":return(0,S.t)("file_browser.templates_shelf.diagram");default:return null}},[]),p=i.useMemo(()=>{let e=[];return u.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title,modifiedTabTitle:_(t.title)})}),e},[u,_]);return 0===p.length?null:(0,s.jsx)(r7.fu,{name:"topbar_templates_shown",children:(0,s.jsx)("div",{className:"templates_bar--container--0nCIh",children:(0,s.jsx)(fd,{tabNameToTemplatesMap:m,folderId:e.folderId,onClose:e.onClose,tabList:p,newFileFrom:e.newFileFrom})})})}function fd(e){let[t,r]=i.useState(e.tabList[0]),[a,n]=i.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),[o,l]=i.useState(null),{sizeRef:d,numTemplates:c,templateWidth:u,templateHeight:m}=function(e){let t=(0,i.useRef)(null),[r,a]=(0,i.useState)(0),s=Math.min(r-4,2229);(0,i.useLayoutEffect)(()=>{a(t?.current?.offsetWidth??0)},[a,t]),(0,p4.wY)(t,e=>{a(e.width)});let n=(0,i.useMemo)(()=>s?Math.min(Math.floor((s+16)/187),e):0,[s,e]),o=n&&s?Math.floor((s-16*(n+1))/n):0,l=o?Math.floor(136*o/171):0;return{sizeRef:t,numTemplates:n,templateWidth:o,templateHeight:l}}(a?.length??0);i.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];r(t),n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),i.useEffect(()=>{n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]);let _=(0,s.jsx)(f_,{tabs:e.tabList,activeTab:t,setActiveTab:r});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"templates_bar--headerContainer--3-3sN",children:[(0,s.jsx)("div",{className:"templates_bar--headerLeft--p4T6m",children:(0,s.jsx)(fc,{})}),(0,s.jsx)("div",{className:"templates_bar--headerEnd--rI6SI",children:_}),(0,s.jsx)("div",{className:"templates_bar--headerRightOld--j-Via",children:(0,s.jsx)("div",{className:"templates_bar--closeButton--XeG8e",children:(0,s.jsx)(et.K,{onClick:e.onClose,"aria-label":(0,S.t)("general.close"),children:(0,s.jsx)(er.X,{})})})})]}),(0,s.jsx)("div",{className:"templates_bar--body--PKvm-",ref:d,children:(0,s.jsx)("div",{className:"templates_bar--tilesContainer--OHkyf","data-testid":"templates-bar-tiles-container",children:a?.slice(0,c??0).map((r,a)=>s.jsx("div",{style:{width:u,height:m,marginRight:16},children:s.jsx(fm,{hubFile:r,rank:a,folderId:e.folderId,tab:t,duplicatingHubId:o,setDuplicatingHubId:l,newFileFrom:e.newFileFrom})},r.id))})})]})}function fc(){return(0,s.jsx)("div",{className:"templates_bar--headerTitle--6BSKy text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,S.tx)("file_browser.templates_shelf.interim_title")})}let fu=e=>e===eU.y4.WHITEBOARD?"whiteboard":e===eU.y4.SLIDE_TEMPLATE?"piper":"design";function fm(e){let t=(0,n.wA)(),r=e.hubFile,a=r.id,i=null!==e.duplicatingHubId,o=e.duplicatingHubId===a,l=r&&(0,fr.a6)(e.hubFile),d=s=>{s.stopPropagation(),e.setDuplicatingHubId(a),t(p5.rL({hubFileId:a,hubFileName:l?.name||"this file",openInNewTab:!1,folderId:e.folderId,source:o7.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,H.Cu)({fileKey:t,rank:e.rank,templateId:a,productType:(0,p6.L)(r.viewer_mode)},"topbar_template_selected"),(0,p3._)("resource_inserted",{fileKey:t,resourceId:a,resourceName:l.name,resourceType:"template",templateType:fa.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return r?(0,s.jsx)(fs.zq,{containerStyle:"templates_bar--templatesTileContainer--yy7Q2",onClick:i?void 0:d,image:(0,s.jsxs)(fs.FK,{backgroundColor:(0,p7.Cn)(r.client_meta),removeBorder:!0,className:"templates_bar--templatesTileImage--y0sA9",customRatioClassName:"templates_bar--imageRatio--enx9l",children:[(0,s.jsx)(fs.zx.Cover,{children:(0,s.jsx)("button",{className:"templates_bar--hoverOverlay--bQBil browse_templates_modal--hoverOverlay--sFj3y",onClick:d,disabled:i})}),(0,s.jsx)(fs.zx.Center,{children:(0,s.jsx)("div",{className:G()("templates_bar--useTemplateButton--4KFhz",N.s.bRadius6.$),tabIndex:-1,children:(0,s.jsx)(nf.J,{brand:fu(r.viewer_mode),children:(0,s.jsx)(tL.$n,{onClick:d,disabled:i,children:o?(0,s.jsx)(nc.k,{}):(0,S.tx)("file_browser.new_file_creation_topbar.use_templates")})})})}),(0,s.jsx)(fi.Ho,{image:e.overrideThumbnailUrl||r.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!r.thumbnail_is_set,isWhiteboard:r.viewer_mode===eU.y4.WHITEBOARD,hubFileId:r.id,alt:(0,fr.a6)(r).name,imageClassName:r.viewer_mode===eU.y4.SLIDE_TEMPLATE?"templates_bar--slidesThumbnailImage--uJ-8c templates_bar--thumbnailImage--ymHpx":"templates_bar--thumbnailImage--ymHpx",resizedThumbnailUrls:r.resized_thumbnail_urls})]}),bottomRow:(0,s.jsx)(fs.Wf.NameAndFileIconMetadata,{name:l.name,className:"templates_bar--tilesBottomRowContainer--GxsNx",textClassName:"templates_bar--tileBottomRowNameOnly--SMVhN text--fontPos11--2LvXf text--_fontBase--QdLsd",viewerMode:r.viewer_mode}),bottomRowStyle:"templates_bar--bottomRowStyle--a32JN"}):null}function f_(e){return(0,s.jsx)("div",{className:"templates_bar--tabs--a8HOf text--fontPos13--xW8hS text--_fontBase--QdLsd",style:i3.sx.add({columnGap:"26px"}).$,children:e.tabs.map(t=>(0,s.jsx)(fp,{tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab},t.tabKey))})}function fp(e){return(0,s.jsx)(sF.E,{className:G()("templates_bar--tab---drzF text--fontPos11--2LvXf text--_fontBase--QdLsd",{"templates_bar--activeTab--c7Hid":e.isActive}),onClick:()=>{(0,H.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)},children:e.tab.modifiedTabTitle??e.tab.tabTitle})}var ff=r(694415),fx=r(260745),fg=r(595596),fh=r(519049),fb=r(946996),fv=r(373224);let fy="connected_folder_empty_view--subtitle--eKq7-",fj="connected_folder_empty_view--betaTag--xypkD";function fw(e){var t;let{lgFolder:r,hostPlanName:a,user:i}=e,o=(0,n.wA)(),{properties:l}=(0,r7.j6)(),{handleUpgrade:d,getUpgradeEligibility:c,hasPendingRequest:u,getUpgradePathway:m}=(0,ru.wH)({folderId:r.id}),_=r.canCreateDesignFileWithReasons.result&&r.canEdit,p=(e=>{let t=c(eU.G_.DESIGN,_);return t===fb.q.CAN_UPGRADE?((0,H.Cu)({...l,trackingDescriptor:e_.c.CREATE_FILE,licenseType:eU.G_.DESIGN,billableProductKey:(0,fg.F2)(eU.G_.DESIGN),needsUpgrade:!0}),d({afterUpgradeCallback:e,licenseType:eU.G_.DESIGN,editorType:eU._Y.DESIGN,upgradeReason:fv.i.CREATE_FILE,entryPoint:fx.tc.CREATE_FILE_EMPTY_CONNECTED_PROJECT})):t===fb.q.CANNOT_UPGRADE?()=>o(tl.F.enqueue({message:"Can't upgrade",error:!0})):e})((0,d1.$)({isDraftsFolder:(0,rx.T9)(r),editorType:eU._Y.DESIGN,newFileFrom:o7.f6.FILE_BROWSER_CONNECT_FOLDER_EMPTY_PAGE,contextClicked:"empty_connected_project_page",folderId:r.id})),f=()=>!_&&c(eU.G_.DESIGN)===fb.q.CANNOT_UPGRADE&&u(eU.G_.DESIGN),x=r.team?.org?.id,g=(0,eE.R$)(i,x),h=(0,pN.ud)(r)&&!g;return(0,s.jsxs)("div",{className:"connected_folder_empty_view--connectEmptyStateContainer--YGdYq",children:[(0,s.jsx)("div",{className:"connected_folder_empty_view--connectedEmptyHeading--UNTZ6",children:(0,S.tx)("file_browser.folder.what_s_a_connected_project_without_files")}),(0,s.jsxs)("div",{className:"connected_folder_empty_view--creationButtonsContainer--vedbb",children:[(0,s.jsx)(fT,{hideDisabledTooltip:f(),isDisabled:f(),onClick:p,showRequestSentTag:f(),showRequestTag:!_&&c(eU.G_.DESIGN)===fb.q.CAN_UPGRADE&&m(eU.G_.DESIGN)!==fb.J.AUTO_PATHWAY&&!u(eU.G_.DESIGN),subtitle:(0,S.t)("file_browser.folder.create_a_file_in_any_figma_product"),title:(0,S.t)("file_browser.folder.start_from_scratch")}),h&&(0,s.jsx)(fT,{title:(0,S.t)("file_browser.folder.use_existing_work"),onClick:()=>{r&&(o(E.gN(r.id)),o((0,fh.L)()))},subtitle:(0,S.t)("file_browser.folder.import_images_sketch_files_and_pdfs")})]}),(0,s.jsxs)("div",{className:fy,children:[(0,s.jsx)(ff.l,{className:"connected_folder_empty_view--libraryIcon--jFzUk"}),(0,s.jsx)("div",{children:(0,S.tx)("file_browser.folder.the_host_team_can_add_libraries",{hostPlanName:(0,s.jsx)("span",{className:"connected_folder_empty_view--bold--6ZKfX",children:a}),learnMoreLink:(0,s.jsx)("a",{className:"connected_folder_empty_view--learnMore--4py5l modal--blueLink--9GcJu blue_link--blueLink--9rlnd",href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank",children:t||(0,S.tx)("resource_connection.request_modal.learn_more")})})})]})]})}function fT(e){let t=e.isDisabled,r=e.onClick,a=i.useRef(null),n=i.useCallback(e=>{r(e),a.current?.blur()},[r]),o=(0,dX.qI)().unwrapOr(null);return(0,s.jsxs)("button",{className:G()("connected_folder_empty_view--creationButton--CQHPo",t&&"connected_folder_empty_view--disabled--eER6x"),ref:a,"data-testid":"connect_file_browser_create_file_button",tabIndex:0,disabled:t,onClick:t?void 0:n,"data-tooltip":e.isDisabled&&!e.hideDisabledTooltip&&o?o:void 0,"data-tooltip-type":r8.Ib.TEXT,children:[(0,s.jsx)("div",{className:"connected_folder_empty_view--creationIcon--ieYan",children:(0,s.jsx)(nt.$,{})}),(0,s.jsxs)("div",{className:"connected_folder_empty_view--productNameContainer--w-3vG",children:[(0,s.jsx)("span",{className:"connected_folder_empty_view--productName--19C6G",children:e.title}),(0,s.jsx)("span",{className:fy,children:e.subtitle})]}),e.showRequestTag&&(0,s.jsx)(r5.Ex,{className:fj,text:(0,S.t)("upgrades.request"),color:r5.zE.DEFAULT_TRANSLUCENT}),e.showRequestSentTag&&(0,s.jsx)(r5.Ex,{className:fj,text:(0,S.t)("upgrades.request_sent"),color:r5.zE.DEFAULT_TRANSLUCENT})]})}let fE={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0};function fI(e){let t=(0,n.wA)(),r=(0,p.bc)(eY.CH9,{folderId:e.folderId}),a=i.useMemo(()=>"loaded"===r.status?(r.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[r]);i.useEffect(()=>{t(pR.MR({folderId:e.folderId,fileKeys:a.map(e=>e.file.key)}))},[a,t,e.folderId]);let o=i.useCallback(()=>{t(rv.an())},[t]);return 0!==a.length?(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:o,children:(0,s.jsx)(k.E,{fontSize:13,color:"secondary",children:(0,S.tx)("file_browser.folder.pinned")})}),(0,s.jsx)(pJ,{pinnedFiles:a,folderId:e.folderId,tileActions:e.tileActions})]}):null}function fN({files:e,filesByRepoId:t,folderId:r,hasBanner:a,isEditingLocked:o,lgFolder:l,repos:d,team:c,activeProjectConnection:u,infiniteScrollOptions:m}){let _=(0,Q.Pc)(),p=(0,eI.R)(c?.id),f=(0,eI.jn)(),x=(0,n.d4)(e=>fS(r,e.tileSortFilterStateByView)),h=(0,n.d4)(e=>e.selectedBranchKeyByRepoId),b=(0,eN.vt)(c?.id),v=!!l&&(0,dX.f3)(l),y=v&&!o,j=y?"":(0,S.t)("file_browser.folder.no_files_yet"),{shouldShowTemplatesBar:w,hideTemplatesBar:T}=function({folderId:e,hideTemplatesUserFlag:t,isShowingLockedRedesign:r,additionalVisibilityRequirements:a=!0}){let s=(0,n.wA)(),o=(0,Q.TA)(),{data:l}=(0,dX.nt)(e),d=!!l&&fn.every(e=>(0,dX.d6)(l,e)),c=(0,n.d4)(eB.yK),u=(0,n.d4)(e=>e.userFlags[t]),m=(0,eK.X$)("useTemplatesBarVisibility").unwrapOr(null),_=m?.tier===eU.Ag.PRO||m?.tier===eU.Ag.STUDENT;return{shouldShowTemplatesBar:!g.Ay.mobile&&d&&!c&&!u&&!r&&_&&a,hideTemplatesBar:(0,i.useCallback)(()=>{s(eF.b({[t]:!0})),(0,H.Cu)({userId:o,opening:!1},"topbar_recommended_templates_toggled")},[o,s,t])}}({folderId:r,hideTemplatesUserFlag:"hide_recommended_templates_in_projects",isShowingLockedRedesign:b||f&&p,additionalVisibilityRequirements:!a}),E=[...(0,i.useMemo)(()=>e.map(e=>(0,rw.fA)(e)),[e]),...d.filter(e=>!e.trashed_at).map(e=>({type:rw.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:h[e.id]||""}))],I=function({tiles:e,...t}){return mb({tilesResult:i.useMemo(()=>sh.Qw.loaded(e),[e]),...t}).data}({tiles:E,tileSortFilterConfig:x.tileSortFilterConfig});return(0,s.jsx)(mv.B,{onShouldFetchNextPage:m.onShouldFetchNextPage,isFetchingNextPage:m.isFetchingNextPage,children:(0,s.jsxs)("div",{className:"folder_page_view--container---glyH",children:[w&&(0,s.jsx)(fl,{folderId:r,newFileFrom:o7.f6.FILE_BROWSER_TOPBAR_FOLDER,onClose:T}),(0,s.jsx)(fI,{folderId:r,repos:d,tileActions:fE}),(0,s.jsx)(mZ,{newFileTile:y,tiles:E,sortedFilteredTiles:I,tileActions:fE,sortFilterOptions:x,emptyStateText:j,emptyStateContent:(()=>{if(0===E.length&&u&&v)return(0,s.jsx)(fw,{lgFolder:l,hostPlanName:u.hostPlanName,user:_})})(),isFolder:!0,isEligbileForProTeamLockedRevampUI:p})]})})}let fS=(0,u3.xx)(rx.ZN);var fk=r(986287),fC=r(643330),fA=r(791411);let fR="CONNECTED_PROJECTS_PROJECT_PAGE_ONBOARDING_KEY";function fO({resourceConnection:e}){let t=(0,s.jsx)(su.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",newTab:!0,children:(0,S.tx)("resource_connection.onboarding.connected_projects_capitalized")}),r=(0,S.tx)("resource_connection.onboarding.connected_projects_are_just_like_normal_projects",{hostPlanName:e.hostPlanName,connectedProjects:t,connectedPlanName:e.connectedPlanName});return(0,s.jsx)(fA.b,{description:r,title:(0,S.tx)("resource_connection.onboarding.projects_are_better_together"),trackingContext:"Connected Projects Project Page Onboarding Modal",onboardingKey:fR,arrowPosition:fC.F_.BOTTOM})}var fP=r(689190),fL=r(493300);function fF({folder:e,onShareClick:t,setFavorite:r,removeFavorite:a}){let{getTriggerProps:o,manager:l}=tQ.b(),d=(0,n.d4)(t=>(0,rx.oq)(e.id,t))??null,c=(0,ee.Q)({currentOrgId:d,currentTeamId:null}),u=c.transform(e=>(0,$.t$)((0,es.oA)(e.currentUser.userSidebarSections)??[],e.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[])).unwrapOr([]),m=i.useMemo(()=>{if("loaded"===c.status)return(0,$.T0)(c.data,e.id)},[c,e.id]),_=i.useCallback(({sectionId:e})=>{r({favoriteId:m?.id,sectionId:e})},[r,m]),p=i.useCallback(()=>{m&&a({favoriteId:m.id})},[a,m]);if("loaded"!==c.status)return(0,s.jsx)("div",{className:N.s.flex.itemsCenter.colorIcon.$,children:(0,s.jsx)(r3.B,{svg:fL.A})});let f=(0,$.gV)(c.data,d),x=[];return e.canRead&&x.push((0,s.jsx)(tQ.q7,{onClick:t,children:(0,S.tx)("file_browser.folder.share")},"share")),(0,s.jsxs)(tQ.bL,{manager:l,children:[(0,s.jsx)(sF.E,{className:G()(N.s.flex.itemsCenter.colorIcon.$,fP.HM),...o(),children:(0,s.jsx)(tZ.J,{})}),(0,s.jsxs)(tQ.mc,{children:[x,(0,s.jsxs)(tQ.g8,{children:[(0,s.jsx)(tQ.ZP,{children:(0,S.tx)("favorited_resources.add_to_sidebar")}),(0,s.jsx)(tQ.MJ,{children:(0,s.jsx)(ra.t,{setFavorite:_,removeFavorite:p,resourceId:e.id,resourceType:eU.bk.FOLDER,favoriteId:m?.id,currentSectionId:m?.resource.sidebarSectionId??void 0,orderedSidebarSections:u,userHasMaxFavorites:f})})]})]})]})}var fD=r(84320),fM=r(569711),fU=r(554886),fB=r(613936),fG=r(233224),fW=r(807372),fz=r(243432),fV=r(581707);function fH({lgFolder:e,currentOrgId:t}){return!e.canEdit&&!!e.plan?.isMember&&!e.team?.canAdmin&&null!==t}var f$=r(437346);function fq({folder:e,lgFolder:t,team:r}){let a=(0,n.wA)(),o=(0,n.d4)(e=>"folder"===e.selectedView.view&&e.selectedView.shouldShowRenameModal||!1),l=function(){let e=(0,eN.vt)(),t=(0,eI.jn)();return e||t}(),d=function(){let e=(0,n.Pj)();return(0,i.useCallback)(async t=>{try{await uk.Ay.post(`/api/folders/${t}/claim`),e.dispatch(pR.qp({folderId:t})),(0,rx.qF)(t)||e.dispatch((0,q.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch(a4.s.error(t.message||(0,S.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}(),c=i.useCallback(()=>d(t.id),[d,t.id]),u=function(e){let t=(0,n.wA)(),r=e.canEdit;return(0,i.useCallback)(()=>{e.name&&r&&t(tC.to({type:(0,fV.y)(),data:{folder:e}}))},[t,e,r])}(t);(0,m.h)(()=>{o&&u()});let _=(0,V.fn)()===V.ih.CONTROL,p=(0,n.d4)(e=>e.currentUserOrgId),f=(0,n.d4)(e=>e.teamRoleRequests),x=t.team?.org?.id,g=t.team?.id,h=fH({lgFolder:t,currentOrgId:p}),b=function({lgFolder:e}){let t=eS({project:e}),r=(0,n.d4)(e=>e.currentUserOrgId);return e.canEdit&&!e.isEditingLockedForUser&&t&&!fH({lgFolder:e,currentOrgId:r})}({lgFolder:t}),v=()=>{a(tC.to({type:fz.WY,data:{folderId:t.id}}))},y=t.canRead,j=i.useMemo(()=>{if(h&&f&&r&&f[r.id]&&f[r.id].status===fG.c.PENDING)return f[r.id].id},[h,f,r]);i.useEffect(()=>{h&&p&&a((0,fU.Rw)())},[h,a,p]);let w=(0,ry.jm)(x,g),T=l?(0,S.t)("locked_team.label.tooltip"):void 0,E=l?r8.Ib.TEXT:void 0,I=({favoriteId:t,sectionId:r})=>{a(eL.Mv({folder:e,entrypoint:"folder_page_view",sectionId:r,favoriteId:t}))},N=({favoriteId:t})=>{a(eL.jv({folder:e,entrypoint:"folder_page_view",favoriteId:t}))},k=function(e){let t=(0,_e.u)(e.id),r=e.canRead,a=e.team?.org?.id,n=(0,i.useMemo)(()=>t({folder:{...e,orgId:a??null},shouldShowJoinButton:!1,shouldHideShareOption:!0}),[t,e,a]);return(0,i.useMemo)(()=>{let e=n.some(e=>e.items.length>0);if(r&&e)return{kind:i7.A.CUSTOM,key:ni.DROPDOWN,element:(0,s.jsx)(ng,{dataOnboardingKey:pV,buttonAriaLabel:(0,S.t)("file_browser.folder.page_header_dropdown_label"),menuGroups:n})}},[r,n])}(t),C=t?.activeProjectResourceConnections?.[0];return(0,s.jsxs)(D.tH,{boundaryKey:"FolderPageViewHeader",fallback:D.H4.NONE_I_KNOW_WHAT_IM_DOING,severity:_m.DZ.Critical,sentryTags:{area:U.e.MONETIZATION_EXPANSION},children:[(0,s.jsx)(i9,{title:t.name,badge:C?(0,s.jsx)(rP.W,{hostPlanName:C?.hostPlanName,connectedPlanName:C?.connectedPlanName,large:!0,dataOnboardingKey:fR}):void 0,rightSideActions:(()=>{let e=[];if(!t.ownerRole&&t.team?.canAdmin&&e.push({kind:i7.A.CUSTOM,key:ni.CLAIM,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:c,children:(0,S.t)("file_browser.folder.join_as_owner")})}),b&&e.push({kind:i7.A.CUSTOM,key:ni.NEW_RESOURCE,showOnMobile:!0,element:(0,s.jsx)(f$.FolderPageViewOmnicreateDropdown,{lgFolder:t,newFileFrom:o7.f6.FILE_BROWSER_TOPBAR_FOLDER})}),y){let t={kind:i7.A.CUSTOM,key:ni.SHARE,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:v,htmlAttributes:{"data-tooltip-type":E,"data-tooltip":T},disabled:l,children:(0,S.t)("file_browser.folder.share")})};e.push(t)}h&&e.push({kind:i7.A.CUSTOM,key:ni.REQUEST_TO_EDIT,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:()=>{j?a(fM.lT({requestId:j})):r&&a(tC.to({type:fW.$,data:{team:r,requesterCurrentLevel:fB.e6.VIEWER,source:"FolderPageView"}}))},children:void 0!==j?(0,S.t)("file_browser.team.cancel_request"):(0,S.t)("file_browser.team.request_to_edit")})}),e.push({kind:i7.A.CUSTOM,key:ni.SETTINGS,element:(0,s.jsx)("div",{className:"x1n2onr6",children:(0,s.jsx)(ed.Me,{variant:"secondary",size:"lg",onClick:()=>{a(tC.to({type:fD.l,data:{folderId:t.id}}))},"aria-label":(0,S.t)("file_browser.folder_settings_modal.tooltip.settings"),htmlAttributes:{"data-tooltip":(0,S.t)("file_browser.folder_settings_modal.tooltip.settings")},children:(0,s.jsx)(fk.k,{})})})}),_&&w&&e.push({kind:i7.A.CUSTOM,key:ni.FAVORITE,element:(0,s.jsx)(nh.i,{setFavorite:I,removeFavorite:N,favoriteType:eU.bk.FOLDER,resourceId:t.id,orgId:p,teamId:g,size:"lg"})});let i=(0,s.jsx)(fF,{folder:t,onShareClick:v,setFavorite:I,removeFavorite:N});return e.push({kind:i7.A.CUSTOM,key:ni.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:i}),e})(),rightSideOfTitleAction:k}),!!C&&(0,s.jsx)(fO,{resourceConnection:C})]})}function fY({folderId:e}){let t=pO(e);!function(e){let[t]=(0,f.IT)((0,eY.oFF)({projectId:e})),r=t.transform(e=>e.project?.name??null).unwrapOr(null);i.useEffect(()=>{r&&(0,ry.hL)(r)},[r])}(e);let r=(0,eM.FC)(),[a,o]=function(e){let[t,r]=__({folderId:e,source:"folder",shouldCompareWithUnpaginated:!!(0,l.kc)().fb_paginated_files_diff_unpaginated_fetch}),a=i.useCallback(()=>{!t.isFetchingNextPage&&t.hasNextPage&&r.fetchNextPage()},[t.isFetchingNextPage,t.hasNextPage,r]);return(0,iP.I)("loaded"===t.status,(t,r,a)=>{0===t||r||a||sM.az.trackDefinedMetric("file_browser.folder_files_load_time",{durationMs:t,folderId:e})}),[t,a]}(e),d=a.data?.folder,c=t.data?.project||null,u=(0,n.wA)(),m=(0,p.bc)(eY.Udv,{id:e}),_=(0,eO._6)(),g="loaded"===m.status&&!m.data.project?.hasPermission||c?.trashedAt,h=c?.trashedAt,b=c?.isAbandonedDrafts&&c?.currentPlanUser?.permission===eU.Xn.ADMIN;i.useLayoutEffect(()=>{if(g||h){if(c?.team){let e=c.team.id;u(eR.sf({view:"team",teamId:e}))}else u(eR.sf({view:"recentsAndSharing"}))}b&&c.plan&&c.plan.key.parentId&&(c.plan.tier===eU.Ag.PRO?u(eR.sf({view:"abandonedDraftFiles",abandonedDraftFolderId:c.id,planId:c.plan.key.parentId,adminPlanType:o8.O.TEAM})):c.plan.key.type===eU.OL.ORG&&u(eR.sf({view:"abandonedDraftFiles",abandonedDraftFolderId:c.id,planId:c.plan.key.parentId,adminPlanType:o8.O.ORG})))},[u,m,c,g,h,b]);let v=r.teams[c?.teamId||""]||null;i.useEffect(()=>{c&&!c.inviteOnlyAt&&c.teamId&&!v&&u(pW.Jt({teamId:c.teamId}))},[u,c,v]);let y=c?.activeProjectResourceConnections?.[0],j=!!v&&!!c?.teamId,w=_q({resource:v,resourceType:eU.vt.TEAM,teamId:c?.teamId}).unwrapOr(!1)&&j,T=(0,K.dq)(),E=(0,u3.xx)(rx.ZN),I=(0,n.d4)(t=>E(e,t.tileSortFilterStateByView)),S=!d||!c||"loaded"!==a.status||"loaded"!==t.status;if((0,x.kF)("Folder"),(0,x.WX)({markName:"MainBodyContent",isLoaded:!S,contextArgs:{numFiles:a.transform(e=>e.files.length).unwrapOr(null)}}),S)return(0,s.jsx)("div",{className:"folder_page_view--loading--ZkDG0",children:(0,s.jsx)(en.kt,{})});let k={view:"project",folderId:e,canEdit:c.canEdit,userSpace:T?r9.qo.ORG:r9.qo.PERSONAL},C=(0,s.jsxs)("div",{className:"x78zum5 x167g77z x6s0dn4",children:[(0,s.jsx)(u8.ye,{config:I.tileSortFilterConfig}),(0,s.jsx)(u8.mc,{dispatch:u,options:I,selectedView:_}),(0,s.jsx)(u9.$c,{initialViewMode:I.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,sM.sx)("file view toggle",{viewType:e===iW.XU.GRID?"grid":"list"}),u(eC.JF({selectedView:_,config:{...I.tileSortFilterConfig,viewMode:e}}))}})]});return(0,r7.T8)((0,s.jsx)(ne.r,{content:(0,s.jsxs)("div",{className:N.s.flex.flexColumn.$,children:[(0,s.jsx)(fN,{activeProjectConnection:y?{id:y.id,hostPlanName:y.hostPlanName}:void 0,files:a.data.files,filesByRepoId:a.data.filesByRepoId,folderId:e,hasBanner:w,infiniteScrollOptions:{onShouldFetchNextPage:o,isFetchingNextPage:"isFetchingNextPage"in a&&a.isFetchingNextPage},isEditingLocked:c.isEditingLockedForUser,lgFolder:c,repos:a.data.repos,team:v}),(0,s.jsx)(uI.cx,{})]}),banner:v&&w?(0,s.jsx)(pY,{teamId:v.id}):void 0,toolbar:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fq,{folder:d,team:v,lgFolder:c}),(0,s.jsx)(p$,{folderId:e})]}),viewbar:(0,s.jsx)(cV.f,{leftSide:null,rightSide:C})}),r9.e0.FILE_BROWSER,k)}function fK(){let e;let t=(0,n.d4)(e=>e.currentTeamId),r=(0,eO._6)(),a=(0,p.bc)(eY.RRC,{teamId:t??""},{enabled:!!t});if("loaded"!==a.status)e=(0,s.jsx)(en.qc,{});else{let i=("loaded"===a.data.currentUser.status&&a.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project&&(!(0,l.kc)().dtm_deprecation_org_downgrade||""!==e.project.path)).map(e=>{let t=e.project,r=t.activeProjectResourceConnections?.[0]??null;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser,is_connected_project:!!r,resource_connection:r?{hostPlanName:r.hostPlanName,connectedPlanName:r.connectedPlanName}:null}});e=(0,s.jsx)(_i,{viewId:`limitedTeam-${t}`,folderList:i,selectedView:r,isSharerInfoIncluded:!0})}return(0,r7.T8)((0,s.jsx)(ne.r,{content:(0,s.jsx)(s.Fragment,{children:e}),viewbar:(0,s.jsx)("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ",children:(0,s.jsx)("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27",children:(0,S.tx)("file_browser.limited_space_team_projects.heading")})})}),r9.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}function fJ({orgId:e}){let t=(0,n.wA)(),r=(0,eK.D6)("ViewLibrariesAction");return(0,eK.Kd)(r).data?(0,s.jsx)(i7.K,{action:{kind:i7.A.BUTTON,key:ni.VIEW_LIBRARIES,displayText:(0,S.t)("org_view.view_libraries"),onClick:()=>{t(eR.sf({view:"org",orgId:e,orgViewTab:tF.X.LIBRARIES}))}}}):null}function fQ({canCreateTeam:e,isEnterpriseOrgDirectoryEnabled:t}){let r=(0,n.wA)();return t||!e?null:(0,s.jsx)(i7.K,{action:{kind:i7.A.CUSTOM,key:ni.NEW_TEAM,element:(0,s.jsx)(tL.$n,{"aria-label":(0,S.t)("license_group_view.toolbar.new_team_button_aria_label"),variant:"primary",onClick:()=>{r(tC.to({type:iX.Uc,data:{}}))},iconPrefix:(0,s.jsx)(nt.$,{}),children:(0,S.t)("license_group_view.toolbar.new_team_button")})}})}function fX({orgId:e}){let t=(0,eB.LM)(e),{canCreateTeam:r,cannotCreateTeamReason:a}=(0,Z.LM)({id:e},null);return"loaded"!==t.status||a===Z.z4.LG_LOADING?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fQ,{canCreateTeam:r,isEnterpriseOrgDirectoryEnabled:t.data}),(0,s.jsx)(fJ,{orgId:e},"org-library")]})}var fZ=r(953940);function f0(){let e=(0,n.wA)(),t=(0,K.dq)(),r=_V((0,sg.R)(e=>({...(0,s5.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e).unwrapOr(null);if(!r)return(0,s.jsx)("div",{});let a=_Y({resourceType:"org",orgId:t},r),i=r.severity===_E.c.WARN?_I:"",o=`${_F} ${i}`;return(0,s.jsx)("div",{className:o,children:(0,s.jsx)(_X,{...r,tracking:a})})}var f1=r(629253),f4=r(143928),f2=r(852263);function f5(){let e=(0,eK.T5)("OrgConnectedProjectsContent"),t=e.unwrapOr(null),r=t?.connectionCount??0,a=(0,p.bc)(eY.ifD,{planType:t?.key.type??null,planId:t?.key.parentId??""},{enabled:null!==t}),n=i.useMemo(()=>"loaded"!==a.status?[]:((0,es.oA)(a.data?.planConnectedProjectsForUser)||[]).map(e=>{let t=(0,es.oA)(e.project);return null!=t?(0,rH.W2)(t):null}).filter(e=>null!==e),[a]);return"loaded"!==e.status||"loaded"!==a.status?(0,s.jsx)("div",{className:N.s.flex.wFull.hFull.alignCenter.justifyCenter.$,children:(0,s.jsx)(nc.k,{htmlAttributes:{"data-testid":"loading-spinner"}})}):0===r?(0,s.jsx)("div",{className:"org_connected_projects_view--emptyContent---1eNq",children:(0,s.jsx)(f4.K,{entryPoint:f1.wR.CONNECTED_PROJECT_ORG_PAGE})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f2.A,{}),(0,s.jsx)("div",{className:"org_connected_projects_view--tabContentContainer--qFQ6s",children:(0,s.jsx)("div",{className:N.s.wFull.$,children:(0,s.jsx)(m9.m,{folderList:n,dataOnboardingKeyIndex:void 0,onChangeSortOptions:o.lQ,viewType:iW.XU.GRID,isSharerInfoIncluded:!1})})})]})}var f6=r(284467),f3=r(340077);function f7(e){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"x4z9k3i xk50ysn x12sbs06",children:e.label||(0,S.t)("org_home_view_meta.user_groups")}),e.userGroups.map(e=>(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj x1vi7shn xp6roeo",children:[(0,s.jsx)(f3.q,{userGroup:e,size:24}),(0,s.jsx)("div",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o xb3r6kr xlyipyv xuxw1ft",children:e.name})]},e.id)),(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj x1vi7shn xp6roeo",children:[(0,s.jsx)(t4.e,{"aria-hidden":!0}),(0,s.jsx)("div",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1akne3o",children:(0,S.t)("org_home_view_meta.new_user_group")})]}),(0,s.jsx)("div",{className:"x1vi7shn",children:(0,s.jsx)("a",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1quhyk7 x1hl2dhg x1ypdohk",children:(0,S.t)("sidebar.see_all")})})]})}var f8=r(654765);let f9="org_meta_content--container--b5Iq3";function xe({org:e}){return(0,s.jsxs)("div",{className:N.s.flex.flexColumn.rowGap16.$,children:[(0,s.jsx)(rr.Ro,{entity:e,size:36}),(0,s.jsx)(k.E,{fontWeight:"medium",fontSize:13,children:e.name})]})}function xt({handle:e}){let t=(0,n.wA)();return(0,s.jsx)(su.N,{trusted:!0,href:new la.xn({profileHandle:e}).href,onClick:r=>{r.metaKey||(r.preventDefault(),t(eR.sf({view:"communityHub",subView:"handle",handle:e})))},children:(0,s.jsxs)(k.E,{fontSize:11,children:["@",e]})})}function xr({orgId:e}){let t=(0,n.d4)(t=>(0,ex.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),r=(0,n.wA)();return(0,s.jsx)(nV,{label:(0,S.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{r(eR.sf({view:"user",userId:t.id,userViewTab:nH.o.INTERNAL_PROFILE}))}})}function xa(){let{userGroups:e,status:t}=(0,f8.Qx)({firstPageSize:3,sortProperty:eU.z7.LAST_ACTIVITY_AT,sortOrder:"desc",queryString:"",useDBQuery:!0,refetchToken:null,filterProperty:null}),r=i.useMemo(()=>e.map(e=>({id:e.id,name:e.name})),[e]);return"loading"===t?(0,s.jsx)(f6.Wi,{className:N.s.mb4.$,animationType:f6.JR.SHIMMER}):0===r.length?null:(0,s.jsx)(f7,{userGroups:r})}function xs({org:e,orgStats:t}){let r=eK.S2().unwrapOr(null)?.planRecordId,a=(0,re.y)(r,!0),i=t?(0,s.jsxs)(k.E,{fontSize:11,color:"secondary",children:[(0,S.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),(0,s.jsx)("span",{children:"\xa0\xb7\xa0"}),"workspaceCount"in t?(0,S.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,S.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})]}):(0,s.jsx)(f6.Wi,{className:N.s.mb4.$,animationType:f6.JR.SHIMMER});return(0,s.jsxs)("div",{className:f9,children:[(0,s.jsx)(xe,{org:e}),(0,s.jsx)("span",{className:N.s.mt4.$,children:i}),e.community_profile_handle?(0,s.jsx)("span",{className:N.s.mt2.$,children:(0,s.jsx)(xt,{handle:e.community_profile_handle})}):null,a&&(0,s.jsx)("span",{className:N.s.mt24.$,children:(0,s.jsx)(xa,{})}),(0,s.jsx)("span",{className:N.s.mt32.$,children:(0,s.jsx)(xr,{orgId:e.id})})]})}function xi({org:e}){let t=(0,p.bc)(eY.nYs,{orgId:e.id});return(0,s.jsx)(xs,{orgStats:t.data?.org??null,org:e})}function xn({org:e}){let t=(0,p.bc)(eY.kei,{orgId:e.id});return(0,s.jsx)(xs,{orgStats:t.data?.org??null,org:e})}function xo({org:e}){return(0,s.jsxs)("div",{className:f9,children:[(0,s.jsx)(xe,{org:e}),e.community_profile_handle?(0,s.jsx)("span",{className:N.s.mt4.$,children:(0,s.jsx)(xt,{handle:e.community_profile_handle})}):null,(0,s.jsx)("span",{className:N.s.mt4.$,children:(0,s.jsxs)(k.E,{fontSize:11,color:"secondary",children:[(0,S.tx)("payments_modal.guest_permission_disclaimer")," ",(0,s.jsx)(su.N,{trusted:!0,newTab:!0,href:"https://help.figma.com/hc/articles/360039957374",children:(0,S.tx)("org_home_view_meta.learn_more")})]})})]})}var xl=r(681087);let xd={[tF.X.HOME]:!0,[tF.X.YOUR_TEAMS]:!0,[tF.X.CONNECTED_PROJECTS]:!0,[tF.X.PLUGINS]:!0,[tF.X.WIDGETS]:!0,[tF.X.LIBRARIES]:!1,[tF.X.FONTS]:!1},xc=Object.keys(xd).filter(e=>xd[e]),xu=e=>{switch(e){case tF.X.HOME:return(0,S.t)("org_view.overview");case tF.X.YOUR_TEAMS:return(0,S.t)("org_view.your_teams");case tF.X.PLUGINS:return(0,S.t)("org_view.plugins");case tF.X.WIDGETS:return(0,S.t)("org_view.widgets");case tF.X.CONNECTED_PROJECTS:return(0,S.t)("org_view.connected_projects");default:return null}};function xm(e){let t=(0,n.wA)(),r=(0,eK.X$)("OrgPageViewBar").unwrapOr(null),a=(0,eK.H3)(r),o=e=>{t(eR.sf({view:"org",orgId:a??"",orgViewTab:e}))},[l,d,c]=nU.t.useManagedTabs(xd,e.selectedTab,e=>{o(e)}),u=xc.map(e=>(0,i.createElement)(nU.t.Tab,{...l[e],key:e},xu(e)));return(0,s.jsx)(cV.f,{leftSide:(0,s.jsx)(nU.t.TabStrip,{manager:c,children:u}),rightSide:[]})}var x_=r(917359);function xp({workspace:e,targetRect:t,isDropdownOpen:r}){let a=nN(),i=(0,K.sZ)(),o=(0,n.wA)();if(!i||!r||!t)return null;let l=a({workspace:e,org:i});return(0,s.jsx)(tA.j,{parentRect:t,items:(0,nx.o)(l),dispatch:o,onSelectItem:e=>{e.callback&&e.callback("",null,o)},showPoint:!1,shouldUsePortal:!0})}var xf=r(19320),xx=r(114647);let xg=i.forwardRef(function({isSelected:e,unassignedTeams:t,draggable:r,cardRole:a,onClick:i,onFocus:n,onBlur:o},l){let d,c;let u=(0,ec.md)(iO.Fd);if(t)d=(0,s.jsx)(rr.md,{teams:t,size:40}),c=(0,S.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});else if(u&&"loaded"!==u.status)d=(0,s.jsx)(f6.Qp,{className:"x100vrsf x1vqgdyp"}),c=(0,s.jsx)(f6.Wi,{className:"x1oysuqx",dataTestId:"unassigned-workspace-tile-loading-text"});else{let e=u.data;d=(0,s.jsx)(rr.md,{teams:e,size:40}),c=(0,S.tx)("org_view.license_group.unassigned_tile.description",{teamCount:e.length})}return(0,s.jsx)(xx.P,{ref:l,cardRole:a,draggable:r,iconImage:d,isSelected:e,onBlur:o,onClick:i,onFocus:n,subtitle:c,title:(0,s.jsx)(k.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,S.t)("org_view.license_group.unassigned_tile.name")})})});var xh=r(936031),xb=r(692557),xv=r(94650),xy=r(737552);function xj({teamCount:e,workspace:t}){let r=(0,ec.md)((0,iO.aN)(t.id));return void 0!==e?(0,S.tx)("org_view.license_group.team_count",{teamCount:e}):"loaded"!==r.status?(0,s.jsx)(f6.Wi,{className:N.s.w64.$,dataTestId:"workspace-tile-teams-loading-text"}):(0,S.tx)("org_view.license_group.team_count",{teamCount:r.data})}function xw({workspace:e,titleTextColorClassName:t}){let r=e.orgAccess===eU.bU.SECRET?(0,s.jsxs)(xh.HG,{children:[(0,s.jsx)(nu.E,{children:(0,S.t)("workspace_table.secret_workspace_lock_sr_only_text")}),(0,s.jsx)("div",{className:N.s.ml4.$,"data-tooltip-type":r8.Ib.TEXT,"data-tooltip-offset-y":-4,"data-tooltip":(0,S.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,S.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300,children:(0,s.jsx)(mW.s,{})})]}):null;return(0,s.jsxs)("span",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,s.jsx)(k.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,s.jsx)("span",{className:t,children:e.name})}),r]})}function xT({workspace:e,teamCountDisplay:t,secondaryTextColorClassName:r}){return(0,s.jsxs)("div",{className:G()(N.s.flex.flexRow.itemsCenter.$,r),children:[(0,S.tx)("org_view.license_group.member_count",{memberCount:e.memberCount.data??0}),(0,s.jsx)("span",{children:"\xa0\xb7\xa0"}),t]})}let xE=i.forwardRef(function({workspace:e,isSelected:t,isMainWorkspace:r,draggable:a,onClick:o,onFocus:l,onBlur:d,cardRole:c,teamCount:u},m){let _,p;let f=(0,n.d4)(e=>e.currentUserOrgId),x=(0,xy.aq)(),g=e.colorConfig?.colors??[],h=r?g[0]:void 0,b=tQ.b(),v=(0,xb.Y)(e.id,eU.bk.WORKSPACE,f),y=i.useMemo(()=>"loaded"===v.status&&void 0!==v.favorite,[v]);h&&(h=function(e,t,r){try{let a=(0,il.H0)(t),s=(0,il.kx)(a),i=(0,id.oN)(t,!s,s);return r&&i!==t&&(0,sM.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:i}),i}catch(e){console.error(e)}return t}(e.id,h,x()));let j=(0,n.wA)(),w=i.useCallback(({favoriteId:t,sectionId:r})=>{j(eL.ZW({workspace:e,entrypoint:"workspace_tile",sectionId:r,favoriteId:t}))},[j,e]),T=i.useCallback(({favoriteId:t})=>{j(eL.if({workspace:e,entrypoint:"workspace_tile",favoriteId:t}))},[j,e]);h&&((0,il.kx)(h)?(_="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",p="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V"):(_="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",p="org_page_view--secondaryTextColorOnLightBackground--68byE"));let E=(0,s.jsx)(rr.z6,{entity:e,size:40}),I=(0,s.jsx)(xj,{teamCount:u,workspace:e}),N=(0,s.jsx)(xT,{workspace:e,teamCountDisplay:I,secondaryTextColorClassName:p}),S=(0,s.jsx)(on.R.Overlay,{isHoverContentVisibleOverride:y,children:(0,s.jsx)(xv.H,{favoriteStarMenu:b,setFavorite:w,removeFavorite:T,favoriteType:eU.bk.WORKSPACE,resourceId:e.id,orgId:f})}),k=(0,s.jsx)(xw,{workspace:e,titleTextColorClassName:_});return(0,s.jsx)(xx.P,{ref:m,ariaCurrent:t,backgroundColor:h,cardRole:c,draggable:a,iconImage:E,isHoverContentVisibleOverride:b.manager.isOpen,isSelected:t,onBlur:d,onClick:o,onFocus:l,subtitle:N,title:k,topRightContent:S})});function xI(){return(0,s.jsx)(aA.u,{label:"OrgWorkspacesView",children:(0,s.jsx)(xN,{})})}function xN(){let e=(0,n.wA)(),t=(0,eM.FC)(),r=(0,K.dq)(),a=(0,Z.Au)(r),{canCreateTeam:o}=(0,Z.LM)(r?{id:r}:null,null),d=function(e,{description:t,level:r=L.$b.INFO,start:a=!0,context:s}={}){let n=(0,i.useRef)(F.J.createVital(e,{level:r,description:t,context:s}));return(0,i.useEffect)(()=>{if(e.includes(" "))throw Error(`Vital name cannot include spaces: ${e}`);a&&n.current.start()},[a,e]),n.current}("OrgWorkspacesView.Load"),c=(0,ec.md)(iO.wT),{workspaceTeamCounts:u,unassignedTeams:m}=i.useMemo(()=>{let e=(c.data||[]).filter(e=>(0,iY.ox)(e,t));return{workspaceTeamCounts:(0,rY.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[t,c]),_=(0,p.bc)(eY.bUn,{orgId:r}),f="loaded"!==c.status,{currentWorkspace:g,otherWorkspaces:h}=i.useMemo(()=>{let e=_.transform(e=>{let t=e.org?.workspaces??[];(0,tj.KQ)(t,"name");let r=t.find(e=>e.id===a.data),s=t.filter(e=>e.id!==r?.id);return(m.length>0||f)&&s.push(iQ.O),{currentWorkspace:r,otherWorkspaces:s}});return"loaded"===e.status?e.data:{currentWorkspace:null,otherWorkspaces:[]}},[_,a,m,f]);i.useEffect(()=>{d.addContext({currentWorkspaceId:g?.id,workspaceQuery:a?.data}),"loaded"===_.status&&d.stop()},[g,_,d,a.data]);let b=i.useCallback(()=>{e(tC.to({type:iX.Uc,data:{}}))},[e]),v=!(0,l.kc)().all_workspaces_incremental_load_teams,y="loaded"!==_.status||v&&f,j=_.transform(e=>e.org?.workspaces?.length??null).unwrapOr(null);if((0,x.kF)("OrgAllWorkspaces"),(0,x.WX)({markName:"MainBodyContent",isLoaded:!y,contextArgs:{numWorkspaces:j}}),y)return(0,s.jsx)(iL.X,{isLoading:!0});let w=g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"x1tudf5h",children:(0,s.jsx)(k.E,{color:"secondary",fontSize:11,children:(0,S.tx)("org_view.your_workspace")})}),(0,s.jsx)(xS,{items:[g],isMainWorkspace:!0,workspaceTeamCounts:u,waitForOrgTeamsToLoad:v,unassignedTeams:m,focusOnLoad:!0})]});return(0,s.jsxs)(s.Fragment,{children:[w,g&&(0,s.jsx)("div",{className:"x1tudf5h",children:(0,s.jsx)(k.E,{color:"secondary",fontSize:11,children:(0,S.tx)("org_view.other_workspaces")})}),0===h.length?(0,s.jsx)(xf.C,{onCreateTeam:o?b:void 0}):(0,s.jsx)(xS,{items:h,isMainWorkspace:!1,workspaceTeamCounts:u,waitForOrgTeamsToLoad:v,unassignedTeams:m,focusOnLoad:!g})]})}function xS({items:e,isMainWorkspace:t,waitForOrgTeamsToLoad:r,workspaceTeamCounts:a,unassignedTeams:n,focusOnLoad:o}){let{showing:l,show:d,data:c}=(0,iG.BK)("WORKSPACE_CONTEXT_MENU"),u=(0,pU.$)(),m=i.useCallback(e=>e===iQ.O?(0,S.t)("org_view.license_group.unassigned_tile.name"):e.name,[]),_=i.useCallback((e,t)=>{u(e===iQ.O?null:e.id,t)},[u]),p=i.useCallback((e,t)=>{let r=e[0];r!==iQ.O&&d({data:{workspace:r,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[d]),f=i.useMemo(()=>({containerStyle:xk.grid,renderCard:({ref:e,item:i,isSelected:o,role:l,onFocus:d,onClick:c,onBlur:u})=>i===iQ.O?(0,s.jsx)(xg,{isSelected:o,unassignedTeams:r?n:void 0,ref:e,cardRole:l,onFocus:d,onClick:c,onBlur:u}):(0,s.jsx)(xE,{workspace:i,teamCount:r?a[i.id]??0:void 0,isSelected:o,ref:e,cardRole:l,onFocus:d,onClick:c,onBlur:u,isMainWorkspace:t})}),[t,n,a,r]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(iM.A,{viewType:iW.XU.GRID,isDraggable:!1,items:e,multiselectDisabled:!0,getAriaLabel:m,gridViewProps:f,handleOpenItem:_,handleContextMenu:p,doNotFocusOnLoad:!o}),l&&(0,s.jsx)(xp,{workspace:c.workspace,isDropdownOpen:l,targetRect:c.targetRect})]})}let xk={grid:{kLKAdn:"x1p5oq8j",kGO01o:"x1gan7if",kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,kumcoG:"x192fo39",$$css:!0}};function xC(e){let t=(0,n.d4)(t=>t.orgById[e.orgId]),r=(0,n.wA)(),a=(0,eB.LM)(e.orgId),o=(0,eK.D6)("OrgPageView"),l=(0,eK.Kd)(o),d=(0,eK.sI)(o);i.useEffect(()=>{l.unwrapOr(!1)&&r(fZ.Pg({orgId:e.orgId}))},[l,e.orgId,r]);let c=null;switch(e.selectedTab){case tF.X.WIDGETS:c=(0,s.jsx)(x_.x,{});break;case tF.X.PLUGINS:c=(0,s.jsx)(xl.C,{});break;case tF.X.YOUR_TEAMS:c=(0,s.jsx)(xA,{orgId:e.orgId});break;case tF.X.CONNECTED_PROJECTS:c=(0,s.jsx)(f5,{});break;case tF.X.HOME:case tF.X.FONTS:case tF.X.LIBRARIES:c="loading"===a.status?(0,s.jsx)(iL.X,{isLoading:!0}):a.data?(0,s.jsx)(xI,{}):(0,s.jsx)(xR,{orgId:e.orgId})}let u=null;d.unwrapOr(!1)?u=(0,s.jsx)(xo,{org:t}):"loading"===a.status?u=(0,s.jsx)(xs,{orgStats:null,org:t}):a.data?u=(0,s.jsx)(xi,{org:t}):a.data||(u=(0,s.jsx)(xn,{org:t}));let m=(0,s.jsx)(xm,{selectedTab:e.selectedTab});return(0,s.jsx)(ne.r,{banner:(0,s.jsx)(f0,{}),viewbar:m,content:c,metaContent:u})}function xA({orgId:e}){let t=!!(0,l.kc)().fb_paginated_joined_teams_shadow_reads,r=i1(),a=i2({workspaceId:null,onlyJoinedTeams:!0}),n=iS(a.status,r),[o]=(0,f.IT)((0,eY.Cfp)(t?{orgId:e,firstPageSize:50}:null)),d=i.useMemo(()=>o.transform(e=>iN(e.orgJoinedTeams??[])),[o]);return(0,iE.u8)({enableShadowRead:t,label:iE.A5.OrgPageView.joinedTeams,oldValue:a.data,oldValueReady:n,newValue:d.data,newValueReady:"loaded"===o.status,contextArgs:{orgId:e,numTeams:a.transform(e=>e.length).unwrapOr(null),isGuest:r},comparator:ik}),(0,x.kF)("OrgYourTeams"),(0,x.WX)({markName:"MainBodyContent",isLoaded:n,contextArgs:{isGuest:r}}),i6({isLoaded:n,view:"OrgYourTeams"}),(0,s.jsx)(iZ,{orgTeamsQuery:a,isGuest:r,workspaceId:null})}function xR({orgId:e}){let t=!!(0,l.kc)().fb_paginated_all_teams_shadow_reads,r=i1(),a=i2({workspaceId:null,onlyJoinedTeams:!1}),n=iS(a.status,r),[o]=(0,f.IT)((0,eY.MVj)(t?{orgId:e,firstPageSize:50}:null)),d=i.useMemo(()=>o.transform(e=>iN(e.orgDiscoverableTeams??[])),[o]);return(0,iE.u8)({enableShadowRead:t,label:iE.A5.OrgPageView.allTeams,oldValue:a.data,oldValueReady:n,newValue:d.data,newValueReady:"loaded"===o.status,contextArgs:{orgId:e,numTeams:a.transform(e=>e.length).unwrapOr(null),isGuest:r},comparator:ik}),(0,x.kF)("OrgAllTeams"),(0,x.WX)({markName:"MainBodyContent",isLoaded:n,contextArgs:{isGuest:r}}),i6({isLoaded:n,view:"OrgAllTeams"}),(0,s.jsx)(iZ,{orgTeamsQuery:a,isGuest:r,workspaceId:null})}function xO(){let e=(0,n.wA)(),t=(0,Q.Pc)();return(0,s.jsx)(i7.K,{action:{kind:i7.A.BUTTON,key:ni.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(eR.sf({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,S.t)("internal_profile.view_community_profile"),styleClass:N.s.colorText.$}})}var xP=r(280353),xL=r(167151),xF=r(333548),xD=r(818186);function xM({isDisabled:e,isLoading:t,newFileFrom:r}){let a=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.COOPER,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(xD.V,{title:(0,S.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:"new-cooper-file-button",icon:(0,s.jsx)(xF.u,{}),isDisabled:e,isLoading:t,onClick:a})}var xU=r(266339);function xB({isDisabled:e,isLoading:t,newFileFrom:r}){let a=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.DESIGN,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(xD.V,{title:(0,S.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,s.jsx)(xU.z,{}),isDisabled:e,isLoading:t,onClick:a})}var xG=r(833671);function xW({isDisabled:e,isLoading:t,newFileFrom:r}){let a=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.WHITEBOARD,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(xD.V,{title:(0,S.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,s.jsx)(xG.D,{}),isDisabled:e,isLoading:t,onClick:a})}var xz=r(908895),xV=r(472274);function xH({isDisabled:e,isLoading:t,newFileFrom:r}){let a=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.FIGMAKE,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(xD.V,{title:(0,S.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataOnboardingKey:xP.O,dataTestId:"new-figmake-file-button",icon:(0,s.jsx)(xz.$,{}),isDisabled:e,isLoading:t,onClick:a,showComingSoon:(0,xV.W)()})}var x$=r(872419);function xq(e){return(0,s.jsx)(sF.E,{className:"x2lah0s x1d36bvo xb3r6kr x1v8gsql x13bsb82 xpzxyvc x1aqsfbg x6bkol7 x622810 xsfrc4e x13nvs6n",onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":r8.Ib.TEXT,"aria-label":e.tooltipText,children:(0,s.jsx)(ei.xv,{loaded:!e.isLoading,loadingSkeletonElement:(0,s.jsx)("div",{className:"x1yjdb4r",children:(0,s.jsx)(f6.Qp,{animationType:f6.JR.LIGHT_SHIMMER,className:"x10w6t97"})}),showElementBeforeLoaded:!0,children:(0,s.jsx)("div",{className:"xfawy5m",children:e.icon})})})}function xY({isLoading:e}){let t=(0,n.wA)();return(0,s.jsx)(xq,{dataTestId:"file-import-button",icon:(0,s.jsx)(x$.R,{}),isLoading:e,onClick:()=>{t((0,fh.L)())},tooltipText:(0,S.t)("file_browser.creation_buttons.import")})}var xK=r(821076),xJ=r(880403);function xQ({isDisabled:e,isLoading:t,newFileFrom:r}){let a=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.SLIDES,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,s.jsx)(xD.V,{title:(0,S.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,s.jsx)(xJ.T,{}),isDisabled:e,isLoading:t,onClick:a})}function xX({newFileFrom:e}){let t=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:r,status:a}=(0,dX.nt)(t),i=(0,dZ.h)(r),o="loading"===a,l=i.map(({editorType:t,canCreate:r})=>{let a=!r;switch(t){case eU._Y.DESIGN:return(0,s.jsx)(xB,{isDisabled:a,isLoading:o,newFileFrom:e},"design");case eU._Y.WHITEBOARD:return(0,s.jsx)(xW,{isDisabled:a,isLoading:o,newFileFrom:e},"whiteboard");case eU._Y.SLIDES:return(0,s.jsx)(xQ,{isDisabled:a,isLoading:o,newFileFrom:e},"slides");case eU._Y.SITES:return(0,xL.oz)()?(0,s.jsx)(xK.Z,{isDisabled:a,isLoading:o,newFileFrom:e},"seascape"):null;case eU._Y.COOPER:return(0,s.jsx)(xM,{isDisabled:a,isLoading:o,newFileFrom:e},"cooper");case eU._Y.FIGMAKE:return(0,s.jsx)(xH,{isDisabled:a,isLoading:o,newFileFrom:e},"figmake");default:(0,I.xb)(t)}}).filter(Boolean);return l.push((0,s.jsx)(xY,{isLoading:o},"import")),(0,x.WX)({markName:"FileCreateEntrypoint",isLoaded:"loaded"===a}),(0,s.jsx)(s.Fragment,{children:l})}function xZ({from:e}){let t=i.useRef(null),r=i.useRef(null),[a,n]=i.useState(!1);return i.useLayoutEffect(()=>{let e=r.current,a=t.current;if(!e||!a)return;let s=()=>{n(a.offsetWidth<e.offsetWidth)};s();let i=new ResizeObserver(s);return i.observe(t.current),()=>i.disconnect()},[]),(0,s.jsxs)("div",{className:"xh8yej3 x9f619 x78zum5 x7v6yn8 x1vi7shn xp6roeo",ref:t,children:[(0,s.jsx)("div",{ref:r,...{0:{className:"x3nfvp2 x167g77z x2lah0s"},1:{className:"x3nfvp2 x167g77z x2lah0s xlshs6z"}}[!!a<<0],children:(0,s.jsx)(xX,{newFileFrom:e})}),a&&(0,s.jsx)(d3.R,{newFileFrom:e,dataOnboardingKey:xP.O}),(0,s.jsx)(uI.jS,{newFileFrom:e})]})}var x0=r(850292),x1=r(495896),x4=r(345976),x2=r(929171),x5=r(304271),x6=r(590662),x3=r(141330);let x7=(0,ec.eU)(!1);var x8=r(783728),x9=r.n(x8);let ge=[dT.vt.FIGMAKE_TEMPLATE,dT.vt.SITE_TEMPLATE,dT.vt.COOPER_TEMPLATE_FILE,dT.vt.DESIGN_TEMPLATE,dT.vt.SLIDE_TEMPLATE,dT.vt.FIGJAM_TEMPLATE];function gt(){let e=(0,n.d4)(e=>e.user?.drafts_folder_id)??null,{data:t}=(0,dX.nt)(e);return(0,i.useMemo)(()=>ge.filter(e=>{let r=(0,dq.J2)(e);return r&&t&&(0,dX.d6)(t,r)}),[t])}var gr=r(578420),ga=r(948843);let gs=["habit_tracking_app","meditation_app","neighborhood_social_app","plant_care_app","recipe_discovery_app","workout_tracker","science_trivia_app","daily_trivia_challenge","vocabulary_learning_app","grocery_shopping_app","medication_reminder_app","tarot_reading_app","meal_planning_app","flashcard_study_app","spanish_practice_app","photo_diary_app","virtual_pet_app","blogging_app","trip_itinerary_app","sleep_monitoring_app","budget_tracker","brain_training_app","productivity_dashboard","music_creation_tool","moodboard_tool","elearning_platform","event_management_system","quiz_builder","pixel_art_tool","crossword_generator","expense_management_tool","color_palette_generator","project_task_organizer","kanban_board","mind_mapping_tool","story_creation_platform","shared_drawing_space","writing_tool","collage_maker","photographer_portfolio","startup_landing_page","course_landing_page","jewelry_store_homepage","sneaker_product_page","apartment_listing","travel_blog_post","cooking_tutorial","festival_landing_page","resume_site","ux_portfolio","restaurant_menu","japan_itinerary","film_festival_schedule","gamified_resume","music_zine","glowing_button","dating_card_stack","gradient_background","product_showcase_card","confetti_burst","particle_button","magnetic_button","frosted_glass_card","star_rating","ios_toggle_switch","ripple_effect","image_card_reveal","emoji_picker","translucent_button","sparkle_trail","typewriter_effect","business_card_flip"];var gi=r(958855),gn=r(590268);function go({onSubmit:e}){let[t,r]=(0,i.useState)(""),[a,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!0),[u,_]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),x=i.useRef(!1),g=i.useRef(!1),h=i.useRef(!1),b=(0,i.useRef)(null),v=(0,Q.TA)()||"";(0,m.h)(()=>{gn.x4?.removeItem(gi.H.FIGMAKE_INITIAL_MESSAGE_KEY)});let{placeholderText:y="",getCurrentSuggestedPrompt:j=()=>"",isAnimating:w=!1,isInitialMount:T=!1,pauseAnimation:E=()=>{},resumeAnimation:I=()=>{},resetAnimation:N=()=>{}}=function(e){let t=i.useMemo(()=>(0,tj.k4)(gs.map(e=>(0,S.t)(`figmake.empty_state.prompt_suggestion.${e}`))),[]),[r,a]=(0,i.useState)(""),[s,n]=(0,i.useState)(0),[o,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!0);(0,m.h)(()=>{t.length>0&&t[0]&&(x("",t[0]),c(!1))});let u=(0,i.useRef)(!0),_=(0,i.useRef)(null),p=(0,i.useRef)(4e3),f=(0,i.useRef)(null);(0,i.useEffect)(()=>(u.current=!0,()=>{u.current=!1,_.current&&(clearTimeout(_.current),_.current=null)}),[]);let{animatePlaceholderChange:x,isAnimating:g,pauseAnimation:h,resumeAnimation:b,pendingHoverPause:v}=function({setPlaceholderText:e}){let t=(0,i.useRef)(null),[r,a]=(0,i.useState)(!1),[s,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>()=>{t.current&&clearTimeout(t.current)},[]);let d=(0,i.useCallback)(()=>{r?l(!0):n(!0)},[r]),c=(0,i.useCallback)(()=>{n(!1),l(!1)},[]);return{animatePlaceholderChange:(0,i.useCallback)((r,s)=>{t.current&&clearTimeout(t.current),a(!0),l(!1);let i=e=>0===e?20:Math.max(7,Math.min(35,200/Math.sqrt(e)*1)),d=r=>{let s=i(r.length),d=0,c=()=>{d<r.length?(d++,e(r.slice(0,d)),t.current=setTimeout(c,s)):(a(!1),o&&(n(!0),l(!1)))};c()};((r,a)=>{let s=i(r.length),n=r.length,o=()=>{n>0?(n--,e(r.slice(0,n)),t.current=setTimeout(o,s)):a()};o()})(r,()=>{d(s)})},[e,o]),isAnimating:r,isPaused:s,pauseAnimation:d,resumeAnimation:c,pendingHoverPause:o}}({setPlaceholderText:a}),y=(0,i.useCallback)(()=>{if(h(),_.current&&null!=f.current){let e=Date.now()-f.current;p.current=Math.max(0,p.current-e),clearTimeout(_.current),_.current=null,f.current=null}l(!0)},[h]),j=(0,i.useCallback)(()=>{l(!1),b()},[b]);return(0,i.useEffect)(()=>{if(!(!e&&!o&&t.length>0)){_.current&&(clearTimeout(_.current),_.current=null),o||(p.current=4e3,f.current=null);return}if(!g){if(!_.current){f.current=Date.now();let e=Math.max(0,p.current);_.current=window.setTimeout(()=>{n(e=>{let r=(e+1)%t.length,a=t[e],s=t[r];return a&&s&&x(a,s),r}),p.current=4e3,f.current=null,_.current=null},e)}return()=>{}}},[e,o,g,t,x]),{placeholderText:r,getCurrentSuggestedPrompt:()=>t[s]||"",isAnimating:g,isInitialMount:d,pauseAnimation:y,resumeAnimation:j,pendingHoverPause:v,resetAnimation:(0,i.useCallback)(()=>{_.current&&(clearTimeout(_.current),_.current=null),p.current=4e3,f.current=null,l(!1);let e=t.length>1?(s+1)%t.length:0;n(e),a("");let r=t[e];r&&u.current&&x("",r)},[t,x,s])}}(t.length>0),k=(0,i.useCallback)((e,t)=>{r(e),f(t),!u&&e.length>0&&(sM.az.trackDefinedEvent("activation.file_browser_prompt_box.first_typed_into",{userId:v}),_(!0))},[u,v]);(0,i.useEffect)(()=>{if(h.current&&!w){if(g.current&&a&&!o&&0===t.length&&d){let e=y||j();e&&(k(e,!0),c(!1),E(),x.current=!0)}g.current=!1}h.current=w},[w,a,o,t.length,d,y,j,E,k]),(0,i.useEffect)(()=>{if(!T&&a&&0===t.length&&!o&&d){if(E(),w)g.current=!0;else{let e=y||j();e&&(k(e,!0),x.current=!0,c(!1))}}},[T,a,t.length,o,d,w,y,j,E,k]);let C=()=>{gn.x4?.setItem(gi.H.FIGMAKE_INITIAL_MESSAGE_KEY,JSON.stringify(t)),r(""),e()};return(0,s.jsx)(nf.J,{brand:"seascape",children:(0,s.jsx)("form",{className:"x16v0e3u x1mxnbhz x1x0gksc x78zum5 xdt5ytf x1cy8zhl xkh2ocl xbxdop8",onSubmit:e=>{e.preventDefault(),0!==t.trim().length&&C()},"data-testid":"prompt-box",onMouseDown:e=>{if(0===t.length){if(!w){let e=y||j();e&&!o&&k(e,!0)}c(!1),E(),x.current=!1,g.current=!1}let r=e.target,a=b.current;!a||r.closest("input")||r.closest("button")||r.closest('[role="button"]')||document.activeElement===a||requestAnimationFrame(()=>{a.focus();try{let e=a.value.length;a.setSelectionRange(e,e)}catch{}})},onFocus:()=>{l(!0),n(!1),x.current=!1,g.current=!1},onBlur:()=>{l(!1),0===t.length&&(c(!0),N())},onMouseLeave:()=>{if(g.current=!1,x.current&&!o){x.current=!1,n(!1),r(""),c(!0),I();return}0===t.length&&!o&&d&&(n(!1),I())},onMouseEnter:()=>{if(0===t.length&&!o&&d&&(n(!0),!T)){if(E(),w)g.current=!0;else{let e=y||j();e&&(k(e,!0),x.current=!0,c(!1),E())}}},children:(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xkh2ocl x98rzlu x1n2onr6 x109j2v6 x15h74y x1hhzuzn x5tiur9 xou54vl xb3r6kr",children:[(0,s.jsx)("input",{ref:b,className:"x98rzlu xktpd3l x1a2a7pz x1ed109x x4z9k3i x1akne3o xjbqb8w x17rw0jw x1ghz6dp x1717udv xjb2p0i xuggh6c",value:t,onChange:e=>{k(e.target.value,!1),e.target.value.length>0&&(n(!1),x.current=!1,g.current=!1)},onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey&&!e.nativeEvent.isComposing){if(e.preventDefault(),0===t.trim().length)return;(0,H.Cu)({name:"file_browser_prompt_box_make_button",promptType:p?"suggested":"custom"}),C()}"Enter"===e.key&&e.shiftKey&&e.preventDefault()},placeholder:t.length>0||o?"":y,"aria-label":(0,S.t)("figmake.file_browser_prompt_box.input_field_label")}),(0,s.jsxs)(ed.e6,{...{0:{className:"x78zum5 xyv8faw x14atkfc xd7y6wv x1gskr33 x1cmmqis x1ihwiht xf18ygs x6s0dn4 xl56j7k xdlk57i x131gfan x1jnr06f x2lah0s x8x9d4c"},1:{className:"x78zum5 xyv8faw x14atkfc xd7y6wv x1gskr33 x1cmmqis x1ihwiht xf18ygs x6s0dn4 xl56j7k xdlk57i x131gfan x1jnr06f x2lah0s x8x9d4c xgbcquw x7oc584"}}[!(0!==t.trim().length)<<0],type:"submit",disabled:0===t.trim().length,"data-testid":"prompt-box-submit-button",trackingProperties:{name:"file_browser_prompt_box_make_button",promptType:p?"suggested":"custom"},"aria-label":(0,S.t)("figmake.file_browser_prompt_box.make_button_label"),children:[(0,s.jsx)("span",{className:"x1tk3asg x2b8uid xlkyzom x1j6dyjg x1j61x8r x10p5zqr x8iu3zt x1lx7fe9 xuxw1ft",children:(0,S.t)("figmake.file_browser_prompt_box.make_button")}),(0,s.jsx)("span",{className:"xwa2v1s x78zum5 x6s0dn4",children:(0,s.jsx)(ga.a,{})})]})]})})})}function gl({onDismiss:e}){let t=(0,d1.E)({isDraftsFolder:!0,newFileFrom:o7.f6.FILE_BROWSER_PROMPT_BOX})({editorType:eU._Y.FIGMAKE,triggerElement:"pill",contextClicked:"file-browser-prompt-box"}),r=(0,n.wA)(),{color:a}=(0,np.G)();return(0,s.jsx)(nf.J,{brand:"seascape",children:(0,s.jsx)("div",{...{0:{className:"x1w4f5ud xpezlj7 xbdeg4j xl8oe17 x78zum5 xdt5ytf x6s0dn4 xkh2ocl xl56j7k xlvnts1"},1:{className:"x1w4f5ud xpezlj7 xbdeg4j xl8oe17 x78zum5 xdt5ytf x6s0dn4 xkh2ocl xl56j7k x1urz9vi"}}[!("dark"!==a)<<0],children:(0,s.jsxs)("div",{className:"x1kvbfxc xh8yej3 x78zum5 xdt5ytf x6s0dn4 xou54vl",children:[(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xkh2ocl x167g77z x13y4tvo",children:[(0,s.jsx)("h2",{className:"xor4psk xosj86m xaoa4km x2i041 x14terfx x1akne3o xdpxx8g",children:(0,S.t)("figmake.file_browser_prompt_box.header")}),(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 x2lah0s",children:(0,s.jsx)(gr.yi,{helpUrlVariant:x3.JT.CODE_CHAT,ariaLabel:(0,S.t)("figmake.file_browser_prompt_box.ai_badge_label")})}),(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xfq8vap x8x9d4c",children:(0,s.jsx)(ed.Me,{"aria-label":(0,S.t)("figmake.file_browser_prompt_box.dismiss_label"),onClick:e,"data-testid":"prompt-box-dismiss-button",trackingProperties:{name:"file_browser_prompt_box_dismiss_button"},children:(0,s.jsx)(ug.A,{})})})]}),(0,s.jsx)(go,{onSubmit:()=>{t(),r(eF.b({used_file_browser_prompt_box:!0}))}})]})})})}var gd=r(814330),gc=r(816689),gu=r(365120),gm=r(396597),g_=r(981232),gp=r(611373),gf=r(792871);function gx({buttonProps:e,image:t,title:r,author:a}){return(0,s.jsxs)(sF.E,{className:"home_shelf_resource_tile--resourceTileButton--meEFU",...e,"data-testid":"home-shelf-resource-tile",children:[(0,s.jsxs)("div",{className:"home_shelf_resource_tile--homeShelfResourceTile--1rgji",children:[(0,s.jsx)("div",{className:"home_shelf_resource_tile--homeShelfTileImageContainer--3fiyP",children:t}),(0,s.jsx)("div",{className:"home_shelf_resource_tile--title--O4Tfl",children:r})]}),a]})}function gg(){return(0,s.jsx)(gx,{buttonProps:{disabled:!0},image:(0,s.jsx)(f6.Qp,{className:"home_shelf_resource_tile--loadingImage--I9sFG home_shelf_resource_tile--loadingColor--AlSS5",animationType:f6.JR.NO_SHIMMER}),title:(0,s.jsx)(f6.Wi,{className:"home_shelf_resource_tile--loadingTitleText--8Q0Xx home_shelf_resource_tile--title--O4Tfl home_shelf_resource_tile--loadingColor--AlSS5",animationType:f6.JR.NO_SHIMMER}),author:(0,s.jsx)(f6.Wi,{className:"home_shelf_resource_tile--loadingAuthor--yKCwm home_shelf_resource_tile--author--m5FxW home_shelf_resource_tile--loadingColor--AlSS5",animationType:f6.JR.NO_SHIMMER})})}function gh({resource:e,isSelected:t,onFocus:r}){let a=(0,n.wA)(),o=(0,cP.Lj)(e),l=(0,i.useCallback)(()=>{(0,gf.FM)(a,e,{openInNewTab:!1,shouldUpdateUrl:!1}),(0,l8.kg)(e.resource_type,e.id)},[a,e]),d=i.useRef(null);i.useEffect(()=>{t&&d.current?.focus()},[t]);let c=(0,i.useMemo)(()=>({onClick:l,"aria-label":e.name,"aria-current":t,htmlAttributes:{onFocus:r},ref:d}),[l,t,e.name,r,d]);return(0,s.jsx)(gx,{buttonProps:c,image:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g_.i,{resource:e,isSelected:t}),(0,s.jsx)("div",{className:"home_shelf_resource_tile--tileEditorIcon--QE-1U",children:(0,s.jsx)(gp.dn,{editorType:e.editor_types[0]})})]}),title:(0,s.jsx)("div",{className:"home_shelf_resource_tile--titleText--NFhch",children:e.name}),author:(0,s.jsxs)("div",{className:"home_shelf_resource_tile--subtitle--VMBH1",children:[(0,s.jsx)("span",{className:"home_shelf_resource_tile--author--m5FxW",children:(0,S.tx)("community.resource_tiles.by_author",{author:o})}),"\xa0\xa0\xb7\xa0\xa0",(0,s.jsxs)("div",{className:"home_shelf_resource_tile--metrics--riQEm",children:[(0,s.jsx)(gm.cz,{currentUserLiked:!1,likeCount:e.like_count,disableFontStyling:!0}),(0,s.jsx)(gm.i8,{usageCount:(0,c2.mk)(e),disableFontStyling:!0})]})]})})}let gb=211/244;var gv=r(700411),gy=r(792557);function gj(){let e=(0,aI.Om)(),t=(0,aI.tv)(),r=e&&t?new aI.au({...e,tab:aN.N$.COMMUNITY},t).href:"";return(0,s.jsxs)(gv._,{href:r,onClick:a=>{(0,l8.q5)(),a.preventDefault(),r?u.Ay.push(r):(0,_m.$D)(U.e.COMMUNITY,Error("NavigationTile: communityTabLink is empty"),{extra:{sharedRouteParams:e,sharedSearchParams:t}})},className:"xh8yej3 x5yr21d x78zum5 xdt5ytf x6s0dn4 x1nhvcw1 x1v2ro7d x1ypdohk xw4t3mb x1ocegsa xl61zd4 x1nl1fmu xln84v9 xgf1b7j x85jtft","aria-label":(0,S.t)("community.home_shelf.see_more_on_community"),children:[(0,s.jsxs)("div",{className:"x1lliihq x1n2onr6 x1vjfegm xh8yej3 x1mxnbhz x176lpz5 xb3r6kr xdr6sbx x1klh5xi",children:[(0,s.jsx)(lc.oW,{className:"x1vjfegm xxcbz4w x17muf8i x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko",src:(0,oK.ck)("2f1ddf99a93705a145b3e9258c29994c2bcc3296"),alt:""}),(0,s.jsx)(lc.oW,{className:"xhtitgo xzc2ltc xjndpiq x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko",src:(0,oK.ck)("3b5e7024cc8ec5912d46ce4c4f555f79de8afa22"),alt:""}),(0,s.jsx)(lc.oW,{className:"xzkaem6 x156by65 x1366x3a x10l6tqk xm6i5cn x2e2xj7 x19y5rnk xbngzmg xgk9eko",src:(0,oK.ck)("1922e9623fd798bcb563e1f4e9ae105b54d904b4"),alt:""}),(0,s.jsx)(r3.B,{svg:gy.A,className:"x10l6tqk xoegz02 xh8yej3 xqmqy1e xb9t1mx",svgWidth:"100%",svgHeight:"auto"})]}),(0,s.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh xh8yej3 xdpxx8g x1quhyk7",children:(0,S.t)("community.home_shelf.see_more_on_community")})]})}function gw(){let e=(0,n.wA)(),[t,r]=i.useState([]),[{data:a,status:o,errors:l}]=(0,f.IT)(dg.a.getHomeShelfContent({seenResourceIds:t})),d=function(){let e=(0,i.useRef)(null),[t,r]=(0,i.useState)(0),[a,s]=(0,i.useState)(0),[n,o]=(0,i.useState)(0),l=(0,i.useCallback)(e=>{let t=e-48,a=Math.floor((t-24-244*gb)/268);if(a<1){r(0),s(0),o(0);return}let i=Math.floor((t-24-24*(a=Math.min(a,16)))/(a+gb)),n=Math.floor(i*a+24*(a-1)),l=Math.floor(i*gb);r(a),s(n),o(l)},[]);return(0,i.useLayoutEffect)(()=>{let t=e.current;if(!t)return;l(t.clientWidth);let r=new ResizeObserver(e=>{l(e[0]?.target.clientWidth??0)});return r.observe(e.current),()=>r.disconnect()},[e,l]),(0,i.useMemo)(()=>({tileRowWidth:a,navigationSectionWidth:n,numberOfTiles:t,sizeRef:e}),[a,n,t,e])}(),c=function(e,t){let r=gt();return(0,i.useMemo)(()=>{let a=r.slice(),s=x9()(e,e=>e.resource_type),i=[];for(let r=0;r<e.length+a.length&&i.length!==t&&0!==a.length;r++){let e=(s[a[r%a.length]]??[]).shift();e?i.push(e):a.splice(r%a.length,1)}return i},[e,t,r])}(a?.data.meta.recommended_resources??[],d.numberOfTiles),{trackRejectedResources:u}=function({visibleResources:e}){let{trackResourceImpression:t}=(0,dj.GS)(),{properties:r}=(0,r7.j6)();return(0,i.useEffect)(()=>{e.forEach(e=>{t(e)})},[t,e]),{trackRejectedResources:(0,i.useCallback)(e=>{(0,sM.sx)("community_home_shelf_resources_rejected",{rejectedResourceIds:e.join(),...r})},[r])}}({visibleResources:c}),m=(0,i.useCallback)(()=>{let t=c.map(e=>e.id);r(t),u(t),e(eF.b({refreshed_community_home_shelf_v2_recommendations:!0}))},[u,c,e]);if("errors"===o)return(0,_m.$D)(U.e.COMMUNITY,l),null;let _=d.numberOfTiles<2;return(0,s.jsx)("div",{ref:d.sizeRef,className:"x10im51j xtx6riw",children:!_&&(0,s.jsxs)("div",{className:"x2i9t41 xrxpjvj xexx8yu x8e5d8q x1l90r2v xd3ty66 x1mxnbhz x1sjmt1f",children:[(0,s.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4 x10dr8xq xnjsko4 xettwda",children:[(0,s.jsx)("div",{className:"x1akne3o x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g",children:(0,S.t)("community.home_shelf.title")}),(0,s.jsxs)("div",{className:"x78zum5 x1n2onr6 xncym2f x167g77z x6s0dn4",children:[(0,s.jsx)(et.K,{"aria-label":(0,S.t)("community.home_shelf.refresh_label"),onClick:m,disabled:"loading"===o,children:(0,s.jsx)(gd._,{})}),(0,s.jsx)(et.K,{"aria-label":(0,S.t)("community.home_shelf.dismiss_label"),onClick:()=>e(eF.b({dismissed_community_home_shelf_v2_recommendations:!0})),children:(0,s.jsx)(gc.f,{})})]})]}),(0,s.jsx)(gE,{sizingInfo:d,resources:c,isLoading:"loading"===o})]})})}function gT(){return(0,s.jsx)("div",{className:"x1cqoux5 xeuugli",children:(0,s.jsx)("div",{className:"x186iv6y xh8yej3 x176lpz5 x19y5rnk xmkeg23 xbsl7fq x7z60cl"})})}function gE({resources:e,isLoading:t,sizingInfo:r}){let a=i.useRef(null),[n,o]=i.useState(null),[l,d]=i.useState(null),c=(0,i.useMemo)(()=>!t&&r.numberOfTiles>e.length?(0,ob.y1)(r.numberOfTiles-e.length).map(e=>(0,s.jsx)(gT,{},e)):[],[r.numberOfTiles,e.length,t]),u=t?(0,ob.y1)(r.numberOfTiles).map(e=>(0,i.createElement)("div",{className:"x1cqoux5 xeuugli",key:e},(0,s.jsx)(gg,{}))):e.map((e,t)=>(0,i.createElement)("div",{className:"x1cqoux5 xeuugli",key:e.id},(0,s.jsx)(gh,{resource:e,isSelected:l===t,onFocus:()=>{o(t),d(t)}})));return(0,s.jsxs)("div",{className:"x78zum5 x1665zp3",children:[(0,s.jsxs)(gu.S.div,{role:"grid",tabIndex:0,style:{width:r.tileRowWidth},className:"x78zum5 x1665zp3 xh8yej3 x1qughib",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onFocus:e=>{e.target===a.current&&null===l&&(d(0),o(0))},onBlur:e=>{e.relatedTarget&&a.current?.contains(e.relatedTarget)||d(null)},ref:a,onKeyDown:t=>{if("ArrowRight"===t.key){t.preventDefault(),t.stopPropagation();let r=Math.min((n??0)+1,e.length-1);o(r),d(r)}else if("ArrowLeft"===t.key){t.preventDefault(),t.stopPropagation();let e=Math.max((n??0)-1,0);o(e),d(e)}},children:[u,c]}),(0,s.jsx)("div",{className:"x1lliihq x1i1rx1s x1hyhr7 xe0pwq x19ypqd9 x1tcoidr"}),(0,s.jsx)("div",{style:{width:r.navigationSectionWidth},children:(0,s.jsx)(gj,{})})]})}function gI(){let e=(0,n.wA)();return(0,s.jsx)(D.tH,{team:U.e.COMMUNITY,boundaryKey:"RecommendedResourcesShelf",fallback:D.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e(tl.F.enqueue({message:(0,S.t)("general.root_error_boundary_title"),type:"react-error"}))},hasCustomWASMBuild:Y.y4,children:(0,s.jsx)(r7.fu,{name:r9.e0.COMMUNITY_HOME_SHELF,children:(0,s.jsx)(gw,{})})})}let gN="dismissed_file_browser_prompt_box";var gS=(e=>(e.SHOW_NOTHING="SHOW_NOTHING",e.SHOW_RESOURCES_SHELF="SHOW_RESOURCES_SHELF",e.SHOW_PROMPT_BOX="SHOW_PROMPT_BOX",e))(gS||{});let gk=e=>{if(!e||!e.updatedAt)return!0;let t=14*x0.ei,r=new Date(e.updatedAt).getTime();return Date.now()-r>=t};function gC(){let e=(0,n.d4)(e=>e.userFlags),t=e.dismissed_file_browser_prompt_box,r=!!e.used_file_browser_prompt_box||!!(0,l.kc)().default_used_file_browser_prompt_box_to_true,{loading:a,exceedsLifetimeMax:s}=function(){let e=(0,x4.BN)(gN);return{loading:e?.status==="loading",exceedsLifetimeMax:(e?.data??0)>=3}}(),{meetsPromptBoxEnrollmentCriteria:o,filePermissionsLoading:d}=function(e){let t=(0,x2.y)(),r="loaded"!==t.status,a=t.transform(e=>e?.canCreateFigmakeFileWithReasons.result??!1).unwrapOr(!1),{meterAllowed:s}=(0,x6.Ig)(x3.JT.FIGMAKE),i=(0,x5.w)();return{meetsPromptBoxEnrollmentCriteria:a&&s&&(!i||i&&e),filePermissionsLoading:r}}(r),c=a||d,u=!!t&&!gk(t)||s||c,m=(0,n.d4)(e=>e.user?.drafts_folder_id)??null,_=(0,eN.vt)(),p=(0,eI.jn)(),f=_||p,x=o&&!u&&m&&!g.Ay.mobile&&!f,h=(0,i.useRef)(!1);return x&&(h.current=!0),{showPromptBox:x,wasPromptBoxEverShown:h.current,draftsFolderId:m,showLockedRedesign:f,isPromptBoxLoading:c}}function gA(){let e=(0,ec.Xr)(x7),t=function(){let{showPromptBox:e,draftsFolderId:t,showLockedRedesign:r,isPromptBoxLoading:a}=gC(),s=!!(0,n.d4)(e=>e.userFlags).dismissed_community_home_shelf_v2_recommendations,i=(0,x1.NP)(),o=(0,n.d4)(({currentUserOrgId:e})=>e),l=(0,n.d4)(({orgById:e})=>e),d=(0,eB.yK)({orgById:l,currentUserOrgId:o}),c=gt();return e?"SHOW_PROMPT_BOX":g.Ay.mobile||!t||r||s||d||0===c.length||!i()||a?"SHOW_NOTHING":"SHOW_RESOURCES_SHELF"}(),[r,a]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{e("SHOW_RESOURCES_SHELF"===t)},[e,t]),"SHOW_NOTHING"===t||r)?null:"SHOW_PROMPT_BOX"===t?(0,s.jsx)(r7.fu,{name:r9.e0.FILE_BROWSER_PROMPT_BOX,children:(0,s.jsx)(gl,{onDismiss:()=>{a(!0),(0,x4.FC)(gN)}})}):(0,s.jsx)(gI,{})}var gR=r(572522),gO=r(259161),gP=r(962856);let gL={Banner:function(e){let t=(0,n.wA)(),r=e=>{t(eF.b({[e]:!0}))};return(0,s.jsx)(r7.fu,{name:e.trackingContextName,properties:{severity:_E.c.EVENT},children:(0,s.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x1qughib x1hcpp98 x8lzctc x1i71x30 x1rt4tut"},1:{className:"x78zum5 x6s0dn4 x1qughib x1i71x30 x1rt4tut x1tphvzp x8lzctc"}}[!("large"!==e.size)<<0],style:{backgroundColor:e.bgColor},children:[(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 x1qughib x1iyjqo2 x1i71x30 x1rt4tut",children:e.children}),(0,s.jsx)(et.K,{"aria-label":(0,S.t)("general.close"),onClick:()=>r(e.userFlag),children:(0,s.jsx)(er.X,{})})]})})},BannerContent:function(e){let t=e.copy?(0,s.jsx)("p",{...{0:{className:"x17hqfcz xcw2j8d xemv814 xi9x8a2 x10p5zqr x12638g3 x4lxrar xyny9ap x16r6qr4 x1akne3o"},1:{className:"x17hqfcz xcw2j8d xemv814 xi9x8a2 x10p5zqr x12638g3 x4lxrar xyny9ap x16r6qr4 x1n0bwc9"}}[!!e.title<<0],children:e.copy}):null,r=e.beta?(0,s.jsx)("div",{className:"x1rg5ohu",children:(0,s.jsx)(gP.E,{children:(0,S.t)("general.beta")})}):null;return(0,s.jsxs)("div",{children:[e.title?(0,s.jsxs)("div",{className:"xxymvpz x1nfngrj",children:[(0,s.jsx)("h2",{...{0:{className:"x17hqfcz xcw2j8d xemv814 xi9x8a2 x1ma9mv9 x84028e x12638g3 x4lxrar xyny9ap x16r6qr4 xt0psk2 x1akne3o"},1:{className:"x17hqfcz xcw2j8d xemv814 xi9x8a2 x1ma9mv9 x84028e x12638g3 x4lxrar xyny9ap x16r6qr4 xt0psk2 x1akne3o x17qaar8"}}[!!e.beta<<0],children:e.title}),r]}):null,t]})},useShouldShowBanner:function(e,t){return!!(!(0,tp.f)(e)&&(0,l.kc)()[t])}};var gF=r(609325);function gD(){let e="dark"===(0,nk.DP)();return(0,s.jsx)(gM,{trackingContextName:"Config 26 Early Bird Banner",darkModeBgColor:e?"#131313":"#F3FFE3",lightModeBgColor:e?"#131313":"#F3FFE3",registrationLink:"https://config.figma.com/?utm_source=figma_product&utm_medium=figma_promo&utm_campaign=earlybird",copy:(0,S.t)("banner.marketing_promo.config_26_early_bird.content"),ctaCopy:(0,S.t)("banner.marketing_promo.config_26_early_bird.cta"),userFlag:"seen_config_26_early_bird_banner"})}function gM({trackingContextName:e,darkModeBgColor:t,lightModeBgColor:r,copy:a,ctaCopy:i,registrationLink:n,userFlag:o}){let l="dark"===(0,nk.DP)();return(0,s.jsxs)(gL.Banner,{trackingContextName:e,bgColor:l?t:r,userFlag:o,size:"small",children:[(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x13a6bvl xp7eebf x1r05qx8 x14atkfc x1fiy98q",children:[(0,s.jsx)("div",{className:"x1q0g3np x6s0dn4 x78zum5 xi0feg2",children:(0,s.jsx)(r3.B,{svg:gF.A,ariaLabel:"Config",style:{fill:dN.Tj.icon}})}),(0,s.jsx)(gL.BannerContent,{copy:a})]}),(0,s.jsx)(nf.J,{brand:"bake-filebrowser",children:(0,s.jsx)(gO.pW,{href:n,size:"lg",children:i})})]})}var gU=r(337071);function gB({viewerCity:e}){let t="dark"===(0,nk.DP)();return"Tokyo"===e||a7.v.getFeatureGate("marketing_in_app_banner_commons_2025")?(0,s.jsx)(gG,{trackingContextName:"Figma Commons Tokyo Banner",userFlag:"seen_figma_commons_tokyo_banner",darkModeBgColor:t?dN.Tj.bgHandoffSecondary:dN.Tj.bgSecondary,lightModeBgColor:t?dN.Tj.bgHandoffSecondary:dN.Tj.bgSecondary,copy:(0,S.t)("banner.marketing_promo.figma_commons_tokyo.title"),registrationLink:"https://events.figma.com/figmacommons-tokyo/PB"}):null}function gG({trackingContextName:e,darkModeBgColor:t,lightModeBgColor:r,copy:a,registrationLink:i,userFlag:n}){let o="dark"===(0,nk.DP)();return(0,s.jsxs)(gL.Banner,{trackingContextName:e,bgColor:o?t:r,userFlag:n,size:"small",children:[(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x1excjyp x6s0dn4 x1nhvcw1",children:[(0,s.jsx)(gW,{}),(0,s.jsx)(gL.BannerContent,{copy:a})]}),(0,s.jsx)(nf.J,{brand:"bake-filebrowser",children:(0,s.jsx)(gO.pW,{href:i,size:"lg",children:(0,S.t)("banner.marketing_promo.figma_commons_sf.cta")})})]})}function gW(){return(0,s.jsxs)("div",{className:"x1q0g3np x6s0dn4 x1nfngrj x78zum5 xi0feg2",children:[(0,s.jsx)(r3.B,{svg:gU.A,ariaHidden:!0,useOriginalSrcFills_DEPRECATED:!0}),(0,s.jsx)("h2",{className:"xdpxx8g x1vzchgk x1ud3kw6 x1yuz8eb x1l13ptj xnq0rdo xuxw1ft",children:"Figma Commons"})]})}var gz=r(351875),gV=r(776233);function gH({viewerCountry:e}){let t="dark"===(0,nk.DP)(),r=t?gV.A:gz.A;return"IN"===e||a7.v.getFeatureGate("marketing_promo_banner_testing")?(0,s.jsxs)(gL.Banner,{trackingContextName:"India Office Opening Banner",bgColor:t?"#874FFF":"#C4BAFF",userFlag:"seen_india_office_banner",size:"small",children:[(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 x13a6bvl xp7eebf x1r05qx8 x14atkfc x1fiy98q",children:[(0,s.jsx)("div",{className:"x1q0g3np x6s0dn4 x78zum5 xi0feg2",children:(0,s.jsx)(r3.B,{svg:r,ariaLabel:"Shipped: India builds with Figma",useOriginalSrcFills_DEPRECATED:!0})}),(0,s.jsx)(gL.BannerContent,{copy:"Join the virtual livestream on 12th November."})]}),(0,s.jsx)(nf.J,{brand:"bake-filebrowser",children:(0,s.jsx)(gO.pW,{href:"https://fig-events.figma.com/shipped-india-builds-with-figma/register-for-virtual?utm_source=in-app&utm_medium=pdbanner&utm_campaign=Shipped-India-builds-with-Figma-PD-In-App-Banner",size:"lg",children:(0,S.t)("banner.marketing_promo.register")})})]}):null}function g$(){let e=gL.useShouldShowBanner("seen_figma_commons_tokyo_banner","marketing_promo_banner_figma_commons_tokyo"),t=gL.useShouldShowBanner("seen_india_office_banner","marketing_promo_banner_india_office"),r=gL.useShouldShowBanner("seen_config_26_early_bird_banner","marketing_promo_banner_config_26"),a=gL.useShouldShowBanner("seen_figmake_launch_banner","marketing_promo_banner_figmake_launch"),i=oK.tl(),{isPromptBoxLoading:n,wasPromptBoxEverShown:o}=gC();return(gC(),n||o)?null:r?(0,s.jsx)(gD,{}):t&&i.user_data?.locale==="en"?(0,s.jsx)(gH,{viewerCountry:i.iso_code}):e?(0,s.jsx)(gB,{viewerCity:i.viewer_city}):a?(0,s.jsx)(gq,{}):null}function gq(){let e=(0,d1.$)({isDraftsFolder:!0,editorType:eU._Y.FIGMAKE,newFileFrom:o7.f6.FIGMAKE_LAUNCH_BANNER,contextClicked:"figmake_launch_banner_created"}),t=(0,n.d4)(e=>e.user?.drafts_folder_id),{data:r}=(0,dX.nt)(t),a=(0,dZ.h)(r).find(e=>e.editorType===eU._Y.FIGMAKE),i=(0,dX.qI)().unwrapOr(null);if(!a)return null;let o=!a.canCreate,l=o&&i?i:void 0;return(0,s.jsxs)(gL.Banner,{trackingContextName:"Figmake Launch Banner",bgColor:dN.Tj.bgSelectedTertiary,userFlag:"seen_figmake_launch_banner",size:"large",children:[(0,s.jsxs)("div",{className:"x78zum5 x1i71x30 x6s0dn4 x1w5s15c x1fiy98q",children:[(0,s.jsx)("div",{className:"xsqpjig x78zum5 x100vrsf x1vqgdyp x14odnwx x2lah0s x6s0dn4 xl56j7k xfm0j5p",children:(0,s.jsx)(gR.p,{className:"x1849jeq x1gnnpzl xwa2v1s"})}),(0,s.jsx)(gL.BannerContent,{title:(0,S.t)("banner.marketing_promo.figmake_launch.title"),copy:(0,S.t)("banner.marketing_promo.figmake_launch.content"),beta:!1})]}),(0,s.jsx)(nf.J,{brand:"bake-filebrowser",children:(0,s.jsx)(nf.J,{mode:"light",children:(0,s.jsx)(tL.WW,{onClick:e,disabled:o,htmlAttributes:{"data-tooltip":l,"data-tooltip-type":r8.Ib.TEXT},children:(0,S.t)("banner.marketing_promo.figmake_launch.cta")})})})]})}var gY=r(904200),gK=r(748860),gJ=r(390036),gQ=r(345327),gX=r(746601);let gZ=(0,gX.x1)(gQ.QC,e=>({deleted:e.camel(),file_key:e.camel(),id:e.camel(),name:e.camel(),page_id:e.camel(),thumbnail_meta:e.camel(),is_favorited:e.camel(),thumbnail_url:e.camel(),url:e.camel(),fig_file:e.drop(),recentPrototype:e.drop(),can_read:e.drop()}));(0,gX.xi)((e,t,r)=>[e()(gZ),t(gZ)(),r(gZ)()]);let g0=(0,gX.x1)(gQ.CN,e=>({shared_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),shared_by:e.camel().custom({toLiveGraph:e=>null==e?null:e,toSinatra:e=>null===e?null:e}),id:e.camel(),org_or_team_name:e.drop(),shared_by_text:e.drop(),thumbnail_url:e.drop(),resource_id:e.drop(),resource_type:e.drop(),prototype:e.drop(),parent_org:e.drop(),parent_team:e.drop(),shared_by_user:e.drop(),accessed_at:e.drop()}));(0,gX.xi)((e,t,r)=>[e()(g0),t(g0)(),r(g0)()]);let g1=(0,gX.x1)(gQ.h4,e=>({id:e.camel(),name:e.camel()}));(0,gX.xi)((e,t,r)=>[e()(g1),t(g1)(),r(g1)()]);let g4=(0,gX.x1)(gQ.ZC,e=>({id:e.camel(),name:e.camel(),imgUrl:e.camel()}));(0,gX.xi)((e,t,r)=>[e()(g4),t(g4)(),r(g4)()]);let g2=(0,gX.x1)(gQ.ks,e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>null===e?"":e,toSinatra:e=>e}),imgUrl:e.camel()}));function g5(e){let t=(0,eK.S2)().unwrapOr(null),r=(0,re.y)(t?.planRecordId),a=(0,p.bc)(eY.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null,sharedToFilter:e.sharedWithFilter||null,sharedToUserGroupIdFilter:e.sharedWithUserGroupIdFilter||null}),s=(0,i.useCallback)(()=>{if(r){let e=(0,ti.oA)(a.data?.sharedWithYouResourcesV2);e?.loadNext(30)}else a.data?.sharedWithYouResources?.loadNext(30)},[a,r]),n="loaded"===a.status&&(r?ti.oA(a.data.sharedWithYouResourcesV2)?.isLoadingNextPage??!1:a.data.sharedWithYouResources.isLoadingNextPage);return{subscription:a,fetchNextPage:s,isFetchingNextPage:n,userGroupsEnabled:r}}function g6(e){return(0,s.jsx)(aA.u,{label:"SharedWithYouFilesView",children:(0,s.jsx)(g3,{...e})})}function g3(e){let t=(0,eO._6)(),r=(0,n.d4)(e=>e.tileSortFilterStateByView),a="recentsAndSharing"===t.view?r.recentsAndSharing.sharedFiles:r.sharedWithYou,o={tileSortFilterConfig:a,sortKeys:[iW.C0.SHARED_AT]},d={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0,removeFromSharedFiles:!0},{subscription:c,fetchNextPage:u,isFetchingNextPage:m}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:a,userGroupsEnabled:s}=g5({...e,resourceTypes:["file","file_repo","prototype"]});return{subscription:(0,i.useMemo)(()=>t.transform(e=>{let t=s?(0,ti.oA)(e.sharedWithYouResourcesV2)??[]:e.sharedWithYouResources;return(s?t:t.filter(e=>null===(e.sharedWithYouFile?.userGroupId??e.sharedWithYouRepo?.userGroupId??e.sharedWithYouPrototype?.userGroupId??null))).reduce((e,t)=>{if(t.sharedWithYouFile){let r=function(e){if(null==e||null==e.file)return null;let{file:t,...r}=e,a={...t,...r,editUrl:`${window.location.origin}/file/${t.key}/${(0,gJ.sy)(t.name||"")}`,signedPreviewThumbnailUrls:null,trackTags:null,isClaimableFile:!1};return(0,rw.fA)(om.F.toSinatra(a),{sharedAt:r.sharedAt,sharedByUser:r.sharedByUser,id:r.id})}(t.sharedWithYouFile);r&&e.push(r)}else if(t.sharedWithYouRepo){let r=function(e){let{repo:t,...r}=e;if(null===t)return null;let{branches:a,...s}=t,i=a?.filter(e=>null!=e)?.map(e=>rH.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${gJ.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],n=(0,rH.V1)({...s,...r});return(0,rH.V1)({type:rw.nb.REPO,repo:n,branches:i,selectedBranchKey:""},{repoPerms:(0,gK.zh)(t)})}(t.sharedWithYouRepo);r&&e.push(r)}else if(t.sharedWithYouPrototype){let r=function(e){let{prototype:t,...r}=e;if(null==t)return null;let a=(0,rH.V1)({...t,...r,shared_with_you_id:r.id}),s=om.F.toSinatra(t.fig_file),i={...a,fig_file:s,accessed_at:a.recent_prototype?.viewedAt?.toISOString()??null,shared_at:a.shared_at.toISOString()},n=function(e,t){let r=gZ.toSinatra(e),a=om.F.toSinatra(e.fig_file),s={...r,fig_file:a},i=g0.toSinatra(t);return{...s,...i,shared_by_user:(t.sharedByUser&&g1.toSinatra(t.sharedByUser))??null,parent_org:(t.parentOrg&&g2.toSinatra(t.parentOrg))??null,parent_team:(t.parentTeam&&g4.toSinatra(t.parentTeam))??null,accessed_at:e.recentPrototype?.viewedAt?.toISOString()??null}}(t,r);if((0,l.kc)().swy_prototype_converter_shadow_reads){let e=Object.keys(n);Object.keys(i).forEach(t=>{e.includes(t)||delete i[t]})}let o=(0,iE.HZ)({oldValue:i,newValue:n,label:iE.A5.SharedWithYouPrototypes.useSWYHook,enableShadowRead:!!(0,l.kc)().swy_prototype_converter_shadow_reads});return(0,rH.V1)({type:rw.nb.PROTOTYPE,prototype:o},{prototypePerms:(0,gY.R)(t)})}(t.sharedWithYouPrototype);r&&e.push(r)}return e},[])}),[t,s]),fetchNextPage:r,isFetchingNextPage:a}}({sharedBy:a.filters.sharedBy??"",planId:a.filters.plan?.planId??"",planType:a.filters.plan?.planType??"",fileType:(e=>{switch(e){case iW.t2.DESIGN:return"design";case iW.t2.FIGJAM:return"whiteboard";case iW.t2.PROTOTYPE:return"prototype";case iW.t2.SITES:return"sites";case iW.t2.SLIDES:return"slides";case iW.t2.COOPER:return"cooper";case iW.t2.MAKE:return"figmake";case iW.t2.ANY:return null;default:(0,I.xb)(e)}})(a.filters.fileType)??"",sortOrder:a.sort.dir===iW.ue.ASC?"asc":"desc",sortKey:(0,iW.De)(a.sort.key)??"shared_at",sharedWithFilter:a.filters.sharedWith??"",sharedWithUserGroupIdFilter:a.filters.sharedWithUserGroupIdFilter?[a.filters.sharedWithUserGroupIdFilter]:[]}),_=mb({tilesResult:c,tileSortFilterConfig:o.tileSortFilterConfig}),p=JSON.stringify(o.tileSortFilterConfig),f=(0,iE.MF)({invalidationKey:p,oldValue:_,newValue:c,label:iE.A5.SharedWithYouFilesView.sortedFilteredTiles,enableFullRead:(0,l.kc)().swy_files_disable_client_sorting_filtering,contextArgs:{tileSortFilterConfigStr:p}}),g=(0,i.useCallback)(()=>{m||u()},[m,u]),h="loaded"===c.status;return(0,x.kF)("SharedFiles"),(0,x.WX)({markName:"MainBodyContent",isLoaded:h}),(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",delay:250,result:sh.Qw.all([c,f]),loadingElementClassName:N.s.pr32.$,children:([t,r])=>(0,s.jsx)(mv.B,{onShouldFetchNextPage:g,isFetchingNextPage:m,children:(0,s.jsx)(mZ,{currentPlanFilter:a.filters.plan,currentSharedByFilter:a.filters.sharedBy,emptyStateText:m?"":(0,S.t)("shared_with_you.no_items"),isEligbileForProTeamLockedRevampUI:e.isEligbileForProTeamLockedRevampUI,newFileTile:!1,sortFilterOptions:o,tileActions:d,tiles:t,sortedFilteredTiles:r})})})}function g7(e){return(0,s.jsx)(aA.u,{label:"SharedWithYouProjectsView",children:(0,s.jsx)(g8,{...e})})}function g8(e){let t=(0,eO._6)(),r=(0,aM.ol)(),a=(0,p.bc)(eY.kQI,{id:r?.id||""},{enabled:!!r}),o=(0,p.bc)(eY.TNJ,{id:r?.id||""},{enabled:!!r}),l=(0,n.d4)(e=>e.tileSortFilterStateByView),d="recentsAndSharing"===t.view?l.recentsAndSharing.sharedProjects:l.sharedWithYou,{subscription:c,fetchNextPage:u,isFetchingNextPage:m}=function(e){let{subscription:t,fetchNextPage:r,isFetchingNextPage:a,userGroupsEnabled:s}=g5({...e,resourceTypes:["folder"]});return{subscription:(0,i.useMemo)(()=>t.transform(e=>{let t=s?(0,ti.oA)(e.sharedWithYouResourcesV2)??[]:e.sharedWithYouResources;return(s?t:t.filter(e=>null===(e.sharedWithYouFolder?.userGroupId??null))).reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:r,...a}=t.sharedWithYouFolder;if(null==r)return e;let s=r.updatedAt.toString(),i=r.activeProjectResourceConnections?.[0]??null,n=(0,rH.V1)({...r,...a},{created_at:r.createdAt.toString(),updated_at:s,deleted_at:r.deletedAt?.toString()||null,touched_at:s,is_connected_project:!!i,resource_connection:i?{hostPlanName:i.hostPlanName,connectedPlanName:i.connectedPlanName}:null});e.push(n)}return e},[])}),[t,s]),fetchNextPage:r,isFetchingNextPage:a}}({sharedBy:d.filters.sharedBy??"",planId:d.filters.plan?.planId??"",planType:d.filters.plan?.planType??"",orgDeletedDrafts:"",sortOrder:d.sort.dir===iW.ue.ASC?"asc":"desc",sortKey:(0,iW.De)(d.sort.key)??"shared_at",sharedWithFilter:d.filters.sharedWith??"",sharedWithUserGroupIdFilter:d.filters.sharedWithUserGroupIdFilter?[d.filters.sharedWithUserGroupIdFilter]:[]}),_=(0,i.useCallback)(()=>{m||u()},[m,u]),f="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission,g=!!o.unwrapOr({team:{hasPermission:!1}})?.team?.hasPermission,h="loaded"===c.status;return(0,x.kF)("SharedProjects"),(0,x.WX)({markName:"MainBodyContent",isLoaded:h}),(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",delay:250,result:c,loadingElementClassName:N.s.pr32.$,children:a=>(0,s.jsx)(mv.B,{onShouldFetchNextPage:_,isFetchingNextPage:m,children:(0,s.jsx)(_i,{canAdminTeam:g,canEditTeamContents:f,chunkSize:a.length,currentPlanFilter:d.filters.plan,emptyStateText:m?"":(0,S.t)("shared_with_you.no_items"),folderList:a,isEligbileForProTeamLockedRevampUI:!!r&&e.isEligbileForProTeamLockedRevampUI,isSharerInfoIncluded:!0,selectedView:t,team:r,teamId:r?r.id:void 0,viewId:"shared-with-you-projects"})})})}(0,gX.xi)((e,t,r)=>[e()(g2),t(g2)(),r(g2)()]);var g9=r(899593),he=r(58399),ht=r(226744),hr=r(935372),ha=r(918999),hs=r(259828);let hi=e=>(0,s.jsx)("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D",children:e}),hn=(0,tS.Ju)(function(e){let t=(0,n.wA)(),r=(0,Q.iZ)();return r?(0,s.jsxs)(ha.u,{tintedModalBackground:!0,headerText:(0,S.t)("interstitial.unsubscribe_success_header"),children:[(0,s.jsx)("div",{className:hs.Yg,children:(0,S.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:hi((()=>{switch(e.policyType){case"FileCommentActivity":return(0,S.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,S.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,S.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,S.t)("interstitial.workspace_activity");default:(0,I.xb)(e.policyType)}})()),emailAddress:hi(r.email)})}),(0,s.jsx)(ae.nD,{onClick:()=>{t(tC.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT",children:(0,S.tx)("interstitial.done")}),(0,s.jsx)("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,tC.to)({type:ht.s,data:{tab:ht.c.NOTIFICATIONS}})),t(tC.aZ())},children:(0,S.tx)("interstitial.open_notifications_settings")})]}):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var ho=r(865840),hl=r(650471),hd=r(631206);let hc={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0};function hu({isEligbileForProTeamLockedRevampUI:e}){let{tilesResult:t,sortedFilteredTilesResult:r,tileSortFilterConfig:a,isPaginatedFilesQuery:o,filesPageSize:d,hasNextPage:c,tryLoadNextPage:u,isFetchingNextPage:m}=function(){let e=(0,n.d4)(e=>e.tileSortFilterStateByView.recentsAndSharing.recents),{isPaginatedQuery:t,recentFileTilesResult:r,isFetchingNextPage:a,tryLoadNextPage:s,hasNextPage:o,pageSize:l}=function(e){let{inPaginationExp:t,pageSize:r}=(function(){let{getConfig:e}=(0,h.I7)("exp_file_browser_recent_files_pagination");return i.useCallback(()=>({inPaginationExp:e().get("pagination_enabled",!1),pageSize:e().get("page_size",55)}),[e])})()(),a=(0,iW.Gv)(e.filters.fileType),s=function({inPaginationExp:e,tileSortFilterConfig:t}){return!(!e||t.sort.key!==iW.C0.ACCESSED_AT||t.filters.plan?.planId)}({inPaginationExp:t,tileSortFilterConfig:e}),[n]=(0,rh.IT)(function(){let t={action:"view",firstPageSize:r,sortOrder:e.sort.dir===iW.ue.DESC?"DESC":"ASC"};return a?s?eY.FdV.Query({...t,_editorTypeRaw:a}):eY.gB$.Query({_editorTypeRaw:a}):s?eY.XwL.Query(t):eY.wZi.Query({})}()),o=i.useMemo(()=>n.transform(e=>"paginatedRecentFiles"in e.currentUser?e.currentUser.paginatedRecentFiles:"paginatedRecentFilesByEditorType"in e.currentUser?e.currentUser.paginatedRecentFilesByEditorType:"recentFiles2"in e.currentUser?e.currentUser.recentFiles2:e.currentUser.recentFiles2ByEditorType),[n]),l=i.useCallback(()=>{let e=o.data;if(e&&"hasNextPage"in e&&e?.hasNextPage())return e?.loadNext(r)},[o,r]),d=i.useMemo(()=>{let e=o.data;return!!e&&"isLoadingNextPage"in e&&e.isLoadingNextPage},[o]),c=i.useMemo(()=>{let e=o.data;return!!e&&"hasNextPage"in e&&e.hasNextPage()},[o]);i.useEffect(()=>{"loaded"===o.status&&(0,hl.eF)(o.data)},[o]);let u=i.useMemo(()=>o.transform(e=>(0,rH.YN)(e)),[o]);return i.useEffect(()=>{"loaded"===u.status&&(0,hl.Wn)(u.data)},[u]),i.useMemo(()=>({isPaginatedQuery:s,recentFileTilesResult:u.transform(e=>e.recent_files.map(e=>(0,rw.fA)(e))),tryLoadNextPage:l,isFetchingNextPage:d,hasNextPage:c,pageSize:r}),[u,l,d,c,s,r])}(e),d=function(){let e=(0,hl.O8)();return i.useMemo(()=>e.transform(e=>e.map(rw.Nu)),[e])}(),c=function(){let e=(0,n.d4)(e=>e.recentRepos),t=(0,n.d4)(e=>e.selectedBranchKeyByRepoId);return i.useMemo(()=>e.map(e=>(0,rw.uy)(e,t)),[e,t])}(),u=function(){let e=(0,_x.Rp)();return i.useMemo(()=>Object.values(e).map(rw.gB),[e])}(),m=i.useMemo(()=>sh.Qw.merge([r,d],c,u),[u,r,d,c]),_=mb({tilesResult:m,tileSortFilterConfig:e}),p=e.filters.fileType!==hd.t2.PROTOTYPE;return{tilesResult:m,sortedFilteredTilesResult:i.useMemo(()=>_.transform(e=>{if(!o||!p)return e;let t=-1;for(let r=e.length-1;r>=0;r--){let a=e[r];if(a&&a.type===rw.nb.FILE){t=r;break}}return -1===t?[]:e.slice(0,t+1)}),[_,o,p]),tileSortFilterConfig:e,isPaginatedFilesQuery:t,hasNextPage:o,filesPageSize:l,tryLoadNextPage:i.useCallback(()=>{p&&s()},[s,p]),isFetchingNextPage:a}}(),_=i.useMemo(()=>({tileSortFilterConfig:a,sortKeys:[iW.C0.NAME,iW.C0.CREATED_AT,iW.C0.ACCESSED_AT]}),[a]);!function({sort:e,viewMode:t}){let r=t??iW.XU.GRID,a=i.useRef(e),s=i.useRef(r);s.current=r,i.useEffect(()=>{sM.az.trackDefinedEvent("file_browser.recents_sort_on_load",{sortKey:(0,iW._5)(a.current.key),sortDir:(0,iW.GB)(a.current.dir),viewMode:(0,iW.jq)(s.current)})},[]);let n=i.useRef(!0);i.useEffect(()=>{if(n.current){n.current=!1;return}sM.az.trackDefinedEvent("file_browser.recents_sort_updated",{sortKey:(0,iW._5)(e.key),sortDir:(0,iW.GB)(e.dir),viewMode:(0,iW.jq)(s.current)})},[e.dir,e.key])}(a);let p=function({paginationEnabled:e,hasNextPage:t,viewMode:r,pageSize:a}){let s=i.useRef(!1);return i.useCallback(i=>{if(!e||s.current)return;s.current=!0;let n=i&&t;sM.az.trackDefinedEvent("file_browser.recent_files_pagination_initial_viewport",{didUnderfetch:n,viewMode:(0,iW.jq)(r??iW.XU.GRID),pageSize:a,isMobileDevice:g.Ay.mobile})},[t,r,a,e])}({paginationEnabled:o,hasNextPage:c,pageSize:d,viewMode:a.viewMode});!function(e){let t=(0,ho.wm)(()=>e.transform(e=>e.filter(e=>e.type===rw.nb.FILE).map(rw.Tf.getId)).unwrapOr(null),[e]);i.useEffect(()=>{t&&(0,l.kc)().track_recents_file_keys&&sM.az.trackDefinedEvent("file_browser.recents_file_keys",{fileKeys:t.join(","),count:t.length})},[t])}(r);let f=(0,iW.Gv)(a.filters.fileType),b=a.filters.plan?.planId,v=a.sort.dir,y=a.sort.key,j="loaded"===t.status;return(0,x.kF)("RecentFiles"),(0,x.WX)({markName:"MainBodyContent",isLoaded:j}),(0,s.jsx)(ei.Bm,{loadingElementId:"loading-content-pane",result:sh.Qw.all([t,r]),loadingElementClassName:N.s.pr32.$,children:([t,r])=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(mv.B,{onShouldFetchNextPage:u,isFetchingNextPage:m,onInitialEndOfListObservation:p,children:(0,s.jsx)(mZ,{tiles:t,sortedFilteredTiles:r,tileActions:hc,sortFilterOptions:_,newFileTile:!0,emptyStateText:null!==f?(0,S.t)("file_browser.tiles_view.default_overfiltered_text"):g.Ay.mobile||g.Ay.tablet?(0,S.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",isEligbileForProTeamLockedRevampUI:e,shouldLogVisibleTileCount:!0})},`${f}-${b}-${y}-${v}`),(0,s.jsx)(uI.cx,{})]})})}var hm=r(336971),h_=r(216133);function hp(){return{"":{label:(0,S.t)("shared_with_you.filters.all_organizations")}}}let hf=rh.M4.Query({fetch:async e=>{let t=await h_.j.getPlanFilterOptions({resource_type:e}),r={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(r[e.plan_id]=t)}),{...hp(),...r}}});function hx(){return{"":(0,S.t)("shared_with.you.filters.anyone")}}let hg=[mo.Gw.RECENTLY_VIEWED,mo.Gw.SHARED_FILES,mo.Gw.SHARED_PROJECTS],hh=e=>{switch(e){case mo.Gw.RECENTLY_VIEWED:return(0,S.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case mo.Gw.SHARED_PROJECTS:return(0,S.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case mo.Gw.SHARED_FILES:return(0,S.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,I.xb)(e)}};function hb(e){let t=e.options.tileSortFilterConfig.filters.sharedBy,r=e.options.tileSortFilterConfig.filters.plan,a=(0,eK.S2)().unwrapOr(null),i=(0,re.y)(a?.planRecordId);return(0,s.jsxs)("div",{className:N.s.flex.flexWrap.gap8.$,children:[i&&e.filters?.sharedWith&&(0,s.jsx)(u8.ve,{config:e.options.tileSortFilterConfig,tab:e.tab,userGroupIdFilterOptions:e.filters.sharedWithUserGroupIdFilter}),e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(u8.qD,{userId:t}),(0,s.jsx)(u8.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})]}),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&(0,s.jsxs)(s.Fragment,{children:[r?.planId&&(0,s.jsx)(u8.lV,{planOption:e.filters.plan[r.planId]}),(0,s.jsx)(u8.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})]}),e.filters?.fileType&&(0,s.jsx)(u8.ye,{config:e.options.tileSortFilterConfig,tab:e.tab})]})}function hv(){let e=(0,eO._6)(),t="recentsAndSharing"===e.view?e.tab:mo.Gw.RECENTLY_VIEWED,r=(0,n.wA)(),a=(0,n.d4)(e=>e.tileSortFilterStateByView),o=t===mo.Gw.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],l={[iW.oc.ALL]:(0,S.t)("shared_with_you.filters.shared_with.all"),[iW.oc.USER]:(0,S.t)("shared_with_you.filters.shared_with.you_directly"),[iW.oc.USER_GROUP]:(0,S.t)("shared_with_you.filters.shared_with.your_user_groups")},d=function(e){let[t,r]=(0,i.useState)(hx()),a=e.join("&resource_type[]=");return(0,i.useEffect)(()=>{h_.j.getSharerFilterOptions({resource_type:a}).then(({data:e})=>{r(e.meta.shared_by_filters.reduce((e,{user_id:t,label:r})=>({...e,[t]:r}),{...hx()}))})},[a]),t}(o),c=function(){let e=(0,n.d4)(e=>e.plans),t=(0,n.d4)(e=>e.orgById),r=(0,n.d4)(hm.P);return e.map(e=>{let a="";if(e.plan_type===o8.O.ORG){let r=t[e.plan_id];a=r?.name??a}else{let t=r[e.plan_id];a=t?.name??a}return{label:a,plan_id:e.plan_id,plan_type:e.plan_type===o8.O.ORG?o8.O.ORG:o8.O.TEAM}}).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...hp()})}(),u=function(e){let t=e.join("&resource_type[]="),[r]=(0,rh.IT)(hf(t));return r.data||hp()}(o),m={[iW.cT.ALL]:(0,S.t)("shared_with_you.filters.org_deleted_drafts.all"),[iW.cT.SHARED]:(0,S.t)("shared_with_you.filters.org_deleted_drafts.shared"),[iW.cT.ORG_DELETED_DRAFTS]:(0,S.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")},_=function(){let[e,t]=(0,i.useState)({});return(0,i.useEffect)(()=>{h_.j.getUserGroupIdFilterOptions().then(({data:e})=>{t(Object.fromEntries(e.meta.shared_with_user_group_filters.map(({id:e,name:t})=>[e,t])))})},[]),e}(),p={sharer:t!==mo.Gw.RECENTLY_VIEWED?d:void 0,plan:t===mo.Gw.RECENTLY_VIEWED?c:u,fileType:t!==mo.Gw.SHARED_PROJECTS,orgDeletedDrafts:t===mo.Gw.SHARED_PROJECTS?m:void 0,sharedWith:t!==mo.Gw.RECENTLY_VIEWED?l:void 0,sharedWithUserGroupIdFilter:t!==mo.Gw.RECENTLY_VIEWED?_:void 0},f=i.useMemo(()=>{let e;switch(t){case mo.Gw.RECENTLY_VIEWED:e=a.recentsAndSharing.recents;break;case mo.Gw.SHARED_FILES:e=a.recentsAndSharing.sharedFiles;break;case mo.Gw.SHARED_PROJECTS:e=a.recentsAndSharing.sharedProjects;break;default:(0,I.xb)(t)}return{tileSortFilterConfig:e,sortKeys:mo.oU[t]}},[t,a]),x=e=>{e===mo.Gw.SHARED_FILES?(0,sM.sx)("file_browser_shared_files"):e===mo.Gw.SHARED_PROJECTS&&(0,sM.sx)("file_browser_shared_projects"),r(eR.sf({view:"recentsAndSharing",tab:e}))},g=(0,s.jsx)("div",{className:"x78zum5 x6s0dn4",children:(0,s.jsx)(u9.$c,{initialViewMode:f.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,sM.sx)("file view toggle",{viewType:t===iW.XU.GRID?"grid":"list"}),Object.keys(mo.Gw).map(a=>{r(eC.JF({selectedView:e,config:{...f.tileSortFilterConfig,viewMode:t},tab:mo.Gw[a]}))},r(eC.uV({viewId:"shared-with-you-projects",viewMode:t})))}})}),h=(0,s.jsx)(u8.mc,{options:f,selectedView:e,dispatch:r,tab:t}),b=(0,s.jsxs)("div",{className:N.s.flex.gap8.$,children:[h,g]},"sortWithViewOptions"),v=(0,s.jsx)(hb,{options:f,filters:p,tab:t},"recentsAndSharingTileFilters"),[y,j,w]=nU.t.useManagedTabs({[mo.Gw.RECENTLY_VIEWED]:!0,[mo.Gw.SHARED_FILES]:!0,[mo.Gw.SHARED_PROJECTS]:!0},t,e=>{x(e)}),T=hg.map((e,t)=>(0,s.jsx)(nU.t.Tab,{...y[e],children:hh(e)},t)),E=[v,b];return(0,s.jsx)(cV.f,{leftSide:(0,s.jsx)(nU.t.TabStrip,{manager:w,children:T}),rightSide:E,rightSideMobile:E,shouldStackRightSideMobile:!0})}function hy(e){switch(e){case s3.bb.ACCOUNT:return ht.c.ACCOUNT;case s3.bb.COMMUNITY:return ht.c.COMMUNITY;case s3.bb.NOTIFICATIONS:return ht.c.NOTIFICATIONS}}function hj(e){let t=(0,n.wA)(),r=(0,eI.R)(),a=_q({checks:{isEligbileForProTeamLockedRevampUI:r}}).unwrapOr(!1),{accountModalTab:o,emailPolicyToUnsubscribeFrom:l}=e,d=(0,s.jsx)(hv,{}),c=(0,_.ZC)(o),m=(0,_.ZC)(l);return(0,he.i)(),(0,g9.V)(),!function(){let e=(0,n.wA)(),t=(0,Q.iZ)(),r=(0,aM.ol)();(0,i.useEffect)(()=>{if(t&&r&&"true"===sessionStorage.getItem("figma_initial_api_paywall")){sessionStorage.removeItem("figma_initial_api_paywall");let a=r.student_team?eU.Ag.STUDENT:r.org_team?eU.Ag.ORG:r.pro_team?eU.Ag.PRO:eU.Ag.STARTER,s=r.id.toString();if(sM.az.trackDefinedEvent("monetization_expansion.api_paywall_redirect",{userId:t.id.toString(),planType:a,planParentType:a,planId:s,planParentId:s,redirectDestination:a===eU.Ag.STARTER?"pricing":"settings"}),a===eU.Ag.STARTER||a===eU.Ag.STUDENT){u.Ay.redirect("/pricing","_blank");return}e((0,tC.to)({type:ht.s,data:{tab:ht.c.ACCOUNT}}))}},[t,r,e])}(),(0,i.useEffect)(()=>{o&&o!==c?(t((0,tC.to)({type:ht.s,data:{tab:hy(o)}})),t(eR.sf({view:"recentsAndSharing"}))):l&&l!==m&&(hr.z.updateUserCommunicationPreference({channelType:"email",policyType:l,policySetting:"none"}).then(()=>{t((0,tC.to)({type:hn,data:{policyType:l}}))}).catch(e=>{t((0,tC.to)({type:ht.s,data:{tab:hy(s3.bb.NOTIFICATIONS)}})),t(tl.F.dequeue({}))}),t(eR.sf({view:"recentsAndSharing"})))},[o,c,l,m,t]),(0,s.jsx)(ne.r,{banner:a?(0,s.jsx)(_Z,{folderId:null}):(0,s.jsx)(g$,{}),viewbar:d,toolbar:(0,s.jsx)(gA,{}),viewBarSticky:!0,content:function(e){let t=(0,eO._6)(),r="recentsAndSharing"===t.view?t.tab:mo.Gw.RECENTLY_VIEWED;switch(r){case mo.Gw.SHARED_FILES:return(0,s.jsx)(g6,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});case mo.Gw.SHARED_PROJECTS:return(0,s.jsx)(g7,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});case mo.Gw.RECENTLY_VIEWED:return(0,s.jsx)(hu,{isEligbileForProTeamLockedRevampUI:e?.isEligbileForProTeamLockedRevampUI});default:(0,I.xb)(r)}}({isEligbileForProTeamLockedRevampUI:r})})}var hw=r(65545);function hT({teamId:e}){let t=(0,p.bc)(eY.GyZ,{teamId:e}),r=t.data?.team||null,a=(0,K.dq)();if(!r?.org)return null;if(a!==r.org.id)return(0,s.jsx)(pD,{planEntity:r.org});let i=r.org?.hasWorkspaces&&r.plan?.tier===hw.Agb.ENTERPRISE;return(0,s.jsxs)(oV.A5,{children:[r.org&&(0,s.jsx)(pL,{org:r.org,currentResourceId:e,hasTrailingDivider:!!r.workspace||i}),(r.workspace||i)&&(0,s.jsx)(pB,{workspace:r.workspace??{id:iQ.O},currentResourceId:e,orgId:r.org?.id,hasTrailingDivider:!1})]})}var hE=r(696989),hI=r(572535),hN=r(552234),hS=r(663128);function hk(){return(0,s.jsxs)("div",{className:N.s.flex.p12.colorBgSelected.bRadius6.m32.$,children:[(0,s.jsx)("div",{className:N.s.mr12.colorIcon.itemSelfCenter.$,children:(0,s.jsx)(r3.B,{svg:hS.A})}),(0,s.jsxs)("div",{children:[(0,S.tx)("sidebar.meta.this_team_is_for_education_users_only")," ",(0,s.jsx)(ae.Us,{target:"_blank",trusted:!0,href:"/education/",children:(0,S.tx)("org_home_view_meta.learn_more")})]})]})}function hC({team:e}){let t=(0,n.wA)(),r=(0,p.bc)(eY.kQI,{id:e.id}),a=!!r.data?.team?.hasPermission,[{data:i}]=(0,f.IT)((0,q.Xg)({teamId:e.id})),o=(i||[]).filter(e=>""!==e.name).length,l=(0,h.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&a&&o>=sT.Wf)||l.getConfig().getValue("show_upsell",!1))return null;let d=(0,s.jsx)(ae.Us,{onClick:()=>{t((0,tC.to)({type:aP.V,data:{teamId:e.id,entrypoint:aD.C6.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:e_.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink",children:(0,S.tx)("file_browser.starter_team.upgrade_link")});return(0,s.jsx)(r7.fu,{name:"Starter Team Upsell Footer",children:(0,s.jsx)("div",{className:G()(N.s.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter",children:(0,s.jsxs)("div",{className:G()(N.s.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB"),children:[(0,s.jsx)("strong",{children:o===sT.Wf?(0,S.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:sT.Wf}):(0,S.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")}),(0,s.jsx)("p",{className:N.s.alignCenter.$,children:(0,S.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:d})})]})})})}var hA=r(598574);function hR({team:e,showInvite:t,onInviteClick:r,onMembersClick:a,setFavorite:n,removeFavorite:o}){let{getTriggerProps:l,manager:d}=tQ.b(),c=e.org_id??null,u=(0,ee.Q)({currentOrgId:c,currentTeamId:null}),m=u.transform(e=>(0,$.t$)(e.currentUser.userSidebarSections?.status===ti.tT.Loaded?e.currentUser.userSidebarSections?.data??[]:[],e.currentUser.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[])).unwrapOr([]),_=i.useMemo(()=>{if("loaded"===u.status)return(0,$.T0)(u.data,e.id)},[u,e.id]),p=i.useCallback(({sectionId:e})=>{n({favoriteId:_?.id,sectionId:e})},[n,_]),f=i.useCallback(()=>{_&&o({favoriteId:_.id})},[o,_]);if("loaded"!==u.status)return(0,s.jsx)("div",{className:N.s.flex.itemsCenter.colorIcon.$,children:(0,s.jsx)(r3.B,{svg:fL.A})});let x=(0,$.gV)(u.data,c);return(0,s.jsxs)(tQ.bL,{manager:d,children:[(0,s.jsx)(sF.E,{className:G()(N.s.flex.itemsCenter.colorIcon.$,fP.HM),...l(),children:(0,s.jsx)(tZ.J,{})}),(0,s.jsxs)(tQ.mc,{children:[t&&(0,s.jsx)(tQ.q7,{onClick:r,children:(0,S.tx)("file_browser.team.invite")},"import"),(0,s.jsx)(tQ.q7,{onClick:a,children:(0,S.tx)("file_browser.team.view_members")},"share"),(0,s.jsxs)(tQ.g8,{children:[(0,s.jsx)(tQ.ZP,{children:(0,S.tx)("favorited_resources.add_to_sidebar")}),(0,s.jsx)(tQ.MJ,{children:(0,s.jsx)(ra.b,{setFavorite:p,removeFavorite:f,resourceId:e.id,resourceType:eU.bk.TEAM,favoriteId:_?.id,orderedSidebarSections:m,userHasMaxFavorites:x})})]})]})]})}var hO=r(212959),hP=r(901532),hL=r(745790),hF=r(527173),hD=r(847282),hM=r(853306),hU=r(557815),hB=r(922296),hG=r(808242),hW=r(616793),hz=r(648878),hV=r(739187),hH=r(143607);let h$=(0,tS.Ju)(function({teamId:e,trackingProperties:t,hasSecondaryBtn:r=!0}){let a=(0,i.useMemo)(()=>(0,hV.To)(),[]),o=(0,n.wA)(),l=()=>{o(tC.Ce())},d=r?(0,s.jsx)(_h.V,{onClick:()=>{u.Ay.redirect("/pricing","_blank")},children:(0,S.t)("pro_onboarding.pro_feature_modal.compare_plans")}):null;return(0,s.jsx)(r7.fu,{name:"Pro Features Modal",properties:t??hW.S.getTrackingProperties(e),children:(0,s.jsx)(hH.n,{...a,dismissModal:l,clickPrimaryBtn:l,secondaryBtn:d,showPricing:!1,panelTitleSize:hH.I.LARGE,cardsClickable:!0})})},"ProFeaturesModal");var hq=r(715458);let hY=e=>({tileSortFilterConfig:e.team,sortKeys:[iW.C0.NAME,iW.C0.TOUCHED_AT]}),hK=(e,t,r)=>{let a=(0,u3.xx)(hY)(t);return[(0,s.jsx)(u8.mc,{dispatch:e,options:a,selectedView:r},0),(0,s.jsx)(u9.$c,{initialViewMode:a.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,sM.sx)("team folder view toggle",{viewType:t===iW.XU.GRID?"grid":"list"}),e(eC.JF({selectedView:r,config:{...a.tileSortFilterConfig,viewMode:t}}))}},1)]};function hJ(){let e=(0,n.wA)(),t=(0,eO._6)(),r=hK(e,(0,n.d4)(e=>e.tileSortFilterStateByView),t);return(0,s.jsx)(cV.f,{leftSide:null,rightSide:r})}function hQ(e){let{team:t,orgTeamActionType:r}=e;switch(r){case iY.gO.CLICK_JOIN:case iY.gO.BYPASS_REQUEST:return(0,s.jsxs)(s.Fragment,{children:[(0,S.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),(0,s.jsx)("br",{}),(0,S.tx)("file_browser.team.please_join_team")]});case iY.gO.CLICK_REQUEST:return(0,s.jsxs)(s.Fragment,{children:[(0,S.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),(0,s.jsx)("br",{}),(0,S.tx)("file_browser.team.please_request_to_join_team")]});case iY.gO.CLICK_WITHDRAW:return(0,S.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,S.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function hX({team:e}){let t=(0,n.d4)(e=>(0,s5.getPermissionsStateMemoized)(e)),r=(0,n.d4)(t=>t.teamRoleRequests[e.id]),a=(0,eK.px)(),i=(0,eK.j_)(a).unwrapOr(!1),o=(0,iY.YP)(e,r,t,i),l=(0,n.wA)(),d=(0,s.jsxs)("div",{className:"team_page_view--nonMemberViewContainer--uleTt","data-testid":"non-member-join-content",children:[(0,s.jsxs)("div",{className:"team_page_view--header--sTxh6",children:[(0,s.jsx)(t8.nl,{team:e,size:t8.Pf.LARGE}),(0,s.jsx)("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd",children:e.name})]}),(0,s.jsx)("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,s.jsx)(hQ,{team:e,orgTeamActionType:o})}),(0,s.jsx)("div",{className:"team_page_view--joinButton--waTM-",children:(0,s.jsx)(hL.m3,{team:e,onJoin:(0,hA.GR)(l,e.id),onLeave:()=>{l(tC.to({type:iV.p,data:{teamId:e.id}}))},isCardActive:!1})})]});return(0,s.jsx)(ne.r,{content:d})}function hZ({teamId:e,selectedTab:t,upgradeModalType:r,showProOnboardingModal:a,showResourceConnectionInviteModal:o}){let l=(0,sg.R)(t=>t.teams[e]),d=(0,n.d4)(e=>e.currentUserOrgId),c=(0,n.d4)(e=>l&&l.org_id&&e.orgById[l.org_id]||null),u=(0,n.d4)(e=>e.loadingState),_=(0,n.wA)(),x=(0,eO._6)(),[g,h]=i.useState(!1);(0,hE.r)(e);let b=(0,hB.Z)(o),v=(0,hM.t)(b,o);i.useEffect(()=>{o&&v()},[o,v]);let y=(0,hG.Sh)(e).transform(e=>e.tier===eU.Ag.PRO||e.tier===eU.Ag.STUDENT).unwrapOr(!1);(0,p.bc)(eY.yQw,{teamId:e});let j=(0,hU.dr)(e),w="loaded"===j.status,[{status:T,data:E}]=(0,f.IT)((0,q.Xg)({teamId:l?.id}),{revalidateOnMount:!0}),I=j.data,N={canAdminOrg:!!I?.canAdminOrg,canAdminTeam:!!I?.canAdmin,canEditTeam:!!I?.canEdit,canReadTeam:!!I?.canRead,canDeleteTeam:!!I?.canDelete,isInTeam:!!I?.isInTeam},k=!!l&&(0,aM.PS)(l),C=(0,p.bc)(eY.InN,{},{enabled:k}),A=(0,ti.oA)(C.data?.personalDraftToPlanDraftLocation),R=A?.planParentId===e&&A?.status==="started";(0,m.h)(()=>{let e=(0,hD.QL)("team_role_redemption");if(e&&parseInt(e)in fB.e6){let e=(0,hz.VE)();e&&_(tl.F.enqueue({message:e})),(0,hD.EM)("team_role_redemption")}}),i.useEffect(()=>{let e=hF.um.loadingKeyForPayload();(0,o$.VP)(u,e)||(0,o$.D2)(u,e)||_(hF.um())},[_,u]),i.useEffect(()=>{d&&_((0,fU.Rw)())},[_,d]),i.useEffect(()=>{if(l)h(!1);else{let t=hA.HD.loadingKeyForPayload({teamId:e}),r=`TEAM_GET_ACTION_${e}`;d&&!u[t]?_(hA.HD({teamId:e,disableFlashError:!0})):(0,o$.VP)(u,t)||(0,o$.VP)(u,r)||h(!0)}},[_,u,l,e,d]),i.useEffect(()=>{if(!l||l.org_id)return;let e=pW.m$.loadingKeyForPayload({teamId:l.id});if((0,o$.VP)(u,e)||(0,o$.D2)(u,e)||_(pW.m$({teamId:l.id})),t===eQ.A$.BILLING){(0,iE.HZ)({label:iE.A5.TeamPageView.selectTeamViewBillingTab,oldValue:!1,newValue:!0,maxReports:5});let e=_K.Be.loadingKeyForPayload({teamId:l.id});(0,o$.D2)(u,e)||(0,o$.VP)(u,e)||_(_K.Be({teamId:l.id}))}else if(t===eQ.A$.MEMBERS){let e=pW.m$.loadingKeyForPayload({teamId:l.id});(0,o$.VP)(u,e)||(0,o$.D2)(u,e)||_(pW.m$({teamId:l.id}))}else if(t===eQ.A$.SETTINGS){let e=_K.Be.loadingKeyForPayload({teamId:l.id});N.canAdminTeam&&y&&!(0,o$.VP)(u,e)&&!(0,o$.D2)(u,e)&&_(_K.Be({teamId:l.id}))}},[_,t,u,l,c,y,N.canAdminTeam]);let O=(0,Q.Pc)(),P=(0,p.bc)(eY.Cit,{teamId:e}),L=P.data?.team?.currentTeamUser;i.useEffect(()=>{let e;if(!(l&&O&&L&&r)||!y)return;let a=r===eU.G_.WHITEBOARD?eU._Y.WHITEBOARD:eU._Y.DESIGN;a===eU._Y.DESIGN?e=L.designAccountTypeRequest?.status==="pending":a===eU._Y.WHITEBOARD&&(e=L.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&_(a4.s.flash((0,S.t)("team_view.request_upgrade.request_already_sent"))),_(eR.sf({view:"team",teamId:l.id,teamViewTab:t}))},[_,l,O,L,r,y,t]),(0,m.h)(()=>{a&&_(tC.to({type:hq.C,data:{teamId:e}}))});let F=i.useRef(!1);i.useEffect(()=>{!F.current&&"team"===x.view&&x.assetTransferRequestId&&_(tC.to({type:(0,hI.S)(),data:{selectedAssetTransferRequest:x.assetTransferRequestId}})),F.current=!0});let D=g||!N.canReadTeam&&!d;return w?D?(0,s.jsx)(nd.S,{resourceType:s3.Ft.TEAM}):l?N.canReadTeam?(0,s.jsx)(h0,{team:l,lgTeamPermissions:N,org:c,user:O,selectedTab:t,shouldBlockTeamActionsDuringDTMMigration:R,teamFoldersStatus:T,teamFolders:E}):(0,s.jsx)(hX,{team:l}):null:(0,s.jsx)(en.qc,{})}function h0({team:e,lgTeamPermissions:t,org:r,user:a,selectedTab:d,shouldBlockTeamActionsDuringDTMMigration:c,teamFoldersStatus:u,teamFolders:m}){let _;let{canAdminOrg:p,canAdminTeam:f,canEditTeam:g,canReadTeam:h,isInTeam:b,canDeleteTeam:v}=t,y="loaded"===u,j=m?.length,w=e.id;(0,iP.I)(y&&void 0!==j&&0!==j,(e,t,r)=>{t||r||0===e||!(0,l.kc)().livestore_fix_throttled_invalidate||sM.az.trackDefinedMetric("file_browser.team_page_folders_load_time",{durationMs:e,teamId:w,folderCount:j,isPaginated:!1})});let T=(0,eN.vt)(w),E=(0,eI.R)(w),I=(0,eI.jn)(),k=(0,V.uM)(),C=(0,n.d4)(e=>e.teamBilling),A=(0,n.wA)(),R=(0,eO._6)(),O=(0,eK.No)().unwrapOr(null),P=(0,re.y)(O?.planRecordId),L=i.useCallback(t=>{let r={view:"team",teamId:e?e.id:"",teamViewTab:t};A(eR.sf(r))},[A,e]),F=(0,n.d4)(e=>e.avatarEditorState),D=(0,n.d4)(e=>e.teamRoleRequests),M=i.useMemo(()=>{if(e&&h)switch(e.org_access){case eU.bU.PRIVATE:return(0,S.t)("file_browser.team_header.closed_team_header");case eU.bU.SECRET:return(0,S.t)("file_browser.team_header.secret_team_header")}},[e,h]),U=i.useMemo(()=>{if(e&&h){if(e.org_access===eU.bU.PRIVATE)return(0,S.t)("file_browser.team_header.closed_team_subtitle");if(e.org_access===eU.bU.SECRET)return(0,S.t)("file_browser.team_header.secret_team_subtitle")}},[e,h]),B=i.useMemo(()=>{if(e&&h){if(e.org_access===eU.bU.PRIVATE)return(0,S.t)("file_browser.team_header.closed_team_sr_only_text");if(e.org_access===eU.bU.SECRET)return(0,S.t)("file_browser.team_header.secret_team_sr_only_text")}},[e,h]),G=i.useCallback(({favoriteId:t,sectionId:r})=>{A(eL.DN({team:e,entrypoint:"team_page_view",sectionId:r,favoriteId:t}))},[A,e]),W=i.useCallback(({favoriteId:t})=>{A(eL.ox({team:e,entrypoint:"team_page_view",favoriteId:t}))},[A,e]),z=()=>{A((0,q.SX)({where:rF.Ah.FolderListView,team:{...e,canEdit:!!t.canEditTeam}}))},H=()=>{A(eR.oB()),X(),L(eQ.A$.SETTINGS)},$=(0,hP.s)(),Y=i.useCallback(()=>{$({teamId:w,canAdmin:t.canAdminTeam})},[$,w,t.canAdminTeam]),K=e?{team:e,billing:C,teamId:e.id}:void 0,J={view:"team",teamId:w,teamViewTab:eQ.A$.HOME},Q=(0,hN.n)(hO.am.MEMBERS,K,!!t.canAdminTeam,!!t.canEditTeam,!!t.canReadTeam,J),X=(0,hN.n)(hO.am.SETTINGS,K,!!t.canAdminTeam,!!t.canEditTeam,!!t.canReadTeam,J);i.useEffect(()=>{d===eQ.A$.MEMBERS?Q():d===eQ.A$.SETTINGS&&X()},[]),(0,x.kF)("Team"),(0,x.WX)({markName:"MainBodyContent",isLoaded:y,contextArgs:{numFolders:j??null}}),_=e.org_id?y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_i,{canAdminTeam:f,canEditTeamContents:g,folderList:m||[],isEligbileForProTeamLockedRevampUI:E,onCreateNewFolder:z,selectedView:R,team:e,teamId:w,viewId:`team-${w}`}),(0,s.jsx)(uI.cx,{})]}):(0,s.jsx)(en.qc,{}):(0,s.jsx)(s.Fragment,{children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_i,{canAdminTeam:f,canEditTeamContents:g,folderList:m||[],isEligbileForProTeamLockedRevampUI:E,onCreateNewFolder:z,selectedView:R,team:e,teamId:w,viewId:`team-${w}`}),(0,s.jsx)(uI.cx,{})]}):(0,s.jsx)(en.qc,{})});let Z=t.canAdminTeam?(0,s.jsx)(nv.FL,{entity:e,entityType:nb.ck.TEAM,avatarEditorState:F,size:40,dispatch:A,avatarSvg:P?void 0:ro.A,svgSizeRatio:.6}):(0,s.jsx)(t8.nl,{team:e,size:40,svgSizeRatio:.6,avatarSvg:P?void 0:ro.A}),ee=!h,et=(0,iB.F)(),er=(()=>{if(ee)return;let t=et({onChangeTeamIconClick:()=>{A((0,ny.o)({team:e}))},onRenameClick:()=>{A(tC.to({type:(0,iD.h)(),data:{team:e}}))},selectedTeamPermissions:{canAdmin:f,canAdminOrg:p,canDelete:v,canView:h,isInTeam:b},team:e,shouldBlockTeamActionsDuringDTMMigration:c}),a=[];return(K&&(g&&(r||a.push({displayText:(0,S.t)("teams_table.view_team_members"),onClick:Q}),a.push({displayText:(0,S.t)("team_view.settings.view_settings"),onClick:H})),r&&a.push({displayText:(0,S.t)("teams_table.view_team_members"),onClick:Q})),a.length>0)?[{key:"team-page-header-menu-items",items:a},...t]:t})(),ea=er?{kind:i7.A.CUSTOM,key:ni.DROPDOWN,element:(0,s.jsx)(ng,{buttonAriaLabel:(0,S.t)("team_view.page_header_dropdown_label"),menuGroups:er})}:void 0,es=e.pro_team,ei=e.student_team?(0,s.jsx)(hk,{}):(0,sT.w5)(e)?void 0:(0,s.jsx)(hC,{team:e});return(0,s.jsx)(ne.r,{content:(0,s.jsxs)(s.Fragment,{children:[_,ei]}),viewbar:(0,s.jsx)(hJ,{}),banner:(0,s.jsx)(pY,{teamId:w,selectedTab:d}),header:(0,s.jsx)(i9,{avatar:Z,title:e.name,rightSideActions:function(e,t,r,a,i,n,l,d,c,u){let m=[],_=!!Object.keys(l).includes(e.id)&&l[e.id]?.status===fG.c.PENDING,p=n.canAdminTeam&&!n.isInTeam,f={kind:i7.A.CUSTOM,key:ni.FAVORITE,element:(0,s.jsx)(nh.i,{setFavorite:a,removeFavorite:i,favoriteType:eU.bk.TEAM,resourceId:e.id,orgId:e.org_id,size:"lg"})};p&&m.push({kind:i7.A.CUSTOM,key:ni.JOIN_TEAM,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:(0,hA.GR)(t,e.id,fB.e6.ADMIN),children:(0,S.t)("file_browser.team.join_team")})});let x=u?r8.Ib.TEXT:void 0,g=u?(0,S.t)("locked_team.label.tooltip"):void 0;n.canEditTeam&&!(0,eE.R$)(r,e.org_id)?m.push({kind:i7.A.CUSTOM,key:ni.NEW_PROJECT,element:(0,s.jsx)("div",{"data-tooltip":g,"data-tooltip-type":x,children:(0,s.jsx)(ed.c,{"data-onboarding-key":"team-view-new-project-cta","data-testid":"team-view-new-project-cta",variant:"primary",disabled:u,"aria-label":(0,S.t)("project_creation.create_project"),iconPrefix:(0,s.jsx)(t4.e,{}),onClick:()=>{t((0,q.SX)({team:{...e,canEdit:n.canEditTeam},where:rF.Ah.FolderListView}))},children:(0,S.tx)("file_browser.team.add_project")})}),showOnMobile:!0}):!e.org_id||e.org_access===eU.bU.SECRET||p||n.canAdminTeam||m.push({kind:i7.A.CUSTOM,key:ni.REQUEST_TO_EDIT,element:(0,s.jsx)(ed.c,{variant:"primary",onClick:()=>{_?t(fM.lT({requestId:l[e.id]?.id})):t(tC.to({type:fW.$,data:{team:e,requesterCurrentLevel:fB.e6.VIEWER}}))},children:_?(0,S.t)("file_browser.team.cancel_request"):(0,S.t)("file_browser.team.request_to_edit")})}),m.push({kind:i7.A.CUSTOM,key:ni.INVITE,element:(0,s.jsx)(ed.c,{variant:"secondary",onClick:u?o.lQ:c,disabled:u,htmlAttributes:{"data-tooltip":g,"data-tooltip-type":x},children:(0,S.t)("file_browser.team.share")})}),e.org_id&&m.push(f);let h=(0,s.jsx)(hR,{team:e,showInvite:!0,onInviteClick:c,onMembersClick:d,setFavorite:a,removeFavorite:i});return m.push({kind:i7.A.CUSTOM,key:ni.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:h}),m}(e,A,a,G,W,t,D,e=>{e.stopPropagation(),A(eR.oB()),Q(),L(eQ.A$.MEMBERS)},Y,!!w&&T||I),rightSideOfTitleAction:ea,pageHeaderIcon:void 0,badge:(0,s.jsxs)(mP.Y,{direction:"horizontal",children:[M?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nu.E,{children:B}),(0,s.jsx)("div",{className:N.s.ml4.mr4.$,"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":M,"data-tooltip-subtext":U,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,children:(0,s.jsx)(n_.M,{"aria-hidden":"true"})})]}):void 0,es?(0,s.jsx)(r7.fu,{name:r5._Y.PROFESSIONAL,properties:hW.S.getTrackingProperties(w),children:(0,s.jsx)(r7.$z,{type:"button",onClick:()=>{k()?A(tC.to({type:aP.V,data:{entrypoint:aD.C6.TEAM_PAGE_VIEW_PROFESSIONAL_BADGE}})):A(tC.to({type:h$,data:{teamId:e.id}}))},className:"team_page_view--pointerOnHover--at7fp",trackingProperties:{trackingDescriptor:e_.c.PROFESSIONAL},children:(0,s.jsx)(r5.Ex,{color:r5.zE.INFORMATIONAL,text:(0,S.t)("pro_onboarding.professional"),size:r5.vj.EXTRA_LARGE,dataTestId:"team-page-view-professional-badge"})})}):void 0]})})})}var h1=r(485872),h4=r(101880),h2=r(514223),h5=r(977745),h6=r(888202),h3=r(380841),h7=r(248518),h8=r(818227),h9=r(903009),be=r(835211),bt=r(394202),br=r(401524);let ba="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function bs(e){let t=(0,n.wA)(),r=(0,Q.iZ)(),a=(0,bt.w)(e.user),i=(0,n.d4)(t=>t.currentUserOrgId===e.orgId),o=()=>{t((0,tC.to)({type:br.u}))};return(0,s.jsx)("div",{className:N.s.flex.flexColumn.ml16.hFull.$,children:(0,s.jsx)(h4.x,{isLoading:e.isLoading,children:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"org_user_meta_content--userData--NrFpt",children:[(0,s.jsx)(t8.H8,{user:e.user,size:t8.Pf.LARGE}),(0,s.jsx)("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd",children:e.title}),e.user.profile?.job_title&&(0,s.jsxs)("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,s.jsx)(r5.Ex,{color:r5.zE.INVERT,text:(0,h7.lb)(e.user.profile?.job_title)}),e.userId===r?.id&&(0,s.jsx)(tL.$n,{variant:"link",onClick:o,children:(0,S.tx)("internal_profile.change_job_title")})]}),e.user.email&&(0,s.jsx)("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e.user.email}),(e.description||!e.isReadOnly)&&(0,s.jsx)(h8.TI,{value:e.description??"",placeholder:(0,S.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:h8.qU,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})]}),a&&e.user?.id===r?.id&&(0,s.jsx)(bc,{user:e.user}),i&&(0,s.jsxs)(eo.P,{className:N.s.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:N.s.p16.borderBox.flex.flexColumn.$,children:[(0,s.jsx)("h2",{className:ba,children:(0,S.tx)("internal_profile.teams")}),(0,s.jsx)(bl,{userId:e.userId,orgId:e.orgId}),(0,s.jsx)("h2",{className:ba,children:(0,S.tx)("internal_profile.recent_projects")}),(0,s.jsx)(bo,{files:e.recents,isYourProfile:!e.isReadOnly})]})]})})})}function bi(e){let t=(0,Q.iZ)(),r=(0,n.wA)();return(0,s.jsx)(bs,{submitDescription:t=>{r(be.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function bn(e){let t=(0,n.wA)(),r=(0,Q.iZ)();return(0,s.jsx)(bs,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!r||r.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,S.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:r=>{e.orgId&&e.orgUser&&t(fZ.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:r},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function bo(e){let t=(0,h9.u)(e=>({view:"folder",folderId:e})),r=(0,i.useMemo)(()=>{let t=new Set;for(let r of"loaded"===e.files.status?e.files.data:[])r.folder_id&&t.add(r.folder_id);return Array.from(t).slice(0,10)},[e.files]),a=(0,h3.Cm)(r,"loaded"===e.files.status&&!!e.files.data),n=i.useMemo(()=>{if("loaded"!==e.files.status||"loading"===a.status)return[];let t=[],s=[];if(!e.files)return t;let i=new Set;for(let n of e.files.data){let e=n.folder_id;if(!e||i.has(e)||!r.includes(e)||(i.add(e),""===n.folder_name||null==n.folder_name))continue;let o=!!a?.data?.[e],l={id:e,name:n.folder_name,teamName:n.team_name,canView:o};if(l.canView?t.push(l):s.push(l),t.length+s.length>=5)break}return t.concat(s)},[e.files,a,r]);return(0,s.jsx)(h4.x,{isLoading:"loading"===e.files.status||"loading"===a.status,children:()=>(0,s.jsxs)("div",{children:[0===n.length&&(0,s.jsx)("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.isYourProfile?(0,S.t)("internal_profile.your_recent_projects_will_appear_here"):(0,S.t)("internal_profile.their_recent_projects_will_appear_here")}),n.map(e=>(0,s.jsx)(sF.E,{disabled:!e.canView,onClick:r=>{e.canView&&t(r,e.id)},className:e.canView?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:(0,s.jsx)("span",{"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":e.canView?void 0:(0,S.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName}),children:e.name})},e.id))]})})}function bl(e){let[t,r]=i.useState(null);i.useEffect(()=>{pa.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{r(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let a=(0,i.useMemo)(()=>(t||[]).slice(0,10),[t]),n=(0,iF.GG)(a.map(e=>e.id),!!a),o=(0,h9.u)(e=>({view:"team",teamId:e.id})),l=(a||[]).sort((e,t)=>{let r=n.data?.[e.id],a=n.data?.[t.id];return r&&!a?-1:!r&&a?1:0}),d=!a||"loaded"!==n.status;return(0,s.jsx)(h4.x,{isLoading:d,children:()=>(0,s.jsxs)("div",{className:N.s.flex.flexColumn.gap8.$,children:[l.map(e=>{let t=n.data?.[e.id];return(0,s.jsx)(rr.rE,{entity:e,size:12,hideFallbackInitial:!0,onClick:t?o:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${t?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":r8.Ib.TEXT,"data-tooltip":t?void 0:(0,S.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4},e.id)}),a&&0===a.length&&(0,S.tx)("internal_profile.no_teams_in_common"),t&&t.length>10&&(0,s.jsx)("div",{className:"org_user_meta_content--numOtherTeamsRow--aAVva",children:(0,S.tx)("internal_profile.N_other_teams",{numOtherTeams:t.length-10})})]})})}function bd(e){return(0,s.jsxs)("div",{className:"org_user_meta_content--userProfileNotification--qHv4P",children:[(0,s.jsx)("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",children:e.title}),(0,s.jsx)("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",children:e.text}),(0,s.jsx)("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj",children:e.action})]})}function bc(e){let{profile:t}=e.user,r=(0,n.wA)();return(0,s.jsx)(s.Fragment,{children:t?.images?null:(0,s.jsx)(bd,{title:(0,S.t)("internal_profile.profile_image_nudge.title"),text:(0,S.t)("internal_profile.profile_image_nudge.text"),action:(0,s.jsx)(tL.$n,{variant:"link",onClick:()=>{r((0,ny.X)({entity:e.user,entityType:nb.ck.CURRENT_USER,shape:"CIRCLE"})),(0,H.Cu)({trackingContext:r9.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})},children:(0,S.tx)("internal_profile.profile_image_nudge.action")})})})}var bu=r(912610);function bm(e){let t=(0,bu.i8)(e.publishedPlugins),r=(0,bu.LH)((0,bu.ky)(t,e.userId),e.org),a=Object.keys(r).map(e=>r[e]),i=(0,tj.LN)(a);return 0===i.length?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,S.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})}),(0,s.jsxs)("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6",children:[i.map(e=>(0,s.jsx)(fi.cS,{pluginId:e.id,showInstallCount:!0,viewContext:"UserOrgResources"},`plugin-${e.id}`)),(0,s.jsx)(fi.hT,{numResources:i.length})]})]})}function b_(e){let{org:t}=e,r=(0,n.d4)(r=>(t&&t.id&&r.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?(0,s.jsx)(bn,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:r}):(0,s.jsx)(bi,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let bp={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!1,moveFile:!0,pinToWorkspace:!1},bf=e=>{let t=e.user.id,r=(0,n.wA)(),a=(0,n.d4)(e=>e.selectedView),d=e.orgUser&&e.orgUser.org_id,c=(0,n.d4)(e=>e.currentUserOrgId),{Sprig:u}=(0,t5.A)(),m=void 0===d?c:d,_=(0,n.d4)(e=>m&&e.orgById[m]||null),p=(0,l.kc)().xr_debounce_threshold&&_,x="user"===a.view?a.userViewTab:void 0;i.useEffect(()=>{r((0,tC.ES)({type:h6.E}))},[r,x]);let g=(0,n.d4)(e=>e.userFlags);i.useEffect(()=>{g.seen_profile||r(eF.b({seen_profile:!0}))},[r,g.seen_profile]);let h=(0,n.d4)(e=>e.tileSortFilterStateByView.user),{recentFilesResult:b,isFetchingNextPage:v,loadNextPage:y}=function({userId:e,currentOrgId:t,editorTypeFilter:r}){let a={action:"edit",userId:e,firstPageSize:55,sortOrder:"DESC"},[s]=(0,f.IT)(r?eY.RwZ.Query({...a,_editorTypeRaw:r}):eY.F8N.Query(a)),n=i.useMemo(()=>s.transform(e=>e.userPublic?"paginatedRecentFilesByEditorType"in e.userPublic?e.userPublic.paginatedRecentFilesByEditorType:e.userPublic.paginatedRecentFiles:null),[s]);return{recentFilesResult:i.useMemo(()=>n.transform(e=>{let r=[];for(let a of e??[])null===a.file||a.file.parentOrgId!==t||a.file.isDraftFile||null!==a.file.trashedAt||r.push({key:a.file.key,name:a.file.name,timestamp:a.actionAt.getTime()/1e3,editor_type:a.file.editorType,folder_name:a.file.project?.name||"",folder_id:a.file.folderId,team_id:a.file.teamId,team_name:a.file.team?.name||"",thumbnail_url:a.file.signedThumbnailUrl,client_meta:a.file.clientMeta,thumbnail_guid:a.file.thumbnailGuid||null,edit_url:a.file.editUrl,source_file_name:a.file.sourceFile?.name||null,has_file_link_password:!!a.file.hasFileLinkPassword,link_access:a.file.linkAccess});return r}),[n,t]),isFetchingNextPage:i.useMemo(()=>n.transform(e=>e?.isLoadingNextPage??!1).unwrapOr(!1),[n]),loadNextPage:i.useCallback(()=>{n.data?.loadNext(55)},[n])}}({userId:t,currentOrgId:m,editorTypeFilter:(0,iW.Gv)(h.filters.fileType)}),j=(0,h1.J)(()=>_&&_.community_profile_id?r(h5.pZ({profileId:_.community_profile_id})):Promise.resolve([]),[r,_]),w="user"===a.view&&a.userViewTab===nH.o.INTERNAL_PROFILE_POSTS?nH.o.INTERNAL_PROFILE_POSTS:nH.o.INTERNAL_PROFILE,T=x===nH.o.INTERNAL_PROFILE?[(0,s.jsx)("div",{className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-",children:(0,s.jsx)(u8.ye,{config:h})},"sort-filter")]:[],[E,I,N]=nU.t.useManagedTabs({[nH.o.INTERNAL_PROFILE]:!0,[nH.o.INTERNAL_PROFILE_POSTS]:!0},w,e=>{r(eR.sf({view:"user",userId:t,userViewTab:e}))}),k=(0,s.jsx)(cV.f,{leftSide:p?(0,s.jsxs)(nU.t.TabStrip,{manager:N,children:[(0,s.jsx)(nU.t.Tab,{...E[nH.o.INTERNAL_PROFILE],children:(0,S.t)("internal_profile.file_contributions")},nH.o.INTERNAL_PROFILE),(0,s.jsx)(nU.t.Tab,{...E[nH.o.INTERNAL_PROFILE_POSTS],children:(0,S.t)("internal_profile.posts")},nH.o.INTERNAL_PROFILE_POSTS)]}):(0,s.jsx)("h2",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,S.tx)("internal_profile.file_contributions")}),rightSide:T}),C=i.useCallback((e,t,s)=>{mX({tile:e,index:s,dispatch:r,selectedView:a,isListView:!1,sprig:u})},[a,r,u]),{showing:A,show:R,data:O}=(0,od.L)(),P=i.useCallback((e,t,r)=>{R({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[R]),L=i.useMemo(()=>b.transform(e=>e.map(e=>(function(e){let t={...e,name:e.source_file_name?e.source_file_name+": "+e.name:e.name,description:null,created_at:"",url:"",creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,has_proto_link_password:!1,license:null,proto_link_access:null,touched_at:new Date(1e3*e.timestamp).toString(),prototype_url:"",updated_at:"",file_repo_id:null,source_file_key:null,is_try_file:!1};return(0,rw.fA)(t)})(e))),[b]);return(0,r7.T8)((0,s.jsx)(ne.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:!e.userNotInPlan&&(0,s.jsxs)("div",{className:"internal_user_profile_page_view--content--X0lTp",children:[(0,s.jsx)("div",{className:"internal_user_profile_page_view--viewbar--eprew",children:k}),x===nH.o.INTERNAL_PROFILE&&(j.status===h2.r.SUCCESS&&"loaded"===b.status?(0,s.jsxs)(s.Fragment,{children:[_&&(0,s.jsx)(bm,{userId:t,org:_,publishedPlugins:j.value}),(0,s.jsxs)(eo.P,{children:[(0,s.jsx)(mv.B,{onShouldFetchNextPage:y,isFetchingNextPage:v,children:(0,s.jsx)(mE.d,{items:L.data??[],handleOpenTile:C,handleOpenDropdown:P,sortConfig:h.sort,viewType:iW.XU.GRID,gridContainerStyle:bg.grid,sortBy:o.lQ})},`${h.filters.fileType}-${h.sort.key}-${h.sort.dir}`),(()=>{let e=O?.tile??null;return(0,s.jsx)(r7.fu,{name:r9.e0.TILES_VIEW_DROP_DOWN,enabled:A,properties:{tileType:e?.type,tileFileId:e?.type===rw.nb.FILE?e?.file.key:void 0},children:(0,s.jsx)(oc.i,{tileActions:bp,selectedTiles:e?[e]:[],tile:e,openTile:()=>{e?.type===rw.nb.FILE&&(0,ry.Tq)({dispatch:r,fileResult:e.file,sprig:u})},dropdownVisible:A})})})()]})]}):(0,s.jsx)(en.qc,{})),x===nH.o.INTERNAL_PROFILE_POSTS&&_&&(0,s.jsx)(uX,{currentOrgId:_.id,selectedUser:e.user})]}),metaContent:(0,s.jsx)(b_,{user:e.user,recents:b,org:_,orgUser:e.orgUser})}),r9.e0.USER_DETAILS,{view:"org_user",userId:t})};function bx(e){return(0,s.jsx)(bf,{user:e.user,orgUser:e.orgUser,userNotInPlan:e.userNotInPlan},e.user.id)}let bg={grid:{kpe85a:"x1m2p0i2",kE3dHu:"x163pfp",kZCmMZ:null,kwRFfy:null,kGO01o:"x1gan7if",$$css:!0}},bh=(e,t,r)=>e&&e.id===r?Promise.resolve(e):pa.k.getUser({userId:r}).then(e=>e.data.meta).catch(e=>{throw t(a4.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),bb=(e,t,r)=>r?e(fZ.I1({orgId:r,userId:t,allowNoOrgUser:!0})):Promise.resolve(null),bv={[nH.o.INTERNAL_PROFILE]:{Component:bx},[nH.o.INTERNAL_PROFILE_POSTS]:{Component:bx},[nH.o.PLUGINS]:{Component:i.Fragment}};function by(e){return(0,s.jsx)(e.component,{...e.context})}function bj(e){let t=(0,n.wA)(),r=(0,Q.iZ)(),a=e.orgId,i=(0,n.d4)(e=>e.currentUserOrgId),l=void 0===a?i:a,d=(0,eK.T5)("UserPageView").unwrapOr(null),c=(0,h1.J)(()=>Promise.all([bh(r,t,e.userId),bb(t,e.userId,l)]).then(([r,a])=>(l&&!a&&t(tl.F.enqueue({type:"org_user_not_found",message:d?.name?(0,S.t)("org_user_actions.org_user_not_found",{userHandle:r.handle,planName:d.name}):(0,S.t)("org_user_actions.org_user_not_found_without_plan_name",{userHandle:r.handle}),error:!0,onDismiss:o.lQ})),(0,ry.hL)(r.handle),{userNotInPlan:!!(l&&!a),userId:e.userId,user:r,orgUser:a,profileHandle:r.community_profile_handle||null,on404Redirect:a?()=>{t(eR.sf({view:"user",userId:e.userId,orgId:l,userViewTab:nH.o.INTERNAL_PROFILE}))}:()=>{u.Ay.redirect("/404")}})),[t,r,l,e.userId,d]),{tab:m}=e;if(!m)return null;let{Component:_}=bv[m];return(0,s.jsx)(h4.x,{className:"user_page_view--loadingContainer--vr9Zb",state:c,failure:void 0,children:t=>(0,s.jsx)(by,{component:_,tab:m,userId:e.userId,context:t})})}function bw({workspaceId:e}){let t=(0,K.sZ)(),r=(0,Z.P)(t.id,e);return"loaded"!==r.status?null:"Unassigned"===r.data?(0,s.jsx)(oV.A5,{children:(0,s.jsx)(bE,{org:t,workspaceId:e})}):(0,s.jsx)(oV.A5,{children:(0,s.jsx)(bT,{org:t,workspaceId:e,workspace:r.data})})}function bT({org:e,workspaceId:t,workspace:r}){let a=ip(r);return(0,s.jsx)(bE,{org:e,workspaceId:t,parentBackgroundColor:a})}function bE({org:e,workspaceId:t,parentBackgroundColor:r}){let a=(0,n.wA)();return(0,s.jsx)(oV.jT,{text:e.name,parentBackgroundColor:r,onClick:r=>{a(eR.sf({view:"org",orgId:e.id,orgViewTab:tF.X.HOME})),(0,H.Cu)({clickedResourceType:"org",clickedResourceId:e.id,currentResource:t,orgId:e.id})}})}function bI({showingFileBrowserLoader:e}){let t=(0,eO._6)();i.useEffect(()=>{(0,H.o5)(t)},[t]);let r=function(){let e=(0,n.wA)(),t=(0,Q.Pc)(),r=(0,K.dq)(),a=(0,eO._6)(),o=(0,aM.cD)(),l=(0,K.sZ)(),d=(0,n.d4)(e=>e.search),c=function(){let e=eS({project:"drafts"});return i.useCallback(({from:t})=>e?[(0,s.jsx)(xZ,{from:t},t)]:[],[e])}();switch(a.view){case"resourceHub":return{pageHeaderContent:(0,s.jsx)(uj,{}),pageContent:(0,s.jsx)(um,{})};case"deletedFiles":return{pageHeaderTitle:(0,S.t)("file_browser.tool_bar.trash"),pageContent:(0,r7.T8)((0,s.jsx)(_l,{selectedTab:_o.FILES},"trashed"),r9.e0.FILE_BROWSER,{view:"trashed"})};case"litmus":if(!(0,uT.OF)())return null;if("projects"===a.subView)return{pageHeaderContent:"Litmus",pageContent:(0,s.jsx)(uw.A,{})};case"trashedFolders":return{pageHeaderTitle:(0,S.t)("file_browser.tool_bar.trash"),pageContent:(0,r7.T8)((0,s.jsx)(_l,{selectedTab:_o.FOLDERS},"trashed"),r9.e0.FILE_BROWSER,{view:"trashed"})};case"draftsToMove":return{pageHeaderTitle:(0,S.t)("file_browser.tool_bar.drafts_to_move"),pageContent:(0,s.jsx)(pE,{},"draftsToMove")};case"folder":if(a.folderId===t?.drafts_folder_id)return{pageHeaderTitle:(0,S.t)("file_browser.tool_bar.drafts"),pageHeaderActions:c({from:o7.f6.FILE_BROWSER_TOPBAR_DRAFTS}),pageContent:(0,r7.T8)((0,s.jsx)(_6,{folderId:a.folderId,userId:t.id},"drafts"),r9.e0.FILE_BROWSER_DRAFTS,{orgId:r,teamId:o}),pageWrapper:(0,s.jsx)(pA,{},"file-browser-drop-zone-drafts")};return{pageContent:(0,r7.T8)((0,s.jsx)(fY,{folderId:a.folderId},`folder-${a.folderId}`),r9.e0.FOLDER_PAGE,{orgId:r,teamId:o,folderId:a.folderId}),pageHeaderContent:(0,s.jsx)(pG,{folderId:a.folderId}),pageHeaderDividerHidden:!0,pageWrapper:(0,s.jsx)(pP,{folderId:a.folderId},`folder-drop-zone-${a.folderId}`)};case"workspace":switch(a.subView){case te.V0.ADMIN:return{pageHeaderContent:(0,s.jsx)(bw,{workspaceId:a.workspaceId}),pageHeaderDividerHidden:!0,pageContent:(0,r7.T8)((0,s.jsx)(R.y$,{workspaceId:a.workspaceId,selectedTab:a.selectedTab}),r9.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:a.workspaceId,workspaceViewTab:a.selectedTab})};case te.V0.DIRECTORY:return{pageHeaderContent:(0,s.jsx)(bw,{workspaceId:a.workspaceId??null}),pageHeaderDividerHidden:!0,pageContent:(0,r7.T8)(a.workspaceId?(0,s.jsx)(oG,{workspaceId:a.workspaceId},a.workspaceId):(0,s.jsx)(nl,{}),r9.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:a.workspaceId,workspaceGroupViewTab:a.selectedTab})};default:(0,I.xb)(a)}case"licenseGroup":if(a.subView===e9.GN.ADMIN)return{pageContent:(0,r7.T8)((0,s.jsx)(R.VY,{licenseGroupId:a.licenseGroupId,selectedTab:a.selectedTab}),r9.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:a.licenseGroupId,licenseGroupViewTab:a.selectedTab})};(0,I.xb)(a);case"org":return{pageHeaderTitle:l?(0,s.jsx)(af,{}):void 0,pageHeaderActions:[(0,s.jsx)(fX,{orgId:a.orgId},"org-page-header-actions")],pageContent:(0,r7.T8)((0,s.jsx)(xC,{orgId:a.orgId,selectedTab:a.orgViewTab}),r9.e0.ORG_PAGE,{orgId:a.orgId,orgViewTab:(a.orgViewTab===tF.X.HOME?"HOME":a.orgViewTab)||""})};case"orgAdminSettings":let u=(0,C.aO)(a.orgAdminSettingsViewTab,a.orgAdminSettingsViewSecondaryTab,{showResourceConnectionInviteModal:!!a.showResourceConnectionInviteModal,showResourceConnectionFlyout:!!a.showResourceConnectionFlyout,isEnterpriseOrg:l?.tier===eU.Ag.ENTERPRISE,isK12Org:!!l?.k12_google_org});return{pageContent:(0,r7.T8)((0,s.jsx)(R.vW,{selectedTab:a.orgAdminSettingsViewTab,selectedSecondaryTab:u,selectedExtensionId:a.selectedExtensionId,selectedWorkspaceId:a.selectedWorkspaceId,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),r9.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:r,orgViewTab:a.orgAdminSettingsViewTab||"dashboard",source:a.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:u})};case"abandonedDraftFiles":return{pageContent:(0,r7.T8)((0,s.jsx)(R.dZ,{abandonedDraftFolderId:a.abandonedDraftFolderId,planType:a.adminPlanType,planId:a.planId}),r9.e0.ABANDONED_DRAFTS_PAGE,a.adminPlanType===o8.O.ORG?{orgId:a.planId}:{teamId:a.planId})};case"orgDomainManagement":let m=(0,s.jsxs)(oV.A5,{children:[(0,s.jsx)(oV.J5,{text:(0,S.t)("general.admin"),onClick:()=>{e(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.DASHBOARD}))},hasTrailingDivider:!0}),(0,s.jsx)(oV.J5,{text:(0,S.t)("org_dashboard.settings"),onClick:()=>{e(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.SETTINGS}))},hasTrailingDivider:!1})]});return{pageContent:(0,r7.T8)((0,s.jsx)(R.Oe,{}),r9.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:r}),pageHeaderContent:m};case"billingGroupDashboard":return{pageContent:(0,r7.T8)((0,s.jsx)(R.wu,{selectedTab:a.selectedTab}),r9.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:r,orgViewTab:a.selectedTab})};case"recentsAndSharing":let _=c({from:o7.f6.FILE_BROWSER_TOPBAR_RECENTS});return{pageHeaderTitle:(0,S.t)("file_browser.tool_bar.recents"),pageHeaderActions:_,pageContent:(0,r7.T8)((0,s.jsx)(hj,{userId:t.id,accountModalTab:a.accountModalTab,emailPolicyToUnsubscribeFrom:a.emailPolicyToUnsubscribeFrom}),r9.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:r?r9.qo.ORG:r9.qo.PERSONAL}),pageWrapper:(0,s.jsx)(pA,{},"file-browser-drop-zone-recents-and-sharing")};case"resourceUnavailable":return{pageContent:(0,s.jsx)(nd.S,{resourceType:a.resourceType})};case"search":{let{searchScope:e,query:t}=d.parameters,r=!g.Ay.mobile;return{pageHeaderTitle:(0,s.jsx)(bN,{query:t}),pageContent:(0,r7.T8)((0,s.jsx)(o6,{}),r9.e0.UNIFIED_SEARCH,{showInternalModal:r&&e!==oq.Rx.COMMUNITY,showCommunityModal:r&&e===oq.Rx.COMMUNITY}),pageHeaderActions:c({from:o7.f6.FILE_BROWSER_TOPBAR_SEARCH})}}case"seatRequests":return{pageContent:(0,r7.T8)((0,s.jsx)(O.m,{}),r9.e0.SEAT_REQUESTS_PAGE,{orgId:r,teamId:o,planType:a.adminPlanType})};case"limitedTeamSharedProjects":return{pageContent:(0,s.jsx)(fK,{})};case"team":{let e=a.teamViewTab??eQ.A$.HOME;return{pageContent:(0,r7.T8)((0,s.jsx)(hZ,{teamId:a.teamId,selectedTab:e,upgradeModalType:a.upgradeModalType,showProOnboardingModal:a.isProUpgrade,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal},`team-${a.teamId}`),r9.e0.TEAM_PAGE,{teamId:a.teamId,userSpace:r?r9.qo.ORG:r9.qo.PERSONAL,orgId:r}),pageHeaderContent:(0,s.jsx)(hT,{teamId:a.teamId}),pageHeaderDividerHidden:!0}}case"teamAdminConsole":{let e=a.teamAdminConsoleViewTab??(a.isProTeam?eQ.Iv.DASHBOARD:eQ.Iv.MEMBERS),t=(0,A.X$)(e,a.teamAdminConsoleViewSecondaryTab,{showResourceConnectionInviteModal:!!a.showResourceConnectionInviteModal,showResourceConnectionFlyout:!!a.showResourceConnectionFlyout});return{pageContent:(0,r7.T8)((0,s.jsx)(R.JC,{teamId:a.teamId,selectedTab:e,selectedSecondaryTab:t,showResourceConnectionInviteModal:a.showResourceConnectionInviteModal,showResourceConnectionFlyout:a.showResourceConnectionFlyout}),r9.e0.TEAM_ADMIN_PAGE,{teamId:a.teamId,teamAdminConsoleViewTab:e,teamAdminConsoleViewSecondaryTab:t})}}case"teamFeed":return{pageHeaderContent:(0,s.jsx)(oV.A5,{children:(0,s.jsx)(oV.J5,{text:(0,S.t)("fig_feed.feed"),onClick:()=>{e(eR.sf({view:"teamFeed"}))},hasTrailingDivider:!1})}),pageContent:(0,s.jsx)(bS,{postUuid:a.postUuid,creatorId:a.creatorId})};case"user":return{pageHeaderTitle:(0,S.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===a.userId?[(0,s.jsx)(xO,{},"viewCommunityProfileAction")]:void 0,pageContent:(0,s.jsx)(bj,{userId:a.userId,tab:a.userViewTab,orgId:a.orgId})};case"orgIdpManagement":let p=(0,s.jsxs)(oV.A5,{children:[(0,s.jsx)(oV.J5,{text:(0,S.t)("general.admin"),onClick:()=>{e(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.DASHBOARD}))},hasTrailingDivider:!0}),(0,s.jsx)(oV.J5,{text:(0,S.t)("org_dashboard.settings"),onClick:()=>{e(eR.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:eJ.J7.SETTINGS}))},hasTrailingDivider:!1})]});return{pageContent:(0,r7.T8)((0,s.jsx)(R.T3,{}),r9.e0.ORG_IDP_MANAGEMENT_PAGE,{orgId:r}),pageHeaderContent:p};default:return null}}();if(!r)return null;let{pageContent:a,pageWrapper:o}=r,l=r.pageHeaderContent?{pageHeaderContent:r.pageHeaderContent}:{pageHeaderTitle:r.pageHeaderTitle},d=(0,s.jsx)(_u,{children:(0,s.jsx)(iT,{showingFileBrowserLoader:e,pageHeaderActions:r.pageHeaderActions,pageHeaderDividerHidden:r.pageHeaderDividerHidden,...l,children:a})});return o?i.cloneElement(o,{children:d}):d}function bN(e){return e.query?(0,s.jsxs)("div",{className:N.s.flex.columnGap8.$,children:[(0,s.jsx)("span",{className:N.s.flexShrink0.$,children:(0,s.jsx)(k.E,{color:"secondary",children:(0,S.tx)("search.search_results_for")})}),(0,s.jsxs)("div",{className:N.s.flex.fontMedium.minW0.$,children:["\u201C",(0,s.jsx)(k.E,{truncate:!0,children:e.query}),"\u201D"]})]}):(0,s.jsx)("div",{className:N.s.flex.columnGap8.$,children:(0,s.jsx)("span",{className:N.s.flexShrink0.$,children:(0,s.jsx)(k.E,{color:"secondary",children:(0,S.tx)("search.search_results")})})})}function bS(e){return(0,o3.w)()?(0,s.jsx)(u6,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var bk=r(248785),bC=r(614735),bA=r(13543),bR=r(186180),bO=r(218662),bP=r(432135),bL=r(411224),bF=r(984887);let bD="add_collaborators--emailListItem--dnvC-";function bM({selectedView:e}){let[t,r]=i.useState(["","",""]),a=(0,n.d4)(t=>t.teams[e.teamId]),o=(0,n.d4)(e=>e.teamCreation),l=(0,n.d4)(e=>e.payment),d=(0,n.wA)(),c=i.useCallback(()=>{a&&d(eR.sf({view:"team",teamId:a.id}))},[d,a]),u=i.useCallback((e,a)=>{if(a>=t.length)return;let s=[...t];s[a]=e,r(s)},[t]),m=i.useCallback(()=>{r([...t,""])},[t]),_=i.useCallback(()=>{let e=!!o.isEduTeam;l.promo?d(bP.g_({teamId:a.id,teamName:a.name,previousView:{view:"team",teamId:a.id}})):e?d(d9.Vm({teamId:a.id,showBreadcrumbs:!0})):d(eR.sf({view:"teamUpgrade",teamFlowType:s3.SC.UPGRADE_EXISTING_TEAM,teamId:a.id,paymentStep:bF.Vv.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:a.id},planType:s3.Sc.TEAM,entryPoint:0}))},[d,a,l.promo,o.isEduTeam]),p=i.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),f=i.useCallback(()=>{d((0,bL.rq)({emails:p(),resourceType:eU.vt.TEAM,resourceIdOrKey:a.id,level:fB.e6.EDITOR,teamId:a.id,onSuccess:()=>{d(pW.r1({loading:!1})),_()}}))},[p,a,_,d]);return(0,s.jsx)(r7.fu,{name:"Add Collaborators",properties:{teamId:a?.id},children:(0,s.jsx)("div",{children:(0,s.jsxs)(bA.O,{menu:(0,s.jsx)(bC.X,{onClick:c,children:(0,s.jsx)(r3.B,{svg:u4.A,className:"add_collaborators--modalCloseX--sJGp5"})}),children:[(0,s.jsx)(bO.J,{index:2}),(0,s.jsx)(bR.JR,{children:(0,S.tx)("team_creation.add_your_collaborators")}),(0,s.jsx)(bR.Kh,{children:(0,S.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")}),(0,s.jsxs)("div",{className:"add_collaborators--formContainer--zTKXv",children:[(0,s.jsx)("div",{className:"add_collaborators--emailInputsContainer--19ZBc",children:t.map((e,t)=>(0,s.jsx)(ae.il,{className:bD,value:e,onChange:e=>u(e.target.value,t),maxLength:255,placeholder:(0,S.t)("team_creation.email")},`collaborator-email-input-${t}`))}),(0,s.jsx)(ae.nR,{className:bD,onClick:m,children:(0,S.tx)("team_creation.add_another")}),(0,s.jsx)("div",{className:"add_collaborators--spacing--2VA7s"}),(0,s.jsxs)("div",{className:"add_collaborators--ctaContainer--VGMvb",children:[(0,s.jsx)(ae.nD,{disabled:0===p().length,onClick:f,trackingProperties:{numCollaborators:p().length},children:(0,S.tx)("team_creation.continue")}),(0,s.jsx)(ae.Ph,{onClick:_,trusted:!0,children:(0,S.tx)("team_creation.skip_for_now")})]})]})]})})})}var bU=r(52498),bB=r(586398),bG=r(381636),bW=r(627806),bz=r(145028),bV=r(868475),bH=r(458609);let b$=["folder","team","search","recentsAndSharing"];function bq(){let e=(0,n.d4)(e=>e.autosave),t=(0,eO._6)(),r=(0,bB.yZ)(),{unsyncedFiles:a,localUnsyncedFiles:i}=(0,_x.Gg)();return!r||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(a.length>0||i.length>0)&&b$.includes(t.view)?(0,s.jsx)(bK,{unsyncedFiles:a,localUnsyncedFiles:i}):null}let bY=!1;function bK(e){let t=(0,n.wA)();i.useEffect(()=>{let e=()=>{t(bW.Jw())};return bV.hp.register(bV.a,e),function(){bV.hp.unregister(bV.a,e),t(tC.ES({type:bG.EO.type}))}},[t]);let r=(0,eO._6)(),[a,o]=i.useState(!1);i.useEffect(()=>{bY||(bY=!0,(0,bU.Mw)()),a||(o(!0),(0,sM.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:r.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,a,r]);let l=(0,Q.iZ)(),d=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===d.length||!l)return(0,s.jsx)(s.Fragment,{});let c=d.length>1,m=d[0],_=(0,bz.y8)(m)?m.file.name:m.name,p=_.length>40?_.substring(0,40)+"\u2026":_,f=c?(0,S.t)("autosave.notification.message.more_than_one_file"):(0,S.t)("autosave.notification.message.one_file",{fileName:p}),x=c?(0,S.tx)("autosave.notification.action_review"):(0,S.tx)("autosave.notification.action_open_to_sync");return(0,s.jsxs)("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L",children:[(0,s.jsx)(r3.B,{className:"autosave_notification--icon--uvtXB",svg:bH.A,width:"24",height:"24"}),(0,s.jsx)("div",{className:"autosave_notification--message--yAhFz",children:f}),(0,s.jsxs)("div",{className:"autosave_notification--actions--dk-yq",children:[(0,s.jsx)("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{c?t(tC.to({type:bG.EO})):(0,bz.y8)(m)?u.Ay.redirect((0,rg.r1)(om.F.toLiveGraph(m.file),!0),"_blank"):t(mI.NA({file:m,openNewFileIn:o7.ai.NEW_TAB,source:mA.U.AUTOSAVE_NOTIFICATION}))},children:x}),(0,s.jsx)("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,sM.sx)("Autosave Notification Snooze",{files:d.length,firstFile:m.fileKey}),t(bW.zE(Date.now()))},children:(0,S.tx)("autosave.notification.action_later")})]})]})}var bJ=r(728770),bQ=r(751084),bX=r(958273),bZ=r(751983),b0=r(370444);function b1(){let e=(0,eO._6)(),t=function(){let e=(0,p.Rs)((0,eY.cBX)({})),[t]=(0,bQ.m)([e]),r=t.currentUser?.teamRoles;if(!r?.length)return null;let a=r.find(({team:e})=>e&&null===e.subscription&&!e.orgId);return a?.team??null}(),r="purchasePro"===e.view?e.entryPoint:void 0,a="purchasePro"===e.view?e.isNewUser:void 0,s=(0,bZ.C)(r,a),n=(0,b0.E)({openInNewTab:!1,entryPoint:r}),o=!1;return"purchasePro"===e.view&&t?.id&&a&&(o=s()),i.useEffect(()=>{"purchasePro"===e.view&&t?.id&&a&&o&&n({isOrgUpgrade:!1,teamId:t.id})},[e.view,o,t?.id,n,a]),"purchasePro"!==e.view||t&&a&&o||u.Ay.redirect("/files/recent"),null}function b4(){return(0,s.jsx)(bX.n,{boundaryKey:"PurchaseProfessionalRouteHandler",team:U.e.UPGRADES,errorFallback:()=>(u.Ay.redirect("/files/recent"),(0,s.jsx)(s.Fragment,{})),loadingFallback:(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d",children:(0,s.jsx)(nc.k,{})}),children:(0,s.jsx)(b1,{})})}let b2="team-org-access-dropdown";function b5(e){let t=(0,n.wA)(),r=e.dropdownShown&&e.dropdownShown.type===b2;return(0,s.jsxs)("div",{className:"team_org_access_dropdown--orgAccess--JAIwP",children:[(0,s.jsxs)("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),r?t(eR.oB()):t(eR.j7({type:b2}))},children:[(0,eE.ZP)()[e.orgAccess],(0,s.jsx)(r3.B,{svg:al.A,className:"team_org_access_dropdown--downCaret--INuva"})]}),r&&(0,s.jsx)("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn",children:(0,s.jsxs)(nS.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm",children:[(0,s.jsx)(nS.MM,{checked:e.orgAccess===eU.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(eU.bU.PUBLIC)},children:(0,eE.ZP)()[eU.bU.PUBLIC]}),(0,s.jsx)(nS.MM,{checked:e.orgAccess===eU.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(eU.bU.PRIVATE)},children:(0,eE.ZP)()[eU.bU.PRIVATE]}),(0,s.jsx)(nS.MM,{checked:e.orgAccess===eU.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(eU.bU.SECRET)},children:(0,eE.ZP)()[eU.bU.SECRET]})]})})]})}let b6="team_creation--createTeamText--VjY8f";function b3({currentTeamId:e,currentUserOrgId:t,user:r,selectedView:a,dropdownShown:o,teamCreation:l,orgById:d}){var c;let m=(0,n.wA)(),[_,p]=(0,i.useState)(null),[f,x]=(0,i.useState)(eU.bU.PUBLIC),g=a.ignoreCurrentPlan,h=t&&!g?d[t]:null,b=!e&&!t,v=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(v.current)for(let e=0;e<v.current.elements.length;e++){let t=v.current.elements[e];if(!t.value){t.focus();break}}t&&!g&&(0,sM.sx)("team_creation_started",{user_id:r?.id??"",org_id:t})},[t,r,g]);let y=e=>{e.preventDefault(),e.stopPropagation(),_?(m((0,fU.KQ)({teamName:_,orgAccess:f,dontRedirect:!!a.onSubmitReturnToPrevView,ignoreCurrentPlan:g})),a.onSubmitReturnToPrevView&&m(eR.sf((0,u.Gl)()||{view:"recentsAndSharing"}))):m(a4.s.error((0,S.t)("team_creation.your_team_name_cannot_be_empty")))},j=!(t&&!g)&&!a.onSubmitReturnToPrevView,w=b?null:(0,s.jsx)(bC.X,{onClick:()=>{m(eR.sf((0,u.Gl)()||{view:"recentsAndSharing"}))},children:(0,s.jsx)(r3.B,{svg:u4.A,className:"team_creation--modalCloseX--TTg32"})});return(0,s.jsx)(r7.fu,{name:"Team Creation",children:(0,s.jsx)("div",{children:(0,s.jsxs)(bA.O,{menu:w,children:[j&&(0,s.jsx)(bO.J,{index:1}),(0,s.jsxs)("form",{ref:v,onSubmit:y,children:[(0,s.jsx)(bR.JR,{children:(0,S.tx)("team_creation.create_a_team_title")}),(0,s.jsxs)("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU",children:[(0,s.jsxs)("div",{className:"team_creation--teamNameContainer--B6Pc3",children:[(0,s.jsx)("div",{className:"team_creation--teamNameLabel--ohZWy",children:(0,S.tx)("team_creation.team_name_label")}),(0,s.jsx)(ae.il,{value:_||"",onChange:e=>{p(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,S.t)("team_creation.team_name_input_placeholder")})]}),h?(0,s.jsxs)("div",{className:"team_creation--orgTeamSettings--bDW2R",children:[(0,s.jsxs)("div",{className:N.s.flex.$,children:[(0,s.jsx)("div",{className:N.s.fontSemiBold.$,children:(0,S.tx)("team_creation.access_within_the_organization")}),(0,s.jsx)(b5,{orgAccess:f,dropdownShown:o,onChangeOrgAccess:e=>{x(e)}})]}),(0,s.jsx)("div",{className:b6,children:(c=h.name,{[eU.bU.PUBLIC]:(0,S.tx)("org_access_strings.public.description_with_org_name",{orgName:c}),[eU.bU.PRIVATE]:(0,S.tx)("org_access_strings.closed.description_with_org_name",{orgName:c}),[eU.bU.SECRET]:(0,S.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:(0,s.jsx)("span",{className:N.s.fontSemiBold.$,children:(0,S.tx)("org_access_strings.secret.description.disclaimer_label")}),orgName:c})})[f]})]}):(0,s.jsx)("div",{className:b6,children:(0,S.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")}),(0,s.jsx)(ae.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:l.loading,onClick:y,children:(0,S.tx)("team_creation.create_team_button")})]})]})]})})})}function b7({selectedView:e}){let t=(0,n.wA)(),r=(0,K.dq)(),a=(0,n.d4)(e=>e.orgById),i=(0,Q.iZ)(),o=(0,n.d4)(e=>e.currentTeamId),l=(0,iG.Um)(),d=(0,n.d4)(e=>e.teamCreation);return(0,eE.R$)(i,r)?(u.Ay.redirect("/"),t(a4.s.error((0,S.t)("team_creation.missing_team_creation_controls"))),null):(0,s.jsx)(b3,{currentTeamId:o,currentUserOrgId:r,user:i,dropdownShown:l,teamCreation:d,orgById:a,selectedView:e})}let b8="team_restore--page--cMEe2",b9="team_restore--section--AmfWe",ve="team_restore--button--C-gOz";function vt({selectedView:e}){let t,r;let a=(0,n.wA)(),[o,l]=i.useState(!1),d=e.teamId,c=(0,n.d4)(e=>e.teams[d]);i.useEffect(()=>{l(!0),a5.$.getDeleted({teamId:d}).then(({data:e})=>{a(pW.bE({team:e.meta})),l(!1)}).catch(e=>{400!==e.status&&(a(eR.sf({view:"recentsAndSharing"})),a(a4.s.error(`${e.data.message}`))),l(!1)})},[a,d]);let u=()=>{a(eR.sf({view:"recentsAndSharing"}))},m=(0,s.jsx)(ae.vd,{className:ve,onClick:u,children:(0,S.tx)("team_restore.back")});if(c){if(c.deleted_at){let e=(0,eu.A)(c.deleted_at).add(28,"days").toDate();t=(0,S.t)("team_restore.confirm_restore_header",{teamName:c.name}),r=(0,s.jsxs)("div",{children:[(0,S.tx)("team_restore.confirm_restore"),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,S.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})]}),m=(0,s.jsx)(ae.vd,{className:ve,onClick:()=>{a(pW.I9({teamId:d}))},children:(0,S.tx)("team_restore.restore")})}else t=(0,S.t)("team_restore.ineligible"),r=(0,S.t)("team_restore.questions_contact_support",{supportEmail:(0,oK.W4)()})}else{if(o)return(0,s.jsx)("div",{className:b8,children:(0,s.jsx)("div",{className:b9,children:(0,s.jsx)(en.kt,{})})});t=(0,S.t)("team_restore.expired_header"),r=(0,s.jsxs)("div",{children:[(0,S.tx)("team_restore.expired"),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,S.tx)("team_restore.questions_contact_support",{supportEmail:(0,oK.W4)()})]})}return(0,s.jsx)(r7.fu,{name:"Team Restore",properties:{teamId:d},children:(0,s.jsx)(bA.O,{menu:(0,s.jsx)(r3.B,{svg:u4.A,onClick:u,className:"team_restore--modalCloseX--XNErW"}),children:(0,s.jsx)("div",{className:b8,children:(0,s.jsxs)("div",{className:b9,children:[(0,s.jsx)("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd",children:t}),(0,s.jsx)("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd",children:r}),m]})})})})}var vr=r(525980),va=r(424356),vs=r(900215),vi=r(412469),vn=(e=>(e.MOST_POPULAR="MOST_POPULAR",e.RECOMMENDED="RECOMMENDED",e.MOST_VALUED="MOST_VALUED",e))(vn||{});let vo={MOST_POPULAR:()=>(0,S.t)("plan_comparison.plans.most_popular"),RECOMMENDED:()=>(0,S.t)("plan_comparison.plans.recommended"),MOST_VALUED:()=>(0,S.t)("plan_comparison.plans.most_valued")},vl={name:()=>(0,S.t)("plan_details.professional"),description:()=>(0,S.t)("plan_comparison.plans.pro.description"),buttonText:()=>(0,S.t)("plan_comparison.plans.pro.choose_button"),hasAnnualOnlyMessage:!1,highlightBadgeText:vo.MOST_POPULAR,canContactSales:!1,trackingDescriptor:e_.c.UPGRADE_TO_PROFESSIONAL},vd={[eU.Ag.STARTER]:{name:()=>(0,S.t)("plan_details.starter"),description:()=>(0,S.t)("plan_comparison.plans.starter.description"),buttonText:()=>(0,S.t)("plan_comparison.plans.starter.choose_button"),canContactSales:!1,hasAnnualOnlyMessage:!1,trackingDescriptor:void 0},[eU.Ag.PRO]:{...vl},[eU.Ag.ORG]:{name:()=>(0,S.t)("plan_details.organization"),description:()=>(0,S.t)("plan_comparison.plans.org.description"),buttonText:()=>(0,S.t)("plan_comparison.plans.org.choose_button"),highlightBadgeText:e=>vo[e](),canContactSales:!0,hasAnnualOnlyMessage:!0,trackingDescriptor:e_.c.UPGRADE_TO_ORGANIZATION},[eU.Ag.ENTERPRISE]:{name:()=>(0,S.t)("plan_details.enterprise"),description:()=>(0,S.t)("plan_comparison.plans.ent.description"),buttonText:()=>(0,S.t)("plan_comparison.plans.ent.choose_button"),canContactSales:!1,hasAnnualOnlyMessage:!0,trackingDescriptor:e_.c.CONTACT_SALES},[eU.Ag.STUDENT]:{...vl,additionalMessage:()=>(0,S.t)("plan_details.free_for_students_and_educators"),trackingDescriptor:e_.c.UPGRADE_TO_EDUCATION}},vc=[eU.Ag.STARTER,eU.Ag.PRO,eU.Ag.ORG],vu=[eU.Ag.STARTER,eU.Ag.STUDENT,eU.Ag.ORG],vm=[eU.Ag.PRO,eU.Ag.ORG,eU.Ag.ENTERPRISE];var v_=(e=>(e.USAGE_LIMITS="usage-limits",e.USAGE_LIMITS_V2="usage-limits-v2",e.VERSION_HISTORY="version-history",e.LIBRARIES="libraries",e.SHARED_LIBRARIES="shared-libraries",e.CUSTOM_PERMISSIONS="custom-permissions",e.AUDIO_CONVERSATIONS="audio-conversations",e.SECURITY="security",e.DESIGN_SYSTEM_ANALYTICS="design-system-analytics",e.CUSTOM_TEMPLATES="custom-templates",e.UNIFIED_ADMIN_AND_BILLING="unified-admin-and-billing",e.BRANCHING_AND_MERGING="branching-and-merging",e.SINGLE_SIGN_ON="single-sign-on",e.WORKSPACES="workspaces",e.GUEST_ACCESS_CONTROLS="guest-access-controls",e.ONBOARDING="onboarding",e.ADVANCED_PROTOTYPING="advanced-prototyping",e.ADVANCED_INSPECTION="advanced-inspection",e.CODEGEN_LANGUAGES="codegen-languages",e.ANNOTATIONS_AND_STATUS="annotations-and-status",e.COMPARE_CHANGES="compare-changes",e.PLUGINS_AND_EXTENSIONS="plugins-and-extensions",e.PRIVATE_PLUGINS="private-plugins",e.DEV_MODE="dev-mode",e.VIDEO_IN_PROTOTYPE="video-in-prototype",e.PROJECT_AND_TEAM_TRANSFER="project-and-team-transfer",e.PRIVATE_PROJECTS="private-projects",e.PROTOTYPE_SHARING_PERMISSIONS="prototype-sharing-permissions",e.DESIGN_SYSTEM_MODES="design-system-modes",e.PASSWORD_PROTECTION="password-protection",e.DEFAULT_ROLES="default-roles",e.OPEN_SESSIONS="open-sessions",e.VOTING="voting",e.CUSTOM_TEMPLATES_V2="custom-templates-v2",e.CUSTOM_COLOR_PALETTES="custom-color-palettes",e.SHARED_FONTS="shared-fonts",e.CENTRALIZED_ADMIN="centralized-admin",e.DOMAIN_CAPTURE="domain-capture",e.LINK_ACCESS_CONTROL="link-access-control",e.CENTRALIZED_CONTENT_MANAGEMENT="centralized-content-management",e.ACTIVITY_LOGS="activity-logs",e.PLUGIN_WIDGET_MANAGEMENT="plugin-widget-management",e.DEV_MODE_V2="dev-mode-v2",e.AUDIO_CONVERSATIONS_V2="audio-conversations-v2",e.DESIGN_SYSTEM_ANALYTICS_V2="design-system-analytics-v2",e.SINGLE_SIGN_ON_V2="single-sign-on-v2",e.PRIVATE_PLUGINS_V2="private-plugins-v2",e))(v_||{});let vp=["usage-limits","version-history","libraries","custom-permissions","dev-mode","audio-conversations","security","design-system-analytics","custom-templates"],vf=["usage-limits-v2","shared-libraries","dev-mode","unified-admin-and-billing","branching-and-merging","design-system-analytics","single-sign-on","workspaces","guest-access-controls","onboarding"],vx=["usage-limits","advanced-inspection","codegen-languages","annotations-and-status","compare-changes","plugins-and-extensions","private-plugins"],vg={"usage-limits":()=>(0,S.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,S.t)("plan_comparison.chart.usage_limits_v2.unlimited"),"version-history":!0,libraries:()=>(0,S.t)("plan_comparison.chart.libraries.team_wide"),"shared-libraries":()=>(0,S.t)("plan_comparison.chart.libraries.team_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!1,"design-system-analytics":!1,"custom-templates":!1,"unified-admin-and-billing":!1,"branching-and-merging":!1,"single-sign-on":!1,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!1,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!1,"custom-color-palettes":!1,"shared-fonts":!1,"centralized-admin":!1,"domain-capture":!1,"link-access-control":!1,"centralized-content-management":!1,"activity-logs":!1,"plugin-widget-management":!1,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!1,"single-sign-on-v2":!1,"private-plugins-v2":!1},vh={[eU.Ag.STARTER]:{"usage-limits":()=>(0,S.t)("plan_comparison.chart.usage_limits_limited_pages.starter",{maxFreeFiles:sT.WW,maxFreeProjects:sT.Wf}),"usage-limits-v2":!1,"version-history":()=>(0,S.t)("plan_comparison.chart.version_history.starter"),libraries:!1,"shared-libraries":!1,"custom-permissions":!1,"audio-conversations":!1,security:!1,"design-system-analytics":!1,"custom-templates":!1,"unified-admin-and-billing":!1,"branching-and-merging":!1,"single-sign-on":!1,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!1,"advanced-inspection":!1,"codegen-languages":!1,"annotations-and-status":!1,"compare-changes":!1,"plugins-and-extensions":!1,"private-plugins":!1,"dev-mode":!1,"video-in-prototype":!1,"project-and-team-transfer":!1,"private-projects":!1,"prototype-sharing-permissions":!1,"design-system-modes":!1,"password-protection":!1,"default-roles":!1,"open-sessions":!1,voting:!1,"custom-templates-v2":!1,"custom-color-palettes":!1,"shared-fonts":!1,"centralized-admin":!1,"domain-capture":!1,"link-access-control":!1,"centralized-content-management":!1,"activity-logs":!1,"plugin-widget-management":!1,"dev-mode-v2":!1,"audio-conversations-v2":!1,"design-system-analytics-v2":!1,"single-sign-on-v2":!1,"private-plugins-v2":!1},[eU.Ag.PRO]:vg,[eU.Ag.STUDENT]:vg,[eU.Ag.ORG]:{"usage-limits":()=>(0,S.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,S.t)("plan_comparison.chart.usage_limits_v2.unlimited_teams"),"version-history":!0,libraries:()=>(0,S.t)("plan_comparison.chart.libraries.org_wide"),"shared-libraries":()=>(0,S.t)("plan_comparison.chart.shared_libraries.organization_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!0,"design-system-analytics":!0,"custom-templates":!0,"unified-admin-and-billing":!0,"branching-and-merging":!0,"single-sign-on":!0,workspaces:!1,"guest-access-controls":!1,onboarding:!1,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!0,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!0,"custom-color-palettes":!0,"shared-fonts":!0,"centralized-admin":!0,"domain-capture":!0,"link-access-control":!0,"centralized-content-management":!0,"activity-logs":!0,"plugin-widget-management":!0,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!0,"single-sign-on-v2":!0,"private-plugins-v2":!0},[eU.Ag.ENTERPRISE]:{"usage-limits":()=>(0,S.t)("plan_comparison.chart.usage_limits.unlimited"),"usage-limits-v2":()=>(0,S.t)("plan_comparison.chart.usage_limits_v2.unlimited_teams"),"version-history":!0,libraries:()=>(0,S.t)("plan_comparison.chart.shared_libraries.company_wide"),"shared-libraries":()=>(0,S.t)("plan_comparison.chart.shared_libraries.company_wide"),"custom-permissions":!0,"audio-conversations":!0,security:!0,"design-system-analytics":!0,"custom-templates":!0,"unified-admin-and-billing":!0,"branching-and-merging":!0,"single-sign-on":!0,workspaces:!0,"guest-access-controls":!0,onboarding:!0,"advanced-prototyping":!0,"advanced-inspection":!0,"codegen-languages":!0,"annotations-and-status":!0,"compare-changes":!0,"plugins-and-extensions":!0,"private-plugins":!0,"dev-mode":!0,"video-in-prototype":!0,"project-and-team-transfer":!0,"private-projects":!0,"prototype-sharing-permissions":!0,"design-system-modes":!0,"password-protection":!0,"default-roles":!0,"open-sessions":!0,voting:!0,"custom-templates-v2":!0,"custom-color-palettes":!0,"shared-fonts":!0,"centralized-admin":!0,"domain-capture":!0,"link-access-control":!0,"centralized-content-management":!0,"activity-logs":!0,"plugin-widget-management":!0,"dev-mode-v2":!0,"audio-conversations-v2":!0,"design-system-analytics-v2":!0,"single-sign-on-v2":!0,"private-plugins-v2":!0}};function vb({currentPlan:e,setCurrentPlan:t}){let r=r=>{let a=r.currentTarget.id;(0,sM.sx)("Toggled Billing Display",{prevDisplay:e,newDisplay:a}),t(a)};return(0,s.jsxs)("div",{className:"billing_toggle--container--X2E7D",children:[(0,s.jsx)(vv,{id:bF.R$.MONTHLY,selected:e===bF.R$.MONTHLY,onClick:r,children:(0,S.tx)("plan_comparison.billing_toggle.monthly_billing")}),(0,s.jsx)(vv,{id:bF.R$.ANNUAL,selected:e===bF.R$.ANNUAL,onClick:r,children:(0,S.tx)("plan_comparison.billing_toggle.yearly_billing",{saveMessage:(0,s.jsx)("strong",{className:"billing_toggle--saveMessage--OSfKi",children:(0,S.tx)("plan_comparison.billing_toggle.yearly_billing_save_message",{saveAmount:40})})})})]})}function vv({id:e,children:t,selected:r,onClick:a}){return(0,s.jsx)("button",{role:"tab",id:e,className:G()("billing_toggle--toggle--SK77Z",{"billing_toggle--toggle__selected---odLE":r}),"aria-selected":r,"aria-controls":`${e}-tab`,onClick:a,children:t})}var vy=r(819851),vj=r(560201);let vw=(0,vj.ex)("plan_comparison_feature_custom_color_palettes",function(){let e=(0,s.jsx)("span",{className:N.s.colorTextFigjam.fontMedium.$,children:(0,S.t)("plan_comparison.chart.callout.figjam_board")});return(0,s.jsx)("div",{className:N.s.alignCenter.$,children:(0,S.tx)("plan_comparison.chart.custom_color_palettes.details_with_callout",{figJamCallout:e})})}),vT=(0,vj.ex)("plan_comparison_feature_custom_templates",function(){let e=(0,s.jsx)("span",{className:N.s.colorTextFigjam.fontMedium.$,children:(0,S.t)("plan_comparison.chart.callout.figjam")});return(0,s.jsx)("div",{className:N.s.alignCenter.$,children:(0,S.tx)("plan_comparison.chart.custom_templates_v2.details_with_callout",{figJamCallout:e})})}),vE=(0,vj.ex)("plan_comparison_feature_open_sessions",function(){let e=(0,s.jsx)("span",{className:N.s.colorTextFigjam.fontMedium.$,children:(0,S.t)("plan_comparison.chart.callout.figjam_board")});return(0,s.jsx)("div",{className:N.s.alignCenter.$,children:(0,S.tx)("plan_comparison.chart.open_sessions.details_with_callout",{figJamCallout:e})})}),vI=(0,vj.ex)("plan_comparison_feature_voting",function(){let e=(0,s.jsx)("span",{className:N.s.colorTextFigjam.fontMedium.$,children:(0,S.t)("plan_comparison.chart.callout.figjam_board")});return(0,s.jsx)("div",{className:N.s.alignCenter.$,children:(0,S.tx)("plan_comparison.chart.voting.details_with_callout",{figJamCallout:e})})}),vN="Plan comparison chart",vS={[bF.tY.UNSPECIFIED]:bF.R$.ANNUAL,[bF.tY.MONTHLY]:bF.R$.MONTHLY,[bF.tY.ANNUAL]:bF.R$.ANNUAL,[bF.tY.STUDENT]:bF.R$.ANNUAL},vk={[bF.R$.MONTHLY]:bF.tY.MONTHLY,[bF.R$.ANNUAL]:bF.tY.ANNUAL},vC=({overrideHighlightedPlan:e,isProCurrent:t})=>e?"none"===e?null:e:t?eU.Ag.ORG:eU.Ag.PRO,vA=({isProCurrent:e,isStudentUser:t})=>e?vm:t?vu:vc,vR=({isProCurrent:e,featureList:t,shouldShowDevModePlanComparison:r})=>t||(e?vf:r?vx:vp),vO=({isProCurrent:e})=>e?eU.Ag.PRO:eU.Ag.STARTER,vP=({isStudentUser:e,payment:t,subscriptionPlan:r})=>e&&t.billingPeriod===bF.tY.STUDENT?bF.tY.STUDENT:vk[r],vL=e=>{let t=(0,S.tx)("plan_details.see_all_features");return{orderedPlans:vA(e),orderedFeatures:vR(e),currentPlan:vO(e),highlightedPlan:vC(e),billingPeriod:vP(e),seeMoreLinkText:t}},vF={[v_.USAGE_LIMITS]:{id:"Usage limits",name:()=>(0,S.t)("plan_comparison.chart.usage_limits.name"),details:()=>(0,S.t)("plan_comparison.chart.usage_limits.details")},[v_.USAGE_LIMITS_V2]:{id:"Usage limits",name:()=>(0,S.t)("plan_comparison.chart.usage_limits.name"),details:()=>(0,S.t)("plan_comparison.chart.usage_limits.details")},[v_.VERSION_HISTORY]:{id:"Version history",name:()=>(0,S.t)("plan_comparison.chart.version_history.name"),details:()=>(0,S.t)("plan_comparison.chart.version_history.details")},[v_.LIBRARIES]:{id:"Libraries",name:()=>(0,S.t)("plan_comparison.chart.libraries.name"),details:()=>(0,S.t)("plan_comparison.chart.libraries.details")},[v_.SHARED_LIBRARIES]:{id:"Shared libraries",name:()=>(0,S.t)("plan_comparison.chart.shared_libraries.name"),details:()=>(0,S.t)("plan_comparison.chart.shared_libraries.details")},[v_.CUSTOM_PERMISSIONS]:{id:"Custom file and user permissions",name:()=>(0,S.t)("plan_comparison.chart.custom_permissions.name"),details:()=>(0,S.t)("plan_comparison.chart.custom_permissions.details")},[v_.AUDIO_CONVERSATIONS]:{id:"Audio conversations",name:()=>(0,S.t)("plan_comparison.chart.audio_conversations.name"),details:()=>(0,S.t)("plan_comparison.chart.audio_conversations.details")},[v_.SECURITY]:{id:"SSO, advanced security",name:()=>(0,S.t)("plan_comparison.chart.security.name"),details:()=>(0,S.t)("plan_comparison.chart.security.details")},[v_.DESIGN_SYSTEM_ANALYTICS]:{id:"Design system analytics",name:()=>(0,S.t)("plan_comparison.chart.design_system_analytics.name"),details:()=>(0,S.t)("plan_comparison.chart.design_system_analytics.details")},[v_.CUSTOM_TEMPLATES]:{id:"Custom templates",name:()=>(0,S.t)("plan_comparison.chart.custom_templates.name"),details:()=>(0,S.t)("plan_comparison.chart.custom_templates.details")},[v_.UNIFIED_ADMIN_AND_BILLING]:{id:"Unified admin and billing",name:()=>(0,S.t)("plan_comparison.chart.unified_admin_and_billing.name"),details:()=>(0,S.t)("plan_comparison.chart.unified_admin_and_billing.details")},[v_.BRANCHING_AND_MERGING]:{id:"Branching and merging",name:()=>(0,S.t)("plan_comparison.chart.branching_and_merging.name"),details:()=>(0,S.t)("plan_comparison.chart.branching_and_merging.details")},[v_.SINGLE_SIGN_ON]:{id:"Single sign on",name:()=>(0,S.t)("plan_comparison.chart.single_sign_on.name"),details:()=>(0,S.t)("plan_comparison.chart.single_sign_on.details")},[v_.WORKSPACES]:{id:"Workspaces",name:()=>(0,S.t)("plan_comparison.chart.workspaces.name"),details:()=>(0,S.t)("plan_comparison.chart.workspaces.details")},[v_.GUEST_ACCESS_CONTROLS]:{id:"Guest access controls",name:()=>(0,S.t)("plan_comparison.chart.guest_access_controls.name"),details:()=>(0,S.t)("plan_comparison.chart.guest_access_controls.details")},[v_.ONBOARDING]:{id:"Onboarding and account support",name:()=>(0,S.t)("plan_comparison.chart.onboarding.name"),details:()=>(0,S.t)("plan_comparison.chart.onboarding.details")},[v_.ADVANCED_PROTOTYPING]:{id:"Advanced prototyping",name:()=>(0,S.t)("plan_comparison.chart.advanced_prototyping.name"),details:()=>(0,S.t)("plan_comparison.chart.advanced_prototyping.details")},[v_.ADVANCED_INSPECTION]:{id:"Advanced inspection",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.advanced_inspection.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.advanced_inspection.details")},[v_.CODEGEN_LANGUAGES]:{id:"More codegen languages",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.codegen_languages.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.codegen_languages.details")},[v_.ANNOTATIONS_AND_STATUS]:{id:"Annotations and status",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.annotations_and_status.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.annotations_and_status.details")},[v_.COMPARE_CHANGES]:{id:"Compare changes",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.compare_changes.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.compare_changes.details")},[v_.PLUGINS_AND_EXTENSIONS]:{id:"Plugins and extensions",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.plugins_and_extensions.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.plugins_and_extensions.details")},[v_.PRIVATE_PLUGINS]:{id:"Private plugins",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.private_plugins.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.private_plugins.details")},[v_.DEV_MODE]:{id:"Dev Mode",name:()=>(0,S.t)("plan_comparison.chart.dev_mode.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode.details")},[v_.VIDEO_IN_PROTOTYPE]:{id:"Video in Prototypes",name:()=>(0,S.t)("plan_comparison.chart.video_in_prototype.name"),details:()=>(0,S.t)("plan_comparison.chart.video_in_prototype.details")},[v_.PROJECT_AND_TEAM_TRANSFER]:{id:"Project transfer",name:()=>(0,S.t)("plan_comparison.chart.project_transfer.name"),details:()=>(0,S.t)("plan_comparison.chart.project_transfer.details")},[v_.PRIVATE_PROJECTS]:{id:"Private projects",name:()=>(0,S.t)("plan_comparison.chart.private_projects.name"),details:()=>(0,S.t)("plan_comparison.chart.private_projects.details")},[v_.PROTOTYPE_SHARING_PERMISSIONS]:{id:"Prototype sharing permissions",name:()=>(0,S.t)("plan_comparison.chart.prototype_sharing_permissions.name"),details:()=>(0,S.t)("plan_comparison.chart.prototype_sharing_permissions.details")},[v_.DESIGN_SYSTEM_MODES]:{id:"Design system modes",name:()=>(0,S.t)("plan_comparison.chart.design_system_modes.name"),details:()=>(0,S.t)("plan_comparison.chart.design_system_modes.details")},[v_.PASSWORD_PROTECTION]:{id:"Password protection",name:()=>(0,S.t)("plan_comparison.chart.password_protection.name"),details:()=>(0,S.t)("plan_comparison.chart.password_protection.details")},[v_.DEFAULT_ROLES]:{id:"Default roles",name:()=>(0,S.t)("plan_comparison.chart.default_roles.name"),details:()=>(0,S.t)("plan_comparison.chart.default_roles.details")},[v_.OPEN_SESSIONS]:{id:"Open sessions",name:()=>(0,S.t)("plan_comparison.chart.open_sessions.name"),tooltipSpecialKey:vE},[v_.VOTING]:{id:"Voting",name:()=>(0,S.t)("plan_comparison.chart.voting.name"),tooltipSpecialKey:vI},[v_.CUSTOM_TEMPLATES_V2]:{id:"Custom templates",name:()=>(0,S.t)("plan_comparison.chart.custom_templates_v2.name"),tooltipSpecialKey:vT},[v_.CUSTOM_COLOR_PALETTES]:{id:"Custom color palettes",name:()=>(0,S.t)("plan_comparison.chart.custom_color_palettes.name"),tooltipSpecialKey:vw},[v_.SHARED_FONTS]:{id:"Shared fonts",name:()=>(0,S.t)("plan_comparison.chart.shared_fonts.name"),details:()=>(0,S.t)("plan_comparison.chart.shared_fonts.details")},[v_.CENTRALIZED_ADMIN]:{id:"Centralized admin",name:()=>(0,S.t)("plan_comparison.chart.centralized_admin.name"),details:()=>(0,S.t)("plan_comparison.chart.centralized_admin.details")},[v_.DOMAIN_CAPTURE]:{id:"Domain capture",name:()=>(0,S.t)("plan_comparison.chart.domain_capture.name"),details:()=>(0,S.t)("plan_comparison.chart.domain_capture.details")},[v_.LINK_ACCESS_CONTROL]:{id:"Link access control",name:()=>(0,S.t)("plan_comparison.chart.link_access_control.name"),details:()=>(0,S.t)("plan_comparison.chart.link_access_control.details")},[v_.CENTRALIZED_CONTENT_MANAGEMENT]:{id:"Centralized content management",name:()=>(0,S.t)("plan_comparison.chart.centralized_content_management.name"),details:()=>(0,S.t)("plan_comparison.chart.centralized_content_management.details")},[v_.ACTIVITY_LOGS]:{id:"Activity logs",name:()=>(0,S.t)("plan_comparison.chart.activity_logs.name"),details:()=>(0,S.t)("plan_comparison.chart.activity_logs.details")},[v_.PLUGIN_WIDGET_MANAGEMENT]:{id:"Plugin widget management",name:()=>(0,S.t)("plan_comparison.chart.plugin_widget_management.name"),details:()=>(0,S.t)("plan_comparison.chart.plugin_widget_management.details")},[v_.DEV_MODE_V2]:{id:"Dev Mode",name:()=>(0,S.t)("plan_comparison.chart.dev_mode_v2.name"),details:()=>(0,S.t)("plan_comparison.chart.dev_mode_v2.details")},[v_.AUDIO_CONVERSATIONS_V2]:{id:"Audio conversations",name:()=>(0,S.t)("plan_comparison.chart.audio_conversations_v2.name"),details:()=>(0,S.t)("plan_comparison.chart.audio_conversations_v2.details")},[v_.DESIGN_SYSTEM_ANALYTICS_V2]:{id:"Design system analytics",name:()=>(0,S.t)("plan_comparison.chart.design_system_analytics_v2.name"),details:()=>(0,S.t)("plan_comparison.chart.design_system_analytics_v2.details")},[v_.SINGLE_SIGN_ON_V2]:{id:"Single sign on",name:()=>(0,S.t)("plan_comparison.chart.single_sign_on_v2.name"),details:()=>(0,S.t)("plan_comparison.chart.single_sign_on_v2.details")},[v_.PRIVATE_PLUGINS_V2]:{id:"Private plugins",name:()=>(0,S.t)("plan_comparison.chart.private_plugins_v2.name"),details:()=>(0,S.t)("plan_comparison.chart.private_plugins_v2.details")}};function vD(){let e=(0,n.wA)();return(0,s.jsxs)("div",{className:"enterprise_plan_banner--bannerContainer--33XIO","data-testid":"enterprise_plan_banner",children:[(0,s.jsx)("div",{className:"enterprise_plan_banner--bannerIcon--x7Rua",children:(0,s.jsx)(uP.In,{icon:"org-32"})}),(0,s.jsxs)("div",{className:"enterprise_plan_banner--bannerTextContainer--ArcyT",children:[(0,s.jsx)("h2",{className:"enterprise_plan_banner--bannerHeader--p-9bR",children:(0,S.tx)("universal_upgrade.enterpise_plan_banner.banner_header")}),(0,s.jsx)("span",{className:"enterprise_plan_banner--bannerTextBody--MlQOd",children:(0,S.tx)("universal_upgrade.enterpise_plan_banner.banner_body_text")})]}),(0,s.jsx)(ae.tM,{className:"enterprise_plan_banner--contactSalesCTA--WGqtx",onClick:()=>e(tC.to({type:a9.lk,data:{source:se.B.PLAN_COMPARISON}})),trackingProperties:{trackingDescriptor:e_.c.ENTERPRISE_PLAN_BANNER_CONTACT_SALES},children:(0,S.tx)("universal_upgrade.enterpise_plan_banner.contact_sales")})]})}var vM=r(977738),vU=r.n(vM),vB=r(114339),vG=r(817647),vW=r(649693),vz=r(347592),vV=r(608175);let vH="plan_information--button---7EXI";function v$(e){let{name:t,description:r}=vd[e.planTier];return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:N.s.font16.fontSemiBold.flex.flexWrap.itemsCenter.$,children:[t()," ",(0,s.jsx)(vq,{...e})]}),(0,s.jsxs)("p",{className:N.s.mt8.colorTextSecondary.$,children:[r()," ",e.isProCurrent&&e.planTier!==eU.Ag.PRO?(0,S.tx)("plan_comparison.plans.billed_yearly"):null]})]})}function vq({planTier:e,isProCurrent:t,isProTrial:r,isHighlighted:a,overrideHighlightedBadgeText:i,upsellSource:o}){let{highlightBadgeText:l}=vd[e],d=N.s.ml8.fontMedium.font11.colorTextBrand.$,c=(0,n.d4)(e=>e.isFreeUser);if(e===eU.Ag.STARTER){if(o===sl.b.CREATE_NEW_PAID_TEAM&&c)return(0,s.jsx)("strong",{className:N.s.ml8.fontMedium.font11.colorTextSecondary.$,children:(0,S.tx)("plan_comparison.plans.starter.current_plan")})}else if(e===eU.Ag.PRO&&r)return(0,s.jsx)("strong",{className:d,children:(0,s.jsx)(k.E,{children:(0,S.tx)("plan_comparison.plans.current_trial")})});if(a&&l){let e=i?vo[i]():l?.(t?vn.RECOMMENDED:vn.MOST_VALUED);return(0,s.jsx)("strong",{className:d,children:e})}return null}function vY({currentSubscriptionPlan:e,setCurrentSubscriptionPlan:t,currency:r,planTier:a,isCurrentPlan:i,showFullCurrencyFormat:n}){if(i||a===eU.Ag.STARTER)return null;let{hasAnnualOnlyMessage:o}=vd[a];return e!==bF.R$.ANNUAL&&o?(0,s.jsx)("p",{children:(0,S.tx)("plan_comparison.plans.org.annual_only_message",{billingToggle:(0,s.jsx)("button",{"data-testid":"plan-information-toggle-billing",className:"plan_information--annualToggleButton--UnCMk blue_link--blueLink--9rlnd",onClick:()=>t(bF.R$.ANNUAL),children:(0,S.tx)("plan_comparison.plans.button.annual_billing_toggle")})})}):(0,s.jsx)(vK,{currentSubscriptionPlan:e,currency:r,planTier:a,showFullCurrencyFormat:n})}function vK({currentSubscriptionPlan:e,currency:t,planTier:r,showFullCurrencyFormat:a}){let i=[eU.Ag.STUDENT,eU.Ag.PRO,eU.Ag.ORG,eU.Ag.ENTERPRISE].includes(r),n=[eU.Ag.ORG,eU.Ag.ENTERPRISE].includes(r),o=n?vz.Oq:vz.Oq.exclude([vW.ud.DEV_MODE]),l=function(e){switch(e){case eU.Ag.ENTERPRISE:return vV.Ju.ENTERPRISE;case eU.Ag.ORG:return vV.Ju.ORG;case eU.Ag.PRO:case eU.Ag.STUDENT:return vV.Ju.PRO;default:(0,I.xb)(e)}}(r),d=e===bF.R$.ANNUAL?vV.IX.YEAR:vV.IX.MONTH,c=vV.IX.MONTH,u=o.dict(e=>({currency:t,billableProductKey:e,billableProductVariantId:null,tier:l,renewalTerm:d,unit:c})),m=(0,vG.SK)(u,vG.Fq.UPSELL_MODALS),[_]=(0,f.Ad)(m),p=(0,vG.vu)(_),x=new vi.vr(t),g=vU()(p.data,e=>x.formatMoney(e.amount,{showFullFormat:a})),h=N.s.flex.justifyBetween.itemsCenter.gap6.$,b=N.s.fontMedium.font11.colorText.$,v=i3.sx.flex.flexColumn.add({maxWidth:"50%"}).$,y=N.s.fontSemiBold.font16.colorText.$,j=N.s.noWrap.$,w=N.s.noWrap.$;return(0,s.jsxs)("div",{className:"plan_information--priceContainer--vjnZv",children:[(0,s.jsxs)("div",{className:h,"data-testid":"design-price-row",children:[(0,s.jsxs)("div",{style:v,children:[(0,s.jsx)("p",{className:b,children:(0,S.tx)("plan_details.figma")}),i&&(0,s.jsx)("p",{className:w,children:(0,s.jsx)(vB.G,{})})]}),(0,s.jsx)("p",{className:j,children:(0,S.tx)("plan_details.price_editor_mo.seat_rename",{price:(0,s.jsx)("strong",{className:y,children:g[vW.ud.DESIGN]})})})]}),n&&vW.ud.DEV_MODE in g&&(0,s.jsxs)("div",{className:h,"data-testid":"dev-mode-price-row",children:[(0,s.jsx)("div",{style:v,children:(0,s.jsx)("p",{className:b,children:(0,S.tx)("plan_details.dev_mode_only")})}),(0,s.jsx)("p",{className:j,children:(0,S.tx)("plan_details.price_editor_mo.seat_rename",{price:(0,s.jsx)("strong",{className:y,children:g[vW.ud.DEV_MODE]})})})]}),(0,s.jsxs)("div",{className:h,"data-testid":"whiteboard-price-row",children:[(0,s.jsx)("p",{className:b,children:(0,S.tx)("plan_details.fig_jam")}),(0,s.jsx)("p",{className:j,children:(0,S.tx)("plan_details.price_editor_mo.seat_rename",{price:(0,s.jsx)("strong",{className:y,children:g[vW.ud.FIGJAM]})})})]})]})}function vJ({planTier:e,chooseStarterPlan:t,chooseProPlan:r,chooseOrgPlan:a,isCurrentPlan:i,upsellSource:l}){let d=(0,n.wA)(),c=(0,n.d4)(e=>e.teamCreation.loading);if(i&&!t){let t=l===sl.b.CREATE_NEW_PAID_TEAM;return(0,s.jsx)(ae.$$,{className:vH,"data-testid":`plan-information-${e}-button`,"data-tooltip":t?(0,S.t)("plan_comparison.plans.starter.you_already_have_a_starter_team"):void 0,"data-tooltip-max-width":200,"data-tooltip-offset-y":-8,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-type":r8.Ib.TEXT,disabled:!0,onClick:o.lQ,style:i3.sx.wFull.h32.$,children:t?(0,S.tx)("plan_comparison.plans.starter.limit_reached"):(0,S.tx)("plan_comparison.plans.button.current_plan")})}let{buttonText:u,trackingDescriptor:m}=vd[e],_=i&&!!t||e===eU.Ag.ENTERPRISE,p=e===eU.Ag.STARTER&&l===sl.b.CREATE_NEW_PAID_TEAM&&c,f={[eU.Ag.STARTER]:t??o.lQ,[eU.Ag.PRO]:r,[eU.Ag.ORG]:a,[eU.Ag.STUDENT]:r,[eU.Ag.ENTERPRISE]:()=>d(tC.to({type:a9.lk,data:{source:se.B.PLAN_COMPARISON}}))},x=_?ae.tM:ae.vd;return(0,s.jsx)(x,{style:i3.sx.wFull.h32.$,className:vH,onClick:f[e],disabled:p,"data-testid":`plan-information-${e}-button`,trackingProperties:{trackingDescriptor:m,upsellSource:l},children:function({planTier:e,upsellSource:t,buttonText:r}){return(e===eU.Ag.PRO||e===eU.Ag.STUDENT)&&t===sl.b.CREATE_NEW_PAID_TEAM?(0,S.t)("plan_comparison.plans.pro.choose_professional"):e===eU.Ag.ORG&&t===sl.b.CREATE_NEW_PAID_TEAM?(0,S.t)("plan_comparison.plans.org.choose_organization"):r()}({planTier:e,upsellSource:l,buttonText:u})})}function vQ({planTier:e,withUpgradeExistingTeamOption:t}){let r=(0,n.wA)(),{canContactSales:a,additionalMessage:i}=vd[e];return(0,s.jsxs)("div",{className:N.s.alignCenter.$,children:[a&&(0,s.jsx)("p",{children:(0,S.tx)("plan_comparison.plans.or_contact_sales",{contactSalesLink:(0,s.jsx)(ae.Us,{className:N.s.noWrap.cursorDefault.$,onClick:()=>r(tC.to({type:a9.lk,data:{source:se.B.PLAN_COMPARISON}})),"data-testid":"plan-information-contact-sales",trusted:!0,children:(0,S.tx)("plan_details.contact_sales")})})}),!!t&&(0,s.jsx)("p",{children:(0,s.jsx)(ae.Us,{onClick:t,"data-testid":"plan-information-upgrade-existing",trackingProperties:{trackingDescriptor:e_.c.UPGRADE_EXISTING_TEAM},trusted:!0,children:(0,S.tx)("plan_comparison.plans.pro.upgrade_an_existing_team")})}),i&&(0,s.jsx)("p",{children:i()})]})}let vX="comparison_chart--highlighted--8Inf9",vZ="comparison_chart--planInformationContainer--ZaSLe",v0="comparison_chart--featureContainer--55YGy";var v1=r(871993);function v4({currency:e,chooseStarterPlan:t,chooseProPlan:r,chooseOrgPlan:a,updateCurrency:o,isProTrial:l,upsellSource:d,isProCurrent:c,overrideHighlightedPlan:u,overrideHighlightedBadgeText:m,featureList:_,parentRef:p,withUpgradeExistingTeamOption:f}){let x=(0,n.d4)(e=>e.dropdownShown),g=(0,n.d4)(e=>e.user),h=(0,n.d4)(e=>e.payment),[b,v]=i.useState(h.billingPeriod?vS[h.billingPeriod]:bF.R$.ANNUAL),{highlightedPlan:y,orderedFeatures:j,orderedPlans:w,currentPlan:T,billingPeriod:E,seeMoreLinkText:I}=function({overrideHighlightedPlan:e,featureList:t,isProCurrent:r,subscriptionPlan:a}){let s=(0,vy.m0)(),o=(0,n.d4)(e=>!!e.user&&(0,sv.cn)(e.user)),l=(0,n.d4)(e=>e.payment);return i.useMemo(()=>vL({isProCurrent:r,isStudentUser:o,shouldShowDevModePlanComparison:s,overrideHighlightedPlan:e,featureList:t,payment:l,subscriptionPlan:a}),[r,o,s,e,t,l,a])}({isProCurrent:c,featureList:_,overrideHighlightedPlan:u,subscriptionPlan:b}),S=!c&&(0,sr.Hw)(g),k=function(e){let[t,r]=i.useState(!0),a=i.useCallback(()=>{(0,H.qD)({name:vN,action:"scrolled"})},[]);return(0,i.useEffect)(()=>{let r=e?.current;return r&&(t?r.addEventListener("scroll",a,{once:!0}):r.removeEventListener("scroll",a)),()=>{r?.removeEventListener("scroll",a)}},[e,a,t]),t?(0,s.jsx)(el.a,{onIntersectionChange:({isIntersecting:e})=>{e&&((0,H.qD)({name:vN,action:"bottom_visible"}),r(!1))}}):null}(p);return(0,s.jsx)(r7.fu,{name:vN,properties:{highlightedPlan:y,currentPlan:T},children:(0,s.jsxs)("div",{className:"comparison_chart--container--TQFzy","data-testid":"comparison-chart",children:[!c&&(0,s.jsx)("div",{className:"comparison_chart--billingToggleContainer--yBLn9",children:(0,s.jsx)(vb,{currentPlan:b,setCurrentPlan:e=>{v(e)}})}),(0,vi._Z)()&&(0,s.jsx)("div",{className:"comparison_chart--currencySwitcherContainer--wyBip",children:(0,s.jsx)(vs.D,{currency:e,dropdownShown:x,supportedCurrencies:(0,vi.B9)(),changeCurrency:o,shortFormDisplay:!1})}),(0,s.jsxs)("div",{className:"comparison_chart--tableContainer--qO9-w",role:"tabpanel",id:`${b}-tab`,children:[(0,s.jsxs)("table",{className:"comparison_chart--table--68WLi",children:[(0,s.jsxs)("colgroup",{children:[(0,s.jsx)("col",{span:1}),w.map(e=>(0,s.jsx)("col",{span:1},e))]}),(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:v0}),w.map(e=>(0,s.jsx)("th",{className:G()(vZ,N.s.pt24.pb12.$,{[vX]:e===y}),children:(0,s.jsx)(v$,{planTier:e,isProCurrent:c,isProTrial:l,isHighlighted:e===y,upsellSource:d,overrideHighlightedBadgeText:m})},e))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:v0}),w.map(t=>(0,s.jsx)("th",{className:G()(vZ,N.s.pt12.pb12.$,{[vX]:t===y}),children:(0,s.jsx)(vY,{planTier:t,currency:e,currentSubscriptionPlan:b,setCurrentSubscriptionPlan:v,isCurrentPlan:t===T,showFullCurrencyFormat:"usd"===e&&"cad"===(0,vi.LN)()})},t))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:v0}),w.map(e=>(0,s.jsx)("th",{className:G()(vZ,N.s.pt12.$,{[vX]:e===y}),children:(0,s.jsx)(vJ,{planTier:e,chooseStarterPlan:t,chooseProPlan:()=>r(E),chooseOrgPlan:a,isCurrentPlan:e===T,upsellSource:d})},e))]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:v0}),w.map(e=>(0,s.jsx)("th",{className:G()(vZ,N.s.pt8.pb12.$,{[vX]:e===y}),children:(0,s.jsx)(vQ,{planTier:e,withUpgradeExistingTeamOption:e===eU.Ag.PRO&&f?()=>f(E):void 0})},e))]})]}),(0,s.jsxs)("tbody",{children:[j.map(e=>(0,s.jsx)(v2,{feature:e,orderedPlans:w,highlightedPlan:y},e)),k]})]}),k,(0,s.jsx)(v6,{linkText:I}),S&&(0,s.jsx)(vD,{})]})]})})}function v2({feature:e,orderedPlans:t,highlightedPlan:r}){let[a,n]=i.useState(!1),o=i.useRef(),l=void 0!==vF[e].tooltipSpecialKey,d=l?r8.Ib.SPECIAL:r8.Ib.TEXT,c=l?vF[e].tooltipSpecialKey:vF[e].details?.();return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:v0,"data-tooltip-type":d,"data-tooltip":c,"data-tooltip-show-right":!0,"data-tooltip-show-immediately":!0,"data-tooltip-light-mode":!0,onMouseEnter:()=>{a||(o.current=setTimeout(()=>{n(!0),(0,sM.sx)("Plan Comparison Feature Viewed",{featureName:vF[e].id})},1e3))},onMouseLeave:()=>{clearTimeout(o.current)},children:(0,s.jsx)("p",{className:"comparison_chart--featureName--JQmtJ",children:vF[e].name()})}),t.map(t=>(0,s.jsx)("td",{className:G()("comparison_chart--planFeature--Y4s5T",{[vX]:t===r}),children:(0,s.jsx)(v5,{plan:t,feature:e},t)},t))]})}function v5({plan:e,feature:t}){let r=vh[e][t];return"boolean"==typeof r?r?(0,s.jsx)(r3.B,{svg:v1.A,className:"comparison_chart--featureIcon--KVLwL",title:(0,S.t)("plan_comparison.chart.included")}):null:(0,s.jsx)(s.Fragment,{children:r()})}function v6(e){return(0,s.jsx)(ae.Us,{className:"comparison_chart--allFeaturesLink--XNOLR",href:sT.zZ,target:"_blank",trusted:!0,"data-testid":"comparison-chart-see-all-features-link",children:e.linkText})}function v3(e){let t=(0,Q.iZ)(),[r,a]=i.useState(()=>(0,vi.LN)()),o=sl.b.UPGRADE_NEW_TEAM,l=(0,n.wA)(),d=(0,vr.s)(),c=(t,a)=>{let s=e.selectedView;l(d9.WX({teamId:e.selectedView.teamId,selectedView:s,newTeam:!0,currency:r,billingPeriod:a,entryPoint:(0,ce.c)(aD.C6.UPGRADE_NEW_TEAM)}))},u=null===e.selectedView.teamId?void 0:()=>{let r=t?.id;if(r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};l(E._l({workspace:t,view:{view:"allProjects"}}))}else l(eR.sf({view:"team",teamId:e.selectedView.teamId}))},m=()=>{l(d9.Bq({currency:r,entryPoint:(0,ce.c)(aD.C6.UPGRADE_NEW_TEAM)}))},_=e=>{a(e),l(eR.oB())},p=e.selectedView.teamId,f=i.useRef(null);return(0,s.jsx)(r7.fu,{name:"Upgrade Team",properties:{teamId:p,step:bF.Vv.UPGRADE_NEW_TEAM},children:(0,s.jsx)("div",{className:"legacy_upgrade--teamUpgrade--auGJz",children:(0,s.jsxs)(bA.O,{menu:(0,s.jsx)(bC.X,{onClick:()=>{let r=t?.id,a=e.selectedView.teamId,s={view:"recentsAndSharing"};r&&a?l(E._l({workspace:{userId:r,teamId:a,orgId:null},view:e.selectedView.previousView||s})):l(eR.sf(e.selectedView.previousView||s))},children:(0,s.jsx)(r3.B,{svg:u4.A,className:"legacy_upgrade--closeButton--zJ0JO"})}),pageRef:f,children:[(0,s.jsx)(bO.J,{index:3}),(0,s.jsx)(r7.fu,{name:"Upgrade New Team",properties:{teamId:p,trackingDescriptor:e_.c.UPGRADE_YOUR_TEAM},children:(0,s.jsxs)("div",{className:G()(e.className,"step_upgrade_new_team--container--BixhQ"),children:[(0,s.jsx)(bR.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8",children:(0,s.jsx)("span",{children:(0,S.tx)("plan_details.choose_your_team_plan")})}),d?(0,s.jsx)("div",{className:N.s.mxAuto.$,style:i3.sx.add({width:"1049px"}).$,children:(0,s.jsx)(va.P,{entrypoint:aD.C6.UPGRADE_NEW_TEAM,currency:r,updateCurrency:_,chooseStarterPlan:u,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,hideModalHeader:!0})}):(0,s.jsx)(v4,{currency:r,chooseStarterPlan:u,chooseProPlan:e=>c(null,e),chooseOrgPlan:m,updateCurrency:_,upsellSource:o,parentRef:f})]})})]})})})}var v7=r(504307),v8=r(188220),v9=r(550893),ye=r(886710),yt=r(830534),yr=r(301868),ya=r(226542),ys=r(688009);class yi extends i.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.timer=null,this.controller=new AbortController,this.payload=null,this.fetchScheduledDowntimeInfo=async()=>{let e=this.controller?.signal,t=(0,oK.ck)("011a24693cd9b63ea5492d50d7713dfb7ed18ea6"),r=await fetch(t,{signal:e,cache:"no-cache"}),a=await r.json(),s={finished:a.finished,warningDurationMs:Number(a.warning_ms),notifDurationMs:Number(a.notif_ms),pollIntervalMinutes:Number(a.poll_interval_minutes),downtimeStartDate:new Date(a.timestamp+" UTC"),minLengthMinutes:Number(a.estimated_length_min),maxLengthMinutes:Number(a.estimated_length_max),helpcenterUrl:a.helpcenter_url};return(0,l.kc)().display_downtime_banner_force&&(s.warningDurationMs*=1e3,s.notifDurationMs*=1e3),"hostname"in a&&(s={...s,renderOnHostname:a.hostname}),s},this.onTick=()=>{null!=this.payload&&this.props.dispatch(ya.Z.onTick({payload:this.payload,hostname:window.location.hostname,currentTimeMs:Date.now()}))},this.poll=async()=>{for(;this._isMounted;)try{let e=await this.fetchScheduledDowntimeInfo();this._isMounted&&(this.payload=e,this.timer||(this.onTick(),this.timer=setInterval(this.onTick,3e4)))}catch(e){"AbortError"!==e.name&&console.warn(e)}finally{let e=this.payload&&60*this.payload.pollIntervalMinutes||900;await (0,ye.fm)(1e3*e)}}}componentDidMount(){this._isMounted=!0,this.poll()}componentWillUnmount(){this._isMounted=!1,this.controller?.abort(),this.timer&&clearInterval(this.timer)}render(){return null}}function yn(e){let{dispatch:t,downtime:r}=e,a=i.useCallback(e=>()=>{t(e)},[t]),s=i.useCallback((e,t)=>()=>{u.Ay.unsafeRedirect(e,"_blank"),a(t)},[a]),n=i.useCallback(e=>(0,S.t)("downtime_banner.ongoing.figma_will_be_entering_a_maintenance_period",{minutes:e}),[]),o=i.useMemo(()=>(0,S.t)("downtime_banner.ongoing.currently_undergoing_maintenance"),[]),d=i.useRef(e.notifications),c=i.useCallback(()=>{d.current.length>0&&t(yr.Q.dequeue({type:yt._.DOWNTIME}))},[t,d]);return i.useEffect(()=>{let{payload:e,status:i,hidingDowntimeNotif:d,notifMinutesRemaining:u}=r;if((0,l.kc)().display_downtime_banner){switch(i){case ys.A.Imminent:case ys.A.Warning:if(e&&null!=u&&d!==ys.y.warningHidden){let r=n(u),i=s(e.helpcenterUrl,ya.Z.hideWarningNotif()),o=a(ya.Z.hideWarningNotif());t(yr.Q.dequeue({type:yt._.DOWNTIME})),t(yr.Q.enqueue({notification:{type:yt._.DOWNTIME,message:r,acceptCallback:i,dismissCallback:o}}))}break;case ys.A.Ongoing:if(e&&d!==ys.y.ongoingHidden){let r=s(e.helpcenterUrl,ya.Z.hideOngoingNotif()),i=a(ya.Z.hideOngoingNotif());t(yr.Q.dequeue({type:yt._.DOWNTIME})),t(yr.Q.enqueue({notification:{type:yt._.DOWNTIME,message:o,acceptCallback:r,dismissCallback:i}}))}break;case ys.A.Finished:c()}return()=>{c()}}},[r,t,n,s,a,o,c]),null}yi.displayName="DowntimePoller";var yo=r(677092),yl=r(918830);function yd(){let e=(0,yo.W)();return(0,s.jsx)(yl.Y,{prioritizedBanners:e,location:"file_browser"})}let yc="file_browser_view--filebrowserHtml--v2BLN",yu="file_browser_view--filebrowserBody--6MX2i",ym="file_browser_view--desktop--5VrC1";function y_(){let e=(0,n.wA)(),t=(0,K.dq)(),r=(0,iG.Um)(),a=(0,Q.iZ)(),I=(0,eO._6)(),N=bk.q_.useIsLoading(),k=(0,n.d4)(e=>e.payment),C=(0,n.d4)(e=>e.currentTeamId),A=(0,X.d)(),R=(0,n.d4)(e=>e.downtime),O=(0,n.d4)(e=>e.notifications);!function(){let e=(0,n.Pj)(),t=i.useMemo(()=>(0,v8.g)(),[]),r=(0,p.bc)(eY.__y,{cacheNonce:t});i.useEffect(()=>{if("loaded"===r.status&&r.data.currentUser.assetTransferReload.status===es.tT.Loaded){let t=(0,es.oA)(r.data.currentUser.assetTransferReload);if(!t)return;let a=oK.Ay().user_data?.id,s=e.getState(),i="folder"===s.selectedView.view&&s.selectedView.folderId===t.folderId,n="team"===s.selectedView.view&&s.selectedView.teamId===t.teamId,o="folder"===s.selectedView.view&&s.folders[s.selectedView.folderId],l=o&&o.team_id===t.teamId,d=t.folderId?i:n||l,c={view:"folder",folderId:t.folderId||""},u={view:"team",teamId:t.teamId||"",teamViewTab:eQ.A$.HOME};if(a&&t.userId===a){let r={userId:t.userId,orgId:t.destOrgId},a=t.folderId?c:u;if(d){let s=t.folderId?(0,S.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,S.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(tl.F.enqueue({message:s})),setTimeout(()=>{e.dispatch(E._l({workspace:r,view:a}))},2e3)}else e.dispatch(E.Dj({reason:"asset transfer reload",delay:E.RH.DEFAULT}))}}},[e,r])}(),(0,m.h)(()=>{a&&e(bW.Jw())}),(0,f.IT)((0,v7.XZ)({currentOrgId:t??void 0,currentTeamId:C??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,l.kc)().create_starter_files_from_file_browser&&s3.Gn.includes(I.view)});let[P,L]=i.useState(0),[F,D]=i.useState(0),[M,U]=i.useState(!1);(0,m.h)(()=>(document.body.classList.add(yu),document.documentElement.classList.add(yc),(0,x.$o)(),(0,H.I0)(I,t,C,A),(0,h.hW)("exp_aa_test_file_browser_view").catch(o.lQ),()=>{document.body.classList.remove(yu),document.documentElement.classList.remove(yc),(0,x.$E)(),e(tC.AS())})),i.useEffect(()=>{if(c.eD||(0,d.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(ym),()=>{document.body.classList.remove(ym),document.body.removeChild(e)}}},[]);let B=(0,_.ZC)(I);i.useEffect(()=>{B&&B!==I&&((0,v9.SW)(B,I)&&window.scrollTo(0,0),M?U(!1):(L(F+1),D(F+1)))},[B,I,M,F]),i.useEffect(()=>{"teamCreation"===I.view&&I.fromNewTab&&e(E.Dw({previousView:I.previousView,onSubmitReturnToPrevView:I.onSubmitReturnToPrevView,isEduTeam:I.isEduTeam,ignoreCurrentPlan:!0}))},[I,e]);let G=g.uG;if(!function(){let e=(0,eO._6)(),t=(0,n.wA)(),r=(0,Q.TA)(),a=null;("teamUpgrade"===e.view||"promoReview"===e.view||"eduReview"===e.view)&&(a=e.teamId);let s=(0,p.bc)((0,eY.yY6)(a?{teamId:a}:null)),o=i.useMemo(()=>s.transform(({team:e})=>{if(!e)return!1;let t=!(0,sT.a5)(e)||_b.ng.getProTrialStatusLG(e)===_y.a.IN_TRIAL;return e.canAdmin||e.canEdit&&t}),[s]);i.useEffect(()=>{"loaded"===o.status&&!o.data&&a&&(r?t(E._l({workspace:{userId:r,teamId:a,orgId:null},view:{view:"allProjects"}})):t(eR.sf({view:"team",teamId:a})))},[r,t,o.data,o.status,a])}(),"teamUpgrade"===I.view)return I.paymentStep===bF.Vv.UPGRADE_NEW_TEAM?(0,s.jsx)(v3,{selectedView:I}):(0,l.kc)().cart_rewrite_full_send&&(0,l.kc)().cart_rewrite_pro_flow?(0,s.jsx)(v.v,{teamId:I.teamId,tier:vV.Ju.PRO,currency:k.currency,renewalTerm:(0,sT.ne)(k.billingPeriod),entryPoint:I.entryPoint??0,newUser:I.previousView?.view==="purchasePro"&&I.previousView?.isNewUser}):(0,s.jsx)(y.q,{selectedView:I});if("teamCreation"===I.view)return I.fromNewTab?null:(0,s.jsx)(b7,{selectedView:I});if("addCollaborators"===I.view)return(0,s.jsx)(bM,{selectedView:I});if("orgSelfServe"===I.view)return(0,l.kc)().cart_rewrite_full_send&&(0,l.kc)().cart_rewrite_org_flow?(0,s.jsx)(v.v,{teamId:null,tier:vV.Ju.ORG,orgMigrated:!!I.orgMigrated,currency:k.currency,renewalTerm:bF.NW.YEAR,entryPoint:I.entryPoint}):(0,s.jsx)(j.G,{step:I.step||_v.BK.Initial,initialDesignSeats:I.initialDesignEditors||0,orgMigrated:!!I.orgMigrated,dropdownShown:r,newTeamProps:I.newTeamProps,entryPoint:I.entryPoint});if("purchasePro"===I.view)return(0,s.jsx)(b4,{});if("teamRestore"===I.view)return(0,s.jsx)(vt,{selectedView:I});if("promoReview"===I.view)return(0,s.jsx)(w.z,{promo:k?.promo,selectedView:I});else if("eduReview"===I.view)return(0,s.jsx)(T.w,{selectedView:I});return a?t||C?(0,s.jsxs)(bJ.C.Provider,{value:{goBack:()=>{F>0&&(history.back(),D(F-1),U(!0))},goForward:()=>{F<P&&(history.forward(),D(F+1),U(!0))},canGoBack:F>0,canGoForward:F<P},children:[G&&(0,s.jsx)(b.R,{userIdForTracking:a?.id}),(0,s.jsx)(yd,{}),(0,s.jsx)(yn,{downtime:R,notifications:O,dispatch:e}),(0,s.jsx)(bq,{}),(0,s.jsx)(bI,{showingFileBrowserLoader:N})]}):(console.error("No current organization or team plan set for user. Redirecting to /files"),u.Ay.redirect("/files"),null):(console.error(`Signed out page: unrecognized route ${u.Ay.location.pathname}, redirecting to /`),u.Ay.redirect("/"),null)}},689911:(e,t,r)=>{r.r(t),r.d(t,{FileImportModal:()=>Z,FileRow:()=>ei,ImportModal:()=>ee,fileImportStats:()=>es,getFooterButtons:()=>et,getStatusComponents:()=>er,useCloseTabWarningWhenImportInProgress:()=>el,useCurrentFolderTeam:()=>ea});var a=r(104076),s=r(716976),i=r(237420),n=r(951002),o=r(929302),l=r(950187),d=r(268389),c=r(350205),u=r(833737),m=r(225654),_=r(280005),p=r(812714),f=r(287211);r(120440);var x=r(901014),g=r(633065),h=r(449572),b=r(555013),v=r(397261),y=r(679359),j=r(849757),w=r(236631),T=r(352630),E=r(192075),I=r(659062),N=r(609060),S=r(366535),k=r(244205),C=r(111297),A=r(249586),R=r(571430),O=r(958127),P=r(392243),L=r(788453),F=r(248043),D=r(944350),M=r(59849),U=r(904017),B=r(498726),G=r(287291),W=r(863062),z=r(278151),V=r(103345),H=r(638004),$=r(550209),q=r(145995),Y=r(893393);let K="file_import_modal--scrollContainer--rcZDu";function J(e){let{fileImport:t,onDone:r,onCancel:c}=e,m=o.hS({open:e.open,onClose:e.onClose}),_=(0,i.wA)(),p=es(t),f=0===p.remainingFiles,x=ea(),g=(0,i.d4)(e=>"folder"===e.selectedView.view?e.selectedView.folderId:null),h=Y.M4.Folder.useValue(g).data,[v,T]=(0,s.useState)(q.uf.IMPORTING_FILES);el(v===q.uf.IMPORTING_FILES||v===q.uf.ATTACHING_BRANCH);let I=h?.name||(0,E.t)("file_browser.tool_bar.drafts"),N=v===q.uf.SUCCESS?(0,E.t)("file_browser.file_import_view.imported_to_folder",{folderName:I}):(0,E.t)("file_browser.file_import_view.import_to_folder",{folderName:I}),{statusIcon:S,statusMessage:k,statusMessageSecondary:C}=function(e,t,r){let s=null,i=null,o=null,l=er(e===q.uf.SUCCESS,t,r);switch(e){case q.uf.IMPORTING_FILES:s=l.statusIcon,i=l.statusMessage,o=l.statusMessageSecondary;break;case q.uf.ATTACHING_BRANCH:s=(0,a.jsx)(y.kt,{imageBacked:!0,testId:"loadingSpinner"}),i=(0,E.tx)("file_browser.file_import_view.repo.attaching_branch"),o=(0,a.jsx)("span",{className:w.s.textBodyMedium.$,children:(0,E.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:(0,a.jsx)(b.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink",children:(0,E.tx)("file_browser.file_import_view.open_a_new_tab_link")})})});break;case q.uf.SUCCESS:s=l.statusIcon,i=l.statusMessage,o=l.statusMessageSecondary,t.importedFiles===t.totalFiles&&(i=(0,E.tx)("file_browser.file_import_view.repo.success"),o=(0,E.tx)("file_browser.file_import_view.repo.to_fix_images"));break;case q.uf.ERROR:s=(0,a.jsx)(u.R,{}),i=(0,E.tx)("file_browser.file_import_view.repo.error");break;default:(0,n.xb)(e)}return s&&i?{statusIcon:s,statusMessage:i,statusMessageSecondary:o}:((0,$.$D)(H.e.SCENEGRAPH_AND_SYNC,Error("Missing status in repo import")),{statusIcon:(0,a.jsx)(u.R,{}),statusMessage:(0,E.tx)("file_browser.file_import_view.repo.error"),statusMessageSecondary:null})}(v,p,I),A=et({isImportComplete:f,fileImport:t,onDone:r,team:x,dispatch:_,stats:p,shouldShowMoveToProjectButton:!1,onMoveToProject:()=>{},filesToMove:[],onCancel:c});return(0,s.useEffect)(()=>{if(f){T(q.uf.ATTACHING_BRANCH);let e=Object.values(t.files),r=e.find(e=>e.name.includes("branch tip"))?.fileKey,a=e.find(e=>e.name.includes("branch point"))?.fileKey,s=e.find(e=>e.name.includes("main tip"))?.fileKey;r&&a&&s?(0,q.yA)(r,a,s).then(()=>{T(q.uf.SUCCESS)}).catch(()=>{T(q.uf.ERROR)}):(T(q.uf.ERROR),console.error("Missing branch key, branch point key, or main tip key files"))}},[f,t.files]),(0,a.jsx)(l.bL,{manager:m,width:480,children:(0,a.jsxs)(d.vo,{children:[(0,a.jsx)(d.Y9,{children:(0,a.jsx)(d.hE,{children:N})}),(0,a.jsx)(d.nB,{children:t&&(0,a.jsx)(j.P,{innerClassName:w.s.flex.flexColumn.$,className:K,children:Object.values(t.files).map(e=>(0,a.jsx)(ei,{file:e},`file-import-${e.id}`))})}),(0,a.jsx)(d.wi,{children:(0,a.jsxs)("div",{className:w.s.flex.flexRow.wFull.justifyBetween.py8.gap16.bt1.bSolid.colorBorder.$,children:[(0,a.jsxs)("div",{className:w.s.flex.flexRow.itemsCenter.gap8.$,children:[S&&(0,a.jsx)("div",{className:w.s.flex.itemsCenter.justifyCenter.h32.w32.$,children:S}),k&&(0,a.jsx)("span",{className:w.s.fontSemiBold.$,children:k}),C&&(0,a.jsx)("span",{className:w.s.ml8.$,children:C})]}),(0,a.jsx)("div",{children:A})]})})]})})}var Q=r(838760);let X="import_progress_modal";function Z(){let e=(0,i.wA)(),{fileImport:t}=(0,f.R)(e=>({fileImport:e.fileImport})),r=()=>{e(S.Ce()),e(L.cY())},s=()=>{e(L.yD())},o=()=>{e(L.cY())},l=(()=>{switch(t.step){case G.Y5.CONFIRM_PDF_IMPORT:return(0,a.jsx)(Q.PdfConfirmationModal,{fileImportDescription:(0,E.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:es(t).pdfCount}),onConfirm:t=>{e(L._9(t))},onCancel:()=>{e(L.AU()),s()}});case G.Y5.IMPORT_REPO:return(0,a.jsx)(J,{fileImport:t,onDone:r,onCancel:s,onMoveToProject:o,onClose:()=>e(S.Ce()),open:!0});case G.Y5.START:case G.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case G.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return(0,a.jsx)(ee,{fileImport:t,onDone:r,onCancel:s,onMoveToProject:o});default:(0,n.xb)(t.step)}})();return(0,a.jsx)(C.fu,{name:X,children:l})}function ee({fileImport:e,onDone:t,onCancel:r,onMoveToProject:n}){let c=(0,i.wA)(),u=ea(),m=es(e),_=(0,i.d4)(e=>e.selectedView),p=(0,U.X$)("ImportModal").unwrapOr(null),f=p?.tier!==D.Ag.STARTER,x=0===m.remainingFiles,g=(0,i.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),b=(0,P.Gi)(g),v="recentsAndSharing"===_.view&&_.tab===W.Gw.RECENTLY_VIEWED;el(!x);let y=g?.name||(0,E.t)("file_browser.tool_bar.drafts"),w=x?(0,E.t)("file_browser.file_import_view.imported_to_folder",{folderName:y}):(0,E.t)("file_browser.file_import_view.import_to_folder",{folderName:y}),{statusIcon:T,statusMessage:I,statusMessageSecondary:N}=er(x,m,y),S=f&&(b||v)&&m.importedFiles>=1,C=(0,s.useMemo)(()=>(function(e,t){let r=[];if(!e)return r;for(let e of Object.values(t))e.fileKey&&r.push({fileKey:e.fileKey});return r})(S,e.files),[S,e.files]),R=(0,h.p)(M.NSA,C),O=et({isImportComplete:x,fileImport:e,onDone:t,team:u,dispatch:c,stats:m,shouldShowMoveToProjectButton:S,onMoveToProject:n,filesToMove:(0,s.useMemo)(()=>(function(e){let t=[];for(let r of e){let e=r.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(R),[R]),onCancel:r}),L=o.hS({open:!0,onClose:()=>{(0,A.Cu)({trackingContext:X,trackingDescriptor:k.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}),e.queue.length?r():t()},preventUserClose:!x});return(0,a.jsx)(l.bL,{manager:L,width:480,children:(0,a.jsxs)(d.vo,{children:[(0,a.jsx)(d.Y9,{children:(0,a.jsx)(d.hE,{children:w})}),(0,a.jsx)(d.nB,{padding:0,children:(0,a.jsx)(j.P,{className:"x78zum5 xdt5ytf",className:K,children:Object.values(e.files).map(e=>(0,a.jsx)(ei,{file:e},`file-import-${e.id}`))})}),(0,a.jsxs)(d.wi,{children:[(0,a.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[T,I&&(0,a.jsx)("span",{className:"xkezfkh",children:I}),N&&(0,a.jsx)("span",{className:"xet2fuk",children:N})]}),(0,a.jsx)(d.jk,{children:O})]})]})})}function et({isImportComplete:e,fileImport:t,onDone:r,team:s,dispatch:i,stats:n,shouldShowMoveToProjectButton:o,onMoveToProject:l,filesToMove:d,onCancel:c}){var u;if(!e)return[(0,a.jsx)(T.$z,{variant:"destructive",onClick:c,htmlAttributes:{"data-testid":"cancelButton"},children:(0,E.tx)("file_browser.file_import_view.cancel")},"cancelButton")];if(t.failedOnFileLimit)return[(0,a.jsx)(T.$z,{variant:"primary",onClick:()=>{r(),null!=s&&i((0,S.to)({type:V.DV,data:{team:s,resource:n.hasMakeFile&&!(0,p.kc)().bake_starter_limit?B.Bi.FIGMAKE:B.vL.FILE,action:z.ZN.IMPORT_FILES,editorType:n.editorType,multipleResources:n.failedFiles>1,currentPlan:R.F.Plan.STARTER,upsellPlan:R.F.Plan.PRO,entryPoint:O.C6.FILE_IMPORT_MODAL}}))},htmlAttributes:{"data-testid":"nextButton"},children:(0,E.tx)("file_browser.file_import_view.next")},"nextButton")];let m=[(u=o?"secondary":"primary",(0,a.jsx)(T.$z,{variant:u,onClick:r,htmlAttributes:{"data-testid":"doneButton"},children:(0,E.tx)("file_browser.file_import_view.done")},"doneButton"))];return o&&m.push(function({onMoveToProject:e,filesToMove:t,stats:r,dispatch:s}){return(0,a.jsx)(T.$z,{variant:"primary",onClick:()=>{e(),(0,x.sx)("file_import.move_to_project.button_clicked",{numFiles:r.importedFiles}),1===t.length&&t[0]?(0,N.h)(t[0],null,s,void 0,void 0,void 0,!0):(0,N.O)(t,[],s,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},children:(0,E.tx)("file_browser.file_import_view.move_to_project")},"moveToProjectButton")}({onMoveToProject:l,filesToMove:d,stats:n,dispatch:i})),m}function er(e,t,r){let s=null,i=null,n=null;return e?t.importedFiles===t.totalFiles?(i=(0,a.jsx)("div",{className:w.s.fontSemiBold.inline.$,children:(0,E.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:t.totalFiles,folder:r})}),s=(0,a.jsx)(c.l,{"data-testid":"checkIcon"})):(i=(0,a.jsx)("div",{className:w.s.fontSemiBold.inline.$,children:(0,E.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:t.importedFiles,totalFiles:t.totalFiles,folder:r})}),s=(0,a.jsx)(u.R,{"data-testid":"warningIcon"}),t.canceledFiles>0&&(n=(0,E.tx)("file_browser.file_import_view.file_import_cancel"))):(s=(0,a.jsx)(y.kt,{imageBacked:!0,testId:"loadingSpinner"}),i=(0,E.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:t.processedFiles,totalFiles:t.totalFiles}),n=(0,a.jsx)("span",{className:w.s.textBodyMedium.$,children:(0,E.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:(0,a.jsx)(b.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink",children:(0,E.tx)("file_browser.file_import_view.open_a_new_tab_link")})})})),{statusIcon:s,statusMessage:i,statusMessageSecondary:n}}function ea(){return(0,i.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null})}function es(e){let t=Object.keys(e.files).length,r=e.queue.length,a=0,s=0,i=0,o=0,l=0,d=new Set;for(let t in e.files){let r=e.files[t];if(r){switch(r.status){case G.mO.SUCCESS:case G.mO.WARNING:a++;break;case G.mO.CANCELED:s++;break;case G.mO.FAILURE:i++;break;case G.mO.WAITING:case G.mO.BUSY:o++;break;default:(0,n.xb)(r.status)}(0,G.kI)(r.name)&&l++,d.add((0,G.NU)(r))}}return{totalFiles:t,remainingFiles:r,processedFiles:t-r,importedFiles:a,canceledFiles:s,failedFiles:i,pendingFiles:o,editorType:1===d.size&&Array.from(d)[0]||null,hasMakeFile:d.has(D._Y.FIGMAKE),pdfCount:l}}function ei(e){let{file:t}=e,r=null;return t.status===G.mO.CANCELED?r=(0,E.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(r=Array.isArray(t.message)?t.message.map((e,t)=>(0,a.jsx)("div",{children:e},t)):t.message),(0,a.jsx)(eo,{status:t.status,fileKey:t.fileKey,children:(0,a.jsx)("div",{className:w.s.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$,children:(0,a.jsxs)("div",{className:w.s.flex.gap8.if(r,w.s.itemsStart,w.s.itemsCenter).$,children:[(0,a.jsx)("div",{className:w.s.flex.justifyCenter.h32.w32.itemsCenter.$,children:(0,a.jsx)(en,{file:t})}),(0,a.jsxs)("div",{className:w.s.if(r,w.s.pb6).$,children:[(0,a.jsx)("div",{className:w.s.truncate.lh32.$,style:I.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text",children:t.name}),r&&(0,a.jsxs)("div",{className:w.s.flex.flexColumn.mt4.colorTextSecondary.$,children:[r,t.cta&&(0,a.jsx)(b.Us,{className:w.s.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink",children:t.cta.text})]})]})]})})})}function en({file:e}){switch(e.status){case G.mO.BUSY:case G.mO.WAITING:return(0,a.jsx)(y.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});case G.mO.FAILURE:case G.mO.CANCELED:return(0,a.jsx)(m.X,{"data-testid":"failIcon",className:w.s.colorIconDanger.$});case G.mO.SUCCESS:case G.mO.WARNING:let t=(0,G.NU)(e);return(0,a.jsx)(v.w4,{size:16,type:(0,v.Y8)(t)});default:(0,n.xb)(e.status)}}function eo(e){let{fileKey:t,status:r,children:s}=e;if(r!==G.mO.SUCCESS&&r!==G.mO.WARNING)return s;let i=t?(0,F.jN)({file:{key:t}}):void 0;return i?(0,a.jsxs)(b.Ph,{href:i,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"},children:[s,(0,a.jsx)(_.G,{})]}):s}function el(e){let t=(0,s.useCallback)(e=>{e.preventDefault()},[]);(0,s.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),g.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),g.eD?.setIsImporting(!1)}),[e,t])}},40283:(e,t,r)=>{r.r(t),r.d(t,{FileRestoreFromVersionModal:()=>x});var a=r(104076),s=r(237420),i=r(901014),n=r(555013),o=r(849757),l=r(192075),d=r(619070),c=r(366535),u=r(826160),m=r(837500),_=r(432786);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version,r=function(e){if(e.participating_images_dict){let[t,r]=Object.entries(e.participating_images_dict)[0]||[];if(t)return{name:t,imageUrl:r}}return{name:e.user.handle,imageUrl:e.user.img_url}}(t);return(0,a.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y",children:[(0,a.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF",children:[r&&(0,a.jsx)(u.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:r.imageUrl}}),e.connector&&(0,a.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})]}),(0,a.jsxs)("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ",children:[t.label&&(0,a.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa",children:t.label||""}),t.description&&(0,a.jsx)("div",{className:p,children:t.description}),(0,a.jsx)("div",{className:p,children:(0,a.jsx)(m.Cr,{time:t.touched_at})}),(0,a.jsx)("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C",children:r?.name??""})]}),(0,a.jsx)(n.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0,children:(0,l.tx)("file_restore_from_version_modal.restore")})]})}function x(e){let t=(0,s.wA)(),r=r=>{(0,i.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:r}),t(c.Ce()),t(d.PF({fileKey:e.fig.key,versionId:r,source:d.C0.FILE_BROWSER_MODAL}))},n=e.versions.filter(e=>!e.disabled);return(0,a.jsx)(_.OJ,{title:(0,l.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(c.Lo())},children:(0,a.jsx)("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2",children:(0,a.jsx)(o.P,{width:396,children:n.map((e,t)=>(0,a.jsx)(f,{version:e,callback:()=>r(e.id),connector:t+1!==n.length},e.id))})})})}},437346:(e,t,r)=>{r.d(t,{FolderPageViewOmnicreateDropdown:()=>A});var a=r(104076),s=r(731676),i=r(958251),n=r(951002),o=r(221602),l=r(734477),d=r(944350),c=r(382137),u=r(946996),m=(e=>(e.CAN_CREATE="CAN_CREATE",e.CANNOT_CREATE="CANNOT_CREATE",e.CAN_AUTO_UPGRADE="CAN_AUTO_UPGRADE",e.CAN_REQUEST_UPGRADE="CAN_REQUEST_UPGRADE",e.UPGRADE_PENDING="UPGRADE_PENDING",e))(m||{}),_=r(237420),p=r(574822),f=r(408654),x=r(666931),g=r(716976),h=r(276800),b=r(638004),v=r(550209),y=r(192075),j=r(58212),w=r(260745),T=r(915707),E=r(244205),I=r(111297),N=r(249586),S=r(595596),k=r(392243),C=r(373224);function A({lgFolder:e,newFileFrom:t}){let r=function({lgFolder:e}){let{getUpgradeEligibility:t,hasPendingRequest:r,getUpgradePathway:a}=(0,c.wH)({folderId:e.id});return(0,l.h)(e).map(({editorType:s,canCreate:l})=>{let c=(()=>{if(l)return"CAN_CREATE";if(!function({editorType:e,lgFolder:t}){let r=(0,o.av)(t)[e];if(!r)return!1;if(r.result)return!0;if(!t.canEdit)return!1;let a=r.publicDenyReasons;return 1===a.length&&a[0]===d.QK.FOLDER_CREATE_FILE_DENY_UNLICENSED_USERS}({lgFolder:e,editorType:s}))return"CANNOT_CREATE";let c=(0,i.Ci)(s);if(!c)return"CANNOT_CREATE";let m=t(c),_=r(c);switch(m){case u.q.CAN_UPGRADE:let p=a(c);switch(p){case u.J.AUTO_PATHWAY:case u.J.ADMIN_AUTO_PATHWAY:return"CAN_AUTO_UPGRADE";case u.J.PROVISIONAL_PATHWAY:case u.J.RE_REQUEST_PATHWAY:return _?"UPGRADE_PENDING":"CAN_REQUEST_UPGRADE";default:(0,n.xb)(p)}case u.q.CANNOT_UPGRADE:return _?"UPGRADE_PENDING":"CANNOT_CREATE";case u.q.UPGRADE_NOT_NEEDED:return l?"CAN_CREATE":"CANNOT_CREATE";default:(0,n.xb)(m)}})(),m=(()=>{switch(c){case"CAN_CREATE":case"CAN_AUTO_UPGRADE":case"CAN_REQUEST_UPGRADE":return!1;case"CANNOT_CREATE":case"UPGRADE_PENDING":return!0;default:(0,n.xb)(c)}})();return{editorType:s,fileCreationOptionState:c,isDisabled:m}})}({lgFolder:e}),A=function({newFileFrom:e,lgFolder:t,fileCreationOptions:r}){let a=(0,_.wA)(),s=function({lgFolder:e,newFileFrom:t}){let r=(0,_.wA)(),a=(0,T.E)({isDraftsFolder:(0,k.T9)(e),newFileFrom:t,folderId:e.id}),{properties:s}=(0,I.j6)(),{handleUpgrade:o}=(0,c.wH)({folderId:e.id});return(0,g.useCallback)(({editorType:e,contextClicked:t,fileCreationOptionState:l})=>{let d=function({editorType:e,fileCreationOptionState:t,createFile:r,handleUpgradeBuilder:a,dispatch:s}){switch(t){case m.CAN_CREATE:return r;case m.CANNOT_CREATE:case m.UPGRADE_PENDING:return h.lQ;case m.CAN_AUTO_UPGRADE:case m.CAN_REQUEST_UPGRADE:return n=>(function({event:e,editorType:t,fileCreationOptionState:r,createFile:a,handleUpgradeBuilder:s,dispatch:n}){let o=(0,i.Ci)(t);if(!o){(0,v.$D)(b.e.MONETIZATION_UPGRADES,Error("Editor type has no corresponding license type for file creation upgrade flow"),{extra:{editorType:t,fileCreationOptionState:r}}),n(j.F.enqueue({message:(0,y.t)("general.an_error_occurred"),error:!0}));return}s({afterUpgradeCallback:a,licenseType:o,editorType:t,upgradeReason:C.i.CREATE_FILE,entryPoint:w.tc.CREATE_FILE_PROJECT_VIEW})(e)})({event:n,editorType:e,createFile:r,dispatch:s,fileCreationOptionState:t,handleUpgradeBuilder:a});default:(0,n.xb)(t)}}({fileCreationOptionState:l,createFile:a({editorType:e,contextClicked:t}),handleUpgradeBuilder:o,editorType:e,dispatch:r}),c=function({editorType:e,fileCreationOptionState:t,trackingContextProperties:r}){let a=(0,i.Ci)(e),s=(()=>{switch(t){case m.CAN_CREATE:case m.CANNOT_CREATE:case m.UPGRADE_PENDING:return!1;case m.CAN_AUTO_UPGRADE:case m.CAN_REQUEST_UPGRADE:return!0;default:(0,n.xb)(t)}})();return{...r,trackingDescriptor:E.c.CREATE_FILE,licenseType:a,billableProductKey:a&&(0,S.F2)(a),needsUpgrade:s}}({editorType:e,fileCreationOptionState:l,trackingContextProperties:s});return e=>{(0,N.Cu)(c),d(e)}},[a,s,r,o])}({lgFolder:t,newFileFrom:e});return{newFiles:r.map(({editorType:e,fileCreationOptionState:t,isDisabled:r})=>(0,p.p)({editorType:e,isDisabled:r,isLoading:!1,showRequestLabel:t===m.CAN_REQUEST_UPGRADE,showRequestSentLabel:t===m.UPGRADE_PENDING,onClick:s({editorType:e,contextClicked:(0,f.V)(e),fileCreationOptionState:t})})),import:(0,x.ud)(t)?(0,p.u)({isLoading:!1,dispatch:a}):null}}({lgFolder:e,newFileFrom:t,fileCreationOptions:r}),R=r.filter(e=>e.fileCreationOptionState===m.CAN_REQUEST_UPGRADE).map(e=>(0,i.Ci)(e.editorType)).filter(Boolean).sort().join(",");return(0,a.jsx)(s.a,{menuItems:A,trackingProperties:{requestableLicenseTypes:R,hasRequestableLicenses:!!R}})}},60894:(e,t,r)=>{r.d(t,{S:()=>n,n:()=>o});var a=r(795033);let{useRegisterMenu:s,isOpenAtom:i}=(0,r(209267).K)(),n=()=>(0,a.fp)(i)[0],o=443==r.j?s:null},731676:(e,t,r)=>{r.d(t,{a:()=>h,R:()=>b});var a=r(104076),s=r(237420),i=r(833406),n=r(967276),o=r(307829),l=r(197979),d=r(716976),c=r(684742),u=r(180),m=r(911374);r(120440);var _=r(192075);let p=d.forwardRef(function(e,t){let r=e["aria-expanded"];return(0,a.jsxs)(c.E,{ref:t,...{0:{className:"x78zum5 x167g77z x1iorvi4 xjkvuk6 x163pfp xmzs88n x6s0dn4 x19y5rnk x1tk3asg xwa2v1s xu5wzci x3sfz7g xazsp2l x1roy7tt x14nhee1 xb67q6v xn3n4wp x1swp962 xb3r6kr x1pshirs"},1:{className:"x78zum5 x167g77z x1iorvi4 xjkvuk6 x163pfp xmzs88n x6s0dn4 x19y5rnk x1tk3asg xwa2v1s xb3r6kr x1pshirs xs07v55 xb67q6v"}}[!!(r&&"false"!==r)<<0],...e,children:[(0,a.jsx)(u.$,{"aria-hidden":!0}),(0,a.jsxs)("div",{className:"x78zum5 x1v2ro7d x6s0dn4",children:[(0,_.t)("file_browser.tool_bar.create"),(0,a.jsx)(m.k,{"aria-hidden":!0})]})]})});var f=r(60894);function x({menuItems:e,trackingProperties:t,disabled:r,dataOnboardingKey:s}){let{getTriggerProps:i,manager:n}=o.b();return(0,f.n)(n),(0,a.jsxs)(o.bL,{manager:n,children:[(0,a.jsx)(p,{...i(),disabled:r,"data-onboarding-key":s}),(0,a.jsx)(l.f,{menuItems:e,trackingProperties:t})]})}var g=r(408654);function h(e){let t=(0,g.k)();return(0,i.WX)({markName:"FileCreateEntrypoint",isLoaded:!0}),(0,a.jsx)(x,{...e,disabled:t})}function b({newFileFrom:e,forceOpenNewTab:t,dataOnboardingKey:r}){let i=(0,s.d4)(e=>e.user?.drafts_folder_id),o=(0,n.Q)({newFileFrom:e,forceOpenNewTab:t,folderId:i,contextClicked:"recents_file_creation_thumbnails_created"});return(0,a.jsx)(h,{menuItems:o,dataOnboardingKey:r})}},408654:(e,t,r)=>{r.d(t,{V:()=>o,k:()=>l});var a=r(944350),s=r(176203),i=r(386216),n=r(778612);function o(e){return({[a._Y.DESIGN]:"toolbar_design_created",[a._Y.WHITEBOARD]:"toolbar_figjam_created",[a._Y.SLIDES]:"toolbar_slides_created",[a._Y.SITES]:`toolbar_${s.oQ}_created`,[a._Y.COOPER]:`toolbar_${s.sq}_created`,[a._Y.FIGMAKE]:`toolbar_${s.GJ}_created`})[e]}function l(){let e=(0,n.vt)(),t=(0,i.jn)();return e||t}},838760:(e,t,r)=>{r.r(t),r.d(t,{PdfConfirmationModal:()=>h});var a=r(104076),s=r(716976),i=r(951002),n=r(448897),o=r(929302),l=r(950187),d=r(268389),c=r(368581),u=r(336518),m=r(452981),_=r(266808),p=r(236631),f=r(352630),x=r(192075),g=r(244205);function h({fileImportDescription:e,onConfirm:t,onCancel:r}){let[h,b]=(0,s.useState)(void 0),v=(0,s.useMemo)(()=>{let e=(0,n.U)(_.h62).map(e=>({key:e,value:_.h62[e],label:function(e){switch(e){case _.h62.MIRO:return"Miro";case _.h62.MURAL:return"Mural";case _.h62.LUCID:return"Lucid";case _.h62.JAMBOARD:return"Jamboard";case _.h62.UNKNOWN:return(0,x.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,i.xb)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===_.h62.UNKNOWN?1:t.key===_.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]),y=(0,s.useCallback)(e=>{b(e)},[]),j=(0,s.useCallback)(()=>{h&&t(_.h62[h])},[t,h]),w=o.hS({open:!0,onClose:r,preventUserClose:!0});return(0,a.jsx)(l.bL,{manager:w,width:"fit-content",children:(0,a.jsxs)(d.vo,{children:[(0,a.jsx)(d.Y9,{children:(0,a.jsx)(d.hE,{children:(0,x.t)("file_browser.file_import_view.select_pdf_source_header")})}),(0,a.jsx)(d.nB,{children:(0,a.jsxs)("div",{className:p.s.flex.flexColumn.pt4.gap16.textBodyMedium.$,children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)("form",{className:p.s.mb8.$,children:(0,a.jsx)(c.b,{legend:(0,a.jsx)(u.q,{children:(0,x.tx)("file_browser.file_import_view.select_pdf_source_input_legend")}),value:h,onChange:y,children:v.map(e=>(0,a.jsx)(c.c,{value:e.value,label:(0,a.jsx)(m.J,{className:p.s.textBodyMedium.$,children:e.label}),children:e.key===_.h62.UNKNOWN&&(0,x.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer")},e.key))})})]})}),(0,a.jsx)(d.wi,{children:(0,a.jsxs)(d.jk,{children:[(0,a.jsx)(f.$z,{variant:"secondary",onClick:r,trackingProperties:{trackingDescriptor:g.c.FILE_IMPORT_X_BUTTON,text:"dismiss"},children:(0,x.tx)("modal.cancel")}),(0,a.jsx)(f.$z,{variant:"primary",disabled:!h,onClick:j,children:(0,x.tx)("modal.confirm")})]})})]})})}},915787:(e,t,r)=>{r.r(t),r.d(t,{RevokeProjectTransferModal:()=>f});var a=r(104076),s=r(237420);if(443==r.j)var i=r(929302);if(443==r.j)var n=r(950187);if(443==r.j)var o=r(268389);if(443==r.j)var l=r(293422);var d=r(236631),c=r(192075);if(443==r.j)var u=r(58212);var m=r(366535),_=r(111297),p=r(551553);function f(e){let{pending:t,canRevokeProjectTransfer:r,isTransferTeam:f=!1}=e,x=(0,s.wA)(),g=i.hS({open:e.open,onClose:e.onClose}),h=t.id,b=t.source_user_email,v=t.destination_user_email,y=t.is_transfer_copy,j=()=>{p.S.deleteAssetTransferRequest({id:h}).then(()=>{x(u.F.enqueue({message:(0,c.t)("revoke_transfer_modal.visual_bell.transfer_revoked")}))},e=>{x(u.F.enqueue({message:(0,c.t)("revoke_transfer_modal.visual_bell.something_went_wrong"),error:!0}))})};return(0,a.jsx)(_.fu,{name:"Asset Transfer Revoke Modal",properties:{pendingInviteId:h},children:(0,a.jsx)(n.bL,{manager:g,width:"lg",children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.Y9,{children:(0,a.jsx)(o.hE,{children:(0,c.t)("revoke_transfer_modal.header_title")})}),(0,a.jsxs)(o.nB,{scrolling:"manual",children:[(0,a.jsx)("div",{className:d.s.py8.$,children:f?(0,c.tx)("revoke_transfer_modal.transfer_details_team",{sourceUserEmail:b,destinationUserEmail:v}):y?(0,c.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:b,destinationUserEmail:v}):(0,c.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:b,destinationUserEmail:v})}),(0,a.jsx)("div",{className:d.s.py8.$,children:(0,c.tx)("revoke_transfer_modal.function_explanation")})]}),(0,a.jsx)(o.wi,{children:(0,a.jsxs)(o.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:e.onClose,children:(0,c.t)("revoke_transfer_modal.go_back")}),(0,a.jsx)(l.$n,{variant:"destructive",onClick:()=>{j(),x(m.Lo())},disabled:!r,children:(0,c.t)("revoke_transfer_modal.revoke")})]})})]})})})}},360002:(e,t,r)=>{r.d(t,{f:()=>o});var a=r(104076),s=r(349311),i=r(87535),n=r(954184);function o(e){return(0,a.jsx)(i.Me,{className:"addition_button--button--X9H6b","data-onboarding-key":e.data_onboarding_key,"data-tooltip":e.data_tooltip,"data-tooltip-show-immediately":e.disabled||void 0,"data-tooltip-type":s.Ib.TEXT,disabled:e.disabled,innerText:e.innerText,isBackgroundTransparent:e.isBackgroundTransparent,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,svg:n.A})}},991555:(e,t,r)=>{function a(e,t,r){let a=e.indexOf(t);return -1!==a&&a+r>=0&&a+r<e.length}function s(e,t,r){let a=e.indexOf(t);if(-1===a)return;let s=[...e];return[s[a],s[a+r]]=[s[a+r],s[a]],s}r.d(t,{$:()=>s,K:()=>a})},528684:(e,t,r)=>{r.r(t),r.d(t,{FolderUpdateDescriptionModal:()=>l});var a=r(104076),s=r(237420),i=r(192075),n=r(8748),o=r(797196);function l({folder:e}){let t=(0,s.wA)();return(0,a.jsx)(o.c,{initialName:e.description??"",title:(0,i.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,i.t)("resource_rename_modal.save"),onRename:r=>t(n.ub({folderId:e.id,description:r.trim()})),allowEmptyString:!0,maxLength:200})}},580964:(e,t,r)=>{r.r(t),r.d(t,{FolderCreationModal:()=>et});var a=r(104076),s=r(716976),i=r(237420),n=r(929302),o=r(950187),l=r(268389),d=r(812714),c=r(310725),u=r(449572),m=r(555013),_=r(679359),p=r(352630),f=r(192075),x=r(799303),g=r(8748),h=r(366535),b=r(111297),v=r(332795),y=r(654765),j=r(592726),w=r(760437),T=r(39917),E=r(944350),I=r(59849),N=r(445046),S=r(754039),k=r(643898),C=r(502380),A=r(904017),R=r(584663),O=r(295253),P=r(613936),L=r(465452),F=r(563554),D=r(924561),M=r(795033),U=r(653899),B=r(236631),G=r(422872),W=r(235711),z=r(143277),V=r(61102),H=r(909342),$=r(654200),q=r(441030);let Y=(0,W.r1)("seen_sharing_clarity_project_modal_overlay"),K="sc_project_creation_permission_onboarding_key";function J(){let e=(0,M.md)(Y),{show:t,isShowing:r,complete:s}=(0,G.e)({overlay:q.QpH,priority:z.N.DEFAULT_MODAL},[e]);(0,U.h)(()=>{t({canShow:e=>!e})});let i=(0,a.jsx)("a",{href:"https://help.figma.com/hc/articles/360038006494-Create-a-new-project",className:B.s.colorTextOnbrand.underline.$,children:(0,f.tx)("rcs.sharing_clarity.learn_more")});return(0,a.jsx)(V.rq,{arrowPosition:$.F_.LEFT_TITLE,description:(0,a.jsx)("p",{children:(0,f.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:i})}),disableHighlight:!0,emphasized:!0,isShowing:r,onClose:s,targetKey:K,title:(0,f.tx)("rcs.sharing_clarity.project_creation_permissions_title"),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",zIndex:H.R.MODAL})}var Q=r(59670),X=r(543447),Z=r(342958),ee=r(868833);function et(e){let t=(0,i.wA)(),[r,M]=s.useState(""),[U,B]=s.useState(!1),[G,W]=s.useState(0),z=E.eD.TEAM_ACCESS_EDIT,V=v.h.useTrackingContext({trigger:O.b.FOLDER_CREATION_MODAL}),H=(0,i.d4)(e=>e.contacts),$=(0,i.d4)(e=>e.dropdownShown),q=(0,i.d4)(e=>e.autocomplete),Y=(0,j.iZ)(),et=(0,u.bc)(I.mCn,{teamId:e.teamId}),er=s.useMemo(()=>{if("loading"===et.status||!et.data)return null;let t=et.data.team;if(!t)return null;let r="loaded"===t.workspace.status?t.workspace.data:void 0,a={id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},s=t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,N.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting};return{team:a,plan:t?.plan,org:s||null,workspace:r}},[et,e.teamId]),ea=er&&er.team,es=er&&er.org,ei=(0,A.S2)().transform(e=>e.planRecordId).unwrapOr(null),en=(0,w.y)(ei),eo=(0,T._)(ei),el=es&&es.org_domains?es.org_domains:{domains:[],isFetching:!1,fetchedAt:null},ed=s.useCallback(()=>ea&&ea.sharing_audience_control!==E.PQ.ORG_EDIT&&ea.sharing_audience_control!==E.PQ.ORG_VIEW?ea.sharing_audience_control===E.PQ.WORKSPACE_EDIT||ea.sharing_audience_control===E.PQ.WORKSPACE_VIEW?Q._9.WORKSPACE:Q._9.INVITE_ONLY:Q._9.ORG,[ea]),ec=s.useCallback(()=>ea&&(ea.sharing_audience_control===E.PQ.ORG_EDIT||ea.sharing_audience_control===E.PQ.WORKSPACE_EDIT)?Q.J4.EDIT:Q.J4.VIEW,[ea]),eu=(0,L.Zw)(q),[em,e_]=s.useState(ed()),[ep,ef]=s.useState(ec()),[ex,eg]=s.useState(P.e6.EDITOR),eh=(0,y.Xj)(q.tokens);s.useEffect(()=>{e_(ed()),ef(ec())},[ed,ec]);let eb=()=>{1===G?W(0):(t(h.Lo()),t(x.bx()))},ev=(0,ee.uv)(es||null),ey=e=>(0,R.Wj)(e,H.usersByEmail,Y,[],es?.id||null,null,null,{inviteLevel:ex,source:"folder-creation-modal"}),ej=e=>(0,R._N)(e,H.usersByEmail,Y,[],ei,{inviteLevel:ex,source:"folder-creation-modal"},{resourceType:E.vt.FOLDER,resourceIdOrKey:void 0}),ew=e=>(0,C.t9)(e,es,el),eT=e=>{let t=(0,d.kc)().folder_creation_restricted_guests_err_ui&&es?.invite_whitelist_guest_invite_setting!=null;return(0,C.yI)(e,H.usersByEmail[e]||e,es,el,Y.email,t?(0,f.t)("project_creation.restricted_against_adding_external_users"):null)},eE=()=>es&&es.domain_capture&&el.domains.length>0?eu.emails.filter(e=>(0,c.xf)(e)&&!(0,S.H_)(el.domains,e)):[],eI=e=>{if(es&&es?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,h.to)({type:Z.F,data:{emails:e,onConfirm:()=>{eN()},popStack:!0,orgName:es.name}}));return}},eN=()=>{let a;em===Q._9.ORG?a=ep===Q.J4.EDIT?E.PQ.ORG_EDIT:E.PQ.ORG_VIEW:em===Q._9.WORKSPACE?a=ep===Q.J4.EDIT?E.PQ.WORKSPACE_EDIT:E.PQ.WORKSPACE_VIEW:em===Q._9.INVITE_ONLY&&(a=E.PQ.INVITE_ONLY),t(g.vt({shouldRedirect:!e.modalShown,name:r.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:es?a:void 0,teamAccess:z,inviteEmails:eu.emails,userGroupIds:en?eu.userGroups:[],inviteLevel:ex,orgId:es?.id,onFolderCreated:e.onFolderCreated}))},eS=n.hS({open:e.open,onClose:eb}),ek=0===G?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"folder_creation_modal--nameHeader--MgNL8 folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,f.t)("project_creation.name")}),(0,a.jsx)(m.ks,{"aria-label":(0,f.t)("project_creation.project_name"),autoFocus:!0,className:"folder_creation_modal--folderNameInput--Lcn4c",maxLength:m.wG,minLength:1,onBlur:()=>B(!1),onChange:e=>M(e.target.value),onFocus:()=>B(!0),placeholder:(0,f.t)("project_creation.ex_growth_experiments"),required:!0,value:r}),0===r.trim().length&&!U&&(0,a.jsx)("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC",children:(0,f.t)("project_creation.project_name_empty")}),es&&ea&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd","data-onboarding-key":K,children:(0,f.t)("project_creation.who_has_access")}),(0,a.jsx)(J,{}),(0,a.jsx)(Q.YU,{resourceType:E.vt.FOLDER,value:em,onChange:e_,org:es,team:ea,audienceAccessLevel:ep,workspace:eo?er.workspace:void 0}),em!==Q._9.INVITE_ONLY&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Q.Iz,{selectedPermissionsLevel:ep,setSelectedPermissionsLevel:ef,label:(0,f.t)("folder_permissions_modal.what_they_can_do")}),(0,a.jsx)("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",children:ep===Q.J4.VIEW?(0,f.t)("project_creation.can_view_and_comment"):(0,f.t)("project_creation.can_create_and_edit_files")})]})]})]}):(()=>{let e=[P.e6.EDITOR,P.e6.VIEWER];return(0,a.jsx)("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o",children:(0,a.jsx)(D.e,{SearchResultComponent:en?X.VO:X.o6,TokenComponent:en?X.Vh:X.gy,autocomplete:q,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:$,fixedAutocompleteResults:!0,getSearchResults:en?ej:ey,getSelectText:k.C1,getTokenIdentifier:X.BJ,getTokenPopover:en?e=>(0,X.pU)(e,eh):void 0,inviteLevel:ex,joinLinkShown:!1,onInviteLevelChange:eg,options:e,placeholderText:en?(0,f.t)("user_groups.add_emails_names_or_user_groups"):(0,f.t)("team_creation.add_a_name_or_email"),searchResultDisabled:en?X.qq:void 0,searchResultToken:en?ev:ew,shouldAutoFocus:!0,useContainerRefForWidth:!0,validateToken:eT,validateTokensAsEmail:!0})})})();return(0,a.jsx)(b.fu,{name:F.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:ea?.id,...V},children:(0,a.jsx)(o.bL,{manager:eS,width:"lg",children:(0,a.jsx)("div",{className:"folder_creation_modal--multiContents--U8sJ8",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:0===G?(0,f.t)("project_creation.create_project"):(0,f.t)("project_creation.add_people_to_project_name",{projectName:r})})}),(0,a.jsx)(l.nB,{children:er?ek:(0,a.jsx)("div",{className:"folder_creation_modal--loading--9KmQd",children:(0,a.jsx)(_.qc,{})})}),er&&(0,a.jsxs)(l.wi,{children:[(0,a.jsx)("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,f.tx)("project_creation.step_number_of_max_steps",{currentStep:G+1,maxSteps:2})}),(0,a.jsxs)(l.jk,{children:[(0,a.jsx)(p.$z,{onClick:eb,variant:"secondary",children:0===G?(0,f.tx)("project_creation.cancel"):(0,f.tx)("project_creation.back")}),(0,a.jsx)(p.$z,{variant:"primary",onClick:()=>{if(0===G)W(1);else if(es){let e=eE();e.length>0?eI(e):eN()}else eN()},disabled:0===G&&0===r.trim().length,children:0===G?(0,f.tx)("general.continue"):(0,f.tx)("project_creation.create_project")})]})]})]})})})})}},439454:(e,t,r)=>{r.d(t,{l:()=>a});let a="trashed-projects"},674745:(e,t,r)=>{r.r(t),r.d(t,{AddPinModal:()=>y});var a=r(104076),s=r(716976),i=r(237420);if(443==r.j)var n=r(951002);var o=r(638004),l=r(449572),d=r(550209);if(443==r.j)var c=r(256384);var u=r(192075),m=r(171660),_=r(366535),p=r(666388),f=r(249586),x=r(42995),g=r(59849),h=r(145238),b=r(24661),v=r(340099);function y({fileKey:e,source:t,open:r,onClose:n}){let m=(0,i.wA)(),y=(0,b.p)((0,u.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),w=(0,l.bc)(g.wtK,{fileKey:e}),T=function(e){let[t,r]=s.useState(!1),a="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return a&&!t&&r(!0),a||t}(w);if("loaded"!==w.status)return null;let{file:E}=w.data;if(!E)return(0,d.$D)(o.e.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),m(_.Lo()),null;let I=E.computedWorkspace?.workspace;if(!I)return(0,d.$D)(o.e.WAYFINDING,Error("AddPinModal opened for file with no workspace")),m(_.Lo()),null;let N=x.F.toSinatra({...E}),S=async e=>{try{await h.p.pinFile({resourceType:v.AH,resourceId:I.id,fileKey:E.key,description:e,shouldUpdatePermissions:T}),(0,f.E9)("file_browser_file_pinned_to_resource",E,{resourceType:v.AH,resourceId:I.id,source:t,pinDescription:(0,p._Z)(e)}),y(I.id)}catch(e){throw m(c.s.error((0,u.t)("file_browser.pinning.pin_modal.error"))),e}},k=T?(0,a.jsx)(j,{file:E,workspace:I}):null;return(0,a.jsx)(b.N,{title:(0,u.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,u.t)("file_browser.pinning.pin_file"),onSubmit:S,file:N,initialDescription:null,warningContent:k,open:r,onClose:n})}function j({file:e,workspace:t}){let r=e.parentOrgId;(0,n.B1)(r);let s=(0,i.d4)(({orgById:e})=>e[r].name);return(0,a.jsx)(m.E,{children:(0,u.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:(0,a.jsx)(m.E,{fontWeight:"bold",children:(0,u.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:s})})})})}},255195:(e,t,r)=>{r.r(t),r.d(t,{DeletePinModal:()=>b});var a=r(104076),s=r(716976),i=r(237420),n=r(638004),o=r(449572),l=r(550209),d=r(580447);if(443==r.j)var c=r(256384);var u=r(192075),m=r(666388),_=r(249586),p=r(592726),f=r(944350),x=r(59849),g=r(145238),h=r(24661);function b({pinnedFileId:e,open:t,onClose:r}){let b=(0,p.TA)(),v=(0,i.wA)(),y=(0,h.p)((0,u.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[j,w]=s.useState(!1),T=(0,o.bc)(x.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:E}=T.data;if(!E)return(0,l.$D)(n.e.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),r(),null;if(E.resourceType!==f.K.WORKSPACE)return(0,l.$D)(n.e.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:E.resourceType}}),r(),null;let I=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,_.E9)("file_browser_file_unpinned_from_resource",E.file,{resourceId:E.resourceId,resourceType:E.resourceType,isPinCreator:E.creator?.id===b,pinDescription:(0,m._Z)(E.description)}),y(E.resourceId),r()}catch(e){v(c.s.error((0,u.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return(0,a.jsx)(d.R,{title:(0,u.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,u.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:I,destructive:!0,isLoading:j,open:t,onClose:r,children:(0,u.t)("file_browser.pinning.delete_pin_modal.content")})}},179642:(e,t,r)=>{r.r(t),r.d(t,{EditPinModal:()=>x});var a=r(104076),s=r(237420),i=r(638004),n=r(449572),o=r(550209);if(443==r.j)var l=r(256384);var d=r(192075),c=r(366535),u=r(42995),m=r(944350),_=r(59849),p=r(145238),f=r(24661);function x({pinnedFileId:e,open:t,onClose:r}){let x=(0,s.wA)(),g=(0,f.p)((0,d.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),h=(0,n.bc)(_.vgO,{pinnedFileId:e});if("loaded"!==h.status)return null;let{pinnedFile:b}=h.data;if(!b)return(0,o.$D)(i.e.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),x(c.Lo()),null;if(b.resourceType!==m.K.WORKSPACE)return(0,o.$D)(i.e.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:b.resourceType}}),x(c.Lo()),null;let v=b.resourceId,y=async t=>{try{await p.p.updatePin({pinnedFileId:e,description:t}),g(v)}catch(e){throw x(l.s.error((0,d.t)("file_browser.pinning.pin_modal.edit.error"))),e}},j=u.F.toSinatra({...b.file});return(0,a.jsx)(f.N,{title:(0,d.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,d.t)("file_browser.pinning.pin_modal.save"),onSubmit:y,file:j,initialDescription:b.description,open:t,onClose:r})}},24661:(e,t,r)=>{r.d(t,{N:()=>W,p:()=>z});var a=r(104076),s=r(716976),i=r(237420),n=r(929302),o=r(950187),l=r(268389),d=r(293422),c=r(833737);r(120440);var u=r(397261),m=r(679359),_=r(577737),p=r(236631),f=r(192075),x=r(58212),g=r(796110),h=r(34952),b=r(147046),v=r(666388),y=r(707026),j=r(657878),w=r(72686),T=r(276800),E=r(689161),I=r(795033),N=r(511570),S=r.n(N),k=r(873304),C=r(550527),A=r.n(C),R=r(849757),O=r(280350),P=r(95651),L=r(583607),F=r(420680),D=r(50686),M=r(535762);function U({onInsert:e,closeOnInsert:t}){let[r,i]=s.useState(null),n=s.useRef(null),o=s.useCallback(()=>{n.current&&i(n.current.getBoundingClientRect())},[i]),l=s.useCallback(r=>{e(r),t&&i(null)},[e,t,i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.K,{ref:n,onClick:o,"aria-label":(0,f.t)("comments.add_emoji"),children:(0,a.jsx)(D.A,{})}),r&&(0,a.jsx)(M._,{onInsert:l,onCancel:()=>i(null),targetRect:r})]})}let B={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function G({placeholder:e,text:t,onChange:r,maxLength:n,onSubmit:o,textAreaClassName:l}){let d=(0,i.wA)(),c=I.zl.get(L.ph),[u,m]=s.useState(!1),[_,x]=s.useState(!1),g=s.useRef(null),h=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),g.current&&g.current.focus()},[]),b=(0,v.Kq)(t,{includeTrailingWhitespace:!0}),[y,j]=s.useState(b),w=A()(e=>{j((0,v.Kq)(e,{includeTrailingWhitespace:!0}))},500);return s.useEffect(()=>(w(t),()=>{w.cancel()}),[t,w]),(0,a.jsxs)("div",{className:_?"emoji_text_area--textAreaContainerFocused--tQAKL":"emoji_text_area--textAreaContainer--4FHeL",onClick:h,children:[(0,a.jsxs)(R.P,{className:S()(p.s.flexGrow1.overflowAuto.maxWFull.borderBox.if(u,p.s.bb1.bSolid.colorBorder).$,l),innerClassName:p.s.hFull.$,children:[(0,a.jsx)(P.iX,{ref:g,className:p.s.pt16.px16.borderBox.if(u,p.s.pb4).$,currentOrgUsers:{orgUsers:{}},dispatch:d,editorOnClear:T.lQ,editorOnInsert:T.lQ,mentionables:B,messageMeta:t,mountInputFocused:!1,onCancel:T.lQ,onFocus:T.lQ,onSubmit:o??T.lQ,onUpdateTextArea:T.lQ,placeholderText:e,setIsEditorFocused:x,submitOnEnter:!1,typeahead:c,updateMessage:([e,t])=>{r(e)}}),(0,a.jsx)(O.a,{onInitialLoad:e=>m(!e),onIntersectionChange:e=>m(!e.isIntersecting)})]}),(0,a.jsxs)("div",{className:p.s.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$,children:[(0,a.jsx)(U,{onInsert:e=>{if(g.current){let t=k.dN.get(e.id);t&&(g.current.insertEmoji(t),g.current.focus())}},closeOnInsert:!0}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:p.s.if(b>n,p.s.colorTextDanger,p.s.colorTextSecondary).cursorDefault.$,"aria-hidden":!0,children:[b,"/",n]}),(0,a.jsx)(E.T,{screenReaderOnly:!0,children:(0,f.t)("file_browser.pinning.pin_modal.character_count_announcement",{textLength:y,maxLength:n})})]})]})]})}function W({title:e,confirmText:t,onSubmit:r,file:i,initialDescription:x,warningContent:b,open:j,onClose:w}){let[T,E]=s.useState(x??[]),[I,N]=s.useState(!1),S=(0,y.fA)(i),k=(0,g.l)(i.folder_id),C=(0,v.Kq)(T,{includeTrailingWhitespace:!0}),A=C<=100&&C>0,R=s.useCallback(async()=>{if(A)try{N(!0),await r(T),w()}finally{N(!1)}},[r,A,w,T]),O=n.hS({open:j,onClose:w}),P=(0,h.C)(S),L=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:p.s.p16.gap16.flex.flexColumn.$,children:[(0,a.jsxs)("div",{className:p.s.flex.flexColumn.gap16.$,children:[(0,a.jsx)("div",{children:(0,a.jsx)(_.e,{tile:S,borderRadius:6})}),(0,a.jsxs)("div",{className:"x78zum5 x1q0g3np x1v2ro7d x6s0dn4",children:[(0,a.jsx)(u.w4,{size:16,type:P}),(0,a.jsxs)("div",{className:p.s.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$,children:[(0,a.jsx)("div",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:i.name}),"loaded"===k.status&&k.data?(0,a.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:k.data}):null]})]})]}),(0,a.jsx)(G,{placeholder:(0,f.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:T,onChange:E,onSubmit:R,maxLength:100,textAreaClassName:p.s.maxH100.$})]}),b?(0,a.jsxs)("div",{className:p.s.colorBgWarningTertiary.px16.py12.flex.columnGap8.$,children:[(0,a.jsx)(c.R,{className:p.s.flexShrink0.$}),(0,a.jsx)("span",{children:b})]}):null]});return(0,a.jsx)(o.bL,{manager:O,width:"lg",children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:e})}),(0,a.jsx)(l.nB,{padding:0,children:L}),(0,a.jsx)(l.wi,{children:(0,a.jsxs)(l.jk,{children:[(0,a.jsx)(d.$n,{variant:"secondary",onClick:w,children:(0,f.tx)("modal.cancel")}),I?(0,a.jsx)(d.$n,{disabled:!0,children:(0,a.jsx)(m.kt,{className:p.s.colorIconOnbrand.$})}):(0,a.jsx)(d.$n,{disabled:!A,variant:"primary",onClick:R,children:t})]})})]})})}function z(e,t){let r=(0,i.wA)(),a=(0,j._6)();return s.useCallback(s=>{let i;("workspace"!==a.view||a.subView!==w.V0.DIRECTORY)&&(i={text:(0,f.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{r(b.sf({view:"workspace",subView:w.V0.DIRECTORY,workspaceId:s,selectedTab:w.dN.TEAMS}))}}),r(x.F.enqueue({type:t,message:e,button:i}))},[r,e,t,a])}},965275:(e,t,r)=>{r.d(t,{$:()=>m});var a=r(716976),s=r(237420),i=r(219199),n=r(221586);if(443==r.j)var o=r(111679);var l=r(147046),d=r(288747);if(443==r.j)var c=r(545032);var u=r(72686);function m(){let e=(0,d.dq)(),t=(0,s.wA)();return a.useCallback((r,a)=>{if(t(o.kg({clickedResourceType:"workspace",resourceIdOrKey:r??void 0})),(0,n.Fo)(a)||a.shiftKey){let t=`/files/${e}/workspace/${r??c.O}/directory/teams`;i.Ay.redirect(t,"_blank"),a.preventDefault()}else t(l.sf({view:"workspace",subView:u.V0.DIRECTORY,workspaceId:r,selectedTab:u.dN.TEAMS}))},[e,t])}},505211:(e,t,r)=>{r.d(t,{Gq:()=>f});var a=r(104076),s=r(716976),i=r(511570),n=r.n(i),o=r(171660),l=r(354925),d=r(114647),c=r(745790),u=r(826160),m=r(385641);function _({team:e}){return(0,a.jsx)(o.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:e.name})}function p({team:e}){return(0,a.jsx)("div",{className:n()(m.Hh,m.wD),children:e.description})}let f=s.forwardRef(function({team:e,isSelected:t,onLeave:r,cardRole:s,onClick:i,onFocus:n,onBlur:o,draggable:f},x){let g=(0,a.jsx)(l.R.Overlay,{children:(0,a.jsx)(c.m3,{team:e,onLeave:r,isCardActive:!0})});return(0,a.jsx)(d.P,{ref:x,ariaCurrent:t,cardRole:s,draggable:f,iconImage:(0,a.jsx)(u.Ro,{className:m.rP,entity:e,size:40}),isSelected:t,onBlur:o,onClick:i,onFocus:n,subtitle:(0,a.jsx)(p,{team:e}),title:(0,a.jsx)(_,{team:e}),topRightContent:g})})},48431:(e,t,r)=>{r.d(t,{X:()=>l});var a=r(104076),s=r(419822),i=r(511570),n=r.n(i),o=(e=>(e.Medium="Medium",e.Large="Large",e))(o||{});function l(e){let t;return e.isLoading?(0,a.jsx)("div",{className:"tile_grid--loadingContainer--1gQIv",children:(0,a.jsx)(s.k,{htmlAttributes:{"data-testid":"loading-spinner"}})}):!e.children||Array.isArray(e.children)&&!e.children.length?(0,a.jsx)("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.emptyView}):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",(0,a.jsx)("div",{className:n()("tile_grid--gridContainer--cn4vx",e.containerClassName),children:(0,a.jsx)("div",{className:t,children:e.children})}))}},258544:(e,t,r)=>{r.d(t,{i:()=>_});var a=r(104076),s=r(307829),i=r(716976),n=r(420680),o=r(881265),l=r(765024),d=r(890373);r(120440);var c=r(349311);let u=i.forwardRef(function({isFavorited:e,tooltip:t,dataTestId:r,size:s,monochrome:i,disabled:u,onClick:m,"aria-expanded":_,...p},f){let x=(0,a.jsx)(n.K,{ref:f,"aria-label":t,"aria-pressed":e,"aria-expanded":_,disabled:u,htmlAttributes:_?{}:{"data-tooltip-type":c.Ib.TEXT,"data-tooltip":t,"data-tooltip-timeout-delay":50,"data-testid":r},onClick:m,variant:"secondary",size:s,...p,children:e?(0,a.jsx)(o._,{style:i?void 0:{"--color-icon":d.Tj.iconfavorite},"data-testid":`${r}-favorited-icon`}):(0,a.jsx)(l.c,{"data-testid":`${r}-unfavorited-icon`})});return u&&i?(0,a.jsx)("div",{className:"xjp7ctv x1qgxxjq",children:x}):x});var m=r(824650);function _({favoriteType:e,orgId:t,resourceId:r,setFavorite:i,removeFavorite:n,monochrome:o,teamId:l,size:d="md",dataTestId:c="favorite-star-button"}){let _=s.b();return(0,a.jsx)(m.k,{resourceId:r,favoriteType:e,orgId:t,teamId:l,setFavorite:i,removeFavorite:n,favoriteStarMenu:_,children:e=>(0,a.jsx)(u,{dataTestId:c,monochrome:o,size:d,...e})})}},977710:(e,t,r)=>{r.d(t,{GO:()=>h,GZ:()=>j,LU:()=>v,wO:()=>g,yH:()=>x});var a=r(638004),s=r(812714),i=r(833805),n=r(550209);if(443==r.j)var o=r(582732);var l=r(887555),d=r(511920),c=r(292168),u=r(845945),m=r(944350),_=r(208434),p=r(3234),f=r(470876);function x({limit:e=o.N,resourceTypes:t,teamId:r,orgId:s,caller:d,includeContent:c=!1,enableQuery:u=!0,sortBy:m=l.e.Browse.ALL_TIME,selfPublished:_}){let[{data:f,status:x,hasNextPage:g,isFetchingNextPage:h},{fetchNextPage:b}]=(0,i.IT)(p.a.InternalResourcesPaginatedQuery({resourceType:t,orgId:s,teamId:r,caller:d,pageSize:e,includeContent:c,sortBy:m,selfPublished:_}),{enabled:u&&(!!r||!!s)});return!u||r||s?{resources:f??[],loading:"loading"===x,hasNextPage:g??!1,isFetchingNextPage:h,fetchNextPage:b}:((0,n.$D)(a.e.COMMUNITY,Error("useInternalResources: teamId and orgId cannot both be undefined"),{extra:{resourceTypes:t,caller:d}}),{resources:[],loading:!1,hasNextPage:!1,isFetchingNextPage:!1,fetchNextPage:()=>{}})}function g({limit:e=o.N,orgId:t,caller:r,includeContent:a=!1}){return x({limit:e,resourceTypes:[c.vt.PLUGIN],teamId:void 0,orgId:t,caller:r,includeContent:a,enableQuery:!!t,sortBy:l.e.Browse.ALL_TIME})}function h({orgId:e,teamId:t,resourceType:r,planTier:a,sortBy:s,isTemplatesPublishingDisabledForOrg:i}){return x({resourceTypes:[r],limit:u.u8,orgId:e,teamId:t,caller:d.z.RESOURCE_HUB,includeContent:!0,enableQuery:(0,_.Pe)(a,r,i),sortBy:s})}function b({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a,resourceType:s,enabled:n}){return(0,i.IT)(p.a.InternalResourcesPaginatedQuery({resourceType:[s],teamId:t,caller:d.z.RESOURCE_HUB,pageSize:a+1,includeContent:!0}),{enabled:n&&!!t&&(0,_.Pe)(e,s,r)})}function v(e,t,r,a=u.u8){let i=(0,s.kc)().cmty_templates_by_team_on_resources,n=function({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}){let{templatesByTeam:i,isLoading:n}=(0,f.li)({teamId:t,editorType:m._Y.COOPER,pageSize:s+1,enabled:a&&(0,_.Pe)(e,c.vt.COOPER_TEMPLATE_FILE,r)}),o=i?.templates??[],{templatesByTeam:l,isLoading:d}=(0,f.li)({teamId:t,editorType:m._Y.WHITEBOARD,pageSize:s+1,enabled:a&&(0,_.Pe)(e,c.vt.FIGJAM_TEMPLATE,r)}),u=l?.templates??[],{templatesByTeam:p,isLoading:x}=(0,f.li)({teamId:t,editorType:m._Y.SLIDES,pageSize:s+1,enabled:a&&(0,_.Pe)(e,c.vt.SLIDE_TEMPLATE,r)}),g=p?.templates??[],{templatesByTeam:h,isLoading:b}=(0,f.li)({teamId:t,editorType:m._Y.FIGMAKE,pageSize:s+1,enabled:a&&(0,_.Pe)(e,c.vt.FIGMAKE_TEMPLATE,r)}),v=h?.templates??[];return{[m._Y.COOPER]:{templates:o,isLoading:n,hasMoreTemplates:o.length>s},[m._Y.WHITEBOARD]:{templates:u,isLoading:d,hasMoreTemplates:u.length>s},[m._Y.SLIDES]:{templates:g,isLoading:x,hasMoreTemplates:g.length>s},[m._Y.FIGMAKE]:{templates:v,isLoading:b,hasMoreTemplates:v.length>s}}}({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:!i,numTemplates:a}),o=function({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a,enabled:s}){let[{data:i,status:n}]=b({planTier:e,resourceType:c.vt.COOPER_TEMPLATE_FILE,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a,enabled:s}),[{data:o,status:l}]=b({planTier:e,resourceType:c.vt.FIGJAM_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:s,numTemplates:a}),[{data:d,status:u}]=b({planTier:e,resourceType:c.vt.SLIDE_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:s,numTemplates:a}),[{data:_,status:p}]=b({planTier:e,resourceType:c.vt.FIGMAKE_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:s,numTemplates:a});return{[m._Y.COOPER]:{templates:i??[],isLoading:"loading"===n,hasMoreTemplates:(i?.length??0)>0},[m._Y.WHITEBOARD]:{templates:o??[],isLoading:"loading"===l,hasMoreTemplates:(o?.length??0)>0},[m._Y.SLIDES]:{templates:d??[],isLoading:"loading"===u,hasMoreTemplates:(d?.length??0)>0},[m._Y.FIGMAKE]:{templates:_??[],isLoading:"loading"===p,hasMoreTemplates:(_?.length??0)>0}}}({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,enabled:!!i,numTemplates:a});return i?o:n}function y({planTier:e,orgId:t,resourceType:r,isTemplatesPublishingDisabledForOrg:a,enabled:s,numTemplates:n}){return(0,i.IT)(p.a.getResourcesByTeamPaginatedQuery({orgId:t,resourceType:[r],pageSize:n+1,includeContent:!0}),{enabled:s&&!!t&&(0,_.Pe)(e,r,a)})}function j(e,t,r,a=u.u8){let i=(0,s.kc)().cmty_templates_by_team_on_resources,n=function({planTier:e,orgId:t,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}){let i=e===m.Ag.ENTERPRISE,{teamTemplates:n,isLoading:o}=(0,f.e2)({orgId:t,editorType:m._Y.COOPER,areWorkspacesEnabled:i,numTemplatesPerTeam:s+1,filterByIds:null,enabled:a&&(0,_.Pe)(e,c.vt.COOPER_TEMPLATE_FILE,r)}),l=n.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:d,isLoading:u}=(0,f.e2)({orgId:t,editorType:m._Y.WHITEBOARD,areWorkspacesEnabled:i,numTemplatesPerTeam:s+1,filterByIds:null,enabled:a&&(0,_.Pe)(e,c.vt.FIGJAM_TEMPLATE,r)}),p=d.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:x,isLoading:g}=(0,f.e2)({orgId:t,editorType:m._Y.SLIDES,areWorkspacesEnabled:i,numTemplatesPerTeam:s+1,filterByIds:null,enabled:a&&(0,_.Pe)(e,c.vt.SLIDE_TEMPLATE,r)}),h=x.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:b,isLoading:v}=(0,f.e2)({orgId:t,editorType:m._Y.FIGMAKE,areWorkspacesEnabled:i,numTemplatesPerTeam:s+1,filterByIds:null,enabled:a&&(0,_.Pe)(e,c.vt.FIGMAKE_TEMPLATE,r)}),y=b.flatMap(e=>e.templates.map(e=>e.template));return{[m._Y.COOPER]:{templates:l,isLoading:o,hasMoreTemplates:l.length>s},[m._Y.WHITEBOARD]:{templates:p,isLoading:u,hasMoreTemplates:p.length>s},[m._Y.SLIDES]:{templates:h,isLoading:g,hasMoreTemplates:h.length>s},[m._Y.FIGMAKE]:{templates:y,isLoading:v,hasMoreTemplates:y.length>s}}}({planTier:e,orgId:t,isTemplatesPublishingDisabledForOrg:r,enabled:!i,numTemplates:a}),o=function({planTier:e,orgId:t,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}){let[{data:i,status:n}]=y({planTier:e,orgId:t,resourceType:c.vt.COOPER_TEMPLATE_FILE,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}),o=i?.flatMap(e=>e.resources)??[],[{data:l,status:d}]=y({planTier:e,orgId:t,resourceType:c.vt.FIGJAM_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}),u=l?.flatMap(e=>e.resources)??[],[{data:_,status:p}]=y({planTier:e,orgId:t,resourceType:c.vt.SLIDE_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}),f=_?.flatMap(e=>e.resources)??[],[{data:x,status:g}]=y({planTier:e,orgId:t,resourceType:c.vt.FIGMAKE_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,enabled:a,numTemplates:s}),h=x?.flatMap(e=>e.resources)??[];return{[m._Y.COOPER]:{templates:o,isLoading:"loading"===n,hasMoreTemplates:o.length>s},[m._Y.WHITEBOARD]:{templates:u,isLoading:"loading"===d,hasMoreTemplates:u.length>s},[m._Y.SLIDES]:{templates:f,isLoading:"loading"===p,hasMoreTemplates:f.length>s},[m._Y.FIGMAKE]:{templates:h,isLoading:"loading"===g,hasMoreTemplates:h.length>s}}}({planTier:e,orgId:t,isTemplatesPublishingDisabledForOrg:r,enabled:!!i,numTemplates:a});return i?o:n}},616601:(e,t,r)=>{r.d(t,{u:()=>c});var a=r(716976),s=r(237420),i=r(984924),n=r(527173),o=r(592726),l=r(502380),d=r(914077);function c({prepopulatedEmail:e,parentOrg:t,orgDomains:r}){let c=(0,s.wA)(),u=(0,s.d4)(e=>e.contacts),m=(0,o.Pc)();a.useEffect(()=>{c(n.um())},[c]);let _=r??d.ls,p=a.useCallback(e=>(0,l.yI)(e,u.usersByEmail[e]||e,null,_,m.email),[u.usersByEmail,m.email,_]);return a.useEffect(()=>{if(e){let t=p(e);c(i.hZ({tokens:[t],inputValue:"",errorMessage:""}))}},[e,p,c]),a.useEffect(()=>()=>{c(i.cL())},[c]),{validateToken:p,searchResultToken:a.useCallback(e=>(0,l.t9)(e,t,_),[_,t])}}},907289:(e,t,r)=>{r.d(t,{S:()=>l});var a=r(237420),s=r(380494),i=r(220775),n=r(530299),o=r(648878);function l(e){let t=(0,a.d4)(e=>e.loadingState),r=(0,a.d4)(e=>e.teamJoinLinks);return!function(e,t,r){let a=!(0,n.VP)(t,(0,o.OL)(e))&&!(0,n.aF)(t,(0,o.OL)(e))&&!r;return(0,n.VP)(t,(0,o.OL)(e))||(0,n.VP)(t,i.ui.loadingKeyForPayload({teamId:e}))||(0,n.VP)(t,(0,o._M)(e))||a}(e,t,r)?s.Qw.loaded(r?.url):s.Qw.loading()}},304271:(e,t,r)=>{r.d(t,{G:()=>n,w:()=>o});var a=r(795033),s=r(381059),i=r(235711);let n=(0,a.eU)(e=>{let t=e((0,i.Fu)("has_prompted_in_figma_make")),r=e(s.zk);return!!t.data||!!r?.prompted_in_make});function o(){return(0,a.md)(n)}},914077:(e,t,r)=>{r.d(t,{ls:()=>a}),r(585877);let a={domains:[],isFetching:!1,fetchedAt:null}},145238:(e,t,r)=>{r.d(t,{p:()=>s});var a=r(432099);let s=new class{async pinFile({resourceType:e,resourceId:t,fileKey:r,description:s,shouldUpdatePermissions:i}){await a.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:r,description:s,should_update_permissions:i})}async updatePin({pinnedFileId:e,description:t}){await a.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await a.Ay.del(`/api/pinned_files/${e}`)}}},505899:(e,t,r)=>{r.d(t,{B:()=>x,F:()=>g});var a=r(812714),s=r(380494),i=r(833805),n=r(596224),o=r(483497),l=r(511920),d=r(218491),c=r(470876),u=r(944350),m=r(59849),_=r(904017),p=r(208434),f=r(3234);function x({teamId:e,orgId:t,resourceType:r,enabled:a,pageSize:n,includeContent:o}){let[d,{fetchNextPage:c}]=(0,i.IT)(f.a.InternalResourcesPaginatedQuery({resourceType:r,caller:l.z.RESOURCE_HUB,teamId:e,orgId:t,pageSize:n,includeContent:o}),{enabled:a&&r.length>0}),[u]=(0,i.IT)((0,m.yQw)({teamId:e}),{enabled:a&&!!e}),[_]=(0,i.IT)((0,m.IiJ)({orgId:t}),{enabled:a&&!!t}),p=u.data?.team?.name||_.data?.org?.plan.name;return{resources:d.data,teamOrOrgName:p,status:s.Qw.all([d,u,_]).status,requestLoadMoreForTeam:d.hasNextPage?c:void 0}}function g(){let e=(0,a.kc)().cmty_templates_by_team_on_resources,t=[],r=(0,_.S2)(),s="loaded"===r.status,{resourceTypeSlug:i,forOrg:l,forTeamId:m}=(0,o.Rd)(d.U)??{},f=null;if(i)try{(t=(0,p.W6)(i)).length>0&&t[0]&&(f=(0,n.J2)(t[0]))}catch{}let g=r.data?.type===u.OL.ORG,h=g?r.data?.key.parentId:void 0,b=g?m:r.data?.key.parentId,v=x({...l?{orgId:h,teamId:void 0}:{orgId:void 0,teamId:b},resourceType:t,includeContent:!0,enabled:!!e&&!!i&&s&&!!(l&&h||b)}),y=(0,c.li)({teamId:b??null,editorType:f,enabled:!e&&!!f&&!!b&&s});return e?{resources:v.resources,teamOrOrgName:v.teamOrOrgName,status:v.status,requestLoadMoreForTeam:v.requestLoadMoreForTeam}:{templates:y.templatesByTeam?.templates,teamOrOrgName:y.templatesByTeam?.teamName,status:y.status,requestLoadMoreForTeam:y.requestLoadMoreForTeam}}},474629:(e,t,r)=>{r.d(t,{i:()=>M});var a=r(104076),s=r(716976),i=r(237420),n=r(99723),o=r(293422),l=r(821655),d=r(369729),c=r(240803),u=r(454851),m=r(419822),_=r(684742),p=r(929302),f=r(950187),x=r(268389),g=r(986287),h=r(812714),b=r(665261),v=r(652539),y=r(352630),j=r(259161),w=r(192075),T=r(147046),E=r(366535),I=r(220775),N=r(907289),S=r(643898),k=r(613936),C=r(349311),A=r(959834),R=r(215853),O=r(342491);let P="team_join_link_permissions--loadedViewWrapper--LjAIr",L="team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa";var F=r(769773);let D=(0,n.s)((e,t,r)=>e(I.do({teamId:t,level:r})));function M(e){let{teamId:t,initialInviteLevel:r,teamPermissions:n}=e,c=(0,i.wA)(),u=(0,i.d4)(e=>e.teamJoinLinks),[m,_]=(0,s.useState)(r),p=(0,N.S)(t),f="loading"===p.status,x=p.data;(0,s.useEffect)(()=>(D(c,t,r),()=>{c(I.F1(null))}),[c,t,r]);let g=e.teamPermissions.canEdit&&!!u?.url&&e.includeCopyLinkButton,b=s.useCallback(()=>{c(E.$O({type:W,data:{resetLink:()=>{c(I.Nw({teamId:t,level:m,shouldShowVisualBell:!0}))}}}))},[c,t,m]),v=s.useCallback(()=>(0,a.jsx)(U,{dropdownShown:e.dropdownShown,resetInviteLinks:b,disableInviteLinks:()=>c(I.ui({teamId:t})),loading:f,canAdmin:n.canAdmin}),[c,e.dropdownShown,f,b,n.canAdmin,t,,]),y=s.useCallback(()=>{x&&c(I.LN({teamId:e.teamId,url:x,source:I.Kq.TEAM_PERMISSIONS_MODAL}))},[c,e.teamId,x]),j=s.useMemo(()=>e.includeCopyLinkButton?(0,a.jsx)(o.$n,{onClick:y,disabled:!x,children:(0,w.tx)("team_join_links.copy_link")}):v(),[y,e.includeCopyLinkButton,x,v]);return!f&&!u||!n.canAdmin&&u?.disabled?null:(0,a.jsxs)(a.Fragment,{children:[(0,h.kc)().expire_team_link_join&&(0,a.jsx)(l.$y,{variant:"brand",children:(0,a.jsx)(d.Q,{children:(0,w.tx)("team_join_links.link_will_expire")})}),(0,a.jsxs)("div",{style:g?{justifyContent:"space-between"}:{justifyContent:"flex-start"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL",children:[(0,a.jsx)("span",{className:"team_join_link_permissions--inviteHeader--80xpy",children:(0,w.tx)("team_join_links.invite_link")}),g&&v()]}),"loading"===p.status||u?.url?(0,a.jsx)(B,{dropdownShown:e.dropdownShown,getPermissionDescriptionText:e.getPermissionDescriptionText,showDropdownSeparators:e.showDropdownSeparators,setLevel:e=>{m!==e&&(_(e),c(I.do({teamId:t,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>_(m)})))},currentLevel:m,url:f?void 0:u?.url,inviteLevels:n.canEdit?[k.e6.VIEWER,k.e6.EDITOR]:[k.e6.VIEWER],teamId:e.teamId,button:j}):(0,a.jsx)(G,{turnOnInviteLinks:()=>c(I.Nw({teamId:t,level:m}))})]})}function U(e){let t=(0,i.wA)(),r="team-link-settings-dropdown",n=s.createRef(),o=()=>e.dropdownShown?.type===r;return(0,a.jsxs)(c.o,{eventListeners:["onMouseDown"],children:[(0,a.jsx)("div",{ref:n,children:(0,a.jsx)(u.d,{"aria-expanded":o(),disabled:e.loading,"aria-label":(0,w.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=n.current?.getBoundingClientRect();o()?t(T.oB()):e&&t(T.j7({type:r,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,w.t)("team_join_links.team_invite_link_settings")},children:(0,a.jsx)(g.k,{})})}),o()&&(0,a.jsxs)(R.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0,children:[(0,a.jsx)(b.c$,{onClick:e.resetInviteLinks,children:(0,w.tx)("team_join_links.reset_invite_links")}),e.canAdmin&&(0,a.jsx)(b.c$,{onClick:e.disableInviteLinks,children:(0,w.tx)("team_join_links.turn_off_invite_links")})]})]})}function B(e){let t=(0,i.wA)(),r="join-link-permission-level-dropdown",s=e.currentLevel===k.e6.VIEWER?"-32px":"-61px",n=(0,a.jsxs)("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB",children:[(0,a.jsxs)("span",{className:"team_join_link_permissions--urlSection--fh6VF",children:[!e.url&&(0,a.jsx)(m.k,{}),e.url&&(0,a.jsx)("span",{className:L,children:e.url})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(_.E,{onClick:a=>{a.stopPropagation(),e.url&&(e.dropdownShown?t(T.oB()):t(T.j7({type:r})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS",children:[(0,a.jsx)("span",{children:(0,S.C1)(e.currentLevel)}),(0,a.jsx)("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak",children:(0,a.jsx)(v.B,{svg:F.A})})]}),e.dropdownShown&&e.dropdownShown.type===r&&(0,a.jsx)(b.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:s},children:e.inviteLevels.map((t,r)=>(0,a.jsx)(b.MM,{checked:t===e.currentLevel,onClick:()=>e.setLevel(t),children:(0,S.C1)(t)},r))})]})]}),o=(0,a.jsxs)("div",{className:"team_join_link_permissions--linkAndDropdownV2--7DFWL",children:[(0,a.jsxs)("div",{className:"team_join_link_permissions--urlSectionV2--YS4eI",children:[!e.url&&(0,a.jsx)(m.k,{}),e.url&&(0,a.jsx)("span",{className:L,children:e.url})]}),(0,a.jsx)("div",{className:"team_join_link_permissions--permissionLevelDropdownWrapper--yCu62",children:(0,a.jsx)(O.b8,{value:e.currentLevel,options:e.inviteLevels,getPermissionName:S.C1,getPermissionDescription:e.getPermissionDescriptionText,showSeparators:e.showDropdownSeparators,onChange:e.setLevel})})]});return(0,a.jsxs)("div",{className:P,children:[(0,h.kc)().team_permission_modal_styling?o:n,e.button]})}function G(e){return(0,a.jsxs)("div",{className:P,children:[(0,w.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",(0,a.jsx)(j.Ph,{href:"#",onClick:e.turnOnInviteLinks,children:(0,w.tx)("team_join_links.turn_on_invite_links")})]})}let W="RESET_LINKS_CONFIRMATION_MODAL";(0,A.Ju)(function(e){let t=(0,i.wA)(),r=p.hS({open:e.open,onClose:e.onClose});return(0,a.jsx)(f.bL,{width:"md",manager:r,children:(0,a.jsxs)(x.vo,{children:[(0,a.jsx)(x.Y9,{children:(0,a.jsx)(x.hE,{children:(0,w.tx)("team_join_links.reset_invite_links")})}),(0,a.jsx)(x.nB,{children:(0,w.tx)("team_join_links.modal_description")}),(0,a.jsx)(x.wi,{children:(0,a.jsxs)(x.jk,{children:[(0,a.jsx)(y.$z,{variant:"secondary",onClick:()=>t(E.Lo()),children:(0,w.tx)("team_join_links.cancel")}),(0,a.jsx)(y.$z,{variant:"destructive",onClick:()=>{e.resetLink(),t(E.Lo())},children:(0,w.tx)("team_join_links.reset_links")})]})})]})})},W)},976049:(e,t,r)=>{r.d(t,{R:()=>v});var a=r(104076),s=r(716976),i=r(293422),n=r(511570),o=r.n(n),l=r(901014),d=r(67893),c=r(755444),u=r(681398),m=r(259161),_=r(192075),p=r(244205),f=r(111297);let x="mobile_download_prompt--mobilePromptTitle--7Tgsn text--fontPos13--xW8hS text--_fontBase--QdLsd",g="mobile_download_prompt--mobilePromptOptionTitle--mMUYW text--fontPos13--xW8hS text--_fontBase--QdLsd",h="mobile_download_prompt--mobilePromptOptionImage--Cp9zK",b="mobile_download_prompt_dismissed";function v(e){let{isCompact:t}=e,r=u.aR?"https://apps.apple.com/us/app/figma-mirror/id1152747299#":"https://play.google.com/store/apps/details?id=com.figma.mirror",n=(0,d.UG)(),x=!t&&!!e.renderBlockingPrompt,[v,w]=s.useState(!x),[T,E]=s.useState(!x);s.useEffect(()=>{null===n.get(b)&&(w(!1),E(!1))},[n,x]);let I=()=>{x||(w(!0),(0,l.sx)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{E(!0)},300),n.set(b,!0))};return null!==n.get(b)?null:(0,a.jsx)(f.fu,{name:"Mobile Download Prompt",children:(0,a.jsx)("div",{className:o()({"mobile_download_prompt--overlay--OzW6J":!0,"mobile_download_prompt--overlayClosed--2FWpY":v,"mobile_download_prompt--overlayAnimateEnd--dBvI0":T}),style:{transitionDuration:"300ms"},onClick:I,children:(0,a.jsxs)("div",{className:o()("mobile_download_prompt--mobilePromptContainer--FKz5e","mobile_download_prompt--mobileDownloadPromptContainer--FaI33",{"mobile_download_prompt--mobileDownloadPromptContainerClosed--DHusv":v,"mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--B100f":x}),onClick:e=>{e.stopPropagation()},children:[(0,a.jsx)("div",{className:o()("mobile_download_prompt--mobilePromptDescriptionContainer--1PhoH",{"mobile_download_prompt--fullHeightPrompt--U6KWw":x}),children:t?(0,a.jsx)(j,{}):(0,a.jsx)(y,{renderBlockingPrompt:x??!1})}),(0,a.jsx)("hr",{className:o()({"mobile_download_prompt--mobilePromptHR--UpOqS":!0,"mobile_download_prompt--fullWidthHR--B-2i1":x})}),(0,a.jsxs)("div",{className:"mobile_download_prompt--mobilePromptGrid--Mvqf-",children:[(0,a.jsx)("img",{className:h,src:(0,c.ck)("249f0f055b922ecef6bffc592a8420e7e6eddcea"),alt:(0,_.t)("file_browser.mobile_prompt.app_image_alt")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:g,children:(0,_.tx)("file_browser.mobile_prompt.app_title")}),(0,a.jsx)("p",{className:"mobile_download_prompt--mobilePromptOptionDescription--APlZp text--fontPos11--2LvXf text--_fontBase--QdLsd",children:x?(0,_.tx)("file_browser.mobile_prompt.app_description_new"):(0,_.tx)("file_browser.mobile_prompt.app_description")})]}),(0,a.jsx)(m.pW,{size:"lg",trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:p.c.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},width:"fill",href:r,children:(0,_.tx)("file_browser.mobile_prompt.app_action")}),!x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:h,src:(0,c.ck)("741698fed49afa5e8f3becdd906e66d32c8e7fae"),alt:(0,_.t)("file_browser.mobile_prompt.browser_image_alt")}),(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:g,children:(0,_.tx)("file_browser.mobile_prompt.browser_title")})}),(0,a.jsx)(i.Pw,{onClick:I,variant:"secondary",children:(0,_.tx)("file_browser.mobile_prompt.browser_action")})]})]})]})})})}function y(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{className:"mobile_download_prompt--mobilePromptImage--U2Yqj",src:(0,c.ck)("5f1dc37f397dbddf711d3d950bee5dd46c07fc72"),alt:(0,_.t)("file_browser.mobile_prompt.image_alt")}),(0,a.jsxs)("div",{className:"mobile_download_prompt--mobilePromptTitleContainer--o8VIK",children:[(0,a.jsx)("h2",{className:x,children:e.renderBlockingPrompt?(0,_.tx)("file_browser.mobile_prompt.modal_title_blocking"):(0,_.tx)("file_browser.mobile_prompt.modal_title")}),(0,a.jsx)("p",{className:"mobile_download_prompt--mobilePromptSubTitle--GFR67 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e.renderBlockingPrompt?(0,_.tx)("file_browser.mobile_prompt.modal_body_blocking"):(0,_.tx)("file_browser.mobile_prompt.modal_body")})]})]})}function j(){return(0,a.jsx)("h2",{className:x,children:(0,_.tx)("file_browser.mobile_prompt.modal_title_compact")})}},787669:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(240831),s=r(716976),i=r(104076);let n=(0,s.memo)(function(e){return(0,a.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.5 5h-2V4h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2h-2zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3-6h-2v3h2zm-2-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9h-2V8h2zm1 0a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11 5H9V4h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1zm-8 5h2v2H4zm-1 0a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1zm3-6H4v3h2zM4 3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 9H9V8h2zm1 0a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1z",clipRule:"evenodd"})})})},251010:(e,t,r)=>{r.d(t,{U:()=>i});var a=r(716976),s=r(104076);let i=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m3 5a1 1 0 1 1 2 0v2.5a.5.5 0 0 0 1 0V10a2 2 0 1 0-4 0v2.5a.5.5 0 0 0 1 0zM5 9a1 1 0 0 0-1 1v2.5a.5.5 0 0 1-1 0V10a2 2 0 1 1 4 0v2.5a.5.5 0 0 1-1 0V10a1 1 0 0 0-1-1m7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0m1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0",clipRule:"evenodd"})})})},671424:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(240831),s=r(716976),i=r(104076);let n=(0,s.memo)(function(e){return(0,a.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M20 12a8 8 0 1 1-16 0 8 8 0 0 1 16 0m1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0m-5.146-.354-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 .708.708L11.5 9.707V15.5a.5.5 0 0 0 1 0V9.707l2.646 2.647a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M19 11.5a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0m1 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0m-5.146-.354-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708L11 9.707V14.5a.5.5 0 0 0 1 0V9.707l2.146 2.147a.5.5 0 0 0 .708-.708",clipRule:"evenodd"})})})},670540:(e,t,r)=>{r.d(t,{d:()=>i});var a=r(716976),s=r(104076);let i=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M2.5 9.497a1 1 0 0 1 .62-.925l8.119-3.343a2 2 0 0 1 1.522 0l8.12 3.343a1 1 0 0 1 0 1.85l-.881.362v4.718a.5.5 0 0 1-1 0v-4.306l-1 .412v4.394c0 .64-.328 1.148-.706 1.505-.375.355-.865.629-1.387.838-1.05.42-2.432.657-3.907.657s-2.857-.237-3.907-.657c-.522-.21-1.012-.483-1.387-.838C6.328 17.15 6 16.642 6 16.002v-4.394L3.12 10.42a1 1 0 0 1-.62-.924M7 12.019v3.983c0 1.105 2.239 2 5 2s5-.895 5-2v-3.983l-4.238 1.746a2 2 0 0 1-1.524 0zM3.5 9.497l1.313.54 6.806 2.803a1 1 0 0 0 .762 0l6.806-2.803 1.313-.54-1.313-.541-6.806-2.803a1 1 0 0 0-.762 0L4.813 8.956z",clipRule:"evenodd"})})})}}]);

//# debugId=9e6c129e-e7b3-5ace-bfcd-644fe8eea11a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3fab1cb794a9067da7abc909e0e256a02e3f7aef/0c62c2fd-fd668a4f158bb47f.min.js.map