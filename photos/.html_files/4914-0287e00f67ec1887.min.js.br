"use strict";(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4914],{654609:(e,t,i)=>{i.d(t,{HE:()=>a,QI:()=>d,RR:()=>n,Rj:()=>r,Y1:()=>c,_s:()=>l,b_:()=>o,jJ:()=>s});let r="redirect_modal_styles--redirectModalContent--hx4GU",n="redirect_modal_styles--modalTitleText--l-yof text--fontPos20--Bcz97 text--_fontBase--QdLsd",s="redirect_modal_styles--modalBodyText--3FyVk text--fontPos13--xW8hS text--_fontBase--QdLsd",d="redirect_modal_styles--domainText--5oNKE",o="redirect_modal_styles--modalContinueButton--szRuw",l="redirect_modal_styles--modalContinueText--kM1zv text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",a="redirect_modal_styles--modalGoBackButton--QmdcZ",c="redirect_modal_styles--modalGoBackText--FNm8w text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},626618:(e,t,i)=>{i.d(t,{CA:()=>o,Dh:()=>a,Dr:()=>c,K1:()=>u,Yr:()=>_,Z3:()=>d,_3:()=>n,d1:()=>m,dD:()=>g,iM:()=>y,pz:()=>p,qN:()=>r,t:()=>s,y7:()=>l});let r="plugin_try_switch_editor_dropdown--pointingDropdown--doauY",n="plugin_try_switch_editor_dropdown--subMenu--IBMpq",s="plugin_try_switch_editor_dropdown--editorOption--1Ymhd text--fontPos13--xW8hS text--_fontBase--QdLsd",d="plugin_try_switch_editor_dropdown--editorOptionRow--0ZCuG",o="plugin_try_switch_editor_dropdown--editorOptionRowText--EiRHi ellipsis--ellipsis--Tjyfa",l="plugin_try_switch_editor_dropdown--editorOptionRowIcon--MHEYF",a="plugin_try_switch_editor_dropdown--dropdownHeader--bHFuB text--fontPos13--xW8hS text--_fontBase--QdLsd",c="plugin_try_switch_editor_dropdown--recentFiles--XLiaH",u="plugin_try_switch_editor_dropdown--newFileBadge--BAXOh",_="plugin_try_switch_editor_dropdown--rightCaret--SM2vJ",p="plugin_try_switch_editor_dropdown--newFileButton--GAL1t",g="plugin_try_switch_editor_dropdown--editorTypeBadge--cr2ZD",y="plugin_try_switch_editor_dropdown--shimmer--cDrZZ file_load--shimmer--0w-rr",m="plugin_try_switch_editor_dropdown--shimmerContainer---QjEI"},546580:(e,t,i)=>{i.d(t,{L:()=>m,I:()=>f});var r=i(104076),n=i(424704),s=i(468650),d=i(569336),o=i(250596),l=i(650821),a=i(111297),c=i(351625),u=i(375936),_=i(81686);let p="resource_page_header--resourceHeaderAvatar--FI-3x",g="resource_page_header--resourceHeaderAvatarWrapper--nn-w8",y="resource_page_header--resourceHeaderFigmaPartnerBadge--cgvkO";function m({publishers:e,size:t=32,showFigmaPartnerBadge:i,openInNewTab:s=!1}){let m=(0,_.AG)(),f=(0,o.Om)()??void 0,h=(0,o.tv)()??void 0,I=m?2:3;return e.length<5?(0,r.jsx)(r.Fragment,{children:e.map((e,n)=>{let o=(0,d.RE)(e.profile_handle,m,f,h);return(0,r.jsxs)("div",{className:g,"data-testid":"resource-header-avatar-"+n,children:[(0,r.jsx)(a.o3,{to:o.to,trackingEventName:"resource_creator_click",trackingProperties:{profileId:e.id,target:"avatar"},target:s?"_blank":"_self",children:(0,r.jsx)(c.e,{entity:e,size:t,style:{zIndex:I-n},adtlClassName:p})},e.id),i&&(0,r.jsx)("div",{className:y,style:{zIndex:I-n},children:(0,u.C2)(e,!0)})]},e.id)})}):(0,r.jsxs)(r.Fragment,{children:[e.slice(0,3).map((e,t)=>{let s=(0,d.RE)(e.profile_handle,m,f,h);return(0,r.jsxs)("div",{className:g,"data-testid":"resource-header-avatar-"+t,children:[(0,r.jsx)(n.N_,{to:s.to,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(c.e,{entity:e,style:{zIndex:3-t},adtlClassName:p})},e.id),i&&(0,r.jsx)("div",{className:y,style:{zIndex:3-t},children:(0,u.C2)(e,!0)})]},e.id)}),(0,r.jsx)("div",{className:"resource_page_header--resourceHeaderAvatarWrapperExtraProfiles--P5q2P resource_page_header--resourceHeaderAvatarWrapper--nn-w8",children:(0,r.jsx)(l.e,{type:"Letter",size:"Large",letter:(e.length-3).toString()})})]})}function f({publishers:e,useSmallWidth:t=!1,removeByLabel:i=!1,openInNewTab:n=!1}){return(0,r.jsx)("span",{className:e.length>2?"resource_page_header--author--k2bGY":"resource_page_header--authorHiddenOverflow--hoVA5",children:(0,s.kc)(e,t,i,n)})}},728309:(e,t,i)=>{i.d(t,{cx:()=>ei,lx:()=>en,JA:()=>er,aI:()=>es,s0:()=>ed});var r=i(638004),n=i(901014),s=i(645040),d=i(681398),o=i(550209),l=i(208882),a=i(192075),c=i(58212),u=i(638641),_=i(104076),p=i(237420),g=i(929302),y=i(950187),m=i(268389),f=i(684742),h=i(366535),I=i(111297),w=i(563554),x=i(959834),T=i(654609);let v=(0,x.Ju)(function(e){let t=(0,p.wA)(),i=()=>{t(h.AS())},r=g.hS({...e,onClose:i});return(0,_.jsx)(I.fu,{name:w.e0.COMMUNITY_REDIRECT_THIRD_PARTY_PLUGIN_MODAL,children:(0,_.jsx)(y.bL,{manager:r,width:440,children:(0,_.jsx)(m.vo,{children:(0,_.jsx)(m.nB,{children:(0,_.jsxs)("div",{className:T.Rj,children:[(0,_.jsx)("div",{className:T.RR,children:(0,a.tx)("community.detail_view.this_plugin_requires_third_party_payment_if_you_decide_to_upgrade")}),(0,_.jsx)("div",{className:T.jJ,children:(0,a.tx)("community.detail_view.you_ll_need_to_work_directly_with_this_provider_to_handle_any_issues_or_refunds")}),(0,_.jsx)(f.E,{onClick:e.onContinue,className:T.b_,children:(0,_.jsx)("span",{className:T._s,children:(0,a.tx)("community.detail_view.continue")})}),(0,_.jsx)(f.E,{className:T.HE,onClick:i,children:(0,_.jsx)("span",{className:T.Y1,children:(0,a.tx)("community.detail_view.go_back")})})]})})})})})});var N=i(972500),E=i(298745),P=i(538873),S=i(381640),F=i(475034),j=i(481173),D=i(483243),k=i(803752),b=i(207472),C=i(68760),W=i(562311),A=i(912610),R=i(876793),B=i(792028),O=i(176203),H=i(878936),M=i(437761),G=i(134235),z=i(192057),Y=i(354174),L=i(686549),U=i(633065),K=i(219199),V=i(432099);async function q(e){let t={org_id:e.orgId,user_id:e.userId,team_id:e.teamId};try{let i=await V.Ay.post(`/api/${e.isWidget?"widgets":"plugins"}/${e.pluginId}/${e.pluginVersionId}/copy_playground_file`,t);return i?.data.meta.url}catch(e){return null}}async function J(e,t,i,r){let n,s=e.fileKey?`/file/${e.fileKey}`:"/file/new";e.isPlaygroundFile&&(s=(n=await q({pluginVersionId:e.tryPluginVersionId,pluginId:e.tryPluginId,isWidget:!!e.isWidget,orgId:t,teamId:i,userId:r}))||s);let o={"try-plugin-id":e.tryPluginId,"try-plugin-version-id":e.tryPluginVersionId,"try-plugin-name":e.tryPluginName,"is-widget":e.isWidget?"1":"0","is-playground-file":e.isPlaygroundFile&&n?"1":"0"};switch(e.fileKey&&(o["try-plugin-file-key"]=e.fileKey),e.fullscreenEditorType){case O.nT.Design:o.mode="design",o.type="design";break;case O.nT.DevHandoff:o.mode="dev",o.type="design";break;case O.nT.Whiteboard:o.type="whiteboard";break;case O.nT.Slides:o.type="slides";break;case O.nT.Cooper:o.type="cooper"}e.fuid&&(o.fuid=e.fuid),e.tryPluginEditorType&&(o["try-plugin-editor-type"]=e.tryPluginEditorType),U.eD&&(o["time-opened"]=Date.now().toString());let l=(0,L.dR)(s,o);K.Ay.redirect(l,d.Xb?void 0:"_blank")}var Z=i(903761),Q=i(529628);let $=()=>async e=>{let t="org-admin-team-creation";e(c.F.enqueue({message:(0,a.t)("resources_tab.create_team_modal.team_creation_loading"),type:t,icon:u.zX.SPINNER}));try{let i=(await G.G.createStarterTeam()).data.meta;return e(c.F.dequeue({matchType:t})),e(h.Lo()),i}catch(i){return e(c.F.dequeue({matchType:t})),e(h.Lo()),e(c.F.enqueue({message:(0,a.t)("general.an_error_occurred"),error:!0})),Promise.reject()}},X=(0,x.Ju)(Y.yX),ee=(e,t,i)=>r=>{r(h.to({type:X,data:{confirmationTitle:(0,a.t)("resources_tab.create_team_modal.modal_title",{extensionName:e}),content:(0,a.t)("resources_tab.create_team_modal.content",{orgName:t}),confirmText:(0,a.t)("general.continue"),onConfirm:()=>{r($()).then(i)},hideCancel:!0}}))},et=(0,S.nF)(async(e,t)=>{let{workspaces:i,plans:r}=t,n=e.getState(),{authedUsers:s,orgById:d}=n,o=i.map(e=>({...e,workspaceName:(0,b.HE)(n,e),user:s.byId[e.userId]})),l=await Promise.all(o.map(async e=>{let i=e.orgId&&d[e.orgId],s=!0,o=!0;if(i&&(s=await (0,D.hb)(t.resource,i),o=(0,D.VT)(t.resource,i)),(0,A.Rt)(t.resource)&&!(0,W.canMemberOrg)(e.orgId,n,e.userId))return;let l=(0,P.y)(e,(0,O.wN)(t.editorType),n,r);if(l)return l.publicPluginsOrWidgetDisabled=!s,l.extensionRequestsAllowed=o,l})),a=[];if(l.forEach(e=>{void 0!==e&&a.push(e)}),a.length<=1){let e=a.length?a[0]:void 0;t.onSelectWorkspace(e);return}e.dispatch(h.to({type:N._,data:{payload:{extension:t.resource,workspaces:a,onSelectWorkspace:t.onSelectWorkspace,mode:"new_file"}}}))}),ei=(0,S.nF)((e,t)=>{if(d.rr){window.location.href="/login";return}let i=t.isWidget?(0,a.t)("community.logged_out.sign_up_modal_widget_header"):(0,a.t)("community.logged_out.sign_up_modal_plugin_header");e.dispatch(l.Ts({origin:"plugin_try_signed_out"})),e.dispatch(h.to({type:z.l,data:{headerText:i,icon:t.isWidget?Q.A:Z.A,dispatch:e.dispatch,redirectPath:t.redirectPath}}))});(0,S.nF)((e,t)=>{let i=e.getState().user,r=t.extension,n="isWidget"in r?!!r.isWidget:!!r.is_widget,s="currentPluginVersion"in r?r.currentPluginVersion:(0,A.Ar)(r);if(!s||!i)return;let d="hasPlaygroundFile"in s?s.hasPlaygroundFile:s.playground_file_version_id,o=t.fullscreenEditorType===O.nT.DevHandoff,l={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:r.id,tryPluginVersionId:s.id,tryPluginName:s.name??"",isWidget:n,isPlaygroundFile:!!(d||o),fuid:i.id,tryPluginParams:void 0};(0,R.Y9)(i.id,!1,null),J(l,null,null,i.id),(()=>{let d={storeInRecentsKey:(0,j.B)(t.fullscreenEditorType),id:r.id,version:s.id,currentUserId:i.id};n?e.dispatch(F.RH(d)):e.dispatch(F.gU(d))})()});let er=(0,S.nF)((e,t)=>{let i=e.getState(),r=i.user,n=t.extension,d="isWidget"in n?!!n.isWidget:!!n.is_widget,o="currentPluginVersion"in n?n.currentPluginVersion:(0,A.Ar)(n);if(!o||!r)return;let l=()=>{let i={storeInRecentsKey:(0,j.B)(t.fullscreenEditorType),id:n.id,version:o.id,currentUserId:r.id};d?e.dispatch(F.RH(i)):e.dispatch(F.gU(i))},a="hasPlaygroundFile"in o?o.hasPlaygroundFile:o.playground_file_version_id,c=t.fullscreenEditorType===O.nT.DevHandoff,u={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:n.id,tryPluginVersionId:o.id,tryPluginName:o.name??"",isWidget:d,isPlaygroundFile:!!(a||c),fuid:r.id,tryPluginParams:void 0},_=i.plans.filter(e=>e.plan_type===H.O.TEAM).map(e=>{let t=(0,s.O)(e,r.id);return{...t,workspaceName:(0,b.HE)(i,t),user:r}});if(0===_.length){e.dispatch(ee(o.name,i.orgById[i.currentUserOrgId].name,e=>{(0,R.Y9)(r.id,!1,null,void 0,e.id),J(u,null,e.id,r.id),l()}));return}1===_.length?((0,R.Y9)(r.id,!1,null,void 0,_[0].teamId??null),J(u,null,_[0].teamId??null,r.id),l()):e.dispatch(h.to({type:N._,data:{payload:{workspaces:_,onSelectWorkspace:e=>{(0,R.Y9)(r.id,!1,null,void 0,e?.teamId??null),J(u,null,e?.teamId??null,r.id),l()},mode:"new_file"}}}))}),en=(0,S.nF)((e,t)=>{let i=e.getState(),r=i.user,n=t.extension,s="isWidget"in n?!!n.isWidget:!!n.is_widget,d="currentPluginVersion"in n?n.currentPluginVersion:(0,A.Ar)(n);if(!d||!r)return;let o="hasPlaygroundFile"in d?d.hasPlaygroundFile:d.playground_file_version_id,l=t.fullscreenEditorType===O.nT.DevHandoff,a={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:n.id,tryPluginVersionId:d.id,tryPluginName:d.name??"",isWidget:s,isPlaygroundFile:!!(o||l),fuid:r.id,tryPluginParams:void 0},c=i.plans.find(e=>e.plan_type===H.O.ORG&&e.plan_id===i.currentUserOrgId);(0,R.Y9)(r.id,!1,c.plan_id,void 0,null),J(a,c.plan_id,null,r.id),(()=>{let i={storeInRecentsKey:(0,j.B)(t.fullscreenEditorType),id:n.id,version:d.id,currentUserId:r.id};s?e.dispatch(F.RH(i)):e.dispatch(F.gU(i))})()}),es=(0,S.nF)(async(e,t)=>{let i=e.getState(),{user:s}=i,d=(0,E.wr)(i),l=(0,E.Ux)(i),u=(0,B.xQ)(t.resource),_=(0,A.uF)(t.resource);if(!s){e.dispatch(ei({isWidget:u}));return}let p=()=>{let i={storeInRecentsKey:(0,j.B)(t.fullscreenEditorType),id:t.resource.id,version:_.id,currentUserId:s.id};u?e.dispatch(F.RH(i)):e.dispatch(F.gU(i))},g=[],y=null;try{y=await e.dispatch((0,k.nm)(!0)),g=(0,C.F)(i,t.resource,y)}catch(i){let t=i?.data?.message||(0,a.t)("file_browser.error_try_again");e.dispatch(c.F.enqueue({message:t,type:"error"}))}let m=!t.orgId&&g.length>1&&!t.fileKey,f={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.resource.id,tryPluginVersionId:_.id,tryPluginName:_.name,tryPluginEditorType:_.manifest.editorType?.[0]??M.FW.FIGMA,isWidget:u,isPlaygroundFile:!!t.isPlaygroundFile,tryPluginParams:void 0,fileKey:t.fileKey};if((0,n.sx)("CTA Clicked",{name:"Try it out",pluginId:t.resource.id,isWidget:u,editorType:t.fullscreenEditorType,isMonetized:(0,B.m3)(t.resource),fileKey:t.fileKey,search_session_id:d,query_id:l}),m)(0,n.sx)("try_it_out_drafts_picker_menu_opened",{pluginId:t.resource.id,isWidget:u,searchSessionId:d}),e.dispatch(et({plans:y,workspaces:g,resource:t.resource,editorType:(0,O.oD)(t.fullscreenEditorType),onSelectWorkspace:e=>{e?(f.fuid=e.userId,(0,R.Y9)(e.userId,!1,e.orgId,void 0,e.teamId??null),J(f,e.orgId,e.teamId??null,e.userId)):J(f,null,null,s.id),p()}}));else if(t.fileKey)f.fuid=t.userId??s.id,J(f,null,null,f.fuid);else if(t.orgId){f.fuid=t.userId??s.id;let r=i.orgById[t.orgId];if(r&&!await (0,D.hb)(t.resource,r)){e.dispatch(c.F.enqueue({message:(0,a.t)("community.resource.you_do_not_have_permissions_to_use_this_resource"),error:!0}));return}(0,R.Y9)(s.id,!1,t.orgId),J(f,t.orgId,null,s.id)}else if(1===g.length){let r=g[0];if(r.orgId&&!(0,D.VT)(t.resource,i.orgById[r.orgId])&&!await (0,D.hb)(t.resource,i.orgById[r.orgId])){e.dispatch(ee(_.name,(0,b.HE)(i,r),e=>{(0,R.Y9)(s.id,!1,null,void 0,e.id),J(f,null,e.id,s.id),p()}));return}(0,R.Y9)(r.userId,!1,r.orgId,void 0,r.teamId??null),J(f,r.orgId,r.teamId??null,r.userId)}else(0,o.$D)(r.e.COMMUNITY,Error("No workspaces found")),e.dispatch(c.F.enqueue({message:(0,a.t)("file_browser.error_try_again"),error:!0}))});function ed(e,t){e(h.to({type:v,data:{onContinue:t}}))}},139693:(e,t,i)=>{i.d(t,{UK:()=>M,WW:()=>Y,to:()=>R});var r=i(104076),n=i(716976),s=i(237420);if(443==i.j)var d=i(951002);if(443==i.j)var o=i(276800);var l=i(812714),a=i(901014),c=i(653899),u=i(397261),_=i(652539),p=i(192075),g=i(81686),y=i(298745),m=i(569336),f=i(728309),h=i(147046),I=i(366535),w=i(506192),x=i(737552),T=i(944350),v=i(904017),N=i(912610),E=i(792028),P=i(176203),S=i(437761),F=i(588302),j=i(346886),D=i(215853),k=i(569507),b=i(611373),C=i(626618);if(443==i.j)var W=i(930602);if(443==i.j)var A=i(954184);function R(e,t,i,r){(0,a.sx)("extension_opened_from_community",{extension_id:e,file_type:t,editor_type:i,searchSessionId:r})}function B(e,t,i,r,n){i((0,N.Rt)(e)&&r?f.lx({extension:e,fullscreenEditorType:t}):f.aI({resource:e,fullscreenEditorType:t,isPlaygroundFile:n}))}function O(e){return(0,r.jsxs)("button",{type:"button",className:C.t,onClick:e.onClick,onTouchEnd:t=>{t.preventDefault(),e.onClick&&e.onClick(t)},children:[(0,r.jsxs)("div",{className:C.Z3,children:[(0,r.jsx)("div",{className:C.y7,children:e.icon}),(0,r.jsx)("div",{className:C.CA,children:e.text})]}),e.rightIcon]})}function H(e){return(0,r.jsx)(O,{onClick:e.onClick,icon:(0,r.jsx)("div",{className:C.dD,children:(0,r.jsx)(u.w4,{size:16,type:e.fileIconType})}),text:e.fileDisplayText})}function M(e){let t;let i=(0,r.jsx)(b.dn,{editorType:[e.editorType]});if(e.fileName)t=e.fileName;else if(e.playgroundFile)t=(0,p.t)("community.using.playground_file");else switch(e.editorType){case S.FW.FIGMA:t=(0,p.t)("community.duplicate.open_in_figma");break;case S.FW.FIGJAM:t=(0,p.t)("community.duplicate.open_in_figjam");break;case S.FW.DEV:case S.FW.INSPECT:t=(0,p.t)("community.detail_view.plugin_open_devmode");break;case S.FW.SLIDES:t=(0,p.t)("community.detail_view.plugin_open_slides");break;case S.FW.BUZZ:t=(0,p.t)("community.detail_view.plugin_open_buzz");case S.FW.SITES:}return(0,r.jsx)("button",{type:"button",className:C.t,onClick:e.onClick,"data-testid":e.dataTestId,children:(0,r.jsxs)("div",{className:C.Z3,children:[(0,r.jsx)("div",{className:C.dD,children:i}),(0,r.jsx)("div",{className:C.CA,children:t})]})})}function G(e){let t=(0,s.wA)(),{files:i,resource:n,editorTypes:o}=e,a=(0,y.Jm)(),c=e=>{if(!e.org_id)return;let i=(0,m.qD)(n),r={extension:{pluginId:i.plugin_id,iconUrl:i.redirect_icon_url,name:i.name},isWidget:n.is_widget,orgId:e.org_id,workspaceDetails:{workspaceId:e.workspace_id,workspaceName:e.workspace_name,fileKey:e.key,fileName:e.name},openedFrom:"community",fullscreenEditorType:null};t((0,I.to)({type:k.S,data:r}))},_=e=>{R(n.id,"existing_file",(0,P.wN)(e.editor_type),a),t(f.aI({resource:n,fullscreenEditorType:e.editor_type===T._Y.DESIGN&&(0,S.Pe)(o)?P.nT.DevHandoff:(0,P.wN)(e.editor_type),fileKey:e.key,userId:e.user_id}))};return i?.length===0?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:C.Dh,children:(0,p.tx)("community.detail_view.recent_files")}),(0,r.jsx)("div",{className:C.Dr,children:i?i.map(e=>(0,r.jsx)(H,{fileIconType:function(e){switch(e.editor_type){case T._Y.DESIGN:return e.last_published_at?u.y1.PUBLISHED:u.y1.DESIGN;case T._Y.WHITEBOARD:return u.y1.WHITEBOARD;case T._Y.SLIDES:return u.y1.SLIDES;case T._Y.SITES:case T._Y.COOPER:return(0,l.kc)().buzz_plugins_publishing?u.y1.COOPER:u.y1.DESIGN;case T._Y.FIGMAKE:return u.y1.DESIGN;default:(0,d.xb)(e.editor_type)}}(e),fileDisplayText:e.name,onClick:()=>{t(h.oB()),e.can_run?(0,E.zF)(n)?f.s0(t,()=>_(e)):_(e):e.requests_allowed&&c(e)}},e.key)):(0,r.jsx)("div",{className:C.d1,children:[...Array(6)].map((e,t)=>(0,r.jsx)("div",{className:C.iM},t))})})]})}function z({hasSecondaryDropdown:e,text:t,primaryFullscreenEditorType:i,resource:n}){let d=(0,s.wA)(),o=(0,N.uF)(n),l=(0,y.Jm)(),a=(0,g.AG)();return(0,r.jsx)(O,{onClick:()=>{if(!e){let e=!!(o.playground_file_version_id||i===P.nT.DevHandoff);R(n.id,e?"playground":"new_file",i,l),d(h.oB());let t=()=>{B(n,i,d,a,e)};(0,E.zF)(n)?f.s0(d,t):t()}},icon:(0,r.jsx)(_.B,{svg:A.A,className:C.K1}),text:t,rightIcon:e?(0,r.jsx)(_.B,{svg:W.A,className:C.Yr}):void 0})}function Y(e,t,i){let _=(0,s.wA)(),m=(0,w.Um)(),f=m?.type===L&&m.data.resourceId===e.id&&m.data.viewContext===i,I=(0,g.AG)(),E=n.memo(function({primaryFullscreenEditorType:i,recentFiles:s}){let g=(0,v.T5)("usePluginTrySwitchEditorDropdown").unwrapOr(null),w=g?.figjamDisabledAt??null,E=g?.type===T.OL.ORG?g?.key.parentId:void 0,k=(0,y.Jm)(),b=(e,t,i)=>e.filter(e=>(!(0,N.Rt)(t)||e.org_id===i)&&(e.can_run||e.requests_allowed)).slice(0,6),[W,A]=n.useState(()=>{if(s)return b(s,e,E)});(0,c.h)(()=>{void 0===W&&async function(){let t=await F.C.getRecentFiles({extensionId:e.id,isWidget:!!e.is_widget});(0,a.sx)("recent_files_for_plugins_loaded",{response_count:t.data.meta.length,extension_id:e.id,searchSessionId:k}),A(b(t.data.meta,e,E))}()});let O=(0,N.uF)(e),M=O.manifest.editorType?.sort()??[],Y=!!O.playground_file_version_id||i===P.nT.DevHandoff,L=e=>{switch(e){case S.FW.FIGMA:case S.FW.DEV:case S.FW.INSPECT:return i===P.nT.DevHandoff?P.nT.DevHandoff:P.nT.Design;case S.FW.FIGJAM:return w?null:P.nT.Whiteboard;case S.FW.SLIDES:return P.nT.Slides;case S.FW.SITES:return null;case S.FW.BUZZ:return(0,l.kc)().buzz_plugins_publishing?P.nT.Cooper:null;default:(0,d.xb)(e)}},U=e=>{switch(e){case S.FW.FIGMA:case S.FW.DEV:case S.FW.INSPECT:return(0,p.t)("community.using.figma_file");case S.FW.FIGJAM:return(0,p.t)("community.using.figjam_board");case S.FW.SLIDES:return(0,p.t)("community.using.slides");case S.FW.SITES:return(0,p.t)("community.using.figma_file");case S.FW.BUZZ:return(0,p.t)("community.using.buzz");default:(0,d.xb)(e)}},K=new Map;for(let e of M){let t=L(e);null==t||K.has(t)||K.set(t,{fileIconType:function(e){switch(e){case P.nT.Design:return u.y1.DESIGN;case P.nT.Whiteboard:return u.y1.WHITEBOARD;case P.nT.DevHandoff:return u.y1.DESIGN;case P.nT.Slides:return u.y1.SLIDES;case P.nT.Cooper:return(0,l.kc)().buzz_plugins_publishing?u.y1.COOPER:u.y1.DESIGN;case P.nT.Sites:case P.nT.Figmake:case P.nT.Illustration:return u.y1.DESIGN;default:(0,d.xb)(e)}}(t),fileDisplayText:U(e)})}let V=K.size,q=[];K.forEach(({fileIconType:t,fileDisplayText:i},n)=>{q.push({displayText:(0,p.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>(0,r.jsx)(H,{fileIconType:t,fileDisplayText:i,onClick:()=>{R(e.id,"new_file",n,k),_(h.oB()),B(e,n,_,I,!1)}})})});let J={displayText:(0,p.t)("community.using.new_file"),className:C.pz,preventDismissOnSelected:!0,autoHeightSubmenu:!0,render:()=>(0,r.jsx)(z,{hasSecondaryDropdown:q.length>1,text:(0,p.t)("community.using.new_file"),primaryFullscreenEditorType:i,resource:e}),children:q.length>1?q:void 0},Z={displayText:(0,p.t)("community.using.playground_file"),className:C.pz,preventDismissOnSelected:!0,render:()=>(0,r.jsx)(z,{hasSecondaryDropdown:!1,text:(0,p.t)("community.using.playground_file"),primaryFullscreenEditorType:i,resource:e})};(0,x.U3)("resize",()=>{f&&_(h.oB())});let Q=(()=>{let t=[];if(void 0===W||W.length>0)t.push({displayText:"recentFiles",preventDismissOnSelected:!0,render:()=>(0,r.jsx)(G,{files:W,resource:e,editorTypes:M})});else if(!Y&&V>1)return q;return Y?t.push(Z):t.push(J),t})();return(0,r.jsx)(j.j,{autoHeight:!0,className:C.qN,dispatch:_,hidePointWhenContentOffScreen:!0,items:Q,lean:t,minWidth:280,onSelectItem:o.lQ,parentRect:m?.data.targetRect,rootAndSubmenuMaxWidth:280,showPoint:!1,subMenuClassName:C._3,type:D.it.MATCH_BACKGROUND})});return{dropdownIsShown:f,toggleSwitchEditorDropdown:(t,r)=>{let n=t.current?.getBoundingClientRect();n&&((void 0!==r?r:!f)?_(h.j7({type:L,data:{resourceId:e.id,viewContext:i,targetRect:n}})):_(h.oB()))},PluginTrySwitchEditorDropdown:E}}let L="PLUGIN_TRY_SWITCH_EDITOR_DROPDOWN"},735270:(e,t,i)=>{i.d(t,{nT:()=>c,Rx:()=>_,q9:()=>p,IY:()=>u});var r=i(104076),n=i(237420),s=i(293422),d=i(192075),o=i(147046),l=i(132078),a=i(337726);let c="ACCOUNT_SWITCHING_ADD_ACCOUNT_ONBOARDING_KEY";function u(e){let t=e=>{e.stopPropagation()};return(0,r.jsxs)("span",{className:"account_switching_onboarding--footerContainer--NtI0l",children:[(0,r.jsx)("span",{className:"account_switching_onboarding--steps--aCBzs",children:(0,d.tx)("rcs.account_switching.step_counter",{step:e.step,totalSteps:e.totalSteps})}),(0,r.jsx)(s.$n,{variant:"secondary",onClick:i=>{t(i),e.onClick()},htmlAttributes:{onMouseDown:t},children:e.step===e.totalSteps?(0,d.tx)("rcs.account_switching.done"):(0,d.tx)("rcs.account_switching.next")})]})}function _(e){let t=(0,n.wA)();return(0,r.jsxs)(l.NJ,{dismissModal:e.dismissModal,width:247,targetKey:c,alignPointerToLeft:!0,className:"account_switching_onboarding--accountSwitchingAddAccountViewPointerModal--mf5oH pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",children:[(0,d.tx)("rcs.account_switching.this_is_where_you_access_account_settings_add_or_remove_accounts_and_see_your_figma_profiles"),(0,r.jsx)(u,{step:e.step,onClick:()=>{t(o.oB()),e.onClickPrimaryCta()},totalSteps:e.totalSteps})]})}function p(e){return(0,r.jsxs)(l.NJ,{dismissModal:e.dismissModal,width:208,targetKey:a.Ro,alignPointerToLeft:!0,children:[(0,d.tx)("rcs.account_switching.notifications_for_your_workspace_live_here"),(0,r.jsx)(u,{step:e.step,onClick:e.onClickPrimaryCta,totalSteps:e.totalSteps})]})}},680731:(e,t,i)=>{i.d(t,{g:()=>d});var r=i(812714),n=i(983500),s=i(404343);let d=(0,r.kc)().file_browser_sidebar_row_ui?(0,n.jz)(s.Hvv):(0,n.jz)(s.RQv)},635970:(e,t,i)=>{i.d(t,{S:()=>r.S});var r=i(675426)},675426:(e,t,i)=>{i.d(t,{S:()=>o,T:()=>l});let{open:r,close:n,useRegisterMenu:s}=(0,i(209267).K)(),d={open:r,close:n};function o(){return d}let l=443==i.j?s:null}}]);

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8bfd58025e83ce38b1ae67136d5e8bd62027d7fd/4914-0287e00f67ec1887.min.js.map