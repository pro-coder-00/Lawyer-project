"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="983fd0ee-2a28-5082-8ca0-0d4580530613")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[344],{972699:(e,t,i)=>{i.d(t,{Jw:()=>n,Lm:()=>o,NQ:()=>_,Y1:()=>d,h3:()=>a,i1:()=>r,li:()=>c,um:()=>s,vL:()=>l,xW:()=>m,zP:()=>u});let a="desktop_tool_bar--toolBarSpacerContainer--rLTCP",o="desktop_tool_bar--toolBarContainer--1EjL8",n="desktop_tool_bar--pageViewToolBarContainer--iC3UY desktop_tool_bar--toolBarContainer--1EjL8",r="desktop_tool_bar--toolBarLeftSide--wJapT text--fontPos13--xW8hS text--_fontBase--QdLsd",l="desktop_tool_bar--toolBarCenter--orkTM",s="desktop_tool_bar--toolBarCenterFullWidth---a4El",c="desktop_tool_bar--toolBarRightSide--XfTEn",d="desktop_tool_bar--toolBarTabContent--a1orn ellipsis--ellipsis--Tjyfa",u="desktop_tool_bar--toolBarTabContentBase--CoAtY",_="desktop_tool_bar--adminSettingsToolBarTabContentBase--xaPNN",m="desktop_tool_bar--adminSettingsToolBarTabContentSelected--YOoLG"},957526:(e,t,i)=>{i.d(t,{T:()=>f,b:()=>h});var a=i(812714),o=i(795033),n=i(380494),r=i(369850),l=i(190028),s=i(755444),c=i(513369),d=i(459494),u=i(538829),_=i(944350),m=i(59849),p=i(904017);let h=(0,o.Iz)(e=>(0,o.eU)(t=>e?t(m.WF4.Query({orgId:e})).transform(({org:e})=>!!c.oA(e?.isSalesAssistedPlanProperty)?.value&&!(0,c.oA)(e?.subscriptionShouldNotAutoRenewPlanProperty)&&c.oA(e?.plan?.termsOfServiceAcceptanceByTermsKey)?.termsKey!==_.Lb.SEATS_MODEL_BILLING_2025):n.Qw.disabled()));function f(e,t){let i=(0,d.CT)(),n=(0,r.Xf)(e?.id),_=(0,u.n)(),m=(0,o.md)(h(e?.id??null)),f=(0,p.D6)("useProductTermsEligibility"),b=(0,p.j_)(f).unwrapOr(!1),x=n.data?.analyze_data_contract_v2_start,w=x?(0,l.A)(x):null,k=(0,l.A)(),v=!!w&&k.isBefore(w)&&90>=w.diff(k,"day"),g=!!w&&k.isBefore(w)&&30>=w.diff(k,"day"),j=(0,l.A)((0,s.tl)().analyze_data_flow_v2_until),y=!!e&&(0,l.A)(e.created_at).isBefore(j),C=(0,a.kc)().terms_of_service_may_2025_update;return e?.id&&(b||t)&&y&&i&&("loaded"!==m.status||m.data)?"loading"===n.status||"loading"===m.status?(0,c.Xm)():v&&m.data&&(_||C&&g)?(0,c.gB)({isEligible:!0,orgTermsInfo:{organizationName:e?.name??"organization",renewalDate:w}}):(0,c.gB)({isEligible:!1}):(0,c.gB)({isEligible:!1})}},538873:(e,t,i)=>{i.d(t,{y:()=>r});var a=i(544995),o=i(207472),n=i(643898);function r(e,t,i,r,l){let{userId:s,orgId:c,teamId:d}=e,u=i.authedUsers.byId[s],_=r?r.orgs.reduce((e,t)=>({...e,[t.id]:t}),{}):i.orgById,m=r?r.teams.reduce((e,t)=>({...e,[t.id]:t}),{}):i.teams,p=(0,o.HE)(i,e,_,m),h=(0,n.R$)(u,c),f=!!l&&!(0,a.MJ)(c?_[c]:null,d?m[d]:null,null);if(!c){let t=r?.plansByUserId[s]?.find(e=>e.plan_id===d),i=t?.is_plan_locked,a=t?.draft_folder_id;return{...e,user:u,workspaceName:p,isDisabledDueToECC:h,isDsePresetsDisabled:f,isPlanLocked:i,draftFolderId:a}}let b=i.orgById[c];if(b?.standing==="SUSPENDED")return null;let x=!!b?.figjam_disabled_at&&"whiteboard"===t,w=!!b?.is_slides_disabled&&"slides"===t,k=r?.plansByUserId[s]?.find(e=>e.plan_id===c),v=(k?.is_sites_disabled??!0)&&"sites"===t,g=(k?.is_cooper_disabled??!0)&&"cooper"===t,j=(k?.is_figmake_disabled??!0)&&"figmake"===t,y=k?.is_plan_locked,C=k?.draft_folder_id;return{...e,user:u,workspaceName:p,isFigJamDisabled:x,isDisabledDueToECC:h,isDsePresetsDisabled:f,isSlidesDisabled:w,isSitesDisabled:v,isCooperDisabled:g,isFigmakeDisabled:j,isPlanLocked:y,draftFolderId:C}}},733613:(e,t,i)=>{i.d(t,{d:()=>Q});var a=i(104076),o=i(716976),n=i(237420),r=i(775376),l=i(276800),s=i(739713),c=i(225654),d=i(853943),u=i(232120),_=i(812714),m=i(188220),p=i(901014),h=i(71609),f=i(449572),b=i(816565),x=i(679359),w=i(849757),k=i(147643),v=i(192075),g=i(659062),j=i(366535),y=i(139366),C=i(646767),T=i(623614),N=i(581335),A=i(635789),I=i(198365),P=i(670948),B=i(23143),E=i(292308),R=i(592726),M=i(59849),D=i(821359),F=i(859490),L=i(210793),S=i(54928),O=i(159269);let z="thread_view--column--pFFpC",U="thread_view--fileName--4NIoC",H="thread_view--headerButton--hhuMt",q=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},V=null,Q=(0,o.forwardRef)((e,t)=>{let i=(0,f.bc)(M.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return(0,a.jsx)("div",{className:"thread_view--container--VP-cU",ref:t,children:(0,a.jsxs)("div",{className:z,children:[(0,a.jsxs)("div",{className:"thread_view--header--Ci9Mz",children:[(0,a.jsx)("div",{className:H,children:!e.fileBrowser&&(0,a.jsx)(k.J,{"aria-label":(0,v.t)("quick_reply.navigate_back"),onClick:e.onClose,children:(0,a.jsx)(s.C,{})})}),e.fileBrowser?(0,a.jsx)("div",{className:U,children:"loaded"===i.status&&i.data.file&&i.data.file.name}):(0,a.jsx)("h2",{className:U,children:"loaded"===i.status&&i.data.file&&i.data.file.name}),(0,a.jsx)("div",{className:H,children:e.fileBrowser?(0,a.jsx)(k.J,{"aria-label":(0,v.t)("quick_reply.close"),onClick:e.onClose,children:(0,a.jsx)(c.X,{})}):(0,a.jsx)("div",{style:{display:"none"},children:(0,a.jsx)(k.J,{"aria-label":(0,v.t)("quick_reply.more"),children:(0,a.jsx)(d.J,{})})})})]}),(0,a.jsx)(Y,{quickReplyInfo:e.quickReplyInfo,result:i,inFileBrowser:e.fileBrowser})]})})});function Y(e){let t=(0,R.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?(0,a.jsx)(x.qc,{size:"medium"}):"errors"===e.result.status||null==e.result.data.file?(0,a.jsx)("div",{className:"thread_view--errorState--0zDhR",children:(0,v.t)("quick_reply.unable_to_load_thread")}):(0,a.jsx)($,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,inFileBrowser:e.inFileBrowser}):null}function $(e){let{quickReplyInfo:t,result:i,user:l}=e,{fileKey:s,threadId:c}=t,d=(0,A.dr)({args:{fileKey:s,rootId:c},subscription:i}),m=(0,n.wA)(),{file:f}=i.data,x=(0,o.useMemo)(()=>(0,D.mp)({currentOrgId:f.parentOrgId,teamId:f.teamId,fileKey:s,users:[],userGroupAtMentionsEnabled:(0,_.kc)().user_groups_at_mentions}),[f.parentOrgId,f.teamId,s]),{mobileCommentThread:w}=f,{currentUserCommentReadStatus:g}=f,j=w.find(e=>e.id===c),T=o.useMemo(()=>w.reduce((e,t)=>t.createdAt.getTime()>e.createdAt.getTime()?t:e).thumbnailUrl,[w]),N=(0,n.d4)(e=>e.comments.savingCommentUuids),P=(0,n.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!j)return(0,a.jsx)("div",{children:(0,v.t)("quick_reply.unable_to_load_thread")});let B=w.map(e=>(0,I.G9)(l.id,j,e,g??I.gj,N,P,e.attachments)),R={id:j.id,key:s,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:B,messageMeta:B[0].message_meta,page:j.clientMeta?.pageId||null,isActive:!0,replyCount:w.length-1,isCanvasMention:!1,pageName:j.clientMeta?.pageId||null,sidebarItemType:E.kT.COMMENT_THREAD},M={api:d,status:i.status,data:q,threads:{status:i.status,data:[R],errors:i.errors},errors:i.errors,isUnresolvedLoaded:!0};return(0,a.jsx)(C.kR,{value:M,children:(0,a.jsxs)("div",{className:"thread_view--mouseContainer--HL60q",onMouseEnter:()=>{let e=B.some(e=>e.isUnread);V=setTimeout(()=>{d.commentReceipts&&e&&(m(y.AY({receiptsAPI:d.commentReceipts,thread:R})),(0,p.sx)("Comment Thread Read",{commentThreadId:c,threadType:"file_browser_quick_reply"}))},1e3)},onMouseLeave:()=>{V&&clearTimeout(V)},children:[(0,a.jsxs)("div",{className:"thread_view--preview--z-6n-",children:[(0,a.jsx)(h.B,{children:(0,a.jsx)(b.oW,{src:T||void 0,className:"thread_view--previewImage--jVECf",style:{backgroundColor:(0,r.C)(f.checkpointClientMeta)},alt:"thumbnail"})}),(0,a.jsx)("div",{className:"thread_view--openFileButton--f0HVP",children:(0,a.jsx)(k.J,{"aria-label":(0,v.t)("quick_reply.open_file"),onClick:()=>{let e=t.deeplink??`/file/${s}?fuid=${l.id}&#${c}`;window.location.href=e},children:(0,a.jsx)(u.V,{})})})]}),(0,a.jsx)(W,{loadedComments:B,user:l,quickReplyInfo:t,commentMentionables:x,inFileBrowser:e.inFileBrowser})]})})}function W(e){let{loadedComments:t,user:i,quickReplyInfo:r,commentMentionables:s,inFileBrowser:c}=e,{fileKey:d,threadId:u}=r,_=(0,n.wA)();(0,o.useEffect)(()=>{_(y.Fm({threadId:u}))},[_,u]);let p=(0,n.d4)(e=>e.comments.typeahead),h=(0,n.d4)(e=>e.comments.editingComment),f=(0,n.d4)(e=>e.comments.activeThread?.id),b=(0,n.d4)(e=>e.comments.threads),x=f&&b[f]||null,k=x?.reply.messageMeta||[],{submitReply:A,updateMessage:I,submitEdit:R}=function(e){let t=(0,n.wA)(),i=(0,C.I_)().writeAPI,a=C.GH()?.threads;return{submitReply:o.useCallback(e=>{if(!i){console.error("Calling submitReply with no write API");return}a&&"loaded"===a.status&&a.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(a,o,n,r,l,s)=>y.dB(i,t,a,o,n,r,l,s,e.uuid,S.y),t(y.lV({...e,commentsWriteApi:i,commentsConfiguration:S.y,trackingContext:{feature:"web_quick_reply_screen"}})))},[t,a,i]),updateMessage:o.useCallback(i=>{t(y.k7({threadId:e,messageMeta:i}))},[t,e]),submitEdit:o.useCallback((e,i)=>{t(y._v({comment:e,messageMeta:i}))},[t])}}(u),M=(0,N._B)(),D=o.useRef(null),U=o.useRef(null),H=o.useRef(null),[q,V]=o.useState(null),[Q,Y]=o.useState(o.useRef(null)),$=o.useRef(null),W=0,J=0,X=0;$.current&&$.current.offsetParent&&(W=$.current.offsetWidth,J=$.current.offsetLeft,X=$.current.offsetParent.clientHeight-$.current.offsetTop);let K=e=>e||{x:0,y:0},G=o.useRef(null);(0,o.useEffect)(()=>{G.current&&G.current.scrollToBottom()},[]);let Z=(0,o.useCallback)(e=>{_((0,j.to)({type:L.E,data:{comment:e,onConfirm:()=>{_(y.Mv({comment:e}))}}}))},[_]),ee=[...new Set(t.map(e=>e.user.handle))],et=t.find(e=>e.id===u);return et?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:g.sx.flex1.$}),(0,a.jsx)(w.P,{className:"thread_view--bottomAnchoredScrollContainer--VHpoB",useBottomPinning:!0,ref:G,enableScrollShadow:!0,children:(0,a.jsx)("div",{className:z,children:t.slice().map((e,o)=>(0,a.jsx)(P.I,{allowAttachments:!1,comment:e,dispatch:_,editingComment:h,editorOnClear:M.editorOnClear,editorOnInsert:M.editorOnInsert,editorRef:H,editorType:"comment-editor-thread",hideEmojiPicker:!1,hideReactions:!1,hideResolve:!1,hyperlinkLocation:q,index:o,isQuickReplyThreadView:!0,mentionables:s,mountInputFocused:!0,onDelete:Z,overflowMenuActions:c?[]:void 0,prevAuthor:0===o?null:t[o-1].user_id,setHyperlinkEditorRef:Y,setHyperlinkLocation:V,setIsEditorFocused:l.lQ,setResolved:l.lQ,showEditedIndicator:!!e.edited_at,submitEdit:R,thread:{comments:t,key:d,id:u},threadPosition:{x:0,y:0},typeahead:p,user:i,viewportPositionFromClientPosition:K},`thread-comment-${e.id}`))})}),(0,a.jsx)(B.K,{allowAttachments:!1,authorNames:ee,className:O.MJ,dispatch:_,editingExistingComment:!1,editorOnClear:M.editorOnInsert,editorOnInsert:M.editorOnClear,editorRef:U,editorType:"comment-editor-reply",fileKey:d,hideEmojiPicker:!1,hyperlinkLocation:q,isDisabled:!1,isEmojiPickerDisabled:null!==h,mentionables:s,messageMeta:k,mountInputFocused:e.inFileBrowser??!1,onCancel:l.lQ,onComposeFocus:void 0,onSubmit:()=>{A({threadId:u,threadUuid:et.uuid||void 0,uuid:(0,m.g)()})},placeholderText:(0,v.t)("comments.reply"),recordingKey:E.Dw.quickReply,replyContainerRef:$,setHyperlinkEditorRef:Y,setHyperlinkLocation:V,setIsEditorFocused:l.lQ,submitText:(0,v.t)("comments.reply"),threadId:u,threadPosition:null,typeahead:p,updateMessage:I,user:i,viewportPositionFromClientPosition:K}),(0,a.jsx)(T.rf,{decoratorsRef:D,onClear:M.onClear,onInsert:M.onInsert,width:W,direction:F.ri.UPWARDS,positionFromBottom:{left:J,bottom:X}})]}):null}},905150:(e,t,i)=>{i.d(t,{N:()=>c});var a=i(716976),o=i(237420),n=i(188220),r=i(449572),l=i(59849),s=i(754039);function c(){let e=a.useMemo(()=>(0,n.g)(),[]),t=(0,o.d4)(s.kY),i=(0,r.bc)(l.gfM,{cacheNonce:e});return a.useMemo(()=>{if("loaded"===i.status){let e=i.data?.lockClient;if(e)return e.lock}return t},[i,t])}},449250:(e,t,i)=>{i.d(t,{K:()=>c});var a=i(104076),o=i(903853),n=i(918999),r=i(236631),l=i(192075),s=i(578888);function c(){return(0,a.jsx)(n.u,{useOriginalSrcFills:!0,imageClassName:"request_error_interstitial--warningIcon--9ayvs",imageSrc:s.A,headerText:(0,l.t)("request_error_interstitial.there_was_an_error"),children:(0,a.jsx)(o.vd,{className:r.s.mt24.$,type:"submit",onClick:()=>{window.location.href=window.location.href},children:(0,l.tx)("request_error_interstitial.refresh_and_try_again")})})}},68760:(e,t,i)=>{i.d(t,{F:()=>o});var a=i(645040);function o(e,t,i){let{authedUsers:o,authedActiveCommunityProfile:n}=e,r=[],l=[];if(n?.associated_users)for(let e of n.associated_users){let t=o.byId[e.user_id];t&&(r.push(e.user_id),l.push(t))}return n?.team_id&&e.teams[n.team_id]?.org_id?[{teamId:null,orgId:e.teams[n.team_id].org_id,userId:e.user.id}]:n?.org_id||n?.team_id?[{teamId:n?.team_id??null,orgId:n?.org_id??null,userId:e.user.id}]:l.reduce((e,t)=>{let o=i.plansByUserId[t.id]||[];return e.concat(o.map(e=>(0,a.O)(e,t.id))||[])},[])}},538829:(e,t,i)=>{i.d(t,{n:()=>r});var a=i(237420),o=i(72686);let n=443==i.j?["orgAdminSettings","billingGroupDashboard","orgDomainManagement","orgIdpManagement","abandonedDraftFiles","teamAdminConsole","seatRequests","licenseGroup"]:null;function r(){let e=(0,a.d4)(e=>e.selectedView);return!!n.some(t=>t===e.view)||"workspace"===e.view&&e.subView===o.V0.ADMIN}},596149:(e,t,i)=>{i.d(t,{pG:()=>u,rw:()=>_});var a=i(104076),o=i(716976),n=i(217123),r=i(972699),l=(e=>(e.DEFAULT="default",e.ADMIN_SETTINGS="adminSettings",e))(l||{});class s extends n.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:r.zP})}}class c extends n.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:r.NQ,selected:r.xW})}}class d extends o.PureComponent{constructor(e){super(e),this.getTabClassWithStyling=()=>"adminSettings"===this.props.variant?c:s}render(){let e=this.getTabClassWithStyling();return(0,a.jsx)(e,{tab:this.props.tab,selectedTab:this.props.selectedTab,onClick:this.props.onClick,disabled:this.props.disabled,tooltipText:this.props.tooltipText,showTooltipWhenDisabled:this.props.showTooltipWhenDisabled,dataText:this.props.dataText,children:(0,a.jsx)("span",{className:r.Y1,"data-onboarding-key":this.props["data-onboarding-key"],children:this.props.children})})}}let u=d.name;function _(){return d}},147643:(e,t,i)=>{i.d(t,{J:()=>r});var a=i(104076),o=i(716976),n=i(684742);let r=o.forwardRef(function({children:e,...t},i){return(0,a.jsx)(n.E,{...t,ref:i,className:"icon_button_32--iconButton--gFcI9",children:(0,a.jsx)("span",{"aria-hidden":!0,className:"icon_button_32--icon--8SoTm",children:e})})})},869944:(e,t,i)=>{i.d(t,{ID:()=>a}),i(120440);let a={inputMargin:"8px",previewRowHeight:"48px",containerWidth:"380px",containerWidthDesktopNewTab:"816px",bottomPaddingDesktopNewTab:"32px",barHeight:"32px"}},691584:(e,t,i)=>{i.d(t,{H:()=>n});var a=i(716976),o=i(276800);let n=a.createContext({onClick:()=>!1,toggleQuickReply:o.lQ,onMouseMove:o.lQ,onRemove:o.lQ,inDesktopTray:!1})},845035:(e,t,i)=>{i.d(t,{IP:()=>e2,fd:()=>a,he:()=>e1,e8:()=>e5,ql:()=>e0});var a,o=i(104076),n=i(716976),r=i(237420),l=i(99723),s=i(322530),c=i(240803),d=i(419822),u=i(684742),_=i(511570),m=i.n(_),p=i(633065),h=i(719913),f=i(219199),b=i(409019),x=i(328341),w=i(225125),k=i(432099),v=i(849757),g=i(192075),j=i(58212),y=i(111679),C=i(147046),T=i(459494),N=i(249586),A=i(347194),I=i(211862),P=i(288747),B=i(937505),E=i(592726),R=i(469229),M=i(465720),D=i(315515),F=i(417439),L=i(248132),S=i(293422),O=i(286138),z=i(936031),U=i(420680),H=i(527494),q=i(78468),V=i.n(q),Q=i(372868),Y=i(755444),$=i(115989),W=i(256384),J=i(205084),X=i(142914),K=i(52532),G=i(826160),Z=i(503099),ee=i(691584),et=i(423001);let ei="block_kit_row--rowContainer--hsQo5",ea="block_kit_row--rowWidth--kC8ex",eo="block_kit_row--metadataContainer--tcs33",en="block_kit_row--usersContainerStructuredView--PUPYI",er="block_kit_row--quickReplyChevronContainerBase--Z-3oi",el="block_kit_row--quickReplyChevronContainerDesktop--Nn5jL block_kit_row--quickReplyChevronContainerBase--Z-3oi",es="block_kit_row--imagePreview--CqQsi";function ec(e){return`notification-${e.notification_id}`}function ed(e){return(0,o.jsx)("span",{className:"block_kit_row--htmlTextBlock--wINSP",dangerouslySetInnerHTML:{__html:V().sanitize(e.block.html_text)}})}function eu(e){let t=(0,Q.UF)(e.block.emoji_shortcode)[0];return t.meta?(0,o.jsx)("span",{className:"block_kit_row--emojiUnicode--qBoed",children:t.unicode}):(0,o.jsx)(o.Fragment,{})}function e_(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?(0,o.jsx)(ed,{block:e},t):(0,o.jsx)(eu,{block:e},t)):[]}function em(e){let{block:t,size:i}=e;return(0,o.jsx)(G.Ro,{entity:{...t,id:t.entity_id},size:i,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function ep(e){let{block:t}=e;return(0,o.jsx)("div",{className:`${es} thumbnail_DEPRECATED--tileThumbnail--4kE7l`,style:{background:`url(${(0,K.A)()})`},children:(0,o.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnailContainer--xPcsg",style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:i,blue:a,alpha:o}=e;return`rgba(${255*t|0}, ${255*i|0}, ${255*a|0}, ${o})`})(t.background_color)},children:(0,o.jsx)("div",{className:"thumbnail_DEPRECATED--thumbnail--WuuvA thumbnail_DEPRECATED--baseThumbnail--8p9z4",style:{backgroundImage:`url(${t.img_url})`}})})})}function eh(e){let{block:t}=e;return(0,o.jsx)("div",{className:"block_kit_row--square--vD5SO",children:(0,o.jsx)("div",{className:es,style:{backgroundImage:`url(${t.img_url})`}})})}function ef(e){let{avatars:t,icon:i}=e;return 0===t.length?null:t.length>1?(0,o.jsxs)("div",{className:en,children:[(0,o.jsx)("div",{className:"block_kit_row--secondaryUser--hkjpm",children:(0,o.jsx)(em,{block:t[1],size:X.Pf.MEDIUM})}),(0,o.jsx)("div",{className:"block_kit_row--primaryUser--lg4hR",children:(0,o.jsx)(em,{block:t[0],size:X.Pf.MEDIUM})}),i&&(0,o.jsx)(eb,{icon:i})]}):(0,o.jsxs)("div",{className:en,children:[(0,o.jsx)(em,{block:t[0],size:X.Pf.LARGE}),i&&(0,o.jsx)(eb,{icon:i})]})}function eb(e){let{icon:t}=e,i=new Set([(0,Y.ck)("fc8b3d0c889b51bd8800945089e8b473ff4d619d")]);return(0,o.jsx)("div",{className:"block_kit_row--icon--YApgQ",children:"ImageThumbnailBlock"===t._block_type?(0,o.jsx)("img",{className:`block_kit_row--iconImg--SRdFH ${i.has(t.img_url)?"":"block_kit_row--iconInvert--7YBRA"} `,src:t.img_url,alt:""}):"ReacjiBlock"===t._block_type?(0,o.jsx)(eu,{block:t}):"AvatarBlock"===t._block_type?(0,o.jsx)(em,{block:t,size:X.Pf.SMALL16}):void 0})}function ex(e){let t=(0,r.wA)(),{block:i,callbacks:a,isPrimary:n=!0,isDisabled:l,setIsDisabled:s}=e,c=async e=>{try{s(!0);let o=(await a.buildNotificationActionRequest(i.notification_action)).data.meta.updated_notification_blob;e&&t(j.F.enqueue({message:e,error:!1,role:"status"})),i.hide_after_action?a.hideNotification():(a.followLinkIfPossible(),o&&a.updateNotification(o.notification_id,o))}catch(a){let e=a.message||("resolve"===i.notification_action?(0,g.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,g.t)("user_notification.an_error_occurred_while_removing_this_notification"));t(W.s.error(e))}finally{s(!1)}},d=e_([i.text]);return(0,o.jsx)(S.IK,{variant:n?"primary":"secondary",onClick:()=>{c(i.screenreader_action_success_announcement)},disabled:l,"aria-describedby":e.describedById,children:d})}function ew(e){let{block:t,actionBlockCallbacks:i,describedById:a}=e,[r,l]=n.useState(!1);return(0,o.jsxs)("div",{className:"block_kit_row--rowBottom--dKrKA",children:[(0,o.jsx)(ex,{block:t.secondary_action,callbacks:i,isPrimary:!1,isDisabled:r,setIsDisabled:l,describedById:a}),(0,o.jsx)(ex,{block:t.primary_action,callbacks:i,isPrimary:!0,isDisabled:r,setIsDisabled:l,describedById:a})]})}function ek(e){let{block:t,plan:i,shouldShowChevron:a,userLastViewedTimestamp:n,inDesktopTray:r,openQuickReply:l}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return(0,o.jsx)(ev,{block:t,plan:i,shouldShowChevron:a});case"SplitlineTitleAndBodyBlock":return(0,o.jsx)(eg,{block:t,shouldShowChevron:a,userLastViewedTimestamp:n,inDesktopTray:r,openQuickReply:l})}}function ev(e){let{block:t,plan:i,shouldShowChevron:a}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"block_kit_row--contentContainer--ZbpO2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,o.jsxs)("div",{className:"block_kit_row--content--52-rY",children:[(0,o.jsx)("div",{children:e_(t.title)}),(0,o.jsxs)("div",{className:eo,children:[(0,o.jsxs)("div",{className:"block_kit_row--textContainer--168xh",children:[t.description&&(0,o.jsx)("div",{className:"block_kit_row--notificationDescription--lMjfr ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:e_(t.description)}),(0,o.jsxs)("div",{className:"block_kit_row--fromNow--ryp9b",children:[i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Z.H,{entityId:i.id.toString(),entityName:i.name,imgUrl:i.img_url||void 0}),(0,M.gN)(i.name,21),(0,o.jsx)("div",{className:"block_kit_row--planDivider--XnNq8",children:"\xb7"})]}),(0,o.jsx)($.h1,{date:t.created_at,style:"short"})]})]}),a&&(0,o.jsx)("div",{className:"block_kit_row--quickReplyChevron--0rKX3",children:(0,o.jsx)(H.a,{})})]})]})}),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return(0,o.jsx)(em,{block:e,size:X.Pf.XLARGE});case"ImageThumbnailBlock":return(0,o.jsx)(eh,{block:e});case"FileThumbnailBlock":return(0,o.jsx)(ep,{block:e})}})()]})}function eg(e){let{block:t,shouldShowChevron:i,userLastViewedTimestamp:a,inDesktopTray:n,openQuickReply:r}=e;return(0,o.jsxs)("div",{className:"block_kit_row--contentContainerRevamp--voNSM text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,o.jsxs)("div",{className:"block_kit_row--titleAndTimestamp--30RnS",children:[(0,o.jsx)("div",{className:"block_kit_row--title--gqwu-",children:e_(t.title)}),(0,o.jsx)(eN,{createdAt:t.created_at,lastSeenTimestamp:a})]}),(0,o.jsxs)("div",{className:eo,children:[(0,o.jsx)("div",{className:"block_kit_row--subtitle--jIRsg",children:e_(t.subtitle)}),t.description&&(0,o.jsx)("div",{className:"block_kit_row--notificationDescriptionStructuredView--yUeTV ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:e_(t.description)}),i&&r&&(0,o.jsx)("div",{className:m()(n?el:er,"block_kit_row--quickReplyGradient--Nj1l9")})]})]})}function ej(e){let{notification:t}=e,i=(0,g.t)("user_notifications.unread_notifcation_sr");return(0,o.jsxs)("div",{className:m()("block_kit_row--rowTop--4zNja",ea),id:ec(t),children:[t.is_unread?(0,o.jsx)("div",{className:"block_kit_row--unreadDotStructuredView--WluAp"}):null,(0,o.jsx)(ef,{avatars:t.avatars,icon:t.icon}),t.is_unread?(0,o.jsx)(O.E,{children:i}):null,e.children]})}function ey(e){let{attachment:t,notification:i,dontShowPlanIcon:a}=e;return(0,o.jsx)(ej,{notification:i,children:(0,o.jsx)(ek,{block:t.body,plan:!0===a?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})})}function eC(e){let{attachment:t,notification:i,dontShowPlanIcon:a,openQuickReply:r}=e,{inDesktopTray:l}=n.useContext(ee.H);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(z.hE,{children:(0,o.jsx)(ej,{notification:i,children:(0,o.jsx)(ek,{block:t.body,plan:!0===a?void 0:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp,inDesktopTray:l,shouldShowChevron:(0,et.UC)(i),openQuickReply:r})})}),(0,et.UC)(i)&&r&&(0,o.jsx)("div",{className:l?el:er,children:(0,o.jsx)(z.HG,{children:(0,o.jsx)(U.K,{onClick:r,htmlAttributes:{"data-testid":"quick-reply-chevron"},"aria-label":(0,g.t)("user_notifications.open_quickreply"),children:(0,o.jsx)(H.a,{})})})})]})}function eT(e){let{attachment:t,notification:i,actionBlockCallbacks:a}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ej,{notification:i,children:(0,o.jsx)(ek,{block:t.body,plan:i.plan,userLastViewedTimestamp:i.filters.user_last_viewed_timestamp})}),(0,o.jsx)(ew,{block:t.actions,actionBlockCallbacks:a,describedById:ec(i)})]})}function eN(e){let{createdAt:t,lastSeenTimestamp:i}=e,a=eA(t,i),n=(0,$.Ak)(t,"narrow");if("today"!==a&&"new"!==a){let e=new Date(t),i={};i=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},n=new Intl.DateTimeFormat((0,J.Gq)().getPrimaryLocale(!1),i).format(e)}return(0,o.jsx)("div",{className:"block_kit_row--timestamp--FiNtf",children:n})}function eA(e,t){let i=new Date(e),a=new Date,o=new Date(a);return(o.setDate(a.getDate()-1),t&&new Date(t)<i)?"new":eI(i,a)?"today":eI(i,o)?"yesterday":i>=new Date(a.getFullYear(),a.getMonth(),a.getDate()-7)?"last_week":"older"}function eI(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var eP=(e=>(e.NEW="new",e.TODAY="today",e.YESTERDAY="yesterday",e.LAST_WEEK="last_week",e.OLDER="older",e))(eP||{});let eB={new:(0,g.tx)("user_notifications.new"),today:(0,g.tx)("user_notifications.today"),yesterday:(0,g.tx)("user_notifications.yesterday"),last_week:(0,g.tx)("user_notifications.last_7_days"),older:(0,g.tx)("user_notifications.older")};function eE(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}var eR=(e=>(e.ACTIONABLE="actionable",e.ACTIONED="actioned",e))(eR||{});let eM={actionable:(0,g.tx)("user_notifications.pending"),actioned:(0,g.tx)("user_notifications.done")};var eD=i(951002),eF=i(901014),eL=i(246144),eS=i(198425);function eO(e){let t=e.preferred_attachments.find(e=>eS.p.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function ez(e){var t;let i;let a=(0,r.wA)(),[l,s]=(0,n.useState)(!1),c=(0,r.d4)(e=>e.selectedView.view),{onClick:d,toggleQuickReply:_,onMouseMove:p,onRemove:h,inDesktopTray:f}=n.useContext(ee.H),b=e.notification;n.useEffect(()=>()=>{h(b)},[h,b]);try{i=eO(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let x=t=>{let i=c+"_quickreply";_(t,b,async()=>{try{await D.sr.markNotificationAsRead({notification_id:b.notification_id,currentView:i}),e.updateNotificationCallback(b.notification_id,{...b,is_unread:!1})}catch(e){(0,eL.x1)("Error marking notification as read",e)}})},w=e=>{p(e)},k=async t=>{(0,eF.sx)("file_browser_notification_clicked",{notification_id:b.notification_id,notification_type:b.notification_type,actionable:"ActionableAttachment"===i._block_type,selectedView:c,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),v(t);let o=d(b);try{await D.sr.markNotificationAsRead({notification_id:b.notification_id,currentView:c}),o||e.followLinkOnClickCallback(),e.updateNotificationCallback(b.notification_id,{...b,is_unread:!1})}catch(e){a(W.s.error((0,g.t)("user_notification.an_error_occurred_while_clicking_this_notification")))}},v=e=>{e.stopPropagation()},j=()=>{s(!0),e.onHide&&e.onHide()},y=(t,i=c)=>{switch(eF.az.trackDefinedEvent("notification.file_browser_notification_actioned",{notification_id:b.notification_id,notification_type:b.notification_type,notification_action:t,selectedView:c,plan_filter:e.currentPlanFilter||void 0,notification_filter:e.currentNotificationFilter}),t){case"resolve":return D.sr.acceptNotification({notification_id:b.notification_id,currentView:i});case"reject":return D.sr.rejectNotification({notification_id:b.notification_id,currentView:i});default:(0,eD.xb)(t)}},C=(t,i,a)=>{try{switch(t._block_type){case"ActionableAttachment":{let a={updateNotification:e.updateNotificationCallback,hideNotification:j,followLinkIfPossible:e.followLinkOnClickCallback,buildNotificationActionRequest:y};return(0,o.jsx)(eT,{attachment:t,notification:i,actionBlockCallbacks:a})}case"ClientActionableAttachment":return(0,o.jsx)(eC,{attachment:t,notification:i,openQuickReply:a});case"BodyAndThumbnailAttachment":case"BodyAttachment":return(0,o.jsx)(ey,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),j()}},T="ActionableAttachment"===(t=i)._block_type?(0,o.jsx)("article",{className:ei,onMouseMove:w,children:C(t,b)}):"ClientActionableAttachment"===t._block_type?(0,o.jsxs)(z.bL,{className:ei,children:[(0,o.jsx)(z.O6,{className:"block_kit_row--clientActionableRowFocus--OB-8f",onClick:k,htmlAttributes:{onMouseEnter:f?void 0:x,onMouseMove:w,"data-testId":"client-actionable-button",role:"link"}}),C(t,b,x)??(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(u.E,{className:m()(ei,ea),htmlAttributes:{onMouseEnter:f?void 0:x,onMouseMove:w,role:"link"},onClick:k,children:C(t,b)});return!l&&T||null}var eU=i(276800),eH=i(498349),eq=i(812714),eV=i(444853),eQ=i(407341),eY=i(361170),e$=i(733613);let eW=class e{constructor(){this.circularBuffer=new eV.C(e.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(t,i){i-this.lastTimestamp>e.THROTTLE_DURATION_MS&&(this.circularBuffer.push(t),this.lastTimestamp=i)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new eY.Mi(window.innerWidth,window.innerHeight)}};function eJ(e){let[t,i]=(0,n.useState)(null),[a,r]=(0,n.useState)(0),l=(0,I.q5)(),s=n.useRef(eU.lQ),c=n.useRef(eU.lQ),d=n.useRef(null),u=n.useRef(null),_=(0,et.zr)(l,t),m=n.useRef({notificationId:"",mouseLocationHistory:new eW,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,n.useEffect)(()=>{u.current&&u.current.addEventListener("mouseover",e=>{clearTimeout(m.current?.scheduledShowQuickReply)})},[t]);let p=()=>{clearTimeout(m.current?.scheduledMarkAsRead),m.current.scheduledMarkAsRead=setTimeout(()=>{c.current=s.current},1e3)},h=n.useMemo(()=>{function e(e,t,a){let o=window.innerWidth>900&&window.innerHeight>650;m.current.notificationId=e.notification_id,o&&(0,et.UC)(e)?(i((0,et.AS)(e)),r(t),s.current=a):(i(null),s.current=eU.lQ),m.current.mouseLocationHistory.clear()}return{onClick:e=>!1,toggleQuickReply:(t,i,a)=>{let o=!1;if(i.notification_id!==m.current.notificationId&&u.current&&t instanceof MouseEvent){let e=u.current.getBoundingClientRect(),i=new eY.Mi(e.left,e.top),a=new eY.Mi(e.left,e.bottom),n=[m.current.mouseLocationHistory.getLocation50msAgo(),i,a];o=(0,eQ.y)(new eY.Mi(t.clientX,t.clientY),n)}let n=t.target;if(o){var r;r=()=>{e(i,n.getBoundingClientRect().bottom,a)},clearTimeout(m.current?.scheduledShowQuickReply),m.current&&(m.current.scheduledShowQuickReply=setTimeout(r,500))}else clearTimeout(m.current?.scheduledShowQuickReply),e(i,n.getBoundingClientRect().bottom,a)},onMouseMove:e=>{m.current.mouseLocationHistory.push(new eY.Mi(e.clientX,e.clientY),e.timeStamp)},onRemove:e=>{e.notification_id===m.current.notificationId&&i(null)},inDesktopTray:!1}},[u]);if(!(0,eq.kc)().desktop_quickreply_filebrowser)return(0,o.jsx)(o.Fragment,{children:e.children});let f=Math.max(0,a-(d.current?.getBoundingClientRect().y??0)-(u.current?.getBoundingClientRect().height??640));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"quick_reply_switcher--hoverContainer--eL8mU",ref:d,children:t&&!_&&(0,o.jsx)("div",{className:"quick_reply_switcher--quickReplyContainer--7Qpx8","data-testid":"quick-reply-container",style:{top:f,maxHeight:640,minHeight:450},onMouseEnter:()=>{p()},onMouseLeave:()=>{clearTimeout(m.current?.scheduledMarkAsRead),c.current(),c.current=eU.lQ,s.current=eU.lQ},children:(0,o.jsx)(eH.i,{children:(0,o.jsx)(e$.d,{quickReplyInfo:t,onClose:()=>i(null),fileBrowser:!0,ref:u})})})}),(0,o.jsx)(ee.H.Provider,{value:h,children:e.children})]})}eW.BUFFER_CAPACITY=10,eW.DESIRED_DURATION_MS=50,eW.THROTTLE_DURATION_MS=eW.DESIRED_DURATION_MS/eW.BUFFER_CAPACITY;let eX="user_notifications_dropdown--arrowRight--g36M8",eK="user_notifications_dropdown--dropdownContainerEmptyState--7D3ct user_notifications_dropdown--dropdownContainer--ON3UV text--fontPos11--2LvXf text--_fontBase--QdLsd",eG="user_notifications_dropdown--dateHeader---l8oH",eZ="user_notifications_dropdown--markAllReadButton--TwhKK text--fontPos11--2LvXf text--_fontBase--QdLsd";function e0(e,t){let i=(0,r.wA)(),a=(0,r.d4)(e=>e.user.id),o=(0,r.d4)(e=>e.user.community_profile_id),s=(0,r.d4)(e=>e.authedUsers.byId[a]?.plans),c=n.useMemo(()=>void 0!==s&&(new Map(s.map(e=>[e.plan_id,e.is_org])).get(t)||!1),[s,t]),d=(0,r.d4)(e=>e.userNotifications.communityProfileBellStates),u=(0,r.d4)(e=>e.selectedView.view),[_,m]=(0,n.useState)(()=>new Map),[h,f]=(0,n.useState)(!0),x=(0,b.F)(d);n.useEffect(()=>{let n=(0,l.s)(()=>{e?o&&(x.current[o]&&i((0,M.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:o})),D.sr.getCommunityServerDriven({currentView:u}).then(({data:e})=>{w(e.meta)}).catch(e=>{i(j.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),i(C.oB())})):((0,M.Zo)(!1,M.td,a),D.sr.getServerDrivenPlan({currentPlanId:t,currentView:u,isPlanOrg:c}).then(({data:e})=>{w(e.meta)}).catch(e=>{i(j.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),i(C.oB())}))},800,!0);f(!0),n()},[t,x,u,i,e,c,o,a]);let w=e=>{let t=new Map,i=!1;e.forEach(e=>{t.set(e.notification_id,e),!i&&e.filters.is_priority&&(i=!0)}),m(t),f(!1)};return{notificationFeedMap:_,isFetchingNotifications:h,markAllAsReadFn:()=>{(e?k.Ay.post("/api/user_notifications/community/mark_read",{currentView:u,source:p.S8?"desktopbell":"web"}):k.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:u,is_plan_org:c,source:p.S8?"desktopbell":"web"})).then(()=>{m(new Map(Array.from(_,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{i(j.F.enqueue({message:(0,g.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{m(new Map(_.set(e,t)))}}}function e1(e,t){return e.filter(e=>!t.includes(e.notification_id))}function e5(e){return e.some(e=>e.filters.is_priority)}function e2(e){let{inCommunity:t,containerClassName:i,arrowRight:r}=e,[l,s]=(0,n.useState)(M.td),{notificationFeedMap:c,isFetchingNotifications:d,markAllAsReadFn:u,updateNotification:_}=e0(!!t,l),p=n.useCallback(e=>{e===L.a&&(e=M.td),(0,N.FE)(e,"notifications",void 0),s(e)},[s]);return d?(0,o.jsxs)(a.Container,{classNameProp:m()(eK,i,{[eX]:r}),children:[(0,o.jsx)(a.Header,{selectedPlan:l,onPlanFilterUpdate:p,inCommunity:!!t,inDesktopTray:!1}),(0,o.jsx)(a.LoadingFeed,{})]}):(0,o.jsx)(e4,{...e,selectedPlan:l,planFilterFn:p,notificationFeedMap:c,markAllAsReadFn:u,updateNotification:_})}function e4({containerClassName:e,arrowRight:t,inCommunity:i,selectedPlan:r,planFilterFn:l,notificationFeedMap:c,markAllAsReadFn:d,updateNotification:u}){let[_,p]=(0,n.useState)([]),h=r===M.td?L.a:r,f=e1([...c.values()],_),b=e5(f),w=(0,M.I5)(f),k=(0,T.xb)(b&&w),[v,g,j]=s.t.useTabs({all:!0,priority:b,unread:!0},{defaultActive:()=>k?"priority":"all"}),y=(0,x.ZC)(j.activeTab),C=(0,M.RH)(f);n.useEffect(()=>{j.activeTab!==y&&(0,N.Cu)({filter_type:j.activeTab},"user_notifications_filter_clicked")},[y,j.activeTab,w,C]);let A=n.useMemo(()=>f.filter(e=>e.filters.is_priority),[f]),I=n.useMemo(()=>f.filter(e=>e.is_unread),[f]),P=e=>(0,o.jsx)(a.Feed,{notifications:e,currentPlanFilter:h,currentNotificationFilter:j.activeTab,hiddenNotificationIds:_,setHiddenNotificationIds:p,inCommunity:i,fillParent:!1,updateNotificationCallback:u});return(0,o.jsx)(a.Container,{classNameProp:m()(0!==c.size?"user_notifications_dropdown--dropdownContainer--ON3UV text--fontPos11--2LvXf text--_fontBase--QdLsd":eK,e,{[eX]:t}),children:(0,o.jsxs)(eJ,{children:[(0,o.jsx)(a.Header,{selectedPlan:r,onPlanFilterUpdate:e=>l(e),inCommunity:!!i,inDesktopTray:!1}),(0,o.jsx)(a.FilterToggle,{notificationFilter:j.activeTab,toggleNotificationFilter:e=>{(0,N.Cu)({filter_type:e},"user_notifications_filter_clicked")},notifications:f,markAllAsReadFn:d,tabManager:j,tabPropsMap:v}),(0,o.jsx)(s.t.TabPanel,{...g.all,children:P(f)}),(0,o.jsx)(s.t.TabPanel,{...g.priority,children:P(A)}),(0,o.jsx)(s.t.TabPanel,{...g.unread,children:P(I)})]})})}function e7(e){return e.some(e=>e.is_unread)}(e=>{function t(e){return(0,o.jsx)("h3",{className:eG,children:eB[e.notificationDateGroup]})}function i(e){return(0,o.jsx)("h3",{className:eG,children:eM[e.notificationPriorityGroup]})}e.Container=function({children:e,classNameProp:t}){return(0,o.jsx)(c.o,{eventListeners:["onClick","onMouseDown"],children:(0,o.jsx)("div",{className:t,"data-onboarding-key":F.fD,children:e})})},e.LoadingFeed=function(){return(0,o.jsx)("div",{className:"user_notifications_dropdown--loadingContainer--jY9PZ",children:(0,o.jsx)(d.k,{})})},e.Feed=function(e){let a=(0,E.Pc)(),l=(0,r.d4)(e=>a?e.authedUsers.byId[a.id]?.plans:null),s=(0,r.Pj)(),c=(0,r.wA)(),d=(0,B.FC)(),u=(0,I.q5)(),_=(0,P.sZ)(),{Sprig:m}=(0,w.A)(),b=t=>{e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},x=!1;if(a&&!e.inCommunity&&l?.length===1&&(x=!0,e.currentPlanFilter===L.a)){let t=l[0].plan_id;for(let i of e.notifications)if(i.plan?.id.toString()!==t){x=!1;break}}let k=n.useCallback(t=>()=>{var i,a;if(!t.deeplink)return;let o=new URL(t.deeplink.href),n=o.pathname;if(n.includes("project"))i=n.split("project/")[1],(0,N.xr)("file_browser_folder_click",i,null,d,{selectedView:"notifications",planFilterId:e.currentPlanFilter===L.a?null:e.currentPlanFilter});else if(n.includes("team"))a=n.split("team/")[1],(0,N._J)("file_browser_team_click",a,d,{selectedView:"notifications",planFilterId:e.currentPlanFilter===L.a?null:e.currentPlanFilter});else if((0,h.ek)(n)){let t=(0,h.zv)(n);t&&c(y.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===L.a?void 0:e.currentPlanFilter||void 0},sprig:m}))}c(C.oB());let r=!!u&&u.key===(0,h.zv)(o.pathname);if(!p.eD&&r)c((0,A.H)({params:o.searchParams.toString(),hash:o.hash}));else if(t.deeplink.use_unsafe)f.Ay.unsafeRedirect(o.href,p.eD?void 0:"_blank");else if(e.inDesktopTray)f.Ay.redirect(o.href);else try{let e=(0,R.vU)(s.getState(),n);if("teamFeed"===e.view){_&&t.plan?.id.toString()===_.id?c(C.sf(e)):f.Ay.redirect(o.href,p.eD?void 0:"_blank");return}f.Ay.redirect(o.href,p.eD?void 0:"_blank");return}catch{f.Ay.redirect(o.href,p.eD?void 0:"_blank")}},[c,u,e.currentPlanFilter,e.inDesktopTray,d,s,_,m]);if(0===e.notifications.length)return(0,o.jsx)("div",{className:"user_notifications_dropdown--emptyRow--4UwYl",children:(0,g.tx)("user_notifications.dropdown.no_notifications")});{var j;let a,r;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number(eE(t))-Number(eE(e)));let l=e.inCommunity?"user_notifications_dropdown--scrollContainer--phbbl":"user_notifications_dropdown--scrollContainerWithPlan---Z4H1",s=eA((j=e.notifications)[0].preferred_attachments[0].body.created_at,j[0].filters.user_last_viewed_timestamp)===eA(j[j.length-1].preferred_attachments[0].body.created_at,j[0].filters.user_last_viewed_timestamp),c=e=>{let i;let n=null;if(!s)try{i=eO(e);let r=eA(i.body.created_at,e.filters.user_last_viewed_timestamp);r!==a&&(a=r,n=(0,o.jsx)(t,{notificationDateGroup:r},`date-${e.notification_id}`))}catch(e){console.error("Skipping date header, unsupported notification")}return n},d=e=>{let t=null,a=eE(e)?"actionable":"actioned";return a!==r&&(r=a,t=(0,o.jsx)(i,{notificationPriorityGroup:a},`priority-${e.notification_id}`)),t};return(0,o.jsx)(v.P,{className:`${e.fillParent?"":l}`,children:(0,o.jsx)("div",{children:e.notifications.map(t=>{let i=null;return i="priority"===e.currentNotificationFilter?d(t):c(t),(0,o.jsxs)(n.Fragment,{children:[i,(0,o.jsx)(ez,{notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:x,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>b(t.notification_id),followLinkOnClickCallback:k(t)},`row-${t.notification_id}`)]},`row-container-${t.notification_id}`)})})})}},e.UnreadBar=function(e){return e7(e.notifications)?(0,o.jsxs)("div",{className:"user_notifications_dropdown--unreadToggleBar---1U5q",children:[function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return(0,o.jsx)("div",{className:"user_notifications_dropdown--unread--e14XU",children:(0,g.t)("user_notifications.unread_count",{unreadCount:t})})}(e.notifications),e7(e.notifications)&&(0,o.jsx)(u.E,{onClick:e.markAllAsReadFn,className:eZ,children:(0,g.tx)("user_notifications.dropdown.mark_all_as_read")})]}):null},e.DateHeader=t,e.PriorityHeader=i,e.Header=function(e){let t=!e.inDesktopTray;return(0,o.jsxs)("div",{className:"user_notifications_dropdown--header--aOhWS",children:[e.inCommunity?(0,o.jsx)("div",{className:"user_notifications_dropdown--orgName--vbTxV ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,g.t)("user_notification.community_notifications")}):(0,o.jsx)(L.j,{currentPlanFilter:e.selectedPlan===M.td?L.a:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate,displaySettings:t}),e.children]})},e.FilterToggle=function(e){let t=(0,o.jsxs)(s.t.TabStrip,{manager:e.tabManager,children:[(0,o.jsx)(s.t.Tab,{...e.tabPropsMap.all,children:(0,g.t)("user_notification.all")}),(0,o.jsx)(s.t.Tab,{...e.tabPropsMap.priority,children:function(e){let t=e.reduce((e,t)=>e+Number(eE(t)),0);return 0===t?(0,g.t)("user_notifications.requests_empty"):(0,g.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)}),(0,o.jsx)(s.t.Tab,{...e.tabPropsMap.unread,children:function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,g.t)("user_notifications.unread_empty"):(0,g.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications)})]});return(0,o.jsxs)("div",{className:"user_notifications_dropdown--filterToggleBar--VhBmn user_notifications_dropdown--unreadToggleBar---1U5q",children:[t,e7(e.notifications)&&(0,o.jsx)(u.E,{onClick:e.markAllAsReadFn,className:eZ,children:(0,g.tx)("user_notifications.dropdown.mark_all_as_read")})]})}})(a||(a={}))},248132:(e,t,i)=>{i.d(t,{a:()=>N,j:()=>A});var a=i(104076),o=i(716976),n=i(237420),r=i(307829),l=i(420680),s=i(550012),c=i(17933),d=i(684742),u=i(417167),_=i(652539),m=i(192075),p=i(147046),h=i(366535),f=i(249586),b=i(211862),x=i(592726),w=i(336971),k=i(465720),v=i(878936),g=i(349311),j=i(226744);let y="notifs_plan_filter--boldTitle--ZUcpT",C="notifs_plan_filter--planFilterContainer--E2TSh";var T=i(364616);let N="ALL_PLANS_FILTER";function A(e){let{currentPlanFilter:t,onPlanFilterUpdate:i}=e,[A,I]=o.useState(N),P=(0,n.wA)(),B=(0,b.q5)(),E=(0,o.useRef)(null),{getTriggerProps:R,manager:M}=r.b(),D=(0,x.iZ)(),F=(0,n.d4)(e=>e.plans),L=(0,n.d4)(w.P),S=(0,n.d4)(e=>e.orgById),O=()=>{P(p.oB()),(0,f.Cu)({userId:D?.id,fileKey:B?.key,eventName:"Notification Settings Button Clicked"}),P(h.to({type:j.s,data:{tab:j.c.NOTIFICATIONS}}))};if(!D||!F||F.length<=1)return(0,a.jsxs)("div",{className:C,children:[(0,a.jsx)("h1",{className:y,children:(0,m.t)("user_notification.all_notifications")}),e.displaySettings&&F?.length===1&&(0,a.jsx)(l.K,{"aria-label":(0,m.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,m.t)("user_notifications.settings"),"data-tooltip-type":g.Ib.TEXT,"data-tooltip-show-above":!0},onClick:O,children:(0,a.jsx)(u.n,{})})]});let z=F.map(e=>e.plan_id);z.unshift(N);let U=(e,t)=>e===N?(0,m.t)("user_notification.all_notifications"):t[e],H=F.reduce((e,t)=>{if("plan_type"in t){let i="";if(t.plan_type===v.O.ORG){let e=S[t.plan_id];i=e?.name??i}else{let e=L[t.plan_id];i=e?.name??i}e[t.plan_id]=i}else"name"in t&&(e[t.plan_id]=t.name);return e},{}),q=z.map(e=>(0,a.jsx)(s.CU,{value:e,children:U(e,H)},e));return(0,a.jsxs)("div",{className:C,ref:E,children:[(0,a.jsx)(c.nK,{children:(0,a.jsxs)(r.bL,{manager:M,children:[(0,a.jsxs)(d.E,{"aria-label":(0,m.t)("user_notifications.notif_filter_label",{planName:U(t,H)}),className:"notifs_plan_filter--dropdownButton--hQgHc",...R(),children:[(0,a.jsx)("span",{className:[y,"notifs_plan_filter--autoTruncate--gl9us ellipsis--ellipsis--Tjyfa"].join(" "),children:(0,k.gN)(U(t,H),35)}),(0,a.jsx)(_.B,{svg:T.A,className:"notifs_plan_filter--chevronIcon--0Rqnp"})]}),(0,a.jsx)(r.mc,{children:(0,a.jsx)(s.z6,{title:null,onChange:e=>{i(e),I(e)},value:A,children:q})})]})}),e.displaySettings&&(0,a.jsx)(l.K,{"aria-label":(0,m.t)("user_notifications.settings"),htmlAttributes:{"data-dropdown-tooltip":(0,m.t)("user_notifications.settings"),"data-tooltip-type":g.Ib.TEXT,"data-tooltip-show-above":!0},onClick:O,children:(0,a.jsx)(u.n,{})})]})}},138516:(e,t,i)=>{i.d(t,{dV:()=>Y});var a=i(104076),o=i(716976),n=i(237420),r=i(17933),l=i(438557),s=i(684742),c=i(950187),d=i(268389),u=i(452981),_=i(368422),m=i(929302),p=i(662376),h=i(58599),f=i(266808),b=i(795033),x=i(188220),w=i(511570),k=i.n(w),v=i(428710),g=i(770522),j=i(352630),y=i(192075),C=i(171660),T=i(366535),N=i(111297),A=i(76404),I=i(74620),P=i(592726),B=i(104836),E=i(86653),R=i(176203),M=i(563554),D=i(959834),F=i(169340),L=i(445857),S=i(778920),O=i(991653),z=i(763934),U=i(677883);let H="edit_color_palette_modal--modalLabel--AVogh text--fontPos11--2LvXf text--_fontBase--QdLsd",q="edit_color_palette_modal--circleButton--ewqgH";function V({color:e,setColor:t,index:i,isColorPickerOpen:o,setColorPickerOpen:n,removeColor:c,theme:d,dropperDisabled:u}){let{getContainerProps:_,getTriggerProps:m}=r.fP({isOpen:o,onOpenChange:n,type:"menu",softDismiss:!0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.mc,{..._(),children:(0,a.jsx)(O.w,{color:e,theme:d,currentTool:f.NLJ.NONE,dropdownShown:null,onColorChange:t,dropperDisabled:u})}),(0,a.jsxs)("div",{className:"edit_color_palette_modal--colorCircleOuter--ZJqke",children:[(0,a.jsx)(l.u,{"aria-label":(0,y.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,v.colorToHex)(e)}),className:q,...m(),children:(0,a.jsx)(S.pt,{size:"large",value:e,selectionState:o?"selected":"unselected",paletteType:"base",background:"light"},e+"-"+i)}),(0,a.jsx)(s.E,{className:k()({"edit_color_palette_modal--deleteColorButton--rWqOY":!0,"edit_color_palette_modal--deleteColorButtonDisabled--dwsFr":o}),onClick:()=>c(),"aria-label":(0,y.t)("whiteboard.color_palettes.modal.remove_color",{color_name:(0,y.t)("whiteboard.colors.palette.hexadecimal",{hex:(0,v.colorToHex)(e)})}),"data-testid":`delete-color-button-${i}`,children:(0,a.jsx)(p.A,{className:"edit_color_palette_modal--deleteColorIcon--BlYrV"})})]},"wrapper"+e+"-"+i)]})}function Q({onSave:e,onCancel:t,palette:i,enableSubmitWithNoChanges:r,manager:s,isPaletteEyedropperActive:m,theme:p}){let w=(0,n.wA)(),[k,N]=o.useState(i?.name||""),[I,M]=(0,b.fp)(U.Jq),D=o.useCallback(()=>-1!==I&&(M(-1),!0),[I,M]);(0,A.O1)(D,A.KD.OVERLAY);let O=o.useMemo(()=>i?.baseColors||(0,L.Vk)(),[i?.baseColors]),[Q,$]=(0,b.fp)(U.rN),W=(0,b.Xr)(F.Bw),J=!(0,g.$K)(O,Q)||r,[X,K]=o.useState(!1);o.useEffect(()=>(M(-1),$(O),W(f.cxo.EDIT_PALETTE_MODAL),()=>{M(-1),$(O),W(f.cxo.SELECTION)}),[M,$,W,O]);let G=(0,n.d4)(e=>{let t=e.selectedView;return"fullscreen"!==t.view||t.editorType!==R.nT.Whiteboard}),Z=o.useCallback(e=>{$([...Q,e])},[Q,$]),ee=o.useCallback((e,t)=>{$([...Q.slice(0,e),t,...Q.slice(e+1)])},[Q,$]),et=e=>{$([...Q.slice(0,e),...Q.slice(e+1)])},ei=o.useCallback(e=>{w(T.$O({type:Y.type,data:{palette:{uuid:e,name:k,baseColors:Q},enableSubmitWithNoChanges:!0,theme:p}}))},[w,k,Q,p]),ea=(0,B.cD)(),eo=(0,P.TA)(),en=(0,z.Bw)(),er=o.useCallback(()=>{let t=Q.some((e,t)=>Q.some((i,a)=>t!==a&&(0,g.DA)(e,i)));if(K(t),t)return;let a=Q.map(e=>(0,v.colorToHex)(e,1));if(k&&eo&&a.length){let t=i?.uuid||(0,x.g)();i?(0,U.NK)({name:k,teamId:ea,baseColors:a,uuid:t},w,()=>ei(t)):((0,U.cl)({name:k,teamId:ea,uuid:t,baseColors:a,creatorId:eo,isTeamDefault:!1,canRead:!0},w,()=>ei(t)),en(t,a.length,!0)),e()}},[Q,k,eo,i,e,ea,w,ei,en]),el=function(e){let t=(0,g.tK)(g.ol.MULTIPLAYER_PURPLE)||g.Uv;if(!e)return t;let i=(0,h.oB)(e),a=360*i.h,o={...i,h:(a+40)%360/360};return(0,h.In)(o)}(Q.length>0?Q[Q.length-1]:null),es=Q.length>=E.I_,ec=k&&k.trim()&&Q.length>0&&(!i||J||k!==i.name),ed=i?(0,y.t)("whiteboard.color_palettes.modal.edit_palette"):(0,y.t)("whiteboard.color_palettes.modal.create_palette");return(0,a.jsx)(c.bL,{width:"fit-content",height:"dynamic",manager:s,children:(0,a.jsxs)(d.vo,{allowOverflow:!0,children:[(0,a.jsx)(d.Y9,{children:(0,a.jsx)(d.hE,{children:ed})}),(0,a.jsxs)(d.nB,{style:{overflow:"visible"},children:[(0,a.jsx)(u.J,{htmlFor:"palette-name-input",className:H,children:(0,y.tx)("whiteboard.color_palettes.modal.name")}),(0,a.jsx)("div",{className:"edit_color_palette_modal--nameInput--iRWoM",children:(0,a.jsx)(_.p,{id:"palette-name-input",placeholder:(0,y.t)("whiteboard.color_palettes.modal.palette_name"),value:k||"",onChange:e=>N(e.slice(0,100)),size:"lg","data-testid":"palette-name-input"})}),(0,a.jsxs)("div",{className:"edit_color_palette_modal--colorsContainer--VNvss",children:[(0,a.jsx)("h3",{className:H,children:(0,y.tx)("whiteboard.color_palettes.modal.colors")}),(0,a.jsx)("p",{className:"edit_color_palette_modal--modalDescription--SeVmv text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,y.tx)("whiteboard.color_palettes.modal.choose_up_to_9_colors")}),X&&(0,a.jsx)("p",{className:"edit_color_palette_modal--modalDescriptionError--W6hs7 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,y.tx)("whiteboard.color_palettes.modal.duplicate_colors")}),(0,a.jsxs)("div",{className:"edit_color_palette_modal--colorPaletteContainer--aQ-En",children:[Q.map((e,t)=>(0,a.jsx)(V,{color:e,setColor:e=>ee(t,e),index:t,isColorPickerOpen:!m&&I===t,setColorPickerOpen:e=>M(e?t:-1),removeColor:()=>et(t),dropperDisabled:G,theme:p},"editbutton-"+e+"-"+t)),!es&&(0,a.jsx)(l.u,{"aria-label":(0,y.t)("whiteboard.color_palettes.modal.add_color"),"aria-haspopup":!0,"aria-expanded":!1,"data-testid":"add-color-button",className:q,onClick:()=>{M(Q.length),Z(el)},children:(0,a.jsx)(S.HL,{size:"large",value:S.WW,swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},fallbackSvg:S.xY})})]})]})]}),(0,a.jsx)(d.wi,{children:(0,a.jsxs)(d.jk,{children:[(0,a.jsx)(C.E,{color:"secondary",children:(0,y.tx)("whiteboard.color_palettes.modal.palettes_visible_to_everyone")}),(0,a.jsx)(j.$z,{variant:"secondary",onClick:t,children:(0,y.tx)("whiteboard.color_palettes.modal.cancel")}),(0,a.jsx)(j.$z,{variant:"primary",disabled:!ec,type:"submit",onClick:er,htmlAttributes:{"data-testid":"save-button"},children:(0,y.tx)("whiteboard.color_palettes.modal.save_palette")})]})})]})})}let Y=(0,D.Ju)(function({palette:e,theme:t,enableSubmitWithNoChanges:i,...r}){let l=(0,n.wA)(),s=(0,P.TA)(),c=(0,B.cD)(),d=m.hS({open:r.open,onClose:r.onClose}),u=(0,I.dH)(),_=(0,b.md)(F.Bw),p=u===f.NLJ.DROPPER_COLOR&&_===f.cxo.EDIT_PALETTE_MODAL,h=o.useCallback(()=>{l(T.Lo())},[l]);return(0,a.jsx)("div",{className:k()("edit_color_palette_modal--headerModalTransitionContainer--C-CFV",{"edit_color_palette_modal--hidden--EDk-H":p}),children:(0,a.jsx)(N.fu,{name:M.e0.FIGJAM_EDIT_PALETTE_MODAL,properties:{userId:s,teamId:c,type:e?"edit palette":"new palette"},children:(0,a.jsx)(Q,{onSave:h,onCancel:h,palette:e,enableSubmitWithNoChanges:i,manager:d,isPaletteEyedropperActive:p,theme:t})})})},"EditColorPaletteModal")},330086:(e,t,i)=>{i.d(t,{j:()=>O});var a=i(104076),o=i(237420),n=i(929302),r=i(950187),l=i(268389),s=i(419822),c=i(962856),d=i(420680),u=i(344921),_=i(471044),m=i(833805),p=i(140490),h=i(352630),f=i(192075),b=i(911990),x=i(366535),w=i(111297),k=i(41076),v=i(592726),g=i(59849),j=i(104836),y=i(86653),C=i(349311),T=i(563554),N=i(959834),A=i(354174),I=i(677883),P=i(201019);let B=(0,N.Ju)(function({paletteUuid:e}){let t=(0,o.wA)();return(0,a.jsx)(A.yX,{size:300,confirmText:(0,f.t)("whiteboard.color_palettes.modal.delete_color_palette_button"),confirmationTitle:(0,f.t)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_title"),popStack:!0,destructive:!0,onConfirm:()=>{(0,I.RN)(e,t)},children:(0,a.jsx)("div",{className:P.jE,children:(0,f.tx)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_content")})})},"DeleteColorPaletteConfirmationModal");var E=i(445857),R=i(778920),M=i(763934),D=i(138516);let F=(0,N.Ju)(function({paletteName:e,paletteUuid:t}){let i=(0,o.wA)(),n=(0,j.cD)(),r=(0,o.d4)(e=>e.teams[n]?.name);return r||console.error("No team name found for team id",n),(0,a.jsx)(A.yX,{size:360,confirmationTitle:(0,f.t)("whiteboard.color_palettes.make_default_confirmation_modal.title"),confirmText:(0,f.t)("whiteboard.color_palettes.make_default_confirmation_modal.confirm_button"),content:(0,f.t)("whiteboard.color_palettes.make_default_confirmation_modal.description",{teamName:r,paletteName:e||(0,f.t)("whiteboard.color_palettes.make_default_confirmation_modal.this_palette")}),onConfirm:()=>{t===y.fJ?(0,I.In)(n,i):(0,I.dq)(n,t,i)},popStack:!0})},"MakePaletteTeamDefaultConfirmationModal");function L({showMakeDefaultButton:e,entryPoint:t,theme:i,...c}){let d=(0,v.TA)(),u=(0,j.cD)(),_=n.hS({open:c.open,onClose:c.onClose}),p=(0,o.wA)(),[b]=(0,m.IT)((0,g.iP2)({teamId:u}),{enabled:!!u});return(0,a.jsx)(w.fu,{name:T.e0.FIGJAM_MANAGE_PALETTES_MODAL,properties:{entryPoint:t,userId:d,teamId:u},children:(0,a.jsx)(r.bL,{width:"fit-content",height:"dynamic",manager:_,children:(0,a.jsxs)(l.vo,{children:[(0,a.jsx)(l.Y9,{children:(0,a.jsx)(l.hE,{children:(0,f.t)("whiteboard.color_palettes.manage_modal.color_palettes")})}),(0,a.jsxs)(l.nB,{padding:16,children:[(0,a.jsxs)("div",{className:"manage_color_palettes_modal--subheader--2Aol7",children:[(0,a.jsx)("div",{className:"manage_color_palettes_modal--manageText---c1Ro",children:(0,f.tx)("whiteboard.color_palettes.manage_modal.manage_your_teams_color_palettes")}),(0,a.jsx)(h.$z,{variant:"primary",onClick:()=>{p(x.$O({type:D.dV.type,data:{theme:i}}))},htmlAttributes:{"data-testid":"create-color-palette-button"},children:(0,f.tx)("whiteboard.color_palettes.manage_modal.create_new_palette")})]}),(0,a.jsx)("div",{className:"manage_color_palettes_modal--paletteRowsOuter--d2OIk","aria-busy":"loading"===b.status,children:"loaded"===b.status&&b.data.colorPalettesForTeam?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{palette:{uuid:y.fJ,name:(0,f.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,E.TS)("base").map(e=>k.z5.format(e)),isTeamDefault:b.data.colorPalettesForTeam.every(e=>!e.isTeamDefault)},theme:i,showMakeDefaultButton:e},y.fJ),b.data.colorPalettesForTeam.map(t=>(0,a.jsx)(S,{palette:t,theme:i,showMakeDefaultButton:e},t.uuid))]}):(0,a.jsx)(s.k,{size:"lg",htmlAttributes:{"data-testid":"loading-spinner"}})})]})]})})})}function S({palette:e,theme:t,showMakeDefaultButton:i}){let n=(0,o.wA)(),r=e.uuid===y.fJ,l=e.name||(0,f.t)("whiteboard.color_palettes.unnamed_palette");return(0,a.jsxs)(b.Y,{width:"fill-parent",direction:"vertical",spacing:"4px",children:[(0,a.jsxs)(b.Y,{direction:"horizontal",spacing:"8px",children:[(0,a.jsx)("h3",{children:l}),e.isTeamDefault&&(0,a.jsx)(c.E,{variant:"brandOutline",children:(0,f.t)("whiteboard.color_palettes.manage_modal.default")})]}),(0,a.jsxs)(b.Y,{direction:"horizontal",width:"fill-parent",horizontalAlignItems:"space-between",children:[(0,a.jsx)(b.Y,{direction:"horizontal",width:"hug-contents",spacing:"0px",children:e.baseColors.map(e=>(0,a.jsx)(R.pt,{value:k.z5.parse(e),paletteType:"base",background:"light",role:"img",ariaLabel:(0,f.t)("whiteboard.colors.palette.hexadecimal",{hex:e})},e))}),(0,a.jsxs)(b.Y,{direction:"horizontal",width:"hug-contents",spacing:"8px",children:[!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.K,{onClick:()=>{n(x.$O({type:D.dV.type,data:{palette:{uuid:e.uuid,name:e.name,baseColors:(0,M.$v)(e?.baseColors),isTeamDefault:e.isTeamDefault},theme:t}}))},"aria-label":(0,f.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:l}),htmlAttributes:{"data-testid":"edit-color-palette-button-"+e.uuid,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,f.t)("whiteboard.color_palettes.modal.edit_named_palette_tooltip",{palette_name:l})},children:(0,a.jsx)(u.C,{})}),(0,a.jsx)(d.K,{onClick:()=>{n(x.$O({type:B.type,data:{paletteUuid:e.uuid}}))},"aria-label":(0,f.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:l}),htmlAttributes:{"data-testid":"delete-color-palette-button-"+e.uuid,"data-tooltip-type":C.Ib.TEXT,"data-tooltip":(0,f.t)("whiteboard.color_palettes.modal.delete_named_palette_tooltip",{palette_name:l})},children:(0,a.jsx)(_.B,{})})]}),i&&(0,a.jsx)(h.$z,{variant:"secondary",disabled:e.isTeamDefault,onClick:()=>{n(x.$O({type:F.type,data:{paletteUuid:e.uuid,paletteName:e.name}}))},htmlAttributes:{"data-testid":"make-palette-team-default-button-"+e.uuid},children:(0,f.tx)("whiteboard.color_palettes.modal.set_default")})]})]})]})}let O=(0,N.Ju)(function(e){return(0,a.jsx)(p.u,{label:"ManageColorPalettesModal",children:(0,a.jsx)(L,{...e})})},"ManageColorPalettesModal")},947716:(e,t,i)=>{i.d(t,{J:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M10.197 5a2 2 0 0 1 1.664.89L13.268 8H19a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zM5 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6.268L11.03 6.445A1 1 0 0 0 10.197 6zm5.5 2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"})})})},314075:(e,t,i)=>{i.d(t,{Q:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M7.5 6A1.5 1.5 0 0 0 6 7.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 0-1 0v1A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6zm4.146 3.146a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708l1.647-1.646H9.5a.5.5 0 0 1 0-1h3.793l-1.647-1.646a.5.5 0 0 1 0-.708",clipRule:"evenodd"})})})},693911:(e,t,i)=>{i.d(t,{H:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:[(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 8.75A.75.75 0 0 1 8.75 8h6.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-6.5A.75.75 0 0 1 8 9.25zm0 3a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-6.5a.75.75 0 0 1-.75-.75zM8.75 14a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h6.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",fillRule:"evenodd",d:"M6.5 6h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5M5 6.5A1.5 1.5 0 0 1 6.5 5h11A1.5 1.5 0 0 1 19 6.5v11a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 5 17.5z",clipRule:"evenodd"})]})})},232120:(e,t,i)=>{i.d(t,{V:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.5 6a.5.5 0 0 1 0 1h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zm8 0a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0V7.707l-4.146 4.147a.5.5 0 1 1-.707-.707L16.293 7H12.5a.5.5 0 0 1 0-1z"})})})},611763:(e,t,i)=>{i.d(t,{w:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M18 4a2 2 0 0 1 2 2v6.172l-.01.197a2 2 0 0 1-.576 1.217l-5.828 5.828-.146.133a2 2 0 0 1-1.268.453H6l-.204-.01A2 2 0 0 1 4 18V6a2 2 0 0 1 2-2zM6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6v-5a2 2 0 0 1 2-2h5V6a1 1 0 0 0-1-1zm8 8a1 1 0 0 0-1 1v4.586L18.586 13z"})})})},471044:(e,t,i)=>{i.d(t,{B:()=>n});var a=i(716976),o=i(104076);let n=(0,a.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .496.5h12.008a.5.5 0 0 0 .496-.5v-1A.5.5 0 0 0 18 5zM4.5 6.5a1.5 1.5 0 0 0 1.037 1.427L5.725 10H5a.5.5 0 0 0 0 1h.816l.653 7.181A2 2 0 0 0 8.46 20h7.078a2 2 0 0 0 1.992-1.819L18.184 11H19a.5.5 0 0 0 0-1h-.725l.188-2.073A1.5 1.5 0 0 0 19.5 6.5v-1A1.5 1.5 0 0 0 18 4H6a1.5 1.5 0 0 0-1.5 1.5zm2.965 11.59L6.548 8h10.905l-.918 10.09a1 1 0 0 1-.996.91H8.461a1 1 0 0 1-.996-.91M11 10.5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0zm3 0a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z",clipRule:"evenodd"})})})}}]);

//# debugId=983fd0ee-2a28-5082-8ca0-0d4580530613

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/eefe98f9bfbfa6b127c30fb6e01fdfd33b037235/344-ec086037a8832e5c.min.js.map