
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="9cf2701a-2d67-5508-b169-c831f9a7d804")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[8700],{62261:(e,t,a)=>{"use strict";a.d(t,{$h:()=>u,KY:()=>_,M2:()=>s,Mc:()=>i,P_:()=>d,U0:()=>h,cp:()=>p,eF:()=>l,h4:()=>m,jR:()=>o,lF:()=>n,nF:()=>r,x1:()=>c});let s="seat_requests_page--requestsContainer--q73qM",r="seat_requests_page--fileBrowserContentContainer--XDLHx",n="seat_requests_page--fileBrowserScrollableContainer--jtzUg",i="seat_requests_page--avatarColumn--wdn4J seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",l="seat_requests_page--seatTypeColumn--x7oeW seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",o="seat_requests_page--requestedColumn---Spog seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",d="seat_requests_page--noteColumn--bkuO1 seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",c="seat_requests_page--dropdownScrollClip--BcpC0",u="seat_requests_page--actionBarButtons--Bt0Es",m="seat_requests_page--actionBarHasContent--Sumt5",_="seat_requests_page--actionBar--Q-X0n",p="seat_requests_page--nudgedRequested--KqdrK",h="seat_requests_page--avatarWithHandle--NwRGw"},187546:(e,t,a)=>{"use strict";a.d(t,{$J:()=>c,KJ:()=>m,UD:()=>_,Un:()=>u,_f:()=>l,b:()=>o,dv:()=>r,gr:()=>n,jy:()=>d,u1:()=>p,ut:()=>s,v0:()=>i});let s="change_payment_modal--paymentModal--MaB-C",r="change_payment_modal--paymentModalHeader--slkgQ",n="change_payment_modal--paymentModalTitle--P5--Q text--fontPos18--rYXJb text--_fontBase--QdLsd",i="change_payment_modal--buttonRow--yFmfo modal--buttonRow--o2A0S",l="change_payment_modal--buttonRowLeft--QISQ5",o="change_payment_modal--closeButton--qw-3Q",d="change_payment_modal--errorBanner--7rLae",c="change_payment_modal--fixedHeightContainer--1e6gQ",u="change_payment_modal--errorContainer--X086-",m="change_payment_modal--formContainer--i6NlA",_="change_payment_modal--buttonContainer--N43qb",p="change_payment_modal--spinner--8cm5-"},305053:(e,t,a)=>{"use strict";if(a.d(t,{A$:()=>m,BC:()=>x,Td:()=>f,V4:()=>p,W4:()=>b,Z4:()=>g,aN:()=>_,kl:()=>u,uH:()=>c}),443==a.j)var s=a(382629);var r=a(795033),n=a(192075),i=a(502907),l=a(276250),o=a(102497);a(412469);var d=a(349311);let c="admin_requests_dashboard",u="admin_seat_requests_page",m="admin_request_flyout",_=(0,r.eU)(!1),p=(0,r.eU)(new Set),h=e=>e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});function g(e,t){let a=h(e);return Object.keys(a).some(e=>(0,s.Vq)(t[e])&&t[e]<a[e])}var x=(e=>(e.REQUESTED="request",e))(x||{});function b(e){return e?{columnName:"request",isReversed:e===o.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function f(e,t,a,s){return a||void 0===t||t.reason===l.D.COST_MESSAGING_DISABLED?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&t.reason===l.D.AVAILABLE_SEAT?s?(0,n.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,n.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&s?(0,n.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,i.tI)(e),seatCost:t.price}):(0,n.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,i.tI)(e)}),"data-tooltip-type":d.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},747678:(e,t,a)=>{"use strict";a.d(t,{Rj:()=>j,Zu:()=>S,eS:()=>v});var s=a(104076),r=a(237420),n=a(638004);a(120440);var i=a(369850),l=a(679359),o=a(352630),d=a(192075);if(443==a.j)var c=a(249054);var u=a(336972);if(443==a.j)var m=a(102497);var _=a(147046),p=a(244205),h=a(271330),g=a(657878),x=a(944350),b=a(608175),f=a(920659);function v(){let e=(0,r.wA)(),t=(0,g.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(o.$z,{variant:"secondary",onClick:()=>{e(_.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:f.J7.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:p.c.VIEW_HISTORY},children:(0,d.t)("admin_dashboard.requests.view_history")})}function j({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===m.ps.TEAM?(0,s.jsx)(y,{}):(0,s.jsx)(T,{orgId:e,configuredUpgradeRequestSetting:a})}function y(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.teamBilling),a=t.summary.currency,i=t.summary.monthly_subscription?b.IX.MONTH:b.IX.YEAR,l=(0,h.L)(n.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:(0,u.S)({dispatch:e,currency:a,renewalTerm:i}),variant:"secondary",trackingProperties:{trackingDescriptor:p.c.APPROVAL_SETTINGS},trackingOptions:l,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function T({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,r.wA)(),l=(0,i.Xf)(e),m=l.data?.currency,_=t===x.Sm.ALL_USERS?(0,u.d)({dispatch:a}):(0,u.S)({dispatch:a,currency:m,renewalTerm:b.IX.YEAR,isCurfEnabledForMembers:t===x.Sm.MEMBERS}),g=(0,h.L)(n.e.MONETIZATION_EXPANSION);return(0,s.jsx)(o.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":c.qf},onClick:_,variant:"secondary",trackingProperties:{trackingDescriptor:p.c.APPROVAL_SETTINGS},trackingOptions:g,children:(0,d.tx)("admin_dashboard.requests.approval_settings")})}function S({text:e,showSpinner:t}){return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xl56j7k",children:[(0,s.jsx)("div",{...{0:{className:"x1bpp3o7"},1:{className:"x1bpp3o7 xlshs6z"}}[!!t<<0],children:e}),t&&(0,s.jsx)(l.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"})]})}},109317:(e,t,a)=>{"use strict";a.d(t,{E:()=>d});var s=a(104076),r=a(716976);if(443==a.j)var n=a(962856);var i=a(795033),l=a(220294),o=a(102497);function d({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:d,planId:c,managedRequests:u,showAllOrgRequests:m,selectedRequestView:_,processedRequestIds:p,showBillingGroupAdminRequests:h,isOrgAdmin:g}){let[x,b]=(0,i.fp)(l.Y),f=m||h,v=f?[d,c,u].toString():[d,c].toString(),j=(0,r.useMemo)(()=>JSON.stringify(f?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:u?a:null}:{refreshNonce:e,billing_group_ids:g?[null]:[]}),[e,t,u,a,f,g]),y=(0,o.z7)({planType:d,planId:c,filterParams:j,processedRequestIds:p}),[T,S]=(0,r.useState)(null);return r.useEffect(()=>{if(null!==y&&(S(y.length),u)){let e={...x};e[v]=y.length,b(e)}},[y,v]),null!==T&&(y?.length!==0||m)&&(0,s.jsx)(n.E,{variant:u&&_===o.V7.ALL_MANAGED_REQUESTS||!u&&_===o.V7.ALL_ORG_REQUESTS?"brandOutline":"defaultFilled","data-testid":"table-row-count-badge",children:T.toString()})||(0,s.jsx)("div",{})}},995379:(e,t,a)=>{"use strict";a.d(t,{s:()=>u,u:()=>m});var s=a(716976),r=a(237420);if(443==a.j)var n=a(276800);var i=a(219199),l=a(192075);if(443==a.j)var o=a(58212);if(443==a.j)var d=a(638641);var c=a(82621);function u(){let e=(0,r.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:s})=>{let r=t?(0,l.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,l.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&s&&(r=(0,l.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:r,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:n.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:n.lQ}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,l.t)("admin_dashboard.requests.error_multiple"):(0,l.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,l.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,l.t)("admin_dashboard.requests.error_reload"),action:()=>{i.Ay.reload("Admin requests dashboard error")}}}))}}}function m(e,t){let a=(0,r.wA)();(0,s.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},930943:(e,t,a)=>{"use strict";a.d(t,{W:()=>b});var s=a(104076),r=a(237420),n=a(929302),i=a(950187),l=a(268389),o=a(369850),d=a(140490),c=a(352630),u=a(192075),m=a(366535),_=a(244205),p=a(111297),h=a(570079),g=a(563554);function x(e){let t;let a=n.hS({open:e.open,onClose:e.onClose}),d=(0,r.wA)(),x=(0,o.Xf)(e.plan.key.parentId,e.plan.key.type!==h.OL.TEAM),b=(0,r.d4)(e=>e.teamBilling),f=e.plan.key.type===h.OL.TEAM?b.summary.currency:x.data?.currency,v=()=>d(m.Ce());return t=!f||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?(0,s.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}):(0,s.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})}):(0,s.jsxs)(s.Fragment,{children:[e.filteredRowCount!==e.numRequestsToApprove&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,u.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})}),(0,s.jsx)("br",{})]}),(0,s.jsx)("p",{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.body")})]}),(0,s.jsx)(i.bL,{manager:a,width:"lg",children:(0,s.jsx)(p.fu,{name:g.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint},children:(0,s.jsxs)(l.vo,{children:[(0,s.jsx)(l.Y9,{children:(0,s.jsx)(l.hE,{children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(l.nB,{children:t}),(0,s.jsx)(l.wi,{children:(0,s.jsxs)(l.jk,{children:[(0,s.jsx)(c.$z,{variant:"secondary",onClick:v,trackingProperties:{trackingDescriptor:_.c.CANCEL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(c.$z,{variant:"primary",onClick:()=>{v(),e.onConfirm()},trackingProperties:{trackingDescriptor:_.c.APPROVE_ALL},children:(0,u.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})})]})})]})})})}let b=(0,a(959834).Ju)(function(e){return(0,s.jsx)(d.u,{label:"ApproveAllConfirmationModal",children:(0,s.jsx)(x,{...e})})},"ApproveAllConfirmationModal")},394283:(e,t,a)=>{"use strict";a.d(t,{m:()=>eo});var s=a(104076),r=a(716976),n=a(237420),i=a(638004),l=a(449572),o=a(513369),d=a(236631),c=a(276250),u=a(328213),m=a(266966),_=a(297109),p=a(953940),h=a(952385),g=a(649693),x=a(285091),b=a(944350),f=a(59849),v=a(904017),j=a(795033),y=a(352630),T=a(192075),S=a(305053),E=a(747678),I=a(244205),N=a(271330);function w({onClose:e,onApprove:t,onDecline:a,requestId:r}){let n=(0,j.md)(S.aN),l=(0,j.md)(S.V4),o=!!n||l.has(r),c=(0,N.L)(i.e.MONETIZATION_EXPANSION);return(0,s.jsxs)("div",{className:d.s.wFull.flex.flexColumn.gap8.$,children:[(0,s.jsx)(y.lR,{onClick:()=>{t(),e()},disabled:o,trackingProperties:{trackingDescriptor:I.c.APPROVE},trackingOptions:c,children:(0,s.jsx)(E.Zu,{text:(0,T.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===n&&l.has(r)})}),(0,s.jsx)(y.lR,{onClick:()=>{a(),e()},variant:"secondary",disabled:o,trackingProperties:{trackingDescriptor:I.c.DECLINE},trackingOptions:c,children:(0,s.jsx)(E.Zu,{text:(0,T.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===n&&l.has(r)})})]})}a(120440);var A=a(901014),C=a(140490),k=a(390036),R=a(115989),O=a(520741),M=a(772963),q=a(659062),L=a(476261),P=a(50536),D=a(293422),B=a(400348),F=a(787179),U=a(369850),G=a(782301);function W(e){return(0,s.jsx)(C.u,{label:"SeatCostInfo",children:(0,s.jsx)($,{...e})})}function $({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:r}){let i=(0,n.wA)(),l=(0,v.S2)().unwrapOr(null),o=t.reason===c.D.AVAILABLE_SEAT,d=o?(0,s.jsx)(B.N,{}):(0,s.jsx)(F.V,{}),u=l?.key.type===b.OL.ORG,m=(0,U.Xf)(l?.key.parentId,l?.key.type!==b.OL.TEAM),_=(0,n.d4)(e=>e.teamBilling),p=l?.key.type===b.OL.TEAM?_.summary.currency:m.data?.currency;return(0,s.jsxs)("div",{style:q.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,q.sx.colorBgSelected,q.sx.colorBgSecondary).$,"data-testid":"seat-cost-info",children:[(0,s.jsxs)("div",{style:q.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$,children:[d,(0,s.jsx)("div",{children:o?u?(0,T.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,T.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,L.tI)(e)}):a&&t.price?(0,T.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,L.tI)(e),seatCost:t.price}):(0,T.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,L.tI)(e)})})]}),!!r.currentSeat&&(0,s.jsx)(D.$n,{onClick:()=>(0,G.E1)({currency:p,dispatch:i,planUser:{id:r.id,userId:r.user.id,name:r.user.name,handle:r.user.handle,currentSeatType:r.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link",children:(0,s.jsx)("p",{style:q.sx.textBodyMedium.$,children:(0,T.tx)("admin_dashboard.request_flyout.seat_cost.see_details")})})]})}function V({label:e,value:t,onClick:a}){let r=(0,s.jsx)(M.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$,children:[(0,s.jsx)("div",{className:d.s.colorTextSecondary.$,children:e}),a?(0,s.jsx)(y.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a,children:r}):r]})}function H({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:r}){let i;let l=(0,n.wA)(),o=(0,k.Zr)((0,R.Ak)(e.createdAt)),d=(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&l(P.II({emailList:[e.email]}))}:void 0}),c=(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,k.Ay)(e.jobTitle)}),u=(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),m=(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.current_seat"),value:r?(0,L.JT)(r):"-"}),_=(0,k.Zr)((0,R.Ak)(t)),p=(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[(0,s.jsx)(V,{label:(0,T.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),m,u]]:[[d,m,u],[c,p]],(0,s.jsx)("div",{style:q.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$,children:i.map((e,t)=>(0,s.jsx)("div",{style:q.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$,children:e},`requestInfoColumn${t}`))})}function z({failedToLoadPrices:e}){return(r.useEffect(()=>{e&&(0,A.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(O._,{dataTestId:"pricing-error-banner",color:O.S.WARNING,padding:8,text:(0,T.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function Y({request:e,planUser:t,billingGroupName:a,seatCostResult:r,shouldHideSeatCostInfo:n,isProrationBillingEnabled:i,failedToLoadPrices:l}){return(0,s.jsx)(C.u,{label:"Body",children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body",children:[(0,s.jsx)("div",{className:d.s.flex.flexColumn.gap24.$,children:(0,s.jsx)(H,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})}),(0,s.jsxs)("div",{children:[!n&&!!r&&(0,s.jsx)(W,{seatType:e.billableProductKey,seatCostResult:r,isProrationBillingEnabled:i,planUser:t}),(0,s.jsx)(z,{failedToLoadPrices:l})]})]})})}var K=a(962856),Q=a(512543),X=a(511570),J=a.n(X),Z=a(142914);let ee="request_flyout--secondaryIcon--lhrXO";function et({request:e}){let t=e.name||e.email||(0,T.t)("admin_dashboard.requests.no_name"),a={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return(0,s.jsxs)("div",{"data-testid":"request-flyout-header",className:d.s.flex.flexColumn.gap16.$,children:[(0,s.jsxs)("div",{className:"request_flyout--avatarContainer--S-J9Y",children:[(0,s.jsx)(Z.H8,{size:48,user:a}),e.hasBeenNudged?(0,s.jsx)("div",{className:J()(ee,"request_flyout--reminderIcon--YYAB2"),"data-testid":"seat-requests-flyout-avatar-reminder",children:(0,s.jsx)(Q.t,{style:q.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})}):(0,s.jsx)("div",{className:J()(ee,"request_flyout--planIcon--3ad7j"),"data-testid":"seat-requests-flyout-avatar-seat-type",children:(0,s.jsx)(G.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"})})]}),(0,s.jsxs)("div",{className:d.s.flex.flexColumn.$,children:[(0,s.jsxs)("div",{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f",children:[(0,s.jsx)(M.G,{text:t,className:d.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===b._D.GUEST&&(0,s.jsx)(K.E,{size:"lg",variant:"defaultOutline",children:(0,T.tx)("admin_dashboard.requests.badge.guest")})]}),(0,s.jsx)("div",{className:d.s.textHeadingMedium.fontMedium.$,children:(0,T.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,L.tI)(e.billableProductKey)})})]}),!!e.lastNudgedAt&&(0,s.jsx)("div",{className:"request_flyout--reminder--HX1aD","data-testid":"nudged-request-banner",children:(0,T.tx)("admin_dashboard.requests.reminder_sent",{time:(0,R.JD)(e.lastNudgedAt)})}),e.message&&(0,s.jsx)("div",{style:q.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$,children:e.message})]})}var ea=a(284467);function es(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header",children:[(0,s.jsx)(ea.Wi,{style:q.sx.w48.h48.bRadiusFull.$}),(0,s.jsx)(ea.Wi,{style:q.sx.add({width:"20%"}).h16.$}),(0,s.jsx)(ea.Wi,{style:q.sx.add({width:"40%"}).h24.$})]})}function er(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body",children:[(0,s.jsx)(ea.Wi,{className:d.s.wFull.h32.$}),(0,s.jsx)(ea.Wi,{className:d.s.wFull.h200.$})]})}function en(){return(0,s.jsxs)("div",{className:d.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer",children:[(0,s.jsx)(ea.Wi,{style:q.sx.wFull.h32.$}),(0,s.jsx)(ea.Wi,{style:q.sx.wFull.h32.$})]})}let ei=(e,t)=>{let a=o.oA(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[s]=a,r=e.length>0&&s?e.find(e=>e.id===s.licenseGroupMember?.licenseGroupId)??null:null;return r?.name},el={Root:(0,r.forwardRef)((e,t)=>(0,s.jsx)(m.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties,children:(0,s.jsx)(_.m.Root,{ref:t,open:e.open,onClose:e.onClose,children:e.children})})),Contents:function({request:e,billingGroups:t,onClose:a,onApprove:o,onDecline:m}){let j,y,T,S;let E=(0,n.wA)(),I=(0,v.S2)().unwrapOr(null);if(!I)throw Error("Missing Plan.");let N=I.key.type===b.OL.ORG,A=(0,n.d4)(t=>{let a=t.teamMembersByTeamId[I.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:C,status:k}=(0,c.n)(I,e),R=C(),O=(0,x.d)({reportErrorsToTeam:i.e.SCALE}),M=(0,u.k)(),[q,L]=(0,r.useState)();(0,r.useEffect)(()=>{async function t(){await E(h.m$({teamId:I?.key.parentId??""}))}async function a(){L(await E(p.I1({orgId:I?.key.parentId??"",userId:e?.userId??""})))}return N&&a(),I?.key.type===b.OL.TEAM&&t(),()=>L(null)},[E,N,I?.key.parentId,I?.key.type,e?.userId]);let P=(0,l.bc)(f.oSh,{orgId:I?.key.parentId??"",orgUserIds:q?[q.id]:[]},{enabled:!!q&&t.length>0});if(!e)return(0,s.jsx)(s.Fragment,{});S=N?{id:q?.id??"",user:{id:q?.user.id??"",name:q?.user.name??"",handle:q?.user.handle??""},lastActive:q?.last_seen??void 0,currentSeat:q?q.active_seat_type?.key??g.Gu.VIEW:void 0}:{id:A?.team_user?.id??"",user:{id:A?.team_user?.user_id??"",name:A?.name??"",handle:A?.team_user?.user?.handle??""},lastActive:A?.last_active?new Date(1e3*A.last_active).toISOString():void 0,currentSeat:A?A.team_user?.active_seat_type?.key??g.Gu.VIEW:void 0};let D=!q||"loading"===P.status,B="errors"===k,F=O||B||c.D.MISSING_CURRENCY===R?.reason||c.D.COST_MESSAGING_DISABLED===R?.reason;if(!S||N&&D)j=(0,s.jsx)(es,{}),y=(0,s.jsx)(er,{}),T=(0,s.jsx)(en,{});else{let r=ei(t,P);j=(0,s.jsx)(et,{request:e}),y=(0,s.jsx)(Y,{request:e,planUser:S,billingGroupName:r,seatCostResult:R,shouldHideSeatCostInfo:F,failedToLoadPrices:B,isProrationBillingEnabled:M}),T=(0,s.jsx)(w,{onClose:a,onApprove:o,onDecline:m,requestId:e.id})}return(0,s.jsx)(_.m.Contents,{children:(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$,children:[(0,s.jsx)(_.m.HiddenTitle,{children:e.id}),j,(0,s.jsxs)("div",{className:d.s.flex.flexColumn.justifyBetween.hFull.gap16.$,children:[y,T]})]})})}};function eo(e){let{request:t,billingGroups:a,open:r,onClose:n,onApprove:i,onDecline:l,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:(0,s.jsx)(el.Root,{open:r,onClose:n,trackingName:o,trackingProperties:{...d},ref:c,children:(0,s.jsx)(el.Contents,{request:t,billingGroups:a,onClose:n,onApprove:i,onDecline:l})})}}},490525:(e,t,a)=>{"use strict";a.d(t,{l:()=>eV});var s=a(104076),r=a(716976),n=a(237420),i=a(99723),l=a(276800),o=a(638004),d=a(795033),c=a(511570),u=a.n(c),m=a(232707),_=a(837975),p=a(449572),h=a(140490),g=a(225125),x=a(856909),b=a(665261),f=a(555013),v=a(115989),j=a(284467),y=a(915459),T=a(772963),S=a(894087),E=a(236631),I=a(192075),N=a(659062),w=a(58212),A=a(638641),C=a(911990),k=a(457923),R=a(624258),O=a(884153),M=a(328213),q=a(476261),L=a(220294),P=a(305053),D=a(102497),B=a(747678),F=a(109317),U=a(995379),G=a(930943),W=a(929302),$=a(950187),V=a(268389),H=a(369850),z=a(352630),Y=a(366535),K=a(244205),Q=a(111297),X=a(271330),J=a(570079),Z=a(563554);function ee(e){let t;let a=W.hS({open:e.open,onClose:e.onClose}),r=(0,n.wA)(),i=(0,H.Xf)(e.plan.key.parentId,e.plan.key.type!==J.OL.TEAM),l=(0,n.d4)(e=>e.teamBilling),d=e.plan.key.type===J.OL.TEAM?l.summary.currency:i.data?.currency,c=()=>r(Y.Ce());t=!d||e.isELA?(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,I.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let u=(0,X.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(Q.fu,{name:Z.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId},children:(0,s.jsx)($.bL,{manager:a,width:"lg",children:(0,s.jsxs)(V.vo,{children:[(0,s.jsx)(V.Y9,{children:(0,s.jsx)(V.hE,{children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.title")})}),(0,s.jsx)(V.nB,{children:t}),(0,s.jsx)(V.wi,{children:(0,s.jsxs)(V.jk,{children:[(0,s.jsx)(z.$z,{variant:"secondary",onClick:c,trackingProperties:{trackingDescriptor:K.c.CANCEL},trackingOptions:u,children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")}),(0,s.jsx)(z.$z,{variant:"primary",onClick:()=>{c(),e.onConfirm()},trackingProperties:{trackingDescriptor:K.c.APPROVE},trackingOptions:u,children:(0,I.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})})]})})]})})})}let et=(0,a(959834).Ju)(function(e){return(0,s.jsx)(h.u,{label:"BulkApproveConfirmationModal",children:(0,s.jsx)(ee,{...e})})},"BulkApproveConfirmationModal");var ea=a(394283),es=a(982145),er=a(248486),en=a(146171),ei=a(487810),el=a(742024),eo=a(649693),ed=a(347592),ec=a(781611),eu=a(285091),em=a(899593),e_=a(847282),ep=a(592726),eh=a(462952),eg=a(944350),ex=a(59849),eb=a(826930),ef=a(349311),ev=a(159836),ej=a(826160),ey=a(333705),eT=a(741563),eS=a(653899),eE=a(249054),eI=a(417450),eN=a(422872),ew=a(235711),eA=a(61102),eC=a(441030);function ek(e){let t=(0,ew.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,d.md)(t),{show:r,isShowing:n,complete:i}=(0,eN.e)({overlay:eC.Clh,priority:(0,eI.g)(eC.Clh)},[a]);return(0,eS.h)(()=>{r({canShow:e=>!e})}),(0,s.jsx)(eA.rq,{clickOutsideToHide:!0,description:(0,I.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:n,onClose:i,primaryCta:{label:(0,I.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:K.c.GOT_IT},targetKey:eE.qf,title:(0,I.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var eR=a(419822),eO=a(318525);a(120440);var eM=a(276250);function eq({request:e,plan:t,handleRequests:a,isELA:r,isProrationBillingEnabled:n}){let i=(0,d.md)(P.aN),l=(0,d.md)(P.V4),{calculateCostForSeatTypeIncrease:c}=(0,eM.n)(t,e),u=e.billableProductKey,m=c(),_=!!i||l.has(e.id),p="approving"===i&&l.has(e.id),h=(0,X.L)(o.e.MONETIZATION_EXPANSION);return p?(0,s.jsx)("div",{className:"x78zum5 x6s0dn4 xe8ttls",children:(0,s.jsx)(eR.k,{size:"sm"})}):(0,s.jsx)(z.Me,{"aria-label":(0,I.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:_,trackingProperties:{trackingDescriptor:K.c.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,P.Td)(u,m,r,n)},trackingOptions:h,children:(0,s.jsx)(eO.U,{})})}var eL=a(527494);function eP({request:e,setHighlightedItemId:t}){let a=(0,X.L)(o.e.MONETIZATION_EXPANSION);return(0,s.jsx)(z.Me,{"aria-label":(0,I.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:K.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a,children:(0,s.jsx)(eL.a,{})})}var eD=a(692757),eB=a(506192),eF=a(62261);function eU(e){let t=(0,n.wA)(),a=(0,eB.Um)(),r=a?.type===e.type;return(0,s.jsxs)(eD.V,{showingDropdown:r,type:e.type,dispatch:t,isRightAligned:!0,children:[(0,s.jsx)("div",{"data-testid":e.dataTestId,children:e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel}),r&&(0,s.jsx)(b.gw,{dispatch:t,className:eF.x1,style:a.data.position,children:e.renderFilterOptions()})]})}var eG=a(939946);let eW="approving-all-requests",e$="RequestFlyout";function eV(e){return(0,s.jsx)(h.u,{label:"SeatRequestsPage",children:(0,s.jsx)(eH,{...e})})}function eH({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let c;let h=e?.key.type==="team"?D.ps.TEAM:D.ps.ORG,W=e.key.parentId??"",$=(0,ei.B)(),V=r.useRef(null),H=r.useRef(null),z=(0,M.k)(),J=(0,X.L)(o.e.MONETIZATION_EXPANSION),ee=(0,n.wA)(),{seatAvailability:eS}=(0,O.k)(e),{Sprig:eE}=(0,g.A)(),[eI,eN]=(0,r.useState)(!1),[ew,eA]=(0,r.useState)(""),[eC,eR]=(0,r.useState)(null),[eO,eM]=(0,r.useState)(D.i5.NEWEST_FIRST),[eL,eD]=(0,d.fp)(P.aN),eB=(0,r.useRef)(0),[eV,eH]=(0,r.useState)(0),ez=(0,n.d4)(({selectedView:e})=>e),eY=a??P.kl,{dispatchSuccess:eK,dispatchSuccessWithRequesterName:eQ,dispatchRequestAlreadyHandled:eX,dispatchProcessingError:eJ,dispatchGenericError:eZ}=(0,U.s)(),[e0,e1]=(0,d.fp)(L.Y),[e4,e2]=(0,d.fp)(P.V4),[e9,e3]=(0,r.useState)(()=>new Set),[e6,e5]=(0,r.useState)(()=>new Set),[e7,e8]=(0,r.useState)(null),[te,tt]=(0,r.useState)(0),[ta,ts]=(0,r.useState)(0),[tr,tn]=(0,r.useState)(D.V7.ALL_MANAGED_REQUESTS),[ti,tl]=(0,r.useState)(tr),[to,td]=(0,r.useState)(null),tc=(0,eh.MX)(),tu=(0,ep.TA)(),tm=h===D.ps.ORG,t_=(0,r.useMemo)(()=>tm?(0,eh.EQ)(tc,tu,!1).groupsUserIsAdminOf:[],[tc,tu,tm]),tp=(0,r.useMemo)(()=>t_?t_.map(e=>e.id):[],[t_]),th=(0,r.useMemo)(()=>tr===D.V7.ALL_MANAGED_REQUESTS?t?[null,...tp]:tp:null,[tr,tp,t]),tg=(0,r.useMemo)(()=>{switch(ti){case D.V7.ALL_ORG_REQUESTS:return null;case D.V7.ALL_MANAGED_REQUESTS:return t?[null,...tp]:tp;case D.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(ti in D.V7))return[ti];return null}},[ti,tp,t]),tx=(0,r.useMemo)(()=>JSON.stringify({search_query:ew,billable_product_key:eC,refreshNonce:te,sortTypeNonce:eO,billing_group_ids:tg,org_user_permission:to}),[ew,eC,te,eO,tg,to]),tb=(0,r.useMemo)(()=>JSON.stringify({billing_group_ids:th}),[th]),tf=(0,p.bc)((0,ex.EEx)({planType:h,planId:W,sortOrder:eO===D.i5.NEWEST_FIRST?"desc":"asc",filterParams:tx,firstPageSize:25})),tv=(0,D.z7)({planType:h,planId:W,filterParams:tx,processedRequestIds:e6}),tj=(0,D.z7)({planType:h,planId:W,filterParams:JSON.stringify({refreshNonce:tx,billing_group_ids:th}),processedRequestIds:e6}),ty=(0,p.bc)((0,ex.HpJ)({orgId:W}),{enabled:tm}),tT="loaded"===tf.status,tS=tT&&!!tf.data?.adminDashboardRequests?.isLoadingNextPage,tE=tT&&!!tf.data?.adminDashboardRequests?.hasNextPage(),[tI,tN]=(0,r.useState)({loading:!0,requestId:void 0,request:void 0}),tw=tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt&&t,tA=tm&&"loaded"===ty.status&&t?ty.data?.org?.orgSharedSetting?.configuredUpgradeRequestSetting:void 0,tC=(0,D.ZY)({isIntendedAudience:tm&&"loaded"===ty.status&&ty.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,U.u)(tm,t);let tk=(0,eu.d)({reportErrorsToTeam:o.e.SCALE}),tR=!tT||tS||tE||tI.loading,tO=tv?.length??0,tM=tj?.length??0,tq=[h,W].toString(),tL=e0[tq],tP=tM?Math.max(tM,0):0,tD=tj&&tL!==tP,tB=tM>0||null===tj&&!!tL;r.useEffect(()=>{if(tD){let e={...e0};e[tq]=tP,e1(e)}},[tD,tq,tP]);let tF=eI&&null===tO;(0,r.useEffect)(()=>{tT&&e8(new Date)},[tT]),(0,r.useEffect)(()=>{let e=(0,e_.QL)("approvalRequestId");e?tN(t=>({...t,requestId:e})):tN(e=>({...e,loading:!1})),(0,e_.EM)("approvalRequestId")},[]),(0,r.useEffect)(()=>{async function e(e){let t=await (0,em.q)(e,ee);t?tN(e=>({...e,request:t,loading:!1})):tN(e=>({...e,loading:!1}))}tI.requestId&&e(tI.requestId)},[tI.requestId,ee]),(0,_.R)(()=>{if(tI.requestId&&tI.request){let e=tI.request.requestableOrgUser?.user?.name??tI.request.requestableTeamUser?.user?.name??"";t0({approve:!0,selectedRequestIds:[tI.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.EMAIL,successHandler:e?()=>{eQ({requesterName:e}),tN({loading:!1,requestId:void 0,request:void 0})}:eK})}},tR,e=>!e);let tU=(0,r.useMemo)(()=>{let e=new Set(e9);if(!tT||!tf?.data?.adminDashboardRequests)return[];let t=tf.data?.adminDashboardRequests.reduce((t,a)=>{let s=a.id,r=a.request,n=a.user,i=a.userId;if(r.status!==m.tT.Loaded||n.status!==m.tT.Loaded)return t;let l=r.data,o=n.data;if(!l||!o)return e.has(s)||e.add(s),t;if(!l.billableProductKey)return t;let d=ec.Zx(l.billableProductKey);if(e.has(s))return t;if("pending"!==l.status)return e.has(s)||e.add(s),t;let c=!!l.lastNudgedAt;if(s===tI.requestId)return e.has(s)||e.add(s),t;let u=l.requestableTeamUser?.currentSeat;return t.push({id:s,createdAt:l.createdAt,updatedAt:l.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:l.message&&l.message.trim().length>0?l.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:l.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:l.requestableOrgUser?.permission}),t},[]);return e5(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>{let a=e.lastNudgedAt??e.createdAt,s=t.lastNudgedAt??t.createdAt;return eO===D.i5.NEWEST_FIRST?s.getTime()-a.getTime():a.getTime()-s.getTime()})},[tT,tf.data,tI.requestId,e9,eO]),tG=r.useCallback(e=>tU.find(t=>t.id===e),[tU]),{highlightedItem:tW,setHighlightedItemId:t$,clearHighlightedItemId:tV}=(0,er.v)(tG,{interactionConfig:[{ref:H,shouldClearHighlight:!1},{ref:V,shouldClearHighlight:!1},{ref:$,shouldClearHighlight:!0}],onHighlight:()=>{H.current?.focus()},onClear:(0,en.b)(e$)}),tH=(0,r.useMemo)(()=>new Set(tU?.filter(e=>[eo.ud.DEVELOPER,eo.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tU]);(0,_.R)(()=>{let e=(0,e_.QL)("viewRequestId");e&&(tU.find(t=>t.id===e)?t$(e):eX(),(0,e_.EM)("viewRequestId"))},tR,e=>!e);let tz=(0,r.useMemo)(()=>(0,i.s)(eA,300),[eA]),tY=e=>e===D.r1.GUESTS?(0,I.t)("admin_dashboard.requests.guests"):e===D.r1.MEMBERS?(0,I.t)("admin_dashboard.requests.members"):(0,I.t)("admin_dashboard.requests.all_users"),tK=tr===D.V7.ALL_ORG_REQUESTS&&tc.length>0,tQ=tr===D.V7.ALL_MANAGED_REQUESTS&&(t_.length>0&&t||!t&&t_.length>1),tX=(tw||tC)&&(tK||tQ),tJ=r.useCallback(({approve:e,requestId:t,selectionMethod:a=D.Xv.SINGLE,entryPoint:s=eY,successHandler:r=eK})=>{e2(e=>new Set(e).add(t)),eD(e?"approving":"declining");let n=e?ev.w.approveRequests.bind(ev.w):ev.w.denyRequests.bind(ev.w),i=tU.find(e=>e.id===t);n({plan_id:W,plan_type:h,included_request_ids:[t],selection_method:a,entry_point:s,is_proration_billing_enabled:z,is_seat_increase_authorized:(0,P.Z4)(i?[i]:[],eS)}).then(t=>{if(200!==t.status){eZ();return}if(t.data.meta.failed_attempts>0){eJ({multiple:!1});return}r({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{eZ()}).finally(()=>{e2(e=>{let a=new Set(e);return a.delete(t),a}),eD(!1),ts(e=>e+1)})},[eY,eZ,eJ,eK,z,W,h,tU,eS,e2,eD]),tZ=r.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:s=eY})=>{eH(eB.current),eD(a?"approving_all":e?"approving":"declining"),a&&tM&&ee(w.F.enqueue({message:(0,I.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tM}),type:eW,timeoutOverride:1/0,icon:A.zX.SPINNER,preventDismissal:!0,role:"status"}));let r=a||eI,n=new Set(t),i=tU.filter(e=>n.has(e.id)),l={plan_id:W,plan_type:h,entry_point:s,async_processing:e,is_proration_billing_enabled:z,is_seat_increase_authorized:!!a||(0,P.Z4)(i,eS)},o=r?{...l,subtractive:!0,excluded_request_ids:a?[]:tU.map(e=>e.id).filter(e=>!n.has(e)),filter_params:a?tb:tx,timestamp:(e7??new Date).toISOString(),selection_method:a?D.Xv.APPROVE_ALL:D.Xv.BULK_SELECT}:{...l,included_request_ids:t,selection_method:D.Xv.BULK_SELECT,filter_params:tb},d=(t,a,s)=>{if(200!==t){eZ();return}if(a>0){eJ({multiple:!0});return}eK({approve:e,numRequests:s,asyncUpdate:e})},c=()=>{eD(!1),eH(0),r&&tt(e=>e+1),eI&&eN(!1)};e?ev.w.approveRequests.bind(ev.w)(o).then(t=>{if(d(t.status,t.data.meta.failed_attempts,t.data.meta.successful_attempts),e){let e=t.data.meta.processed_request_ids;e3(t=>new Set([...t,...new Set(e)]))}ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{a&&ee(w.F.dequeue({matchType:eW})),c()}):ev.w.denyRequests.bind(ev.w)(o).then(e=>{d(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),ts(e=>e+1)}).catch(()=>{eZ()}).finally(()=>{c()})},[tb,eY,ee,eZ,eJ,eK,tx,z,e7,W,h,tU,eS,eI,eD,tM]),t0=r.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:s=!1,singleRequestSelectionMethod:r,successHandler:n=eK,sprig:i,isHandlingInFlyout:l=!1})=>{let o=l?P.A$:eY,d="dashDeepLinkEntryPoint"in ez&&ez.dashDeepLinkEntryPoint||o;(()=>{if(s){let a=r||D.Xv.SINGLE;tJ({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:n})}else tZ({approve:e,selectedRequestIds:t,approveAll:a})})(),i&&s&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&h===D.ps.TEAM&&!e&&t.some(e=>tH.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[h,eK,eY,tJ,tZ,tH,ez]),{requestFlyout:t1}=(0,ea.m)({request:tW,billingGroups:tc,flyoutRef:H,open:!!tW,onClose:tV,onApprove:()=>t0({approve:!0,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eE,isHandlingInFlyout:!0}),onDecline:()=>t0({approve:!1,selectedRequestIds:tW?[tW.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eE,isHandlingInFlyout:!0}),trackingName:e$,trackingProperties:{requestId:tW?.id}}),t4=r.useCallback(e=>{let t=e.name||e.email||(0,I.t)("admin_dashboard.requests.no_name");return(0,s.jsx)(ej.az,{entity:{id:e.userId,name:t,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===eg._D.GUEST?{color:x.zE.DEFAULT,text:(0,I.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:D.Lv,includeUserEmailAddress:!0,className:eF.U0})},[]),t2=r.useCallback(e=>{if(!(0,eo.dA)(e.billableProductKey))return(0,s.jsxs)(s.Fragment,{children:[" ",(0,q.tI)(e.billableProductKey)]});{let t=e.billableProductKey;return(0,s.jsxs)("div",{className:E.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(R.BC,{type:t,size:"24"}),(0,q.tI)(e.billableProductKey)]})}},[]),t9=r.useCallback(e=>(0,s.jsx)("div",{className:e.hasBeenNudged?eF.cp:void 0,"data-tooltip-type":e.hasBeenNudged?ef.Ib.TEXT:void 0,"data-tooltip":(0,I.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""}),children:(0,s.jsx)(v.h1,{capitalize:!0,date:e.lastNudgedAt??e.createdAt})}),[]),t3=e=>e.lastNudgedAt?e.lastNudgedAt.getTime():e.createdAt.getTime(),t6=r.useMemo(()=>[{name:(0,I.t)("admin_dashboard.requests.columns.name"),className:eF.Mc,cellComponent:t4},{name:(0,I.t)("admin_dashboard.requests.columns.seat_type"),className:eF.eF,cellComponent:t2},{name:(0,I.t)("admin_dashboard.requests.columns.requested"),className:eF.jR,cellComponent:t9,sorting_key:P.BC.REQUESTED,getSortValue:t3,sortNumerically:!0},{name:(0,I.t)("admin_dashboard.requests.columns.note"),className:eF.P_,cellComponent:e=>(0,s.jsx)(T.G,{text:e.message??"",showTooltip:S.i.NEVER,className:E.s.colorTextSecondary.$})}],[t4,t2,t9]),t5=e=>{let a=e?D.V7.ALL_MANAGED_REQUESTS:D.V7.ALL_ORG_REQUESTS,r=e?es.xo:es.OW,n=e?(0,I.tx)("admin_dashboard.managed_org_requests.title"):(0,I.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===ty.status?ty.data?.org?.name:"org"});return(0,s.jsxs)("div",{role:"button",tabIndex:0,className:E.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.px8.if(tr===a,E.s.colorText.bRadius5.colorBgPressed,E.s.colorTextSecondary).$,onClick:()=>{tn(a),tl(a),ts(0===ta?1:0)},"data-onboarding-key":r,"data-test-id":e?"your-requests-tab":"all-org-requests-tab",children:[n,(0,s.jsx)(F.E,{isOrgAdmin:!!t,managedRequests:e,planId:W,planType:h,processedRequestIds:e6,refreshNonce:te,refreshTabCountNonce:ta,selectedRequestView:tr,showAllOrgRequests:tw??!1,showBillingGroupAdminRequests:tC,viewableBillingGroupIds:t?[null,...tp]:tp})]})},t7=(0,s.jsxs)("div",{className:E.s.flex.columnGap8.pl16.$,children:[tm&&t&&(0,s.jsx)(B.eS,{}),(!tm||t)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.Rj,{planId:W,planType:h,configuredUpgradeRequestSetting:tA}),(0,s.jsx)(ek,{})]}),tB&&(0,s.jsx)(k.V,{variant:"primary",onClick:()=>{if(null===tO||null===tM)return;let t=eL?l.lQ:()=>t0({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tM===tO&&tM<1){t();return}ee(Y.to({type:G.W,data:{plan:e,numRequestsToApprove:tM,filteredRowCount:tO,isELA:tk,onConfirm:t,entryPoint:eY}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tM||!!eL,trackingProperties:{trackingDescriptor:K.c.APPROVE_ALL},trackingOptions:J,children:(0,s.jsx)(B.Zu,{text:(0,I.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eL})})]}),t8=(0,s.jsx)("div",{className:E.s.h32.cursorDefault.selectNone.$,children:(0,s.jsxs)(C.Y,{spacing:0,children:[(0,s.jsx)(C.Y,{spacing:0,children:[!0,!1].map(e=>t5(e))}),(0,s.jsx)(C.M,{}),t7]})}),ae=(0,s.jsxs)(s.Fragment,{children:[!!tw&&tc.length>0&&t8,(0,s.jsxs)(C.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1},children:[(0,s.jsx)(y.y2,{onChange:e=>tz((0,D.Bk)(e)),query:ew,clearSearch:()=>eA(""),placeholder:(0,I.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:D.MI,resultsCount:tU.length}),(0,s.jsx)(C.M,{}),(tw||tC)&&(0,s.jsx)(eU,{type:D.L8,dataTestId:"user-type-filter",isDefaultFilter:null===to,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:tY(to)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.MM,{checked:null===to,onClick:()=>td(null),children:(0,I.t)("admin_dashboard.requests.all_users")}),(0,s.jsx)(b.wv,{}),Object.values(D.r1).map(e=>(0,s.jsx)(b.MM,{checked:to===e,onClick:()=>td(e),children:tY(e)},e))]})}),(0,s.jsx)(eU,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eC,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:(0,q.tI)(eC??eo.Gu.VIEW)})}),renderFilterOptions:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.MM,{checked:null===eC,onClick:()=>eR(null),children:(0,I.t)("admin_dashboard.requests.filter.seats_all_option")}),(0,s.jsx)(b.wv,{}),ed.N_.sort(ec.AG).map(e=>(0,s.jsx)(b.MM,{checked:eC===e,onClick:()=>eR(e),children:(0,q.tI)(e)},e))]})}),tX&&(0,s.jsx)(eU,{type:D.OL,dataTestId:"billing-group-filter",isDefaultFilter:ti===tr,defaultFilterLabel:(0,I.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,I.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:(0,s.jsx)("span",{className:E.s.fontBold.$,children:ti===D.V7.ALL_ORG_REQUESTS||ti===D.V7.ALL_MANAGED_REQUESTS?(0,I.t)("admin_dashboard.requests.from_all"):ti===D.V7.ALL_UNASSIGNED_REQUESTS?(0,I.t)("admin_dashboard.requests.from_unassigned"):tc.find(e=>e.id===ti).name})}),renderFilterOptions:()=>{let e=tr===D.V7.ALL_ORG_REQUESTS?tc:t_,t=[{key:tr,label:(0,I.t)("admin_dashboard.requests.from_all")}];return tC||t.push({key:D.V7.ALL_UNASSIGNED_REQUESTS,label:(0,I.t)("admin_dashboard.requests.from_unassigned")}),(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(b.MM,{checked:ti===e.key,onClick:()=>tl(e.key),children:e.label},e.key)),(0,s.jsx)(b.wv,{}),(0,s.jsx)(b.MM,{disabled:!0,checked:!1,onClick:l.lQ,children:(0,I.tx)(tr===D.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")}),e.map(e=>(0,s.jsx)(b.MM,{checked:ti===e.id,onClick:()=>tl(e.id),children:e.name},e.id))]})}})]})]});return(0,s.jsxs)(Q.fu,{name:Z.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tm?W:void 0,teamId:h===D.ps.TEAM?W:void 0,entryPoint:"dashDeepLinkEntryPoint"in ez?ez.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:!0},trackingOptions:J,children:[(0,s.jsx)(el.K,{title:(0,I.t)("admin_dashboard.requests.seat_title"),rightActions:!tw||tc.length<1?t7:void 0}),(0,s.jsx)("div",{className:u()(eF.M2,E.s.if(!tw||0===tc.length,E.s.pt4,E.s.pt12).$),children:(0,s.jsx)(ey.Cj,{actionBar:"approving_all"===eL?void 0:t=>tF?(0,s.jsx)("div",{className:E.s.w150.$,children:(0,s.jsx)(j.Wi,{className:E.s.h12.w150.$,animationType:j.JR.SHIMMER_ON_MENU})}):(0,s.jsx)("div",{className:eF.$h,children:(0,s.jsxs)(C.Y,{spacing:8,children:[(0,s.jsx)(k.V,{variant:"toolbar-secondary",disabled:!!eL,onClick:eL?l.lQ:()=>t0({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eE}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:K.c.DECLINE},trackingOptions:J,children:(0,s.jsx)(B.Zu,{text:(0,I.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eL})}),(0,s.jsx)(k.V,{variant:"primary",disabled:!!eL,onClick:eL?l.lQ:()=>ee(Y.to({type:et,data:{plan:e,requestsToApprove:t,seatAvailability:eS,isELA:tk,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t0({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:K.c.REVIEW},trackingOptions:J,children:(0,D.Zm)({text:(0,I.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eL})})]})}),actionBarClassName:u()(eF.KY,tF?void 0:eF.h4),columns:t6,disabled:!!eL,emptyContent:(c=0===ew.length&&null===eC&&ti===tr&&null===to?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:E.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$,children:(0,I.tx)(tA&&tC?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")}),(0,s.jsx)("div",{style:N.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$,children:tA?tA===eb.Sm.MEMBERS?(0,I.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,I.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,I.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed")})]}):ew.length>0&&null===eC&&ti===tr&&null===to?(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,I.tx)("admin_dashboard.requests.empty.no_search_results")}):(0,s.jsx)("div",{className:E.s.lh16.cursorDefault.colorText.$,children:(0,I.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:(0,s.jsx)(f.CY,{trusted:!0,onClick:()=>{eR(null),tl(tr),eA(""),td(null)},children:(0,I.tx)("admin_dashboard.requests.empty.reset_filters")})})}),(0,s.jsx)(C.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center",children:c})),getItemKey:e=>e.id,getTotalSelected:tF?void 0:(e,t)=>{let a;return a=eI&&tO?Math.max(1,tO-(t.length-e.length)):e.length,eB.current=a,a},hasNewScrollContext:!0,highlightState:{itemKey:tW?.id??null,setItemKey:t$},isLoading:tR,itemTypeContext:{itemType:D.k_,getSelectedCountString:e=>tF?"":"approving"===eL?(0,I.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eV}):"declining"===eL?(0,I.t)("admin_dashboard.requests.selected_count_denying",{numSelected:eV}):(0,I.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tU,minContentWidth:928,onFetchMore:tE?()=>{tT&&tf?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tW?.id?tV():t$(e.id)},onSelectedItemsChange:e=>{0===e.length&&eN(!1)},onSetSortState:()=>eM(e=>e===D.i5.NEWEST_FIRST?D.i5.OLDEST_FIRST:D.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eN(!e),tV()},rightActionColumns:[{name:"approve-single-column",className:eG.oi,cellComponent:t=>(0,s.jsx)(eq,{request:t,plan:e,numRowsSelected:eB,handleRequests:t0,isELA:tk,isProrationBillingEnabled:z})},{...eT.VU,cellComponent:e=>(0,s.jsx)(eP,{request:e,setHighlightedItemId:t$})}],scrollBarAlwaysVisible:!0,scrollContentRef:V,sortState:(0,P.W4)(eO),stickyContent:ae,unselectableItemKeys:e4})}),t1]})}},417450:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var s=a(143277),r=a(441030);let n=[r.rRT,r.TaD,r.Clh,r.Msu,r.LPt];function i(e){let t=n.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),s.N.DEFAULT_MODAL;let a=n.length;return s.N.DEFAULT_MODAL+(a-t)/a}},199432:(e,t,a)=>{"use strict";a.d(t,{p:()=>p});var s=a(104076),r=a(237420),n=a(821655),i=a(369729),l=a(417528),o=a(192075),d=a(366535),c=a(111297),u=a(959834),m=a(432786);let _=(0,u.Ju)(function(e){return(0,s.jsx)(c.fu,{name:"Enable AI Features Modal",properties:{planId:e.planId,planType:e.planType},children:(0,s.jsx)(m.Dd,{title:(0,o.t)("admin_settings.ai.features_toggle.modal.header"),maxWidth:440,minWidth:440,fixedTop:!1,onConfirm:e.onEnable,confirmText:(0,o.t)("admin_settings.ai.features_toggle.modal.button"),children:(0,s.jsx)("div",{children:(0,o.tx)("admin_settings.ai.features_toggle.modal.description")})})})},"EnableAiFeaturesModal");function p(e){let t=(0,r.wA)();return(0,s.jsxs)(n.Yy,{variant:"brand","data-testid":e.testId,children:[(0,s.jsx)(i.Q,{title:(0,o.t)("admin_settings.ai.banner.title"),children:(0,s.jsx)("span",{style:{marginRight:8},children:(0,o.tx)("admin_settings.ai.banner.description")})}),(0,s.jsx)(l.N,{href:"#",onClick:()=>{t(d.to({type:_,data:{onEnable:()=>{e.onEnable()},planId:e.planId,planType:e.planType}}))},children:(0,o.tx)("admin_settings.ai.features_toggle.enable_ai")})]})}},880128:(e,t,a)=>{"use strict";let s;a.d(t,{r:()=>i});var r=a(797874),n=a(959834);function i(){return s??=(0,n.Ju)(r.A.createLazyComponent(()=>Promise.all([a.e(6039),a.e(6189),a.e(1039),a.e(4914),a.e(8060),a.e(5174),a.e(344),a.e(7384),a.e(8046),a.e(8700),a.e(3255),a.e(4334),a.e(6048)]).then(a.bind(a,157203)).then(e=>e.UpdateTeamDescriptionModal),(0,n.Ij)("UpdateTeamDescriptionModal")))}},266966:(e,t,a)=>{"use strict";a.d(t,{I:()=>l});var s=a(104076),r=a(638004),n=a(1188),i=a(111297);function l(e){return(0,s.jsx)(n.tH,{boundaryKey:e.trackingName,team:e.team??r.e.SCALE,fallback:n.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,s.jsx)(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties,trackingOptions:e.trackingOptions,children:e.children})})}},143928:(e,t,a)=>{"use strict";a.d(t,{K:()=>g});var s=a(104076),r=a(237420);if(443==a.j)var n=a(475477);if(443==a.j)var i=a(293422);if(443==a.j)var l=a(180);var o=a(755444),d=a(816565),c=a(236631),u=a(192075),m=a(911990);if(443==a.j)var _=a(551668);var p=a(366535),h=a(904017);function g(e){let t=(0,r.wA)(),a=(0,h.px)(),g=(0,h.Um)(a).unwrapOr(!1),x=(0,s.jsxs)(n.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",children:[" ",(0,u.tx)("resource_connection.request_modal.learn_more")," "]});return(0,s.jsxs)(m.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32,children:[(0,s.jsx)(d.oW,{src:(0,o.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),(0,s.jsx)("div",{className:c.s.textHeadingMedium.$,children:(0,u.t)("connected_projects_table.collaborate_in_a_connected_project")}),(0,s.jsx)("div",{className:c.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"},children:g?(0,u.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,u.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:x})}),g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.$n,{iconPrefix:(0,s.jsx)(l.$,{}),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))},children:(0,u.t)("resource_connection.admin_ui.connect_project")}),x]}),(0,s.jsx)("div",{className:c.s.h100.$})]})}},852263:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var s=a(104076),r=a(716976),n=a(237420),i=a(475477),l=a(821655),o=a(369729),d=a(293422),c=a(654458),u=a(812714),m=a(511570),_=a.n(m),p=a(755444),h=a(449572),g=a(140490),x=a(816565),b=a(236631),f=a(192075),v=a(629253),j=a(551668),y=a(366535),T=a(443192),S=a(853306),E=a(59849),I=a(904017),N=a(232362);let w="connected_projects_tab_header--headerContainer--Rz5m6";function A(){return(0,s.jsx)(g.u,{label:"ConnectedProjectsTabHeader",children:(0,s.jsx)(C,{})})}function C(){let e=(0,n.wA)(),t=(0,I.px)(),a=(0,I.S2)().unwrapOr(null),m=(0,I.Um)(t).unwrapOr(!1),g=a?.tier,A=a?.connectionCount??0,C=(0,S.N)(a?.key,()=>{e(y.to({type:j.B,data:{entryPoint:v.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),k=(0,s.jsx)(i.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",children:(0,f.tx)("resource_connection.request_modal.learn_more")}),R=(0,h.bc)(E.sMZ,{name:"seen_connected_projects_org_member_banner"}),O=r.useMemo(()=>"loaded"!==R.status||!!R.data?.currentUser?.userFlagByName,[R]),M=(0,u.kc)().fc_initial_onboarding_enabled&&!O?(0,s.jsx)("div",{className:_()(b.s.pt10.$,w),children:(0,s.jsx)(l.Cs,{variant:"brand",icon:(0,s.jsx)(c.L,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(T.b({seen_connected_projects_org_member_banner:!0}))},children:(0,s.jsx)(o.Q,{children:(0,f.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:k})})})}):(0,s.jsx)(s.Fragment,{});return m?(0,s.jsxs)("div",{className:w,children:[(0,s.jsx)("div",{className:"connected_projects_tab_header--contentContainer--xKmY8",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:b.s.textBodyLarge.$,children:(0,f.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:k})}),(0,s.jsxs)("div",{className:"connected_projects_tab_header--buttonContainer--mL5-t",children:[(0,s.jsx)("div",{children:(0,s.jsx)(d.$n,{onClick:C,children:(0,f.t)("resource_connection.admin_ui.connect_project")})}),(0,s.jsx)("div",{className:b.s.colorTextSecondary.$,children:a&&g&&A?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,f.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:A}):N.b[g]-A>0?(0,f.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:A,maxConnections:N.b[g]}):(0,f.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:N.b[g],planTier:(0,N.A)(g)}):null})]})]})}),(0,s.jsx)(x.oW,{src:(0,p.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})]}):M}},297109:(e,t,a)=>{"use strict";a.d(t,{m:()=>T});var s=a(104076),r=a(716976),n=a(498349),i=a(917360),l=a(420680),o=a(268389),d=a(225654),c=a(511570),u=a.n(c),m=a(784220),_=a(210913),p=a(173272),h=a(858959),g=a(262019),x=a(236631),b=a(192075);let f=(0,r.createContext)(null);function v(){let e=(0,r.useContext)(f);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function j(){return v().close}function y(){let e=j();return(0,s.jsx)("div",{className:u()(x.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close--SKgKT"),children:(0,s.jsx)(l.K,{onClick:()=>e("button"),"aria-label":(0,b.t)("modal.close"),children:(0,s.jsx)(d.X,{})})})}let T={Root:(0,r.forwardRef)((e,t)=>{let a=(0,r.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return(0,s.jsx)(f.Provider,{value:a,children:(0,s.jsx)(m.N,{initial:!1,children:e.open?(0,s.jsx)(r.Fragment,{children:e.children},"contents"):null})})}),Contents:function({children:e,...t}){let{close:a,ref:l}=v(),o=(0,g.M)(l);(0,r.useEffect)(()=>{let e=o.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,o]);let[d,c]=(0,_.xQ)(),m=(0,p.d)("translateX(100%)");return(0,r.useEffect)(()=>{let e;return d?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(c,600)),()=>{clearTimeout(e)}},[d]),(0,s.jsx)(n.i,{children:(0,s.jsx)(i.b,{...t,className:u()(x.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:o,children:(0,s.jsx)("div",{className:u()(x.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--g9Ra6"),children:(0,s.jsxs)(h.P.div,{className:x.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...d?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||d||c()},children:[(0,s.jsx)(y,{}),e]})})})})},Header:function(e){return(0,s.jsx)("div",{className:u()(x.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--AZ5ed"),children:e.children})},HiddenTitle:o.r1,Title:function(e){return(0,s.jsx)(i.J,{className:x.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$,children:e.children})},Body:function(e){let{height:t,...a}=e;return(0,s.jsx)("div",{className:u()(x.s.overflowAuto.if("fill"===e.height,x.s.hFull).$,"flyout--body--2bx8h"),"data-testid":"flyout-body",children:a.children})},useClose:j}},248486:(e,t,a)=>{"use strict";a.d(t,{v:()=>l});var s=a(716976);if(443==a.j)var r=a(328167);var n=a(703630);let i=443==a.j?["Enter"," "]:null;function l(e,t={}){let[a,o]=(0,s.useState)(null),d=(0,n.H)(t),c=(0,s.useRef)(),u=(0,s.useCallback)(e=>{o(null),c.current??=e},[]),m=(0,s.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!m;return(0,s.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,s.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,s.useEffect)(()=>{_&&u("item-missing")},[_,u]),(0,s.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let s=(0,r.SD)(t.target);for(;s;){let e=a.get(s);if("boolean"==typeof e)return e;s=s.parentElement}return!1},s=e=>{t(e)&&u("other-interaction")},n=e=>{i.includes(e.key)&&t(e)&&u("other-interaction")},l=e=>{t(e)&&setTimeout(()=>u("other-interaction"),0)};return document.body.addEventListener("pointerdown",s,{capture:!0}),document.body.addEventListener("keydown",n,{capture:!0}),document.body.addEventListener("input",l,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",s,{capture:!0}),document.body.removeEventListener("keydown",n,{capture:!0}),document.body.addEventListener("input",l,{capture:!0})}},[a,u,d]),{highlightedItem:m,setHighlightedItemId:o,clearHighlightedItemId:u}}},146171:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var s=a(716976),r=a(638004),n=a(901014),i=a(111297),l=a(271330);function o(e){let{properties:t}=(0,i.j6)(),a=(0,l.L)(r.e.MONETIZATION_EXPANSION);return(0,s.useCallback)(s=>{(0,n.sx)("admin_flyout_closed",{...t,flyout_id:e,reason:s},a)},[t,e,a])}},487810:(e,t,a)=>{"use strict";a.d(t,{B:()=>l,z:()=>i});var s=a(104076),r=a(716976);let n=(0,r.createContext)(null);function i(e){return(0,s.jsx)(n.Provider,{value:e.layoutRef,children:e.children})}function l(){let e=(0,r.useContext)(n);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},336972:(e,t,a)=>{"use strict";a.d(t,{S:()=>ep,d:()=>eh});var s=a(104076),r=a(716976),n=a(237420),i=a(65545),l=a(951002),o=a(382629),d=a(638004),c=a(929302),u=a(950187),m=a(268389),_=a(475477),p=a(73795),h=a(120440),g=a(901014),x=a(833805),b=a(140490),f=a(550209),v=a(1188),j=a(520741),y=a(236631),T=a(352630),S=a(192075),E=a(58212),I=a(638641),N=a(911990),w=a(817647),A=a(347592),C=a(944350),k=a(412469),R=a(608175),O=a(328213);C.Ag.STUDENT,C.Ag.STARTER;let M=A.N_.dict(()=>"-");var q=a(244205),L=a(111297),P=a(514359),D=a(649693),B=a(285091),F=a(904017),U=a(563554),G=a(838887),W=a(959834),$=a(826160),V=a(434225),H=a(302727),z=a(173025),Y=a(942924),K=a(659062),Q=a(624258),X=a(476261),J=a(283559),Z=a(594209),ee=a(349311);function et({billableProductKey:e,upgradeApprovalSetting:t,isELA:a,isProrationBillingEnabled:r,isProvisionalAccessEnabled:n}){let i=(0,X.SI)(t),l=(0,X.kj)(t,a,r,n),o=(0,X.NU)(t,a);return(0,s.jsx)(H.Option,{htmlAttributes:{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":o,"data-tooltip-hide-immediately":"","data-tooltip-max-width":"200px","data-tooltip-show-immediately":"","data-tooltip-show-left":"","data-tooltip-text-left":"","data-tooltip-type":ee.Ib.TEXT},value:`${e}##${t}`,disabled:!!o,children:(0,s.jsxs)(z.fv,{className:"x1iorvi4 xjkvuk6 x163pfp xy13l1i",children:[(0,s.jsx)("div",{children:i}),(0,s.jsx)("div",{className:"x126k92a xkrz9af x1p6yuv4",children:l})]})})}let ea=[i.zRx.MANUAL_APPROVAL,i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,i.zRx.INSTANT_APPROVAL];function es({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:n,isELA:i,shouldHidePrice:l,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d}){let c=(0,r.useId)(),u=(0,X.CM)(t),m=ea.map(e=>(0,s.jsx)(et,{billableProductKey:t,upgradeApprovalSetting:e,isELA:i,isProrationBillingEnabled:o,isProvisionalAccessEnabled:d},`${t}_${e}`));return(0,s.jsxs)(z.fv,{gap:8,"data-testid":`auto-approval-settings-selector-${t}`,children:[(0,s.jsx)(N.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start",children:(0,s.jsxs)(N.Y,{direction:"horizontal",horizontalAlignItems:"space-between",children:[(0,s.jsxs)(N.Y,{direction:"horizontal",children:[(0,s.jsx)(Q.BC,{type:t,size:"24"}),(0,s.jsx)("label",{htmlFor:c,className:y.s.textBodyMediumStrong.$,children:u})]}),(0,s.jsx)(er,{shouldHidePrice:l,priceString:e,seatType:t})]})}),(0,s.jsxs)(H.Root,{value:`${t}##${a}`,onChange:e=>{let[t,a]=e.split("##");n(t,a)},children:[(0,s.jsx)(H.ManuallyLabeledTrigger,{id:c,width:"fill",size:"lg",children:(0,X.SI)(a)}),(0,s.jsx)(H.Container,{children:m.flatMap((e,t)=>t<m.length-1?[e,(0,s.jsx)(H.Separator,{},`divider-${t}`)]:e)})]})]})}function er({shouldHidePrice:e,seatType:t,priceString:a}){let r=e?(0,S.t)("general.whats_included_aria_label",{seatType:(0,Z.QC)(t)}):(0,S.t)("general.price_per_month",{priceString:a}),n=(0,s.jsx)("div",{"data-testid":`${t}-price`,style:K.sx.noWrap.colorTextSecondary.$,children:e?(0,S.tx)("general.whats_included"):(0,S.tx)("general.price_per_month",{priceString:a})});return(0,s.jsx)(Y.b,{type:"listbox",text:n,popoverContent:(0,s.jsx)("div",{style:K.sx.flex.flexColumn.gap8.$,children:(0,s.jsx)(J.i,{seatType:t,spacing:8})}),ariaLabel:r})}let en=i.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function ei(e){let t=(0,n.wA)(),{currency:a,renewalTerm:i}=e,p=c.hS({open:e.open,onClose:e.onClose}),h=(0,B.d)({reportErrorsToTeam:d.e.SCALE}),g=(0,O.k)(),b=(0,F.S2)(),[v]=(0,x.Ad)(b),j=!!v.data?.campfireProvisionalAccessEnabled,N=(0,P.i6)(),W=N.data;if(r.useEffect(()=>{"errors"===N.status&&console.error("orgManagesSeatsViaScimQueryResult error",N.errors)},[N]),"loaded"!==v.status){let e=Error("disabled"===v.status?"Plan fetching disabled":"Error fetching plan");throw(0,f.$D)(d.e.MONETIZATION_EXPANSION,e),e}let V=v.data;if(!V){let e=Error("No Plan found");throw(0,f.$D)(d.e.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:H,status:z}=function(e,t,a){let s=(0,w.Ln)(e.key,A.N_,{renewalTerm:a,unit:R.IX.MONTH}),[r]=(0,x.Ad)(s),n=(0,O.k)(),i="disabled"===r.status?Error("Missing contract rate args."):"errors"===r.status?Error("Error while fetching pricing."):void 0;if(i&&(0,f.$D)(d.e.MONETIZATION_EXPANSION,i),i||!t)return{billableProductKeyContractPrices:M,status:r.status};let{data:l}=r;if(null===l||!n)return{billableProductKeyContractPrices:M,status:r.status};let c=new k.vr(t);return{billableProductKeyContractPrices:A.N_.dict(e=>{if(!(0,o.uy)(l[e]))return c.formatMoney(l[e].amount,{showCents:!1})}),status:r.status}}(V,a,i),[Y,K]=(0,r.useState)(A.N_.dict(e=>{switch(e){case D.ud.EXPERT:return V.upgradeApprovalSettingsExpert??en;case D.ud.DEVELOPER:return V.upgradeApprovalSettingsDeveloper??en;case D.ud.COLLABORATOR:return V.upgradeApprovalSettingsCollaborator??en;case D.ud.CONTENT:return V.upgradeApprovalSettingsContent??en;default:(0,l.xb)(e)}})),Q=(0,r.useCallback)(async()=>{if(!V.key.type||!V.key.parentId)throw Error("Missing plan key type or parentId.");await G.V.updateUpgradeApprovalSettings(V.key.type,V.key.parentId,Y),p.props?.close({source:"button"}),t(E.F.enqueue({message:(0,S.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:I.zX.CHECK_WITH_CIRCLE}))},[Y,t,p.props,V.key.parentId,V.key.type]),X=(0,r.useCallback)((e,t)=>{K(a=>({...a,[e]:t}))},[]),J=h||!a||"errors"===z||!g;return(0,s.jsx)(L.fu,{name:U.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:V.key.type,orgId:V.key.type===C.OL.ORG?V.key.parentId:void 0,teamId:V.key.type===C.OL.TEAM?V.key.parentId:void 0},children:(0,s.jsx)(u.bL,{manager:p,width:480,children:(0,s.jsxs)(m.vo,{allowOverflow:!0,children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)($.Ro,{entity:{...V,id:V?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings.title")}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.preWrap.$,children:h?e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,S.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,S.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,S.tx)("plan_settings.auto_approval_settings.subtitle")}),(0,s.jsx)(_.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0,children:(0,S.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options")})]}),(0,s.jsxs)("div",{className:y.s.mt24.flex.flexColumn.gap24.mb8.$,children:[Object.keys(Y).map(e=>{let t=H[e];if((0,o.uy)(t))return null;let a=Y[e];return(0,o.uy)(a)?null:(0,s.jsx)(es,{billableProductKey:e,isELA:h,isProrationBillingEnabled:g,isProvisionalAccessEnabled:j,planName:V.name,priceString:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:X,shouldHidePrice:J},e)}),!!e.isCurfEnabledForMembers&&(0,s.jsx)(ed,{}),W&&!e.isCurfEnabledForMembers&&(0,s.jsx)(eo,{}),(0,s.jsx)(el,{failedToLoadPrices:"errors"===z})]})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsxs)(m.jk,{children:[(0,s.jsx)(T.$z,{variant:"secondary",onClick:()=>p.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:q.c.CANCEL},children:(0,S.tx)("plan_settings.auto_approval_settings.cancel")}),(0,s.jsx)(T.$z,{variant:"primary",onClick:Q,trackingProperties:{trackingDescriptor:V.key.type?V.key.type===C.OL.ORG?q.c.SAVE_FOR_ORGANIZATION:q.c.SAVE_FOR_TEAM:q.c.SAVE},children:V.key.type?V.key.type===C.OL.ORG?(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,S.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")})]})})]})})})}function el({failedToLoadPrices:e}){return(r.useEffect(()=>{e&&(0,g.sx)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?(0,s.jsx)(j._,{dataTestId:"pricing-error-badge",color:j.S.WARNING,padding:8,text:(0,S.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function eo(){return(0,s.jsx)(L.fu,{name:U.e0.SCIM_INFO_BADGE,children:(0,s.jsx)(j._,{dataTestId:"scim-info-badge",color:j.S.INFORMATION,padding:8,text:(0,s.jsxs)(N.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{...h.xk(p.g.textBodyMediumStrong),children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.title")}),(0,s.jsx)("p",{children:(0,S.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")})]})})})}function ed(){return(0,s.jsx)(L.fu,{name:U.e0.CURF_MEMBER_INFO_BADGE,children:(0,s.jsx)(j._,{dataTestId:"curf-member-only-info-badge",color:j.S.INFORMATION,padding:8,text:(0,s.jsxs)(N.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)("p",{className:y.s.textBodyMediumStrong.$,children:(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.title")}),(0,s.jsxs)("p",{children:[" ",(0,S.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")]})]})})})}let ec=(0,W.Ju)(function(e){return(0,s.jsx)(b.u,{label:"AutoApprovalSettingsModal",children:(0,s.jsx)(v.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:v.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(V.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577}),children:(0,s.jsx)(ei,{...e})})})})});var eu=a(293422);let em=(0,W.Ju)(function(e){let t=(0,F.S2)().unwrapOr(null),a=c.hS({open:e.open,onClose:e.onClose});return(0,s.jsx)(L.fu,{name:"Auto Approval Settings Modal (CURF All Users)",children:(0,s.jsx)(u.bL,{manager:a,width:480,children:(0,s.jsxs)(m.vo,{children:[(0,s.jsx)(m.nB,{children:(0,s.jsxs)("div",{className:y.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header",children:[(0,s.jsx)($.Ro,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:y.s.mb16.$}),(0,s.jsx)("div",{className:y.s.textHeadingMedium.mb8.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.title")}),(0,s.jsx)("span",{className:y.s.textBodyMedium.colorTextSecondary.$,children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.description")})]})}),(0,s.jsx)(m.wi,{children:(0,s.jsx)(m.jk,{children:(0,s.jsx)(eu.$n,{variant:"primary",onClick:()=>a.props?.close({source:"button"}),children:(0,S.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")})})})]})})})},"CurfAllUsersAutoApprovalSettingsModal");var e_=a(366535);function ep({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:s}){return()=>{e(e_.to({type:ec,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:s}}))}}function eh({dispatch:e}){return()=>{e(e_.to({type:em,data:{}}))}}},505189:(e,t,a)=>{"use strict";let s;a.d(t,{Y:()=>I});var r=a(104076),n=a(716976),i=a(237420),l=a(929302),o=a(950187),d=a(268389),c=a(812714),u=a(140490),m=a(520741),_=a(849757),p=a(236631),h=a(192075),g=a(111297),x=a(944350),b=a(562552),f=a(838887),v=a(507665),j=a(959834),y=a(826160),T=a(542190);function S(e){return(0,r.jsx)(u.u,{label:"AssetTransferAdminListModal",children:(0,r.jsx)(E,{...e})})}function E(e){let t=(0,i.wA)(),a=l.hS({open:e.open,onClose:e.onClose}),s=(0,T.lM)(e.entryPoint),[u,j]=n.useState();n.useEffect(()=>{if((0,c.kc)().can_transfer_admin_list)f.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{j(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else if(e.planType===x.OL.ORG){b.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{j(e.meta)});return}else e.planType===x.OL.TEAM&&v.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{j(e.meta)})},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let S=e.planName??(0,h.t)("general.fallback_team_name");return(0,r.jsx)(g.fu,{name:"Asset Transfer Admin List Modal",children:(0,r.jsx)(o.bL,{manager:a,width:"lg",children:(0,r.jsxs)(d.vo,{children:[(0,r.jsx)(d.Y9,{children:(0,r.jsx)(d.hE,{children:(0,h.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:S})})}),(0,r.jsxs)(d.nB,{scrolling:"manual",children:[(0,r.jsx)(m._,{color:m.S.INFORMATION,text:s?(0,h.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,h.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),(0,r.jsx)(_.P,{className:"asset_transfer_admin_list_modal--scrollContainer--IG5YS",children:(0,r.jsx)("div",{className:"asset_transfer_admin_list_modal--contentContainer--u5vXu",children:(()=>{if(u){let e=u.map(e=>(0,r.jsx)("div",{className:p.s.py8.$,children:(0,r.jsx)(y.az,{entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1},e.id)},e.id));return(0,r.jsx)("ul",{children:e})}})()})})]})]})})})}function I(){return s??=(0,j.Ju)(S,"AssetTransferAdminListModal")}},235854:(e,t,a)=>{"use strict";a.d(t,{d:()=>A});var s=a(104076),r=a(716976),n=a(237420),i=a(929302),l=a(950187),o=a(268389),d=a(293422),c=a(751309),u=a(755444),m=a(140490),_=a(816565),p=a(679359),h=a(236631),g=a(192075),x=a(58212),b=a(232362),f=a(366535),v=a(111297),j=a(853306),y=a(944350),T=a(904017),S=a(349311),E=a(184664),I=a(959834),N=a(903156);function w(e){let t=(0,n.wA)(),a=()=>{t(f.Ce())},m=(0,T.S2)().unwrapOr(null),I=i.hS({...e,onClose:a}),[w,A]=r.useState(!1),C=e.resourceConnectionInvite.hostPlan,k=e.resourceConnectionInvite.connectingPlan,R=(0,j.N)(m?.key,()=>{E.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{A(!1),a(),t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{A(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(x.F.enqueue({message:m?.key.type===y.OL.TEAM?(0,g.t)("resource_connection.visual_bell.org_at_limit"):(0,g.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.host_settings",{hostPlanName:C.name}),error:!0})):t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return m?(0,s.jsx)(v.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId},children:(0,s.jsx)(l.bL,{manager:I,width:"lg",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:(0,g.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:C.name})})}),(0,s.jsxs)(o.nB,{padding:0,children:[(0,s.jsx)(_.oW,{src:(0,u.ck)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:h.s.maxWFull.$}),(0,s.jsxs)("div",{className:h.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$,children:[(0,s.jsx)("p",{className:h.s.$,children:(0,g.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:(0,s.jsx)("span",{className:h.s.fontSemiBold.$,children:k.name})})}),(0,s.jsx)("div",{className:N.fF,children:(0,s.jsx)("div",{className:N.yF})}),(0,s.jsxs)("div",{className:N.Kg,children:[(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,g.t)("resource_connection.project_name")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.resourceName})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,g.t)("resource_connection.host")}),(0,s.jsx)("p",{children:C.name})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsx)("p",{className:N.QU,children:(0,g.t)("resource_connection.invited_by")}),(0,s.jsx)("p",{children:e.resourceConnectionInvite.hostInviter?.name})]}),(0,s.jsxs)("div",{className:N.F5,children:[(0,s.jsxs)("div",{className:N.j1,children:[(0,s.jsx)("p",{className:N.QU,children:(0,g.t)("resource_connection.available_projects")}),(0,s.jsx)("div",{...m?.tier?{"data-tooltip":(0,g.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:b.b[m.tier],planType:(0,b.A)(m.tier)??""}),"data-tooltip-type":S.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{},children:(0,s.jsx)(c.B,{style:{"--color-icon":"var(--color-icon-secondary)"}})})]}),(0,s.jsx)("p",{children:m?m?.unlimitedConnectionsEnabled||m?.testingOnlyUnlimitedConnectionsEnabled?(0,g.t)("resource_connection.unlimited"):(b.b[m.tier]-(m?.connectionCount??0)).toString():""})]})]}),(0,s.jsx)("div",{className:N.fF,children:(0,s.jsx)("div",{className:N.yF})})]}),(0,s.jsxs)("div",{className:N.xQ,children:[(0,s.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:h.s.mr8.$,children:(0,s.jsx)(d.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,g.tx)("resource_connection.request_modal.learn_more")})}),(0,s.jsxs)("div",{className:h.s.flex.gap8.itemsCenter.$,children:[(0,s.jsx)(d.$n,{variant:"secondary",onClick:()=>{E.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{A(!1),a(),t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{A(!1),console.error("Error denying resource connection invite",e),t(x.F.enqueue({message:(0,g.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},children:(0,g.tx)("resource_connection.confirm_modal.decline")}),w?(0,s.jsx)(d.$n,{disabled:!0,children:(0,s.jsx)(p.qc,{})}):(0,s.jsx)(d.$n,{onClick:R,children:(0,g.tx)("resource_connection.connect")})]})]})]})]})})}):(0,s.jsx)(s.Fragment,{})}let A=(0,I.Ju)(function(e){return(0,s.jsx)(m.u,{label:"ResourceConnectConfirmModal",children:(0,s.jsx)(w,{...e})})},"ResourceConnectConfirmModal")},696989:(e,t,a)=>{"use strict";a.d(t,{r:()=>o,w:()=>d});var s=a(716976),r=a(237420),n=a(449572),i=a(147046),l=a(59849);function o(e){let t=(0,n.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,r.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team||a(i.sf({view:"recentsAndSharing"}))},[t,a])}function d(e){let t=(0,n.bc)(l.Bl3,{id:e??""},{enabled:!!e}),a=(0,r.wA)();s.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.sf({view:"recentsAndSharing"}))},[t,a])}},552234:(e,t,a)=>{"use strict";a.d(t,{n:()=>o});var s=a(716976),r=a(237420);if(443==a.j)var n=a(328881);var i=a(212959),l=a(366535);function o(e,t,a,o,d,c){let u=(0,r.wA)();return s.useCallback(()=>{void 0!==t&&(e===i.am.MEMBERS&&t.team.org_id?u(l.to({type:(0,n.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):u(l.to({type:i.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,u,a,o,d,c])}},585345:(e,t,a)=>{"use strict";a.d(t,{e9:()=>C,Mn:()=>L});var s=a(104076),r=a(716976),n=a(237420),i=a(962856),l=a(795033),o=a(333331),d=a(369850),c=a(449572),u=a(997477),m=a(1188),_=a(652539),p=a(192075),h=a(102497),g=a(220294),x=a(689902),b=a(507147),f=a(82621),v=a(111297),j=a(905368),y=a(462952),T=a(944350),S=a(59849),E=a(439956),I=a(771717),N=a(349311);let w="admin_notifications_count_badge--yellowIcon--7SC5D";var A=a(57540);function C(e){let{getConfig:t}=(0,u.I7)("exp_all_admin_request_dash"),a=(0,c.bc)(S.HpJ,{orgId:e.planId},{enabled:e.planType===h.ps.ORG}),n=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,d=(0,h.ZY)({isIntendedAudience:!!(e.planType===h.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,_=(0,c.bc)(S.KR2,{planType:e.planType,planId:e.planId,filterParams:n||d?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),x="loaded"===_.status&&_.data.adminDashboardRequestsTotalCount.status===o.tT.Loaded&&("loaded"===a.status||e.planType===h.ps.TEAM)?_.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,b=x??0,[f,v]=(0,l.fp)(g.Y),j=n?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();r.useEffect(()=>{if(x){let e={...f};e[j]=b,v(e)}return()=>{let e={...f};delete e[j],v(e)}},[e.isDataLoaded,x,j]);let y=(f[j]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(y<1)return null;let T="defaultFilled";return(e.billingStatusCount||e.taxStatusCount)&&(T="warningFilled"),void 0!==x&&y>0&&e.isDataLoaded?(0,s.jsx)(i.E,{"aria-label":(0,p.t)("sidebar.admin_notifications_count",{adminNotificationsCount:y}),variant:T,"data-testid":"admin-notifications-badge",children:y.toString()}):null}function k(e){let t=function(e,t){let a=(0,d.Xf)(e.id),s=(0,y.MX)(),n=r.useMemo(()=>(0,j.Pn)(a.data),[a.data]),i=a.data?.invoices,l=(0,j.Yo)(n?{planKey:{parentId:e.id,type:T.OL.ORG},nextRenewalDate:n}:null);return r.useMemo(()=>{let e=(0,x.ur)({invoices:i??[],licenseGroups:s,renewalConfirmed:l,userId:t.user_id,renewalAt:n});return e?.notification?1:0},[i,n,l,s,t.user_id])}(e.org,e.orgUser);return(0,s.jsx)(C,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function R(e){let t=function(e){let t=(0,d.Xf)(e.id),a=(0,j.oU)(e),s=r.useMemo(()=>(0,j.Pn)(t.data),[t.data]),n=t.data?.invoices;return r.useMemo(()=>{if("loaded"!==t.status||!n||"loading"===a.status)return 0;let r=0;a.data?.show&&!a.data?.confirmed&&r++;let i=(0,x.uE)({invoices:n,org:e,renewalAt:s});return i?.notification&&r++,r},[n,e,t.status,a.data,a.status,s])}(e.org),a=(0,y.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id);return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?(0,s.jsx)(C,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:a,taxStatusCount:0,isDataLoaded:void 0!==e.invoices}):null}var O=(e=>(e.WARNING="warning",e.NOTICE="notice",e))(O||{});function M(e,t,a,s,r,n){if(!s||!(0,E.i0)(s))return null;if(n){if(!r)return null;let{groupsUserIsAdminOf:e}=(0,y.EQ)(a,t.user_id,n),{groupsToReview:i}=(0,y.Cz)(e,s);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,E.m3)(s)?"admin_notifications_count_badge--redIcon--QvRuX":w,iconType:(0,E.m3)(s)?"warning":"notice"}}function q(e){return e!==T.kI.UNVERIFIED?null:{tooltipData:(0,p.t)("billing_status.tax_id.invalid"),iconStyle:w,iconType:"notice"}}function L(e){return(0,s.jsx)(m.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:(0,s.jsx)("div",{}),children:(0,s.jsx)(D,{...e})})}function P(e){let t=(0,n.wA)(),a=(0,y.MX)(),i=e.invoices&&(0,E.hX)(e.invoices),l=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==T._D.ADMIN,o=(0,c.bc)(S.Wt6,{orgId:e.org.id}),d="loaded"===o.status?o.data.org?.taxIdVerificationStatus:null;r.useEffect(()=>{i&&l&&t(f.Jt({forceRefetch:!1}))},[t,e.org.id,i,l]);let u=(()=>{switch(e.highlightType){case E.EZ.BILLING_STATUS:return M(e.org,e.orgUser,a,e.invoices,i,l);case E.EZ.TAX_ID_STATUS:return q(d);default:return M(e.org,e.orgUser,a,e.invoices,i,l)||q(d)}})();if(!u)return null;let m=`${u.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--DETI2":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6PT9X":""}`,p={};e.showTooltip&&(p["data-tooltip-type"]=N.Ib.TEXT,p["data-tooltip"]=u.tooltipData,p["data-tooltip-show-below"]=!0,p["data-tooltip-timeout-delay"]=50,p["data-tooltip-max-width"]=117);let h=(0,s.jsx)(_.B,{className:`admin_notifications_count_badge--warningSvg--sbgzs ${m}`,svg:A.A,useOriginalSrcFills_DEPRECATED:!0,...p}),g=e.showTooltip?(0,s.jsx)(b.Y,{className:m,dataTooltipType:p["data-tooltip-type"],dataTooltip:p["data-tooltip"],dataTooltipShowBelow:p["data-tooltip-show-below"],dataTooltipTimeout:p["data-tooltip-timeout-delay"],dataTooltipMaxWidth:p["data-tooltip-max-width"]}):(0,s.jsx)(b.Y,{className:m}),x="warning"===u.iconType?h:g;return(0,v.T8)(x,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:l})}function D(e){let t=(0,n.wA)(),a=e.orgUser.permission===T._D.ADMIN,i=(0,y.RG)(),l=(0,y.MX)(),{groupsUserIsAdminOf:o}=(0,y.EQ)(l,e.orgUser.user_id,!a),u=(0,d.Xf)(e.org.id),m="loaded"===u.status?u.data?.invoices??[]:void 0;r.useEffect(()=>{t(f.Jt({forceRefetch:!1}))},[t,e.org.id]);let _=o[0]?.id,p=e.org.bigma_enabled&&i&&!!_,g=(0,I.NJ)(e.org.id).data??[],x=e.org.bigma_enabled&&g.length>0,b=a||p||x,v=(0,h.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),j=(0,c.bc)(S.Wt6,{orgId:e.org.id},{enabled:a}),E="loaded"===j.status?j.data.org?.taxIdVerificationStatus:void 0;return b?a?(0,s.jsx)(R,{planType:h.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:l,taxIdVerificationStatus:E,invoices:m,isSelected:e.isSelected,org:e.org}):p?v?(0,s.jsx)(k,{invoices:m,groupsUserIsAdminOf:o,isSelected:e.isSelected,planId:e.org.id,planType:h.ps.ORG,orgUser:e.orgUser,org:e.org}):(0,s.jsx)(P,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},212959:(e,t,a)=>{"use strict";a.d(t,{ut:()=>tC,am:()=>tS});var s=a(104076),r=a(716976),n=a(237420),i=a(999083),l=a(821655),o=a(369729),d=a(263188);a(120440);var c=a(681398),u=a(769109),m=a(958273),_=a(1188),p=a(679359),h=a(192075),g=a(142914),x=a(751084),b=a(449572),f=a(944350),v=a(59849),j=a(613936),y=a(951002),T=a(511570),S=a.n(T),E=a(665261),I=a(652539),N=a(171660),w=a(147046),A=a(366535),C=a(494320),k=a(506192),R=a(592726),O=a(643898),M=a(411224),q=a(894413),L=a(349311),P=a(295110),D=a(826160),B=a(917332),F=a(560201),U=a(386719);let G=(0,F.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return(0,s.jsxs)("span",{className:U.Qq,children:[(0,s.jsx)("span",{style:{fontWeight:600},children:a})," ",t]})},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),W="members_list_row--column--lYSr0",$="members_list_row--permissionsColumnModal--vpl7C members_list_row--column--lYSr0",V="members_list_row--roleRowWithRequestsModal--XkEe8 members_list_row--_membersListRowGridWithRequestsBase--lj--X",H="members_list_row--acceptDenyText--FS9XK text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",z="members_list_row--fixedContextMenu--7vBtK",Y="members_list_row--select--Dxew7 members_list_row--column--lYSr0",K="members_list_row--dropdownIcon--mJelI",Q="members_list_row--avatarWithHandle--yirlt";var X=a(977613),J=a(154709),Z=a(443105);let ee="team-member-list-row-dropdown";function et(e){let t=(0,n.wA)(),a=(0,R.Pc)(),i=(0,C.P)(),l=(0,k.Um)(),o=(0,r.useMemo)(()=>{let t=e.team?.team;return t?{teamName:t.name,isCurrentUserTeamOwner:t.isOwner,canMakeTeamMemberAdmin:t.canAdmin,canEditTeamMemberRole:(0,O.OL)(e.teamRole,!!t.canAdmin,!!t.canEdit)}:null},[e.team,e.teamRole]),d=r.useRef(null),c=()=>l&&l.type===ee&&l.data.roleId===e.teamRole.id,u=a=>{if(c())t(w.oB());else{if(!d.current)return;let s=d.current?.getBoundingClientRect(),r=s.bottom+a>window.innerHeight,n=window.innerHeight-s.bottom;t(w.j7({type:ee,data:{roleId:e.teamRole.id,position:{top:r?"auto":s.top,bottom:r?n:"auto",left:s.left-28,right:"auto"}}}))}},m=()=>{t((0,M.$S)({role:e.teamRole}))},_=a=>{(0,y.KF)(e.teamRole.resource_type===f.vt.TEAM,"MembersListRow is only for team roles");let s=()=>t((0,q.yN)({role:e.teamRole,level:a}));a===j.e6.OWNER?t((0,A.to)({type:B.b,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:s}})):s()},p=(a,s)=>{e.isModal&&t(A.Ce()),t(w.sf({view:"user",userId:s.id,userViewTab:P.o.INTERNAL_PROFILE}))},g=(t,r)=>{let n;return e.teamRole.pending||(n=p),(0,s.jsx)(D.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--EOxtN admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa":Q,defaultFallbackAvatarSvg:e.teamRole.pending?X.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:r,initializableEntityProperties:["handle","name","email"],onClick:n,overrideHandle:r?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},x=e.teamRole.pending?((e,t)=>{let a=i?.usersByEmail[e.user.email]||{};return{...a,...e.user,id:e.user.id,email:a?.email??t??e.user.email}})(e.teamRole,e.emailLg):e.teamRole.user;return(0,s.jsxs)("div",{className:S()({"members_list_row--roleRowWithRequests--Dmagz members_list_row--_membersListRowGridWithRequests--CLLCo members_list_row--_membersListRowGridWithRequestsBase--lj--X":!e.isModal,[V]:e.isModal}),"data-testid":"members-list-row",children:[e.isModal&&(0,s.jsx)("div",{className:"members_list_row--nameColumnModal--rT7n9 members_list_row--column--lYSr0",children:g(x,!0)}),!e.isModal&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"members_list_row--nameColumn--mEVQ- members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:g(x,!1)}),(0,s.jsx)("div",{className:"members_list_row--nameAndEmailColumn--8GdN6 members_list_row--column--lYSr0 members_list_row--_showWhenNarrow--FR1xk",children:g(x,!0)}),(0,s.jsx)("div",{className:"members_list_row--emailColumn--v-F6U members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",children:(0,s.jsx)(N.E,{truncate:!0,children:x.email})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:e.isModal?$:W,children:[(()=>{if(e.isEduRestrictedLg)return(0,s.jsx)(I.B,{className:"members_list_row--warningIcon--G9r-7","data-tooltip":G,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,h.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,h.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":L.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:Z.A})})(),(()=>{let t;let r=[],n=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner){if(!o?.canEditTeamMemberRole)return(0,s.jsx)("span",{className:"members_list_row--nonDropdownPadding--a8tyP",children:(0,O.QN)(e.teamRole.level)});o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&r.push(j.e6.OWNER),o?.canMakeTeamMemberAdmin&&r.push(j.e6.ADMIN),r.push(j.e6.EDITOR),r.push(j.e6.VIEWER),n=e.teamRole.pending}else r.push(e.teamRole.level);let i=-24*Math.max(0,r.indexOf(e.teamRole.level));return c()&&l.data&&l.data.position&&(t={...l.data.position},t.top+=i),(0,s.jsxs)("div",{ref:d,children:[(0,s.jsxs)("div",{className:Y,onClick:()=>u(120+i),children:[(0,s.jsx)("span",{children:(0,O.QN)(e.teamRole.level)}),(0,s.jsx)(I.B,{svg:J.A,className:K})]}),c()&&(0,s.jsxs)(E.ms,{className:z,style:t,children:[r.map(t=>(0,s.jsx)(E.MM,{onClick:e.teamRole.level!==t?()=>_(t):void 0,checked:e.teamRole.level===t,children:(0,O.QN)(t)},t)),(0,s.jsx)(E.wv,{}),n&&(0,s.jsx)(E.c$,{onClick:m,children:(0,h.tx)("file_browser.team.resend_invite")}),(0,s.jsx)(E.c$,{onClick:()=>_(j.e6.NONE),children:e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,h.tx)("file_browser.team.remove_confirm"):(0,h.tx)("file_browser.team.leave_confirm")})]})]})})()]})]})}var ea=a(901014),es=a(569711);let er="team-pending-member-role-request-dropdown",en=()=>{let e=(0,n.d4)(e=>e.dropdownShown);return e&&e?.type===er?e:null};function ei(e){let t=(0,n.wA)(),a=en(),i=r.useRef(null),[l,o]=r.useState(e.request.level),d=(0,n.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=r.useMemo(()=>d?[j.e6.EDITOR]:[j.e6.VIEWER,j.e6.EDITOR],[d]),u={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},m=s=>{if(a)t(w.oB());else{let a=i&&i.current&&i.current.getBoundingClientRect(),r=a?.bottom??0+s>window.innerHeight,n=window.innerHeight-(a?.bottom??0);t(w.j7({type:er,data:{requestId:e.request.id,position:{top:r?"auto":a?.top,bottom:r?n:"auto",left:a?.left??-28,right:"auto"}}}))}},_=e=>{o(e),t(w.oB())},p=r.useMemo(()=>-24*Math.max(0,c.indexOf(l)),[l,c]),g=r.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=p),e},[a,p]),x={request_id:e.request.id,team_id:e.request.teamId,type:l,response:"accept",source:"TeamPendingMembersRow"};return(0,s.jsxs)("div",{className:V,children:[(0,s.jsx)("div",{className:W,children:(0,s.jsx)(D.az,{entity:u,initializableEntityProperties:["handle","name","email"],size:24,className:Q,onClick:(e,a)=>{t(w.sf({view:"user",userId:a.id,userViewTab:P.o.INTERNAL_PROFILE}))},overrideHandle:u.handle||u.name||u.email,defaultText:"--"})}),(0,s.jsxs)("div",{className:S()(W,"members_list_row--flexRight--iwR1Y"),children:[(0,s.jsx)("span",{onClick:()=>{x.response="deny",(0,ea.sx)("permission_request_responded",x),t(es.UF({requestId:e.request.id}))},className:H,role:"button",tabIndex:-1,children:(0,h.tx)("file_browser.team.dismiss")}),(0,s.jsx)("span",{onClick:()=>{(0,ea.sx)("permission_request_responded",x),t(es.Jd({requestId:e.request.id,level:l,teamId:e.request.teamId,email:e.request.user.email??"",user:u}))},className:H,role:"button",tabIndex:-1,children:(0,h.tx)("file_browser.team.approve")})]}),(0,s.jsx)("div",{className:$,children:(0,s.jsxs)("div",{ref:i,children:[(0,s.jsxs)("div",{className:Y,role:"button",tabIndex:0,onClick:()=>{c.length>1&&m(120+p)},children:[(0,s.jsx)("span",{children:(0,O.QN)(l)}),c.length>1&&(0,s.jsx)(I.B,{svg:J.A,className:K})]}),a&&a.data.requestId===e.request.id&&c.length>1&&(0,s.jsx)(E.ms,{className:z,style:g,children:c.map(e=>(0,s.jsx)(E.MM,{onClick:l!==e?()=>{_(e)}:void 0,checked:l===e,children:(0,O.QN)(e)},e))})]})})]})}function el({teamRoleRequests:e}){let t=e?.team?.pendingTeamRoleRequests??[];return 0===t.length?null:(0,s.jsxs)(s.Fragment,{children:[t.map(e=>(0,s.jsx)(ei,{request:e},e.id)),(0,s.jsx)("div",{className:"members_list_row--pendingRequestDividerModal--tjuPV members_list_row--pendingRequestDivider--djtil"})]})}function eo(e){let t=(0,b.Rs)((0,v.N66)({teamId:e.teamId})),a=(0,b.Rs)((0,v.yQw)({teamId:e.teamId})),i=(0,b.Rs)((0,v.Cb9)({teamId:e.teamId})),[l,o,d]=(0,x.m)([t,a,i]),c=r.useMemo(()=>l?.team?.roles.reduce((e,t)=>{let a=!!l?.team?.studentTeamAt;return e[ed({id:t.id,user_id:t.userId,pending:t.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:f.vt.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(a,t),e},{})??{},[l]),u=(0,n.d4)(t=>t.teamMembersByTeamId[e.teamId]||{}),m=e=>{let t=c[ed(e)];return!!t&&!!t.isStudentTeam&&t.level!==j.e6.VIEWER&&!e.pending&&!t.level&&!(t.isStudent||t.hasValidEduGracePeriod)},_=e=>{let t=c[ed(e)];return t?.user?.email??null},p=(()=>{let e={};return Object.values(u).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),g=(()=>{let e=[],t={},a=new Set;Object.values(c).forEach(s=>{if(s.pending){e.push(s);return}t[s.user.id]=s,a.add(s.user?.email)});let s=e.filter(e=>!a.has(e.user?.email));return Object.values(t).concat(...s).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),y=!g.some(e=>e.level===j.e6.OWNER||e.level===j.e6.ADMIN);return 0===g.length?(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team.no_members")}):(0,s.jsxs)("div",{children:[(0,s.jsx)(el,{teamRoleRequests:d}),g.map(t=>(0,s.jsx)("div",{className:"members_list--memberRowForModal--g9CYe",children:(0,s.jsx)(et,{teamId:e.teamId,teamMember:p[t.id],teamRole:t,teamIsOrphaned:y,isModal:!0,team:o,isEduRestrictedLg:m(t),emailLg:_(t)},`team-role-${t.id}`)},t.id))]})}function ed(e){return e.pending?`pending-${e.id}`:e.user_id??""}var ec=a(381640),eu=a(527173),em=a(111297),e_=a(332795),ep=a(498399),eh=a(295253),eg=a(876793),ex=a(617176),eb=a(665756),ef=a(959834),ev=a(302955),ej=a(354174);function ey(e){return(0,s.jsxs)("div",{className:"mobile_settings_tool_bar--fixedToolbar--DJIrS",style:{width:e.width},children:[(0,s.jsx)("div",{className:"mobile_settings_tool_bar--tabContainer--yD8Zf",children:e.tabs}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}})]})}var eT=a(128385),eS=a(596149),eE=a(236631),eI=a(853039),eN=a(104836);function ew(e){let t=(0,n.d4)(e=>e.roles||{});return(0,eI.n0)(e.team)&&e.canAdmin?(0,s.jsx)("div",{className:eE.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$,children:(0,h.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")}):(0,s.jsx)("div",{className:"team_settings_modal--membersHeader--Ac-UZ",children:(0,s.jsxs)(N.E,{color:"secondary",fontSize:12,children:[e.team.name,(0,h.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eN.pG)(t,e.team.id).length})]})})}var eA=a(293422),eC=a(684742),ek=a(324438),eR=a(812714),eO=a(333331),eM=a(833805),eq=a(428147),eL=a(542190),eP=a(505189),eD=a(880128),eB=a(834130),eF=a(657853),eU=a(483200),eG=a(244205),eW=a(373547),e$=a(958127),eV=a(745529),eH=a(893393),ez=a(562311),eY=a(904017),eK=a(741348),eQ=a(288054),eX=a(699914),eJ=a(945548),eZ=a(911107),e0=a(919024),e1=a(470949),e4=a(59670),e2=a(965602),e9=a(763934),e3=a(330086),e6=a(436194),e5=a(555013),e7=a(256384),e8=a(911990),te=a(199432),tt=a(65369),ta=a(507665),ts=a(432786);let tr={spinner:"ai-settings-spinner",dataSharingEnabledSwitch:"ai-settings-ai-enabled-switch",aiEnabledButton:"ai-settings-ai-enabled-button"},tn=(0,ef.Ju)(function(){let e=(0,n.wA)(),t=(0,eN.cD)(),a=(0,b.bc)((0,v.ZY7)({teamId:t})),r=a.data?.team,i=!r,l=!!r?.studentTeamAt&&!r?.isAiDataSharingEnabled,o=!!r?.aiFeaturesDisabledAt,d=async a=>{try{await ta.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let s=a?(0,h.t)("admin_settings.ai.enable_success"):(0,h.t)("admin_settings.ai.disable_success");e(e7.s.flash(s))}catch{e(e7.s.error((0,h.t)("file_browser.file_browser_actions.team_update_error")))}},c=async a=>{try{await ta.$.updateAiDataSharing({teamId:t,enabled:a}),(0,ea.sx)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(e7.s.flash((0,h.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(e7.s.error((0,h.t)("admin_settings.ai.data_sharing.update_error")))}},u=null;return o&&(u=(0,s.jsx)(e8.Y,{children:(0,s.jsx)(te.p,{onEnable:()=>d(!0),planId:t,planType:f.OL.TEAM,testId:tr.aiEnabledButton})})),(0,s.jsx)(ts.OJ,{title:(0,s.jsx)(e8.Y,{width:"hug-contents",padding:{left:8},children:(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,h.tx)("admin_settings.ai.section_title")})}),onClose:()=>{e(A.Lo())},fixedTop:!0,children:i?(0,s.jsx)(e8.Y,{padding:64,children:(0,s.jsx)(p.qc,{testId:tr.spinner})}):(0,s.jsxs)(e8.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:[u,(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,h.tx)("admin_settings.ai.data_sharing.label")}),(0,s.jsx)(N.E,{color:"secondary",children:(0,h.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:(0,s.jsx)(e5.CY,{href:tt.d.aiDataSharing,target:"_blank",trusted:!0,children:(0,s.jsx)(N.E,{children:(0,h.tx)("general.learn_more")})})})})]}),(0,s.jsx)(e6.d,{label:(0,s.jsx)(s.Fragment,{}),checked:r.isAiDataSharingEnabled,onChange:c,disabled:l,htmlAttributes:{"data-testid":tr.dataSharingEnabledSwitch,"data-tooltip":l?(0,h.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":L.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})]})]})})},"TEAM_AI_SETTINGS_MODAL");var ti=a(452981),tl=a(234191);let to=(0,ef.Ju)(function(){let e=(0,n.wA)(),t=(0,eN.cD)(),a=(0,b.bc)((0,v.ZY7)({teamId:t})),r=a.data?.team,i=!r,l=r?.plan?.isMcpClientDisabled,o=l?.status==="loaded"&&l.data,d=async a=>{try{await ta.$.updateMcpClientDisabled({teamId:t,mcpClientDisabled:!a});let s=a?(0,h.t)("settings_tab.mcp_connectors_enabled"):(0,h.t)("settings_tab.mcp_connectors_disabled");e(e7.s.flash(s))}catch{e(e7.s.error((0,h.t)("file_browser.file_browser_actions.team_update_error")))}};return(0,s.jsx)(ts.OJ,{title:(0,s.jsx)(e8.Y,{width:"hug-contents",padding:{left:8},children:(0,s.jsx)(N.E,{fontWeight:"medium",children:(0,h.tx)("settings_tab.mcp_connectors_toggle_label")})}),onClose:()=>{e(A.Lo())},fixedTop:!0,children:i?(0,s.jsx)(e8.Y,{padding:64,children:(0,s.jsx)(p.qc,{})}):(0,s.jsx)(e8.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16,children:(0,s.jsxs)(e8.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start",children:[(0,s.jsxs)(e8.Y,{direction:"vertical",spacing:4,children:[(0,s.jsx)(ti.J,{htmlFor:"mcp-client-toggle",children:(0,h.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,s.jsx)(N.E,{color:"secondary",children:(0,h.tx)("settings_tab.mcp_connectors_toggle_description_v2")})]}),(0,s.jsx)(tl.v,{id:"mcp-client-toggle",checked:!o,onChange:d})]})})})},"TEAM_MCP_CLIENT_SETTINGS_MODAL"),td="settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tc="settings_view--redLink--LDeOm blue_link--blueLink--9rlnd",tu="settings_view--section--jKGaH",tm="settings_view--sectionHeader--BTMnl text--fontPos13--xW8hS text--_fontBase--QdLsd",t_="settings_view--upgradeBanner--RCQfq",tp="settings_view--upgrageBannerIcon--yMYzd",th="settings_view--upgradeBannerBody--n82sx",tg="settings_view--blueLinkForBanner--b0V8l settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tx="settings_view--accessIcon--7RIy3";var tb=a(663128),tf=a(401431),tv=a(442539);function tj(e){let t=(0,n.wA)(),a=(0,eW.DP)(),i=e.team,l=(0,n.d4)(e=>(0,ez.getPermissionsState)(e)),o=i.org_id?l.orgById[i.org_id]:null,[d]=(0,eH.IT)((0,v.vD4)({teamId:e.team.id})),[c]=(0,eM.Ad)(d),u=(0,r.useMemo)(()=>{if("loaded"!==c.status||!c.data.team)return null;let t=c.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[c,e.teamId]),m=c?.data?.team?.plan?.tier,_=(0,r.useMemo)(()=>{if("loaded"!==c.status||!c.data.team||!c.data.team.currentPlanUser)return null;let e=c.data.team.currentPlanUser;return{isProOrStudentTeam:m===f.Ag.PRO||m===f.Ag.STUDENT,isStudentTeam:m===f.Ag.STUDENT,canAdminOrg:!!e&&(0,eY.A8)(e,f.Xn.ADMIN),isOrgGuest:e?.key.type===f.h4.ORG_USER&&e?.permission===f.Xn.GUEST}},[c,m]),p=!_?.isOrgGuest,g=_?.canAdminOrg||u?.canAdmin&&!u?.orgId,x=!!(0,n.d4)(e=>(0,eK.p)(e)),j=(0,e9.X8)(!!c.data?.team?.canEdit,(0,eY.zQ)(c.data?.team?.plan??null)),y=e.billing.summary.annual_subscription,T=e.billing.summary.monthly_subscription,S=!!y&&!y.canceled_at,E=!!T&&!T.canceled_at,C=!u?.orgId&&!_?.isProOrStudentTeam&&u?.canAdmin,k=C&&(0,eR.kc)().bake_mcp_client_starter,R=r.useMemo(()=>{if("loaded"===c.status&&c.data)return c.data.team?.workspace},[c]),O=c.data?.team&&eO.oA(c.data.team)?.hasActiveProjectConnection,M=(0,b.bc)(v.WEk,{teamId:i.id}),q=M.data?.team?.pendingAssetTransferRequest,P=q&&{id:q.id,source_user_email:q.sourceUser?.email,destination_user_email:q.destinationUser?.email,is_transfer_copy:q.isTransferCopy}||void 0,D=(0,b.bc)((0,v.InN)({})),B=(0,eO.oA)(D.data?.personalDraftToPlanDraftLocation),F=B?.planParentId===i.id&&B?.status==="started";if("loaded"!==c.status)return null;let U=()=>{if(!_?.isProOrStudentTeam){t((0,A.to)({type:eq.V,data:{teamId:u?.teamId,entrypoint:e$.C6.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(A.ES({type:"TEAM_SETTINGS_MODAL"}))}}}));return}t(eU.Bq({openInNewTab:!0,entryPoint:(0,eV.c)(e$.C6.PRO_TEAM_SETTINGS_MODAL)}))},G=e=>{t((0,A.to)({type:e1.H,data:{team:i,subscriptionStatus:e}}))},W=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===f.bU.PUBLIC&&"edit"===e.default_permission?f.PQ.ORG_EDIT:e.org_access===f.bU.PUBLIC?f.PQ.ORG_VIEW:void 0:f.PQ.INVITE_ONLY;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("file_browser.team_settings.team_name")}),(0,s.jsx)("div",{children:i.name}),u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:(0,eF.h)(),data:{team:i}}))},children:(0,h.tx)("file_browser.team_settings.change_name")})})]}),(u?.canAdmin||u?.description)&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("file_browser.about")}),(0,s.jsx)("div",{children:u?.description}),u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:(0,eD.r)(),data:{team:i}}))},children:u?.description?(0,h.tx)("file_browser.team.change_description"):(0,h.tx)("file_browser.team.add_a_description")})})]})]}),u?.canAdmin&&i.org_access!==f.bU.SECRET&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("file_browser.team_settings_modal.community_profile")}),(0,s.jsx)("div",{children:u?.communityProfileHandle?(0,h.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:u?.communityProfileHandle}):""}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:eZ.S,data:{teamId:u?.teamId,profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||""}}))},children:u?.communityProfileHandle?(0,h.t)("file_browser.team_settings.change_profile_handle"):(0,h.t)("file_browser.team_settings.set_profile_handle")})}),u?.communityProfileHandle&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{u?.communityProfileId&&u?.communityProfileHandle&&t((0,A.to)({type:e0.M,data:{dispatch:t,profileId:u?.communityProfileId,handle:u?.communityProfileHandle}}))},children:(0,h.tx)("file_browser.team_settings.delete_profile")})}),u?.communityProfileHandle&&u?.orgId&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{u?.communityProfileId&&t((0,A.to)({type:eJ.J,data:{profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||"",emptyStateText:(0,h.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:u?.communityProfileHandle||""})}}))},children:(0,h.tx)("file_browser.team_settings.manage_restricted_commenters")})})]}),(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:u?.orgId?(0,h.tx)("file_browser.team_settings.shared"):(0,h.tx)("file_browser.team_settings_modal.libraries")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:eX.T,data:{teamId:u?.teamId,entrypoint:eQ.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))},children:(0,h.tx)("file_browser.team_settings.view_team_libraries")})}),x&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:eX.lN,data:{entrypoint:eQ.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))},children:(0,h.tx)("file_browser.team_settings.view_team_fonts")})}),j&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:e3.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings",theme:"dark"===a?"dark":"light"}}))},children:(0,h.tx)("file_browser.team_settings.view_team_figjam_palettes")})})]}),u?.orgId!=null&&i.org_access&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("file_browser.settings.access")}),(0,s.jsxs)("div",{children:[(()=>{let e=W(i),t=(0,s.jsx)(I.B,{className:tx,svg:tf.A});return(e===f.PQ.ORG_EDIT||e===f.PQ.ORG_VIEW)&&o?t=(0,s.jsx)("div",{className:tx,children:(0,s.jsx)(I.B,{svg:tv.A})}):(e===f.PQ.WORKSPACE_EDIT||e===f.PQ.WORKSPACE_VIEW)&&(t=(0,s.jsx)("div",{className:tx,children:(0,s.jsx)(ek.t,{})})),(0,s.jsxs)("div",{className:"settings_view--accessDescription--qxQcN",children:[t,(0,s.jsx)("div",{children:(0,e4.wO)(f.vt.TEAM,o,R||null,e)})]})})(),u?.canAdmin&&o&&(0,s.jsx)("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HOsAC modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,A.to)({type:e2.dW,data:{team:i,goBack:()=>{t((0,A.Lo)())}}}))},children:(0,h.tx)("team_view.team_permissions_modal.change")})]}),!u?.canAdmin&&(0,s.jsx)("div",{children:(0,s.jsx)(N.E,{color:"secondary",children:(0,h.tx)("file_browser.team_settings.team_admins_and_owners_can_change")})})]}),k&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("settings_tab.mcp_connectors_toggle_label")}),(0,s.jsx)("div",{children:(0,h.tx)("admin_settings.mcp_client.manage_settings_description")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:to}))},children:(0,h.tx)("admin_settings.mcp_client.manage_settings_link")})})]}),C&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("admin_settings.ai.section_title")}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:tn}))},children:(0,h.tx)("admin_settings.ai.manage_settings_link")})})]}),_?.isProOrStudentTeam&&!_?.isStudentTeam&&u?.canAdmin&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("settings_table.plan_and_billing")}),(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")}),(0,s.jsx)("button",{className:td,onClick:()=>{t(w.sf({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:eb.Iv.BILLING})),t((0,A.Lo)())},children:(0,h.tx)("file_browser.team_settings_modal.admin_console_billing_button")})]}),p&&(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("file_browser.team_settings.transfer")}),(0,s.jsxs)("div",{children:[P&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:P.source_user_email,destinationUserEmail:P.destination_user_email})}),g&&(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:tc,onClick:()=>{P&&t(A.to({type:(0,eB.d)(),data:{pending:P,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))},children:(0,h.tx)("file_browser.folder_settings.revoke")})})]}),!P&&g&&(O?(0,h.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,h.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:(0,s.jsx)(eA.$n,{variant:"link",onClick:()=>{t((0,A.to)({type:(0,eL.Lg)(),data:{teamId:i.id,entryPoint:eL.Lq.ORG_TEAM_SETTINGS}}))},disabled:F,htmlAttributes:{"data-tooltip":F?(0,h.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":L.Ib.TEXT,"data-tooltip-max-width":F?200:void 0},children:(0,h.tx)("file_browser.team_settings.transfer_team")})})),!P&&!g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:(0,h.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:o?.name})}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:td,onClick:()=>{t((0,A.to)({type:(0,eP.Y)(),data:{planId:i.org_id||i.id,planType:i.org_id?f.OL.ORG:f.OL.TEAM,planName:i.name,entryPoint:eL.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:i.id}}))},children:(0,h.tx)("file_browser.team_settings.see_who_can_help_with_transfers")})})]})]})]}),!_?.isProOrStudentTeam&&!u?.orgId&&u?.canAdmin&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:tu,children:[(0,s.jsx)("div",{className:tm,children:(0,h.tx)("team_view.settings_table.delete_team")}),(0,s.jsx)("div",{children:(0,h.tx)("team_view.settings_table.delete_team_description")}),(0,s.jsx)("div",{children:(0,s.jsx)(eC.E,{className:F?"settings_view--greyedOutLink--u0K7r blue_link--blueLink--9rlnd":tc,onClick:()=>G(S||E),disabled:F,htmlAttributes:{"data-tooltip":F?(0,h.t)("file_browser.drafts_to_move.we_re_migrating_some_files_right_now_try_again_in_a_few_minutes"):void 0,"data-tooltip-type":L.Ib.TEXT,"data-tooltip-max-width":F?200:void 0},children:(0,h.tx)("file_browser.team_settings.delete_team")})})]}),(0,s.jsxs)("div",{className:t_,children:[(0,s.jsx)(I.B,{className:tp,svg:tb.A}),(0,s.jsxs)("div",{className:th,children:[(0,s.jsx)("strong",{children:(0,h.tx)("upgrade.ready_to_go_beyond_free_plan")}),(0,s.jsxs)("div",{children:[(0,h.tx)("upgrade.more_features"),(0,s.jsx)(em.$z,{className:tg,onClick:U,trackingProperties:{trackingDescriptor:eG.c.UPGRADE,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,h.tx)("upgrade.view_plans")})]})]})]})]}),_?.isProOrStudentTeam&&u?.canAdmin&&(0,s.jsxs)("div",{className:t_,children:[(0,s.jsx)(I.B,{className:tp,svg:tb.A}),(0,s.jsx)("div",{className:th,children:(0,s.jsxs)("div",{children:[(0,h.tx)("file_browser.team_settings_modal.upgrade_to_organization"),(0,s.jsx)(em.$z,{className:tg,onClick:U,trackingProperties:{trackingDescriptor:eG.c.UPGRADE_TO_ORGANIZATION,upsellSource:eh.b.TEAM_SETTINGS_MODAL},children:(0,h.tx)("file_browser.team_settings_modal.upgrade")})]})})]})]})}var ty=a(783902);let tT=(0,eS.rw)();var tS=(e=>(e.SETTINGS="SETTINGS",e.MEMBERS="MEMBERS",e))(tS||{});let tE=(0,ec.nF)(async(e,{teamId:t,canViewTeam:a})=>{await eg.kb.promise,t&&a&&(0,ep.xN)(t,e)});function tI(e){let t={MEMBERS:(0,h.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,h.t)("file_browser.team_settings_modal.settings_tab")},a=r.useRef(null),{setToolbarWidth:n}=e;r.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&n(e)}},[n]);let l=e.team.org_id,o=l?[(0,s.jsx)("div",{className:"team_settings_modal--settingsHeader--tGppe",children:t.SETTINGS},"SETTINGS")]:(0,i.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return(0,s.jsx)(tT,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,onClick:()=>e.setTab(t),children:a},t)}));return e.isMobile?(0,s.jsx)(ey,{tabs:o,dispatch:e.dispatch,width:"100vw"}):(0,s.jsxs)("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--oecTk",style:{minWidth:e.contentWidth},ref:a,children:[(0,s.jsx)(eT.i,{containerClassName:`${l?"team_settings_modal--toolBarSettingsOnly--281il team_settings_modal--toolBarContainer--O-2hM":"team_settings_modal--toolBarContainerFullWidth--XliLu team_settings_modal--toolBarContainer--O-2hM"} team_settings_modal--borderRadius--NeGkl`,tabs:o}),(0,s.jsx)(u.s_,{dispatch:e.dispatch,className:l?"team_settings_modal--settingsOnlyCloseButton--r1V-e":"team_settings_modal--settingsCloseButton--nkdXd",onClose:()=>tA(e.dispatch,e.team,e.viewOnClose)})]})}let tN="TEAM_SETTINGS_MODAL";function tw({onRetry:e}){let t=(0,_.Hb)();return(0,s.jsxs)(l.$y,{variant:"warn",children:[(0,s.jsx)(o.Q,{title:(0,h.t)("general.root_error_boundary_title"),children:t.error?.message}),(0,s.jsx)(d.$,{onClick:e,children:(0,h.t)("auth.try_again")})]})}let tA=(e,t,a)=>{e(w.sf(a))},tC=(0,ef.Ju)(function(e){let t=(0,n.wA)(),a=r.useRef(null),[i,l]=r.useState(-1),o=e_.h.useTrackingContext({trigger:eh.b.TEAM_SETTINGS_MODAL}),{canAdmin:d,canEdit:u,canView:_,entryView:h}=e,x=e.teamSettingsProps,b=(0,n.d4)(e=>e.teams[x.team.id]),f=(0,n.d4)(e=>e.avatarEditorState);if(r.useEffect(()=>{t(eu.um())},[t]),r.useEffect(()=>{b&&t(tE({teamId:b.id,canViewTeam:_??!1}))},[_,t,b]),!b)return null;let v=c.rr,j=v?window.innerWidth:Math.min(.7*window.innerWidth,650),y=v?window.innerWidth:Math.max(j,i),T=d?(0,s.jsx)(ev.FL,{entity:b,entityType:ex.ck.TEAM,avatarEditorState:f,size:80,dispatch:t,avatarSvg:ty.A,svgSizeRatio:.6}):(0,s.jsx)(g.nl,{team:b,size:80,avatarSvg:ty.A,svgSizeRatio:.6});return(0,s.jsx)(em.fu,{name:"Team Settings Modal",properties:{teamId:b.id,...o},children:(0,s.jsxs)(ej.d_,{popStack:!0,size:y,height:v?window.innerHeight:.8*window.innerHeight,className:v?"team_settings_modal--fullScreenModal--tXKWs team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--G-piu team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>tA(t,b,h),children:[(0,s.jsx)(tI,{selectedTab:e.tab,setTab:e=>{t(A.hm({type:tN,data:{tab:e,canAdmin:d,canEdit:u,canView:_,teamSettingsProps:x,entryView:h}}));let s="team"===h.view?{view:"team",teamId:b.id,teamViewTab:"SETTINGS"===e?eb.A$.SETTINGS:eb.A$.MEMBERS}:h;t(w.sf(s));let r=a.current;r&&(r.scrollTop=0)},dispatch:t,isMobile:v,contentWidth:j,setToolbarWidth:l,team:b,viewOnClose:h,canEditTeam:u??!1}),(0,s.jsxs)("div",{className:"team_settings_modal--modalBody--NruoE",children:[(0,s.jsx)("div",{className:"team_settings_modal--avatarContainer--xDqae",children:T}),"SETTINGS"===e.tab&&(0,s.jsx)(em.fu,{name:"Team Settings",children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),children:(0,s.jsx)("div",{className:"team_settings_modal--settingsContainer--rJ9jC",children:(0,s.jsx)(tj,{teamId:x.team.id,team:b,billing:x.billing})})})}),"MEMBERS"===e.tab&&(0,s.jsxs)("div",{className:"team_settings_modal--membersContainer--dci-C",children:[(0,s.jsx)(ew,{team:b,canAdmin:d}),(0,s.jsx)(m.n,{boundaryKey:"members-list",loadingFallback:(0,s.jsx)("div",{className:"x1bpp3o7",children:(0,s.jsx)(p.kt,{})}),errorFallback:e=>(0,s.jsx)(tw,{onRetry:e}),children:(0,s.jsx)(eo,{teamId:b.id})})]})]})]})})},tN,ef.ZU.YES)},346536:(e,t,a)=>{"use strict";a.d(t,{S:()=>c});var s=a(104076),r=a(140490),n=a(192075),i=a(872662),l=a(377026),o=a(450259),d=a(5175);function c(e){return(0,s.jsx)(r.u,{label:"UnavailableView",children:(0,s.jsx)(u,{...e})})}function u(e){let t=(e=>{switch(e){case l.Ft.PROJECT:return(0,n.t)("file_browser.project");case l.Ft.TEAM:return(0,n.t)("file_browser.team");case l.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace");case l.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group");default:return(0,n.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case l.Ft.PROJECT:return(0,n.t)("file_browser.project_capitalized");case l.Ft.TEAM:return(0,n.t)("file_browser.team_capitalized");case l.Ft.WORKSPACE:return(0,n.t)("file_browser.workspace_capitalized");case l.Ft.LICENSE_GROUP:return(0,n.t)("file_browser.billing_group_capitalized");default:return(0,n.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),r=(0,s.jsxs)("div",{className:"unavailable_view--unavailableViewContainer--GTj3V",children:[(0,s.jsx)("div",{className:"unavailable_view--header---62Pr text--fontPos18--rYXJb text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})}),(0,s.jsx)("div",{className:"unavailable_view--detailText--eAn5- text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:(0,n.tx)("file_browser.unavailable_view_text",{resourceNoun:t})}),(0,s.jsx)(o.NuxOnboardingOverlay,{entryPoint:d.C5.FileBrowserUnavailableView})]});return(0,s.jsx)(i.r,{content:r})}},654231:(e,t,a)=>{"use strict";if(a.d(t,{j:()=>d}),443==a.j)var s=a(382629);var r=a(155545),n=a.n(r),i=a(766875),l=a.n(i),o=a(190028);function d(e,t){if(!e.plan_canceled)return null;let a=[e.annual_subscription,e.monthly_subscription].map(e=>e?.canceled_at?e?.current_period_end:null).filter(s.Vq),r=a.filter(e=>(0,o.A)(e).isAfter(t)),i=l()(r,e=>(0,o.A)(e).valueOf());if(i)return(0,o.A)(i).toDate();let d=a.filter(e=>(0,o.A)(e).isBefore(t)),c=n()(d,e=>(0,o.A)(e).valueOf());return c?(0,o.A)(c).toDate():null}},824384:(e,t,a)=>{"use strict";a.d(t,{R:()=>o});var s=a(104076);if(443==a.j)var r=a(475477);if(443==a.j)var n=a(293422);a(120440);var i=a(219199),l=a(192075);function o(){return(0,s.jsxs)("div",{className:"x78zum5 x6s0dn4 xdt5ytf xl56j7k x2b8uid xh8yej3 x5yr21d x1v2ro7d",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,l.t)("general.root_error_boundary_title")}),(0,l.tx)("general.root_error_boundary_description",{status_page:(0,s.jsx)(r.N,{href:"https://status.figma.com",children:(0,l.tx)("general.root_error_boundary_status_page")})})]}),(0,s.jsx)(n.$n,{variant:"primary",onClick:()=>i.Ay.reload("File browser page crash"),children:(0,l.t)("general.root_error_boundary_refresh")})]})}},872662:(e,t,a)=>{"use strict";a.d(t,{r:()=>x});var s=a(104076),r=a(716976),n=a(237420),i=a(638004),l=a(511570),o=a.n(l),d=a(901014),c=a(1188),u=a(236631),m=a(58212),_=a(824384),p=a(537307),h=a(657878);function g({isSticky:e,hasTopDivider:t,children:a}){return(0,s.jsx)("div",{className:o()("file_browser_page_view--viewBarWrapper--LVp2Z",{[u.s.sticky.$]:e,[u.s.bSolid.colorBorder.bt1.$]:t}),children:a})}function x(e){let{mobileToolBarSpacerStyle:t,containerStyle:a,metaContainerStyle:l}=e.collapseSidebarOnTabletView?{mobileToolBarSpacerStyle:"",containerStyle:"file_browser_page_view--tabletOptimizedContainer--EYJ4F file_browser_page_view--container--ktTUu",metaContainerStyle:"file_browser_page_view--tabletOptimizedMetaContainer--zpv8C file_browser_page_view--metaContainer--0kBjx"}:{mobileToolBarSpacerStyle:"file_browser_page_view--mobileToolBarSpacer--bfkn5",containerStyle:"file_browser_page_view--container--ktTUu",metaContainerStyle:"file_browser_page_view--metaContainer--0kBjx"},u=(0,h._6)(),x=(0,n.wA)(),[b,f]=r.useState(!1),v=window.performance.getEntriesByType("navigation")[0];r.useEffect(()=>{let e=v?.loadEventEnd;0===e||b||((0,d.sx)("File Browser Cold Start Page Load Time",{elapsedMs:e,selectedView:u.view},{forwardToDatadog:!0,batchRequest:!0}),f(!0))},[v?.loadEventEnd,b,u.view]);let j=e.errorBoundaryConfig?.figmaTeam??i.e.WAYFINDING,y=e.errorBoundaryConfig?.boundaryKeySuffix?`-${e.errorBoundaryConfig.boundaryKeySuffix}`:"",T=(0,s.jsxs)(s.Fragment,{children:[!!e.banner&&(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageBanner${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:p.y4,children:e.banner}),(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageToolbar${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{x(m.F.enqueue({message:"Something went wrong.",type:"react-error"}))},hasCustomWASMBuild:p.y4,children:e.toolbar}),!!e.header&&e.header,(0,s.jsx)("div",{className:t}),e.viewbar&&(0,s.jsx)(g,{isSticky:e.viewBarSticky,children:e.viewbar}),!!e.belowToolbarBanner&&(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageBannerBelowToolbar${y}`,fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:p.y4,children:e.belowToolbarBanner}),(0,s.jsx)("div",{className:o()(e.scrollableContainerClass,"file_browser_page_view--scrollableContainerClass--z7mzE"),children:(0,s.jsxs)("div",{className:`${a} ${e.containerClass||""}`,children:[e.metaContent&&(0,s.jsx)("div",{className:l,children:(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageMetaContent${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:e.metaContent})}),(0,s.jsx)("main",{className:`file_browser_page_view--contentContainer--m6UCY ${e.contentContainerClass||""}`,children:(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageContent${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:e.content})})]})})]});return(0,s.jsx)(c.tH,{team:j,boundaryKey:`FileBrowserPageHeader${y}`,fallback:(0,s.jsx)(_.R,{}),hasCustomWASMBuild:p.y4,children:T})}},899593:(e,t,a)=>{"use strict";a.d(t,{q:()=>g,V:()=>x});var s=a(716976),r=a(237420),n=a(448897),i=a(333331),l=a(577357),o=a(192075),d=a(58212),c=a(102497),u=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(u||{}),m=a(847282),_=a(59849),p=a(159836);let h={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"};async function g(e,t,a){try{let s=await (0,l.Ek)(_.s7T,{requestId:e}),r=(0,i.oA)(s.accountTypeRequest);if(!r){a&&a("notFound"),b(t,(0,o.t)("admin_dashboard.requests.not_found"));return}if("pending"!==r.status){a&&a("alreadyHandled"),t(d.F.enqueue({message:(0,o.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:r?.status==="approved"?"requests-approved":"requests-denied"}));return}return r}catch(e){a&&a("unknownFetchError"),b(t)}}function x(){let e=(0,r.wA)(),[t,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)();(0,s.useEffect)(()=>{async function t(t){let s=await g(t,e);s?l(s):a(!0)}let s=(0,m.QL)(h.approvalRequestId);s&&((0,m.EM)(h.approvalRequestId),t(s))},[e]),(0,s.useEffect)(()=>{async function s(t){let s=(0,m.QL)(h.entryPoint),r=(0,n.K)(u,s||"")??u.UnknownDeeplink,i=(0,n.K)(c.ps,t.planType)||c.ps.TEAM;try{let a=await p.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:c.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:r});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";f(e,a)}else b(e)}catch(t){b(e)}finally{a(!0),(0,m.EM)(h.entryPoint)}}i&&!t&&s(i)},[i,e,t])}let b=(e,t)=>{e(d.F.enqueue({message:t||(0,o.t)("admin_dashboard.requests.error_generic"),error:!0}))},f=(e,t)=>{let a=t?(0,o.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,o.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(d.F.enqueue({message:a,type:"requests-approved"}))}},65369:(e,t,a)=>{"use strict";a.d(t,{d:()=>s});let s={aiFeatures:"https://help.figma.com/hc/articles/17725942479127",aiDataSharing:"https://figma.com/ai/our-approach",figmaApproachToAi:"https://figma.com/ai/our-approach"}},557815:(e,t,a)=>{"use strict";a.d(t,{dr:()=>c,eb:()=>u,oU:()=>m});var s=a(716976),r=a(833805),n=a(59849),i=a(893393),l=a(853039),o=a(502380),d=a(613936);function c(e){let[t]=(0,r.IT)((0,n.GyZ)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.X)(e)),[t])}function u(e){let[t]=(0,r.IT)((0,n.H1b)({teamId:e}));return(0,s.useMemo)(()=>t.transform(e=>(0,o.SN)(e)??[]),[t])}function m({teamId:e,teamPermissions:t,initialValue:a}){let r=i.M4.Team.useValue(e).data,n=(0,s.useCallback)(e=>a||(!(0,l.w5)(r)&&e?d.e6.EDITOR:d.e6.VIEWER),[a,r]),[o,c]=(0,s.useState)(()=>n(!!t?.canEdit));return(0,s.useEffect)(()=>{c(n(!!t?.canEdit))},[t?.canEdit,n]),{default:n(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},922296:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var s=a(716976),r=a(237420);if(443==a.j)var n=a(951002);var i=a(449572),l=a(513369),o=a(192075);if(443==a.j)var d=a(58212);if(443==a.j)var c=a(235854);var u=a(366535),m=a(944350),_=a(59849),p=a(904017);let h=e=>{switch(e){case m.sm.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case m.sm.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case m.sm.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case m.sm.PENDING:return;default:(0,n.xb)(e)}};function g(e){var t;let[a,n]=(0,s.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),o=(0,r.wA)(),g=(0,p.T5)("useOpenResourceConnectionReviewModal").unwrapOr(null),x=(0,i.bc)(_.XPZ,{resourceConnectionInviteId:a},{enabled:!!a}),b=(0,s.useMemo)(()=>{let e=(0,l.oA)(x.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[x]);return(0,s.useCallback)(()=>{if(a&&b&&g&&b?.resourceConnectionInvite.connectingPlanId===g.key.parentId){if(b?.resourceConnectionInvite.status===m.sm.PENDING)o(u.to({type:c.d,data:b}));else{let e=h(b?.resourceConnectionInvite.status);e&&o(d.F.enqueue({message:e}))}n(void 0)}},[b,o,g,a])}},666293:(e,t,a)=>{"use strict";if(a.d(t,{Bk:()=>u,Pe:()=>c}),443==a.j)var s=a(951002);var r=a(638004),n=a(550209),i=a(613936),l=a(746601),o=a(506678);let d=(0,l.x1)(i.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,n.$D)(r.e.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function u(e,t){e.pending&&null===e.userId||((0,n.$D)(r.e.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,s.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,l.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},506678:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(746601);let r=(0,s.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),debug_session_expires_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,s.xi)((e,t,a)=>[e()(r),t(r)(),a(r)()]),(0,s.xi)((e,t,a)=>[e()(r),t(r)(),a(r)()])},551553:(e,t,a)=>{"use strict";a.d(t,{S:()=>n});var s=a(113139),r=a(432099);let n=new class{constructor(){this.AssetTransferSchemaValidator=(0,s.vh)(),this.OrgTeamTransfersSchemaValidator=(0,s.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}deleteAssetTransferRequest(e){return r.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return r.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},450259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NuxOnboardingOverlay:()=>f});var s=a(104076),r=a(716976),n=a(795033),i=a(653899),l=a(140490),o=a(115033),d=a(422872),c=a(987224),u=a(381059),m=a(174730),_=a(143277),p=a(6449),h=a(922032),g=a(951824),x=a(708729),b=a(441030);function f(e){return(0,s.jsx)(l.u,{label:"NuxOnboardingOverlay",children:(0,s.jsx)(v,{...e})})}function v(e){let t=(0,n.md)(c.eS),a=!!(0,m.f)("not_gen_0"),l=(0,n.md)(u.NT),f=(0,n.md)(u.g5),v=(0,n.md)(x.pC),j=(0,n.md)(u.b3),{show:y,complete:T,isShowing:S}=(0,d.e)({overlay:b.j0N,priority:_.N.HIGH_PRIORITY_MODAL},[l,f,t,j]),E=r.useCallback(()=>{y({canShow:(e,t,a,s)=>!v&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s}){return a?!s&&!(e&&["student","educator"].includes(e)):!(0,g.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:a,isSamlSsoOnly:s})})},[y,v]);if((0,i.h)(()=>{E()}),(0,o.Q)(S),!S)return null;let{trackingContextName:I,testId:N}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:a?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,s.jsx)(p.M,{isShowing:S,userFlagOnShow:"welcome_onboarded",testId:N,children:(0,s.jsx)(h.b,{isGen1:a,trackingContextName:I,entryPoint:e.entryPoint,isShowing:S,dismissModal:T})})}},353103:(e,t,a)=>{"use strict";a.d(t,{F:()=>p,j:()=>x});var s=a(104076),r=a(795033),n=a(653899),i=a(192075),l=a(422872),o=a(235711),d=a(143277),c=a(61102),u=a(909342),m=a(654200),_=a(441030);let p="sc_team_creation_modal_onboarding_key",h="seen_sharing_clarity_team_creation_modal_overlay",g=(0,o.r1)(h);function x(){let e=(0,r.md)(g),{show:t,isShowing:a,complete:o}=(0,l.e)({overlay:_.jkr,priority:d.N.DEFAULT_MODAL},[e]);return(0,n.h)(()=>{t({canShow:e=>!e})}),(0,s.jsx)(c.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,s.jsx)("p",{children:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")}),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:h,zIndex:u.R.MODAL})}},867012:(e,t,a)=>{"use strict";a.d(t,{Uc:()=>ea,MF:()=>et});var s=a(104076),r=a(716976),n=a(237420),i=a(999083),l=a(764843),o=a(302727),d=a(452981),c=a(357961),u=a(812714),m=a(901014),_=a(310725),p=a(449572),h=a(140490),g=a(555013),x=a(679359),b=a(652539),f=a(236631),v=a(192075),j=a(984924),y=a(527173),T=a(366535),S=a(111297),E=a(654765),I=a(554886),N=a(592726),w=a(760437),A=a(39917),C=a(944350),k=a(59849),R=a(754039),O=a(643898),M=a(502380),q=a(904017),L=a(584663),P=a(545032),D=a(613936),B=a(278151),F=a(465452),U=a(959834),G=a(924561),W=a(826160),$=a(353103),V=a(432786),H=a(59670),z=a(543447),Y=a(342958),K=a(868833);let Q="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd",X="team_creation_modal--flexRow---ZX7J";var J=a(38542);function Z(e){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.currentUserOrgId)??"",h=(0,n.d4)(e=>e.orgById)[a],O=(0,N.iZ)(),M=(0,n.d4)(e=>e.orgDomains),[L,U]=r.useState(!0);(0,r.useEffect)(()=>{(0,m.sx)("team_creation_started",{user_id:O?.id??"",org_id:a})},[]),(0,r.useEffect)(()=>{t(y.um())},[t]);let G=(0,p.bc)((0,k.Lqr)({orgId:a})),z=(0,q.D6)("TeamCreationModal"),K=(0,q.j_)(z).unwrapOr(!1),Z=(0,r.useMemo)(()=>{if("loaded"===G.status){let e=G.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,i.KQ)(e,"name"),e}return[]},[G]),ea=(0,r.useMemo)(()=>{if("loaded"===G.status){let e=G.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:P.O}return null},[G]),es=e.workspaceId,er=Z.find(e=>e.id===es),en=er&&er.orgAccess===C.bU.SECRET?C.bU.PRIVATE:C.bU.PUBLIC,ei=er&&er.orgAccess===C.bU.SECRET?H._9.INVITE_ONLY:H._9.ORG,el=(0,r.useMemo)(()=>("loading"!==G.status&&U(!1),"loaded"===G.status)?G.data.currentUser.baseOrgUser:null,[G]),[eo,ed]=r.useState(0),[ec,eu]=r.useState(en);(0,r.useEffect)(()=>{eu(en)},[en]);let em=C.sC.EDIT,[e_,ep]=r.useState(D.e6.EDITOR),[eh,eg]=r.useState(e?.workspaceId??ea),ex=(0,q.S2)(),eb=ex.transform(e=>e.planRecordId).unwrapOr(null),ef=(0,w.y)(eb),ev=(0,A._)(eb),ej=r.useCallback(e=>{let t=Z.find(t=>t.id===e);if(ev&&t)return{id:t.id,name:t.name,canView:t.canView}},[Z,ev]),[ey,eT]=r.useState(ej(eh));(0,r.useEffect)(()=>{eg(e=>e??ea),eT(ej(eh))},[ea,eh,ej]);let eS=(0,n.d4)(e=>e.autocomplete),eE=!!eS.errorMessage,eI=(0,E.Xj)(eS.tokens),[eN,ew]=r.useState(H.J4.VIEW),[eA,eC]=r.useState(B.Fb.ORG_BROWSABLE),[ek,eR]=r.useState(ei);(0,r.useEffect)(()=>{eR(ei)},[ei]);let[eO,eM]=r.useState(""),[eq,eL]=r.useState(""),eP=ex.transform(e=>e.tier===C.Ag.ENTERPRISE).unwrapOr(!1)&&Z.length>0;(K||ea===P.O)&&Z.length>0&&(Z=Z.concat({id:P.O,name:(0,v.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:C.bU.PUBLIC,imgUrl:null,canView:!0}));let eD=(0,r.useId)(),eB=(0,u.kc)().fpl_textarea_migration?(0,s.jsx)(l.T,{onChange:eL,value:eq,placeholder:(0,v.t)("team_creation.optional"),id:eD}):(0,s.jsx)(g.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>eL(e.target.value),value:eq,placeholder:(0,v.t)("team_creation.optional"),id:eD}),eF=e=>(0,s.jsx)("div",{className:"team_creation_modal--workspaceIcon--s7G4E",children:e&&e.id!==P.O?(0,s.jsx)(W.z6,{entity:e,size:16}):(0,s.jsx)(b.B,{svg:J.A})}),eU=(0,s.jsxs)(o.Root,{value:eh??P.O,onChange:e=>eg(e??P.O),children:[(0,s.jsx)(o.Trigger,{label:(0,s.jsx)(d.h,{children:(0,v.t)("team_creation.workspace")}),size:"lg",width:"fill",children:(0,s.jsx)("div",{className:"team_creation_modal--workspaceSelectorTrigger--rUsd4",id:"create-team-modal-workspace-selector",children:(0,s.jsxs)("div",{className:X,children:[(0,s.jsx)("div",{children:eF(Z.find(e=>e.id===eh))}),(0,s.jsx)("div",{children:Z.find(e=>e.id===eh)?.name??""})]})})}),(0,s.jsx)(o.Container,{children:Z.map(e=>(0,s.jsx)(o.Option,{value:e.id,children:(0,s.jsxs)("div",{className:X,children:[eF(e),e.name]})},e.id))})]}),eG=(0,r.useId)(),eW=(0,s.jsx)(g.ks,{autoFocus:!0,className:"team_creation_modal--teamNameInputSC--bbcKV","data-testid":"team_creation_modal_title",id:eG,maxLength:B.qg,minLength:1,onChange:e=>eM(e.target.value),placeholder:(0,v.t)("team_creation.writer_s_guild_placeholder"),required:!0,value:eO});function e$(){let{onSubmitReturnToPrevView:a=!0}=e,s=e_??D.e6.EDITOR,r=(0,F.Zw)(eS);t((0,I.KQ)({teamName:eO,orgAccess:ec,workspaceId:eh??void 0,dontRedirect:!a,inviteEmails:r.emails,userGroupIds:ef?r.userGroups:[],defaultPermission:em,description:eq,sharingAudienceControl:et(ek,eN),orgBrowsable:ek===H._9.INVITE_ONLY&&eA===B.Fb.ORG_BROWSABLE,hidden:ek===H._9.INVITE_ONLY&&eA===B.Fb.HIDDEN,inviteLevel:s})),e.afterSubmit&&e.afterSubmit(),t(T.Lo())}function eV(){t(T.Lo()),t(j.cL())}return(0,s.jsx)(S.fu,{name:"Team Creation",children:(0,s.jsx)(V.OJ,{title:1===eo?(0,v.t)("team_creation.add_people_to_team_name",{teamName:eO}):(0,v.t)("team_creation.org_modal_title_sc"),onClose:eV,maxWidth:480,children:(0,s.jsxs)("div",{className:f.s.m16.$,children:[0===eo?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Ay,{className:Q,htmlFor:eG,children:(0,v.t)("team_creation.name")}),eW,(0,s.jsx)(c.Ay,{className:Q,htmlFor:eD,children:(0,v.t)("team_creation.team_description")}),eB,eP&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:Q,children:(0,v.t)("team_creation.workspace")}),eU]}),(0,s.jsx)("div",{className:Q,children:(0,v.t)("team_creation.who_has_access")}),(0,s.jsx)($.j,{}),(0,s.jsx)(H.YU,{resourceType:C.vt.TEAM,value:ek,onChange:eR,org:h,audienceAccessLevel:eN,workspace:ey,dataOnboardingKey:$.F}),(0,s.jsx)("div",{className:Q,children:(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:ek===H._9.INVITE_ONLY?(0,v.t)("team_creation.visibility"):null}),ek===H._9.INVITE_ONLY?(0,s.jsx)(H.Kd,{selectedDiscoverability:eA,setSelectedDiscoverability:eC}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Iz,{label:(0,v.t)("team_creation.what_they_can_do"),selectedPermissionsLevel:eN,setSelectedPermissionsLevel:ew}),(0,s.jsx)("div",{className:"team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:eN===H.J4.VIEW?(0,v.t)("team_creation.can_view_and_comment"):(0,v.t)("team_creation.can_create_and_edit_files")})]})]})})]}):L?(0,s.jsx)("div",{className:"team_creation_modal--modalSecondStep--L-6u-",children:(0,s.jsx)("div",{className:"team_creation_modal--loadingState--y80el",children:(0,s.jsx)(x.qc,{})})}):(0,s.jsx)("div",{children:(0,s.jsx)(ee,{permissionLevel:em,currentOrgId:a,currentOrgUser:el,inviteLevel:e_,onInviteLevelChange:ep,planRecordId:eb,userGroupsEnabled:ef,userGroupByIdFromTokens:eI})}),(0,s.jsxs)("div",{className:"team_creation_modal--bottomRow--IWTyZ",children:[(0,s.jsx)("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,v.tx)("team_creation.step_number_of_max_steps",{currentStep:eo+1,maxSteps:2})}),(0,s.jsxs)("div",{className:"team_creation_modal--buttons--jSrKt",children:[(0,s.jsx)(g.tM,{onClick:eV,children:(0,v.tx)("project_creation.cancel")}),(0,s.jsx)(g.vd,{onClick:function(){if(0===eo)ed(1);else{let e=h&&h.domain_capture&&M.domains.length>0?(0,F.Zw)(eS).emails.filter(e=>(0,_.xf)(e)&&!(0,R.H_)(M.domains,e)):[];e.length>0?function(e){if(h?.invite_whitelist_guest_invite_setting==null&&e.length>0){t(T.to({type:Y.F,data:{emails:e,onConfirm:()=>{e$()},popStack:!0,orgName:h.name}}));return}}(e):e$()}},disabled:0===eo&&0===eO.trim().length||1===eo&&eE,children:0===eo?(0,v.tx)("general.continue"):(0,v.tx)("team_creation.create_team")})]})]})]})})})}function ee(e){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.contacts),r=(0,n.d4)(e=>e.orgDomains),i=(0,n.d4)(e=>e.orgById),l=(0,n.d4)(e=>e.dropdownShown),o=(0,n.d4)(e=>e.autocomplete),d=(0,N.iZ)(),c=e.currentOrgId?i[e.currentOrgId]:null,m=(0,K.uv)(c||null),_=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,M.t9)(t,a,r)},p=e=>{let t=(0,u.kc)().team_creation_restricted_guests_err_ui&&c?.invite_whitelist_guest_invite_setting!=null;return(0,M.yI)(e,a.usersByEmail[e]||e,c,r,d.email,t?(0,v.t)("team_creation.restricted_against_adding_external_users"):null)},h=[D.e6.ADMIN,D.e6.EDITOR,D.e6.VIEWER],g=t=>(0,L.Wj)(t,a.usersByEmail,d,[],e.currentOrgId,null,null,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),x=t=>(0,L._N)(t,a.usersByEmail,d,[],e.planRecordId,{inviteLevel:e.inviteLevel,source:"team-invite-bar"},{resourceType:C.vt.TEAM,resourceIdOrKey:void 0});return e.inviteLevel&&e.onInviteLevelChange?(0,s.jsx)(G.e,{SearchResultComponent:e.userGroupsEnabled?z.VO:z.o6,TokenComponent:e.userGroupsEnabled?z.Vh:z.gy,autocomplete:o,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:g,getSelectText:O.C1,getTokenIdentifier:z.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,z.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:h,placeholderText:e.userGroupsEnabled?(0,v.t)("user_groups.add_emails_names_or_user_groups"):(0,v.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?z.qq:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p,validateTokensAsEmail:!0}):(0,s.jsx)(G.e,{SearchResultComponent:e.userGroupsEnabled?z.VO:z.o6,TokenComponent:e.userGroupsEnabled?z.Vh:z.gy,autocomplete:o,dispatch:t,dropdownShown:l,getSearchResults:e.userGroupsEnabled?x:g,getTokenIdentifier:z.BJ,getTokenPopover:e.userGroupsEnabled?t=>(0,z.pU)(t,e.userGroupByIdFromTokens):void 0,inviteLevel:e.permissionLevel,joinLinkShown:!1,placeholderText:e.userGroupsEnabled?(0,v.t)("user_groups.add_emails_names_or_user_groups"):(0,v.t)("team_creation.add_a_name_or_email"),searchResultDisabled:e.userGroupsEnabled?z.qq:void 0,searchResultToken:e.userGroupsEnabled?m:_,shouldAutoFocus:!0,validateToken:p})}function et(e,t){return e===H._9.ORG?t===H.J4.EDIT?C.PQ.ORG_EDIT:C.PQ.ORG_VIEW:e===H._9.WORKSPACE?t===H.J4.EDIT?C.PQ.WORKSPACE_EDIT:C.PQ.WORKSPACE_VIEW:C.PQ.INVITE_ONLY}let ea=(0,U.Ju)(function(e){return(0,s.jsx)(h.u,{label:"TeamCreationModal",children:(0,s.jsx)(Z,{...e})})},"TEAM_CREATION_MODAL",U.ZU.YES)},965602:(e,t,a)=>{"use strict";a.d(t,{dW:()=>w,nH:()=>A});var s=a(104076),r=a(716976),n=a(237420),i=a(268389),l=a(929302),o=a(950187),d=a(140490),c=a(555013),u=a(679359),m=a(192075),_=a(984924),p=a(366535),h=a(111297),g=a(554886),x=a(557815),b=a(39917),f=a(944350),v=a(904017),j=a(278151),y=a(959834),T=a(867012),S=a(59670),E=a(910708),I=a(293025);function N(e){let t=(0,n.wA)(),a=(0,x.dr)(e.team.id).data,r=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,canView:a.workspace.canView}:void 0,d=()=>{t(p.Ce()),t(_.cL())},c=l.hS({...e,onClose:d});return(0,s.jsx)(h.fu,{name:"Team Access Modal",properties:{resourceType:f.vt.TEAM,resourceId:e.team.id},children:(0,s.jsx)(o.bL,{manager:c,width:"lg",children:(0,s.jsxs)(i.vo,{children:[(0,s.jsx)(i.Y9,{children:e.goBack?(0,s.jsx)(E.w,{title:(0,m.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):(0,s.jsx)(i.hE,{children:(0,m.tx)("team_view.team_permissions_modal.access_settings")})}),(0,s.jsx)(i.nB,{children:a?a.org&&(0,s.jsx)(A,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:r}):(0,s.jsx)(u.qc,{className:I.Lq})})]})})})}let w=(0,y.Ju)(function(e){return(0,s.jsx)(d.u,{label:"TeamAccessModal",children:(0,s.jsx)(N,{...e})})},"TeamAccessModal");function A(e){let t=(0,v.S2)().transform(e=>e.planRecordId).unwrapOr(null),a=(0,b._)(t),i=(0,n.wA)(),l=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.ORG_VIEW?S._9.ORG:t===f.PQ.WORKSPACE_EDIT||t===f.PQ.WORKSPACE_VIEW?S._9.WORKSPACE:S._9.INVITE_ONLY},[e.teamSharingSettings]),o=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return j.Fb.HIDDEN;return j.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),d=r.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===f.PQ.ORG_EDIT||t===f.PQ.WORKSPACE_EDIT?S.J4.EDIT:(t===f.PQ.ORG_VIEW||f.PQ.WORKSPACE_VIEW,S.J4.VIEW)},[e.teamSharingSettings]),[u,_]=r.useState(l()),[p,h]=r.useState(o()),[x,y]=r.useState(d()),E=u===S._9.INVITE_ONLY?p&&(0,s.jsx)("div",{children:(0,s.jsx)(S.Kd,{selectedDiscoverability:p,setSelectedDiscoverability:h})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.Iz,{selectedPermissionsLevel:x,setSelectedPermissionsLevel:y}),(0,s.jsx)("div",{className:I.VA,children:x===S.J4.VIEW?(0,m.t)("team_creation.can_view_and_comment"):(0,m.t)("team_creation.can_create_and_edit_files")})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:I.bV,children:(0,m.t)("team_creation.who_has_access")}),(0,s.jsx)(S.YU,{resourceType:f.vt.TEAM,value:u,onChange:_,org:e.org,audienceAccessLevel:x,workspace:a?e.workspace:void 0}),(0,s.jsx)("div",{className:I.bV,children:u===S._9.INVITE_ONLY?(0,m.t)("team_creation.visibility"):(0,m.t)("team_creation.what_they_can_do")}),E,(0,s.jsxs)("div",{className:I.E_,children:[(0,s.jsx)(c.tM,{onClick:e.goBack||e.hideModal,children:(0,m.tx)("project_creation.cancel")}),(0,s.jsx)(c.vd,{onClick:()=>{let t=u===S._9.INVITE_ONLY&&p===j.Fb.ORG_BROWSABLE,a=u===S._9.INVITE_ONLY&&p===j.Fb.HIDDEN,s=(0,T.MF)(u,x);if(i((0,g.zK)({team:e.team,sharingAudienceControl:s,orgBrowsable:t,hidden:a})),e.goBack){e.goBack();return}e.hideModal()},children:(0,m.tx)("team_view.team_permissions_modal.save")})]})]})}},628188:(e,t,a)=>{"use strict";a.d(t,{Ig:()=>n,J9:()=>c,Pp:()=>d,XL:()=>u,nH:()=>r,pu:()=>s,td:()=>l,ug:()=>i,zH:()=>o});var s=(e=>(e.NAME_SELF="Name Step",e.HOW_DO_YOU_PLAN_TO_USE_FIGMA="How do you plan to use Figma Step",e.WHAT_DO_YOU_DO="What Do You Do Step",e.WHAT_DO_YOU_DO_V2="What Do You Do Role Step",e.WHERE_OR_HOW_DO_YOU_WORK="Where Or How Do You Work Step",e.WHAT_TYPE_OR_LEVEL_OF_SCHOOL="What Type Or Level Of School Step",e.HOW_MANY_PEOPLE_WORK_IN_ORGANIZATION="How Many People Work At Your Organization Step",e.INVITE_COLLABORATORS="Invite Collaborators Step",e.HAVE_USED_WHITEBOARDS_BEFORE="Have You Used Digital Whiteboarding Tools Before Step",e.HAVE_USED_FIGMA_PRODUCTS_BEFORE="Have You Used Figma Products Before Step",e.CHOOSE_PLAN="Choose Plan Step",e.CHOOSE_PRODUCT="Choose Product Step",e.WHAT_DO_YOU_WANT_TO_MAKE_FIRST="What Do You Want To Make First Step",e.WHICH_SEAT_WOULD_YOU_LIKE="Which Seat Would You Like Step",e))(s||{});let r=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Figma Products Before Step","Choose Plan Step","Choose Product Step"],n=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step","Invite Collaborators Step","Have You Used Digital Whiteboarding Tools Before Step","Choose Plan Step"],i=["Name Step","How do you plan to use Figma Step","What Do You Do Role Step"],l=r.filter(e=>"Choose Product Step"!==e),o=r.filter(e=>"Choose Plan Step"!==e),d=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],c=["Name Step","What Do You Do Role Step","Have You Used Figma Products Before Step"],u=["What Do You Do Step"]},797196:(e,t,a)=>{"use strict";a.d(t,{c:()=>h});var s=a(104076),r=a(716976),n=a(237420),i=a(929302),l=a(950187),o=a(268389),d=a(293422),c=a(221586),u=a(555013),m=a(192075),_=a(171660),p=a(366535);function h(e){let t=(0,n.wA)();return(0,s.jsx)(g,{...e,open:!0,onClose:()=>t(p.Lo())})}function g(e){let{title:t,subtitle:a,initialName:h,maxLength:g,onRename:x,placeholder:b,submitText:f,allowEmptyString:v}=e,j=(0,n.wA)(),[y,T]=r.useState(h),S=t??(0,m.t)("resource_rename_modal.title",{initialName:h}),E=i.hS({open:e.open,onClose:e.onClose}),I=()=>{j(p.Lo())},N=()=>!v&&""===y.trim()||y.trim()===h.trim(),w=()=>{N()||(x(y),I())};return(0,s.jsx)(l.bL,{manager:E,width:"md",children:(0,s.jsxs)(o.vo,{children:[(0,s.jsx)(o.Y9,{children:(0,s.jsx)(o.hE,{children:S})}),(0,s.jsxs)(o.nB,{scrolling:"manual",children:[a,(0,s.jsx)(u.ks,{autoFocus:!0,className:"resource_rename_modal--input--lUTNz",maxLength:g,placeholder:b,onChange:e=>T(e.currentTarget.value),value:y,onKeyDown:e=>{e.keyCode===c.Uz.ENTER&&(e.preventDefault(),w())}}),g&&(0,s.jsx)("div",{className:"resource_rename_modal--lengthCount--n2dbN",children:(0,s.jsx)(_.E,{color:"secondary",children:(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:y.length,maxLength:g})})})]}),(0,s.jsx)(o.wi,{children:(0,s.jsxs)(o.jk,{children:[(0,s.jsx)(d.$n,{onClick:I,variant:"secondary",children:(0,m.tx)("resource_rename_modal.cancel")}),(0,s.jsx)(d.$n,{variant:"primary",disabled:N(),onClick:w,children:f})]})})]})})}},741563:(e,t,a)=>{"use strict";a.d(t,{VU:()=>h,cd:()=>u,jT:()=>p,zx:()=>m});var s=a(104076);if(443==a.j)var r=a(307829);if(443==a.j)var n=a(853943);var i=a(527494),l=a(352630),o=a(192075),d=a(244205),c=a(939946);function u({children:e}){return(0,s.jsx)("div",{className:c.Hv,children:e})}function m({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=r.b(),{isOpen:u}=i;return(0,s.jsxs)(r.bL,{manager:i,"data-testid":"multi-select-list-menu",children:[(0,s.jsx)("div",{className:u?void 0:c.Ib,children:(0,s.jsx)(l.Me,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.c.MORE},children:(0,s.jsx)(n.J,{})})}),(0,s.jsx)(r.mc,{children:t})]})}function _({children:e}){return(0,s.jsx)("div",{className:c.oi,"data-testid":"multi-select-list-icon-column",children:e})}function p(){return(0,s.jsx)(l.Me,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.c.MANAGE},children:(0,s.jsx)(i.a,{})})}let h={name:"chevron-right",className:c.oi,cellComponent:(e,{isClickable:t})=>(0,s.jsx)(_,{children:t?(0,s.jsx)(p,{}):null})}},298073:(e,t,a)=>{"use strict";a.d(t,{i:()=>m});var s=a(104076),r=a(237420),n=a(420680),i=a(816689),l=a(693911),o=a(853943),d=a(192075),c=a(799303),u=a(349311);function m(e){let t=(0,r.wA)(),a=(0,r.d4)(({mobileNavShown:e})=>e),m=e.tabs&&e.tabs.length||0,_=(()=>{for(let t of e.tabs||[]){let e=t.props;if(e.tab===e.selectedTab&&!e.hideInMobileNav)return t}return null})(),p=_?_.props.tab:null,h=e.hideToolBarOnMobile?"mobile_tool_bar--mobileActionsContainerWithoutBoxShadow--WN3Se mobile_tool_bar--mobileActionsContainer--zWdp5":"mobile_tool_bar--mobileActionsContainer--zWdp5";return(0,s.jsxs)("div",{className:h,children:[(0,s.jsxs)("div",{className:"mobile_tool_bar--toolBarMobileLeftSide--nGw8A",children:[(0,s.jsx)(n.K,{onClick:()=>{a?t(c._I()):t(c.PY())},"aria-label":a?(0,d.t)("mobile_tool_bar.hide_navigation"):(0,d.t)("mobile_tool_bar.show_navigation"),htmlAttributes:{"data-tooltip-type":u.Ib.TEXT,"data-tooltip":a?(0,d.t)("mobile_tool_bar.hide_navigation"):(0,d.t)("mobile_tool_bar.show_navigation")},children:a?(0,s.jsx)(i.f,{}):(0,s.jsx)(l.H,{})}),m>0&&!e.hideToolBarOnMobile&&(0,s.jsx)("div",{className:"mobile_tool_bar--toolBarTabTitle---Vjm9 ellipsis--ellipsis--Tjyfa",children:_})]}),e.center&&(0,s.jsx)("div",{className:"mobile_tool_bar--toolBarMobileCenter--Qws-L",children:e.center}),m>1&&!e.hideToolBarOnMobile&&(0,s.jsxs)("div",{className:"mobile_tool_bar--toolBarRightSideMobile--uQfL9",children:[(0,s.jsx)(n.K,{onClick:e=>e.preventDefault(),"aria-label":(0,d.t)("mobile_tool_bar.more_options"),htmlAttributes:{"data-tooltip-type":u.Ib.TEXT,"data-tooltip":(0,d.t)("mobile_tool_bar.more_options")},children:(0,s.jsx)(o.J,{})}),(0,s.jsx)("select",{onChange:t=>{let a=t.target.value;for(let t of e.tabs||[]){let e=t.props;if(e.tab===a){e.onClick&&e.onClick(a);return}}},value:p,className:"mobile_tool_bar--toolBarSelector--1hcBy",children:(e.tabs||[]).map(e=>{let t=e.props;return t.hideInMobileNav?null:(0,s.jsx)("option",{value:t.tab,children:t.mobileNavTabTitle},t.tab)})})]})]})}(0,a(596149).rw)()},128385:(e,t,a)=>{"use strict";a.d(t,{W:()=>m,i:()=>_});var s=a(104076),r=a(236631),n=a(944185),i=a(111297),l=a(810244),o=a(972699);function d(e){let t,a;let d=(e.rightSideActions&&e.rightSideActions.length||0)>0,c=!d&&!e.center,u=o.vL,m=e.tabs&&void 0!==e.showDividerBeforeTabIndex?(t=e.tabs,a=e.showDividerBeforeTabIndex,[...t.slice(0,a),(0,s.jsx)("div",{className:r.s.colorBorder.bl1.bSolid.h24.mx12.$},"toolbar-divider"),...t.slice(a)]):e.tabs;return(0,s.jsx)("div",{className:o.h3,children:(0,s.jsxs)("div",{className:e.containerClassName||o.Lm,children:[!e.centerFullWidth&&(0,s.jsxs)("div",{className:o.i1,style:{maxWidth:c?"100%":void 0,paddingRight:c?0:"32px"},children:[e.left,m]}),e.center&&(0,s.jsx)("div",{className:e.centerFullWidth?o.um:u,children:e.center}),d&&(0,s.jsx)("div",{className:o.li,children:(0,s.jsx)(i.fu,{name:"Toolbar",trackingTargets:l.K.RCS,children:e.rightSideActions&&(0,s.jsx)("div",{className:r.s.flex.flexRow.gap8.$,children:e.rightSideActions.map(e=>(0,s.jsx)(n.K,{action:e},e.key))})})})]})})}var c=a(298073),u=a(596149);function m(e){return(0,s.jsx)(_,{tabs:e.tabs,left:e.left,center:e.center,hideToolBarOnMobile:e.hideToolBarOnMobile,centerFullWidth:e.centerFullWidth,containerClassName:e.containerClassName||o.Jw,showDividerBeforeTabIndex:e.showDividerBeforeTabIndex})}function _(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.i,{tabs:e.tabs,center:e.center,hideToolBarOnMobile:e.hideToolBarOnMobile}),(0,s.jsx)(d,{tabs:e.tabs,left:e.left,center:e.center,centerFullWidth:e.centerFullWidth,containerClassName:e.containerClassName,showDividerBeforeTabIndex:e.showDividerBeforeTabIndex})]})}_.propTypes={tabs:(e,t,a)=>{let s=e[t];if(!s)return null;if(s.some(e=>e.type.WrappedComponent.name!==u.pG))throw Error(`${t} of ${a} must be a list of elements created from calling ToolBarTabContainer`);return null}}},566769:(e,t,a)=>{"use strict";a.d(t,{EK:()=>x,Fd:()=>g,aN:()=>h,wT:()=>u});var s=a(795033),r=a(380494),n=a(598574),i=a(140948),l=a(325306),o=a(562311),d=a(237494);let c=(0,i.bt)(e=>{if("loaded"!==e.orgTeams.status)return r.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return r.Qw.loaded(t)}),u=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.dispatch(n.Jt({})),()=>{t.dispatch(n.MT())}}),m=(0,i.bt)(e=>(0,o.getPermissionsStateMemoized)(e)),_=(0,s.eU)(e=>{let t=e(u),a=e(m);return t.transform(e=>e.filter(e=>(0,l.ox)(e,a)))}),p=(0,s.eU)(e=>e(_).transform(e=>(0,d.ZM)(e))),h=(0,s.Iz)(e=>(0,s.eU)(t=>t(p).transform(t=>t[e]??0))),g=(0,s.eU)(e=>e(_).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),x=(0,s.yu)(c,({target:e})=>{let t=e.getStore();return t.dispatch(n.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(n.MT())}})},977843:(e,t,a)=>{"use strict";a.d(t,{u:()=>o});var s=a(104076),r=a(142914),n=a(349311),i=a(428886);let l=r.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return(0,s.jsxs)("div",{className:"avatars_pile--viewersList--nxwgy",children:[e.totalNum-t.length>0&&(0,s.jsx)("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":n.Ib.TEXT,"data-tooltip":o,children:e.totalNum-t.length}),t.reverse().map(t=>(0,s.jsx)("div",{className:"avatars_pile--avatar--6RPYa",children:(0,s.jsx)(i.WB,{user:t,children:(0,s.jsx)(r.H8,{user:t,size:e.avatarSize?e.avatarSize:l})})},t.id))]})}},944185:(e,t,a)=>{"use strict";a.d(t,{A:()=>p,K:()=>g});var s=a(104076),r=a(419822),n=a(790009),i=a(511570),l=a.n(i),o=a(652539),d=a(236631),c=a(352630),u=a(689190);let m="toolbar_action--hideOnMobile--nG2oh",_="toolbar_action--hideOnDesktop--caccx";var p=(e=>(e[e.BUTTON=0]="BUTTON",e[e.ICON_BUTTON=1]="ICON_BUTTON",e[e.ICON_TEXT_BUTTON=2]="ICON_TEXT_BUTTON",e[e.CUSTOM=3]="CUSTOM",e[e.CUSTOM_BUTTON=4]="CUSTOM_BUTTON",e))(p||{});function h(e){switch(e.action.kind){case 0:return(0,s.jsx)(s.Fragment,{children:e.action.displayText});case 1:return(0,s.jsx)(o.B,{svg:e.action.icon});case 2:return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.B,{svg:e.action.icon,className:e.action.svgStyleClass,style:{alignSelf:"center",paddingRight:"5px"}}),(0,s.jsx)("div",{children:e.action.displayText})]});default:return null}}function g(e){if(3===e.action.kind)return(0,s.jsx)("div",{className:l()(e.action.showOnMobile?null:m,e.action.hideOnDesktop?_:null),children:e.action.element},e.action.key);let t="isLoading"in e.action&&!0===e.action.isLoading,a=(0,s.jsx)(c.e6,{className:l()(d.s.flex.itemsCenter.justifyCenter.$,e.action.showOnMobile?null:m,e.action.hideOnDesktop?_:null,"styleClass"in e.action?e.action.styleClass:null,u.HM),htmlAttributes:{"data-test-id":"dataTestId"in e.action?e.action.dataTestId:void 0,"data-onboarding-key":"data-onboarding-key"in e.action?e.action["data-onboarding-key"]:void 0,"data-tooltip":"data-tooltip"in e.action?e.action["data-tooltip"]:void 0,"data-tooltip-type":"data-tooltip-type"in e.action?e.action["data-tooltip-type"]:void 0},innerText:"displayText"in e.action?e.action.displayText:void 0,onClick:"onClick"in e.action?e.action.onClick:void 0,"aria-label":"ariaLabel"in e.action?e.action.ariaLabel:void 0,children:t?(0,s.jsx)("span",{className:d.s.px4.$,children:(0,s.jsx)(r.k,{})}):(0,s.jsx)(h,{action:e.action})},e.action.key);return e.action.editorThemeMode?(0,s.jsx)(n.J,{brand:e.action.editorThemeMode,children:a}):a}},367314:e=>{e.exports=function(e,t){return e<t}},766875:(e,t,a)=>{var s=a(117581),r=a(267971),n=a(367314);e.exports=function(e,t){return e&&e.length?s(e,r(t,2),n):void 0}}}]);

//# debugId=9cf2701a-2d67-5508-b169-c831f9a7d804

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c698db7e4e88aa766ab6a819e369092d506e1c06/8700-be93862ae5ef7e93.min.js.map