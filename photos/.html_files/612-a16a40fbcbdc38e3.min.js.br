"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="10e3cb10-6a47-531b-ae3b-7697ed9f0498")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[612],{723347:(e,t,r)=>{r.d(t,{$g:()=>c,DI:()=>d,Eh:()=>s,GK:()=>a,J1:()=>o,KV:()=>i,b:()=>n,cr:()=>h,jG:()=>_,kz:()=>u,nW:()=>p,o8:()=>m,u1:()=>l,wv:()=>x});let n="universal_upgrade_sequence--closeButton--Us7fC",a="universal_upgrade_sequence--modalTitle--j-zLx text--fontPos18--rYXJb text--_fontBase--QdLsd",i="universal_upgrade_sequence--modalSubtitle--ucPxW text--fontPos14--OL9Hp text--_fontBase--QdLsd",s="universal_upgrade_sequence--createTeamInput--kWzFx basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="universal_upgrade_sequence--spinner--CvsHJ",o="universal_upgrade_sequence--tileUpgradeButton--GxMSU",d="universal_upgrade_sequence--nextButtonSmall--tUSIb universal_upgrade_sequence--nextButton--F2XJ4",c="universal_upgrade_sequence--createTeamSection--XhWMJ",_="universal_upgrade_sequence--scrollContainer--BQFbB",u="universal_upgrade_sequence--scrollContainerTopBorder--yuAD-",m="universal_upgrade_sequence--scrollContainerBottomBorder--CwNTV",p="universal_upgrade_sequence--teamTileContainer--kS2oM org_self_serve--teamLargeTileContainer--3M0cY",h="universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd",x="universal_upgrade_sequence--lastTeamTile--zfV5W universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd"},929616:(e,t,r)=>{r.d(t,{p:()=>n});let n="org_plugins_view--emptyState--lppIb tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd"},385641:(e,t,r)=>{r.d(t,{Hh:()=>l,Ys:()=>s,_U:()=>i,p$:()=>a,rP:()=>n,wD:()=>o});let n="team_tile--teamIcon--5Lr3D",a="team_tile--emptyState--V-Q4V tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",i="team_tile--emptyTitle--eXex6 tiles_view--emptyTitle--3Vwmu",s="team_tile--joinSpinner--w04qe",l="team_tile--guestCardDescription--OUwdK text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",o="team_tile--guestCardDescriptionColor--vR86m"},575617:(e,t,r)=>{r.d(t,{d:()=>n,s:()=>a});let n="teams_items_view--emptyContainer--Yuw-U text--fontPos11--2LvXf text--_fontBase--QdLsd",a="teams_items_view--listName--WvRAo search_list_row--name--WpBVa search_list_row--_name--5gTc0 ellipsis--ellipsis--Tjyfa"},555590:(e,t,r)=>{r.d(t,{I:()=>m});var n=r(104076),a=r(716976),i=r(555013),s=r(849757),l=r(192075),o=r(244205),d=r(111297),c=r(853039),_=r(826160),u=r(723347);function m({customUpgradeText:e,eligibleTeams:t,selectTeam:r,numDesignFilesPerTeam:m,showEditorCount:p=!0}){let[h,x]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1);a.useEffect(()=>{x(t.length>=5)},[t]);let b=`${u.jG}`;h&&(b+=` ${u.o8}`),f&&(b+=` ${u.kz}`);let v=t[t.length-1],y=m&&m.length===t.length;return(0,n.jsx)(s.P,{onScroll:(e,r)=>{let n=t.length>=5,a=n&&0!==e,i=n&&e+r.trackHeight!==r.scrollHeight;i!==h&&x(i),a!==f&&g(a)},className:b,scrollingDisabled:!1,children:(0,n.jsx)("div",{className:u.nW,children:t.map((t,a)=>(0,n.jsxs)(d.jm,{className:t===v?u.wv:u.cr,onClick:()=>r(t),trackingProperties:{teamId:t.id,trackingDescriptor:o.c.UPGRADE},innerText:"Upgrade",children:[(0,n.jsxs)("div",{className:"org_self_serve--teamInfo--7YTKY",children:[(0,n.jsx)(_.Ro,{className:"org_self_serve--teamIcon--DqZPm",entity:t,size:40,shape:"SQUARE"}),(0,n.jsxs)("div",{className:"org_self_serve--teamText--Uh2zO",children:[(0,n.jsx)("p",{className:"org_self_serve--teamName--a1LGY text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:t.name}),(0,n.jsxs)("p",{className:"org_self_serve--teamEditors--2hBWh text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[!y&&p&&(0,l.tx)("universal_upgrade.select_team.editor_count.seat_rename",{editors:t.editors}),y&&m&&(0,l.tx)("universal_upgrade.select_team.files_per_team_figma_files_used",{numFilesUsed:m[a],numFreeFilesAllowed:c.WW})]})]})]}),(0,n.jsx)(i.nR,{className:u.J1,dataTestId:"select_team.upgrade",children:e??(0,l.tx)("universal_upgrade.select_team.upgrade")})]},t.id))})})}},184070:(e,t,r)=>{let n;r.d(t,{w:()=>s});let a=new(r(722458)).b({name:"billing_remodel_terms",description:"Code related to informing customers about the billing remodel and new terms that they may need to accept",dependencies:[],exports:{"./components":"./components.ts","./hooks":"./hooks.ts","./modals":"./modals.ts","./overlays":"./overlays.ts"},sideEffects:!1,routeHints:["file_browser"]});var i=r(959834);function s(){return n??=(0,i.Ju)(a.createLazyComponent(()=>Promise.resolve().then(r.bind(r,646426)).then(e=>e.SeatBillingTermsModal),(0,i.Ij)("SeatBillingTermsModal")))}},581707:(e,t,r)=>{let n;r.d(t,{y:()=>s});var a=r(797874),i=r(959834);function s(){return n??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([r.e(6039),r.e(6189),r.e(1039),r.e(4914),r.e(8060),r.e(5174),r.e(344),r.e(7384),r.e(8046),r.e(8700),r.e(3255),r.e(4334),r.e(6048)]).then(r.bind(r,63626)).then(e=>e.FolderRenameModal),(0,i.Ij)("FolderRenameModal")))}},744153:(e,t,r)=>{r.d(t,{Jo:()=>a,Mc:()=>l,RQ:()=>n,cm:()=>s,uZ:()=>i}),r(917228),r(197979);let n="team-link-context-menu",a="TEAM_PROJECT_LINK_ONBOARDING_KEY",i="DRAFT_FOLDER_LINK_ONBOARDING_KEY";var s=(e=>(e.PENDING_ASSET_TRANSFER="pending_asset_transfer",e.PENDING_RESOURCE_CONNECTION="pending_resource_connection",e.ACTIVE_RESOURCE_CONNECTION="active_resource_connection",e))(s||{}),l=(e=>(e[e.Up=-1]="Up",e[e.Down=1]="Down",e))(l||{})},837007:(e,t,r)=>{r.d(t,{o:()=>o,s:()=>d});var n=r(104076);if(443==r.j)var a=r(307829);var i=r(120440),s=r(111297),l=r(278052);function o(e){return e.flatMap(e=>[...e.items.map(e=>({displayText:e.displayText,callback:()=>e.onClick(),disabled:e.disabled,trackingEventName:e.trackingEventName,trackingProperties:e.trackingProperties})),l.w])}function d({groups:e,minItemContentWidth:t=168,trackedContext:r,onTrackedItemClick:l}){return(0,n.jsx)(a.mc,{children:(0,n.jsx)(s.fu,{name:r,children:e.map(e=>(0,n.jsx)(a.YJ,{children:e.items.map(e=>(0,n.jsx)(a.q7,{disabled:e.disabled,onClick:()=>{e.onClick(),e.trackingProperties&&l(e)},children:(0,n.jsx)("span",{...i.Ay.props(c.menuItemContent(t)),children:e.displayText})},e.displayText))},e.key))})})}let c={menuItemContent:e=>[{k7Eaqz:null!=e?"xkj4a21":e,$$css:!0},{"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]}},967276:(e,t,r)=>{r.d(t,{Q:()=>o});var n=r(237420),a=r(221602),i=r(734477),s=r(574822),l=r(915707);function o({newFileFrom:e,folderId:t,contextClicked:r,forceOpenNewTab:o}){let d=(0,n.wA)(),{data:c,status:_}=(0,a.nt)(t),u=(0,i.h)(c),m=(0,l.E)({isDraftsFolder:!0,newFileFrom:e,forceOpenNewTab:o}),p="loading"===_;return{newFiles:u.map(({editorType:e,canCreate:t})=>(0,s.p)({editorType:e,isDisabled:!t,isLoading:p,onClick:m({editorType:e,triggerElement:"omnicreate",contextClicked:r})})),import:(0,s.u)({isLoading:p,dispatch:d,targetFolderId:t})}}},22508:(e,t,r)=>{r.r(t),r.d(t,{FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT:()=>j,USER_FLAG_V2:()=>A,default:()=>nT});var n=r(104076),a=r(681398),i=r(795033),s=r(812714),l=r(511570),o=r.n(l),d=r(555013),c=r(192075),_=r(643330),u=r(132078);function m(e){return(0,n.jsx)("div",{className:o()("custom_sections_onboarding_modal--overlay---qTEB",{"custom_sections_onboarding_modal--overlayRedesigned--YOArU":(0,s.kc)().file_browser_sidebar_row_ui}),children:(0,n.jsxs)(u.CR,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:_.F_.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)",children:[(0,n.jsx)("h1",{className:"custom_sections_onboarding_modal--header--Z4mnG",children:(0,c.tx)("favorited_resources.custom_sections_nudge_header")}),(0,n.jsx)("p",{children:(0,c.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:(0,n.jsx)("strong",{children:(0,c.tx)("favorited_resources.ellipses")}),plus:(0,n.jsx)("strong",{children:(0,c.tx)("favorited_resources.plus")})})}),(0,n.jsx)("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--EToy- custom_sections_onboarding_modal--footerContainer---KhkM",children:(0,n.jsx)(d.vd,{onClick:e.onClickPrimaryCta,children:(0,c.tx)("rcs.file_browser.got_it")})})]})})}var p=r(111297),h=r(90844),x=r(422872),f=r(235711),g=r(143277),b=r(6449),v=r(441030);let y="seen_custom_sections_nudge",j="favorites-count-crossed-threshold",w=(0,f.r1)(y);function T(){let e=(0,i.md)(w),t=(0,x.e)({overlay:v.LB2,priority:g.N.OVERRIDING_MODAL},[e]);return(0,h.E)(t.uniqueId,j,()=>{t.show({canShow:e=>!e})}),(0,n.jsx)(b.M,{isShowing:t.isShowing,userFlagOnShow:y,children:(0,n.jsx)(p.fu,{name:"Custom Sections Nudge",children:(0,n.jsx)(m,{onClickPrimaryCta:t.complete})})})}var C=r(653899),k=r(381059),E=r(693356),I=r(927919);let A="seen_whats_new_v2_modal",S=(0,f.r1)(A),N=(0,k.tH)("last_figjam_at");function R(){let e=(0,i.md)(f.GW),t=(0,i.md)(k.mp),r=(0,i.md)(N),a=(0,i.md)(S),s=(0,i.md)(k.Ot),{show:l,isShowing:o,complete:d}=(0,x.e)({overlay:v.I3H,priority:g.N.DEFAULT_MODAL},[e,t,a,s]);return(0,C.h)(()=>{l({canShow:(e,t,n,a)=>e&&!a&&(0,E.f)({lastUsedFigjamDate:r,userCreatedAt:t,hasSeenOverlayV2:n})})}),(0,n.jsx)(I.xZ,{context:"file_browser",isShowing:o,onClose:d})}var O=r(716976),D=r(237420),F=r(276800),M=r(359166),L=r(328341),P=r(755444),B=r(350819),U=r(443192),z=r(477536),H=r(987224),W=r(151720),q=r(475961),V=r(563554),G=r(856520),K=r(739801),$=r(735270),Y=r(10411),J=r(635970),X=r(244205),Q=r(226492),Z=r(909342);let ee="File Browser Onboarding -";function et(e){return(0,n.jsx)(Q.X,{description:(0,c.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more"),emphasized:!0,isShowing:e.isShowing,onClose:e.onManualDismiss,position:Z.Q.BOTTOM_RIGHT,primaryCta:{label:(0,c.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:X.c.LETS_GO},secondaryCta:{label:(0,c.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e.onManualDismiss,ctaTrackingDescriptor:X.c.NO_THANKS},testId:"TakeTourOfFileBrowserOverlay",title:(0,c.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser"),trackingContextName:`${ee} Take tour`})}function er(e){let{close:t}=(0,J.S)(),r=()=>{t(),e.onClickPrimaryCta()};return(0,n.jsx)(K.h,{testId:"AccountSettingsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Account settings`,element:e=>(0,n.jsx)($.Rx,{dismissModal:e.dismissModal,onClickPrimaryCta:r,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:r,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var en=r(240803),ea=r(699395),ei=r(389631);function es(e){let t=(0,D.wA)(),r=(0,D.d4)(e=>e.user?.drafts_folder_id);return O.useEffect(()=>((0,ea.pP)(),()=>void(0,ea.nz)()),[t,r]),(0,n.jsx)(en.o,{eventListeners:["onMouseDown"],children:(0,n.jsxs)(u.NJ,{dismissModal:e.dismissModal,width:228,targetKey:ei.l,topPadding:12,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),(0,n.jsx)($.IY,{onClick:e.onClickPrimaryCta,step:1,totalSteps:6})]})})}function el(e){return(0,n.jsx)(K.h,{testId:"CreateFilesOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Create files`,element:es,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eo=r(744153);function ed(e){return(0,n.jsxs)(u.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eo.uZ,topPadding:8,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),(0,n.jsx)($.IY,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6})]})}function ec(e){return(0,n.jsx)(K.h,{testId:"DraftsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Drafts`,element:ed,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var e_=r(845945);function eu(e){let{open:t}=(0,J.S)();return(0,n.jsxs)(u.NJ,{dismissModal:e.dismissModal,width:247,targetKey:e_.Pm,alignPointerToLeft:!0,topPadding:12,children:[(0,c.tx)("rcs.account_switching.explore_community"),(0,n.jsx)($.IY,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function em(e){return(0,n.jsx)(K.h,{testId:"ExploreCommunityOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Community Hub`,element:eu,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ep=r(920712);function eh(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(ep.Gv,{src:(0,P.CZ)("app/onboarding/page-4.gif")}),(0,n.jsxs)(ep.ak,{children:[(0,c.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,c.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")]})]})}function ex(e){return(0,n.jsx)(K.h,{currentStepIndex:e.currentStepIndex,element:eh,isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,onboardingKey:"import",testId:"ImportOverlay",title:()=>(0,c.t)("rcs.import.import_sketch_files"),totalNumSteps:e.totalNumSteps,trackingContextName:"Import Sketch File Onboarding Modal",userFlagOnShow:"import_file_onboarded"})}function ef(e){return(0,n.jsx)(K.h,{testId:"NotificationsOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Notifications`,element:e=>(0,n.jsx)($.q9,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eg=r(725837),eb=r(668242),ev=r(764973),ey=r(208740);function ej(e){return(0,n.jsx)(K.h,{ctaText:(0,c.tx)("rcs.open_file.create_file"),currentStepIndex:e.currentStepIndex,element:()=>(0,n.jsx)(ep.ak,{children:(0,c.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")}),isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:()=>{e.onClickPrimaryCta(),function(){let e=eg.D.getState();eg.D.dispatch(eb.uM((0,ev.xA)({state:e,openNewFileIn:ey.ai.SAME_TAB})))}()},onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OpenFileOverlay",title:()=>(0,c.t)("rcs.open_file.edit_a_file"),totalNumSteps:e.totalNumSteps,trackingContextName:"Edit a File Onboarding Modal"})}var ew=r(771717);function eT(){let e=(0,D.d4)(e=>e.currentUserOrgId),t=(0,ew.c4)(e).data??!1,r=(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join");return t&&(r=(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join")),(0,n.jsxs)("div",{children:[(0,n.jsx)(ep.Gv,{src:(0,P.ck)("6f3307f82aeddf6f609eaf97ee9e66e788d485c1"),width:215,margin:"14px 0px 14px 27px"}),(0,n.jsxs)(ep.ak,{children:[(0,n.jsx)("p",{children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),r]})]})}function eC(e){return(0,n.jsx)(K.h,{currentStepIndex:e.currentStepIndex,element:eT,highlightOnlyKey:"new-team-icon",isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OrgWelcomeOverlay",title:()=>(0,c.t)("rcs.org_welcome.welcome_to_your_figma_organization"),totalNumSteps:e.totalNumSteps,trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:"orgs_onboarded",width:376})}var ek=r(239891),eE=r(748314);function eI(e){let{open:t,close:r}=(0,eE.O)();return O.useEffect(()=>{t()},[t]),(0,n.jsxs)(u.NJ,{dismissModal:e.dismissModal,width:228,targetKey:ek.K,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--aClGx pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",children:[(0,c.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),(0,n.jsx)($.IY,{onClick:()=>{r(),e.onClickPrimaryCta()},step:3,totalSteps:6})]})}function eA(e){return(0,n.jsx)(K.h,{testId:"PlanSpacesOverlay",modalType:Y.q3.SELF_CONTAINED,trackingContextName:`${ee} Plan Spaces`,element:eI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eS=r(352630);function eN(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ep.ak,{children:[(0,c.tx)("rcs.welcome_step.welcome_to_figma"),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,c.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")]}),(0,n.jsx)(ep.iy,{children:(0,n.jsx)(eS.$z,{onClick:e.onClickPrimaryCta,variant:"primary",children:(0,c.tx)("rcs.welcome_step_view.next")})})]})}function eR(e){let t=(0,D.d4)(e=>e.user?.name),r=t?(0,c.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,c.t)("rcs.welcome_step.welcome");return(0,n.jsx)(K.h,{currentStepIndex:e.currentStepIndex,disableFooter:!0,element:eN,isShowing:e.isShowing,modalType:Y.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"WelcomeOnboardingOverlay",title:()=>r,totalNumSteps:e.totalNumSteps,trackingContextName:"Welcome Onboarding Modal",userFlagOnShow:"welcome_onboarded"})}let eO=(0,f.r1)("file_browser_onboarded"),eD=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"],eF=e=>["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded",...e?eD:[]],eM=()=>{let e=(0,M.DN)();try{return!!e.get(B.zl)}catch(e){}return!1};function eL(){let e=(0,D.wA)(),t=(0,i.md)(f.qG),r=(0,i.md)(eO),a=(0,L.ZC)(r),s=(0,i.md)(k.d2),l=(0,D.d4)(e=>e.currentUserOrgId),o=(0,H.UC)(l),d=(0,i.md)(o),c=(0,i.md)(k.Ot),_=(0,x.e)({overlay:v.Ob5,priority:g.N.OVERRIDING_MODAL},[t,s,d,c]),[u,m]=(0,O.useState)([]),[p,b]=(0,O.useState)([]),y=(0,O.useCallback)(e=>{_.show({canShow:(t,r,n,a)=>{let i=(function({userFlags:e,userSpace:t,isReset:r,isOrgUserExternallyRestricted:n}){let a=t===V.qo.ORG,i=(0,W.of)(e),s=(0,P.Ay)().is_limited_team_plan,l=(0,W.mW)(e,"not_gen_0"),o=(0,W.mW)(e,"welcome_onboarded"),d=(0,W.mW)(e,"file_browser_onboarded"),c=[eC,ex,(0,q._q)(e)||n?null:ej],_=[...n?[]:[el,ec],eA,em,er,ef],u=[et,..._];return s?[]:r||l||a?!r&&(a||l)&&d?[]:a?c:i?u:l?eM()||o?[et,..._]:[eR,..._]:u:d?[]:u})({userFlags:t,userSpace:r,isReset:e,isOrgUserExternallyRestricted:a}).filter(e=>!!e);return!!i.length&&(m(i),b(eF(r===V.qo.ORG&&n)),!0)}})},[_]);(0,C.h)(()=>{y(!1)}),(0,h.E)(_.uniqueId,"Reset Onboarding",()=>y(!0)),O.useEffect(()=>{_.isShowing&&a?.status==="loaded"&&a?.data===!1&&r?.status==="loaded"&&r?.data===!0&&_.complete()},[_,r,a]);let j=O.useCallback(()=>{let t={};for(let e of p)t[e]=!0;e(U.b(t)),_.complete()},[e,_,p]);return _.isShowing&&0!==u.length?(0,n.jsx)(eP,{steps:u,onComplete:j}):null}function eP(e){let{steps:t,onComplete:r}=e,a=(0,z.A)({numSteps:t.length,onComplete:r});return(0,n.jsx)(G.U,{currentStep:a.currentStep,isShowing:!0,children:O.useMemo(()=>t.map((e,n)=>O.createElement(e,{onClickPrimaryCta:a.next,onClose:F.lQ,onManualDismiss:r,isShowing:!0,currentStepIndex:n,totalNumSteps:t.length})),[t,a,r])})}var eB=r(765516),eU=r(236631),ez=r(190737),eH=r(724320),eW=r(462952);function eq(){let e=(0,D.d4)(e=>e.currentUserOrgId),t=(0,i.md)(eH.Z),r=(0,eW.RG)(),a=(0,c.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,ez.D6)(e)?a=r?(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(a=(0,c.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:(0,n.jsx)("span",{className:eU.s.fontBold.$,children:t.name})})),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:eU.s.pb8.$,children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),a]})}let eV="orgs_onboarded",eG=(0,f.r1)(eV);function eK(){let e=(0,i.md)(k.d2),t=(0,i.md)(eG),r=(0,x.e)({overlay:v.X5_,priority:g.N.OVERRIDING_MODAL},[e,t]);return(0,C.h)(()=>{r.show({canShow:(e,t)=>e===V.qo.ORG&&!t})}),(0,n.jsx)(Q.X,{description:(0,n.jsx)(eq,{}),isShowing:r.isShowing,media:(0,n.jsx)(eB.y,{src:(0,P.ck)("87621fc5a99a1d24beb515288cf764febb8f01e9.png"),alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),onClose:r.complete,position:Z.Q.CENTER,primaryCta:{label:(0,c.tx)("rcs.rcs_shared.done"),type:"button",onClick:r.complete,ctaTrackingDescriptor:X.c.DONE},title:(0,c.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:eV,width:350})}var e$=r(999083),eY=r(638004),eJ=r(550209),eX=r(381643),eQ=r(923256),eZ=r(288747),e0=r(59849),e1=r(904017),e4=r(134235),e3=r(901014),e2=r(903853),e5=r(769109),e7=r(849757),e9=r(128066),e6=r(826160),e8=r(354174);let te="workspace_selector";function tt({workspaces:e,onModalClose:t}){let[r,a]=O.useState(null),i=(0,D.wA)(),s=(0,D.d4)(({selectedView:e})=>e),l=(0,eZ.sZ)();if(!l)throw Error("org is not defined");("fullscreen"===s.view||"prototype"===s.view)&&t();let o=(0,n.jsxs)("div",{className:eU.s.flexShrink0.flex.flexColumn.itemsCenter.gap8.$,children:[(0,n.jsx)("img",{className:eU.s.w100.h100.$,src:(0,P.ck)("b907892c6132bbea2173d8e95c096187288f54f9"),alt:"",width:100,height:100}),(0,n.jsx)("span",{className:eU.s.textHeadingLarge.colorText.$,children:(0,c.tx)("onboarding.workspace_step.title")}),(0,n.jsx)("span",{className:eU.s.textBodyLarge.colorText.$,children:(0,n.jsx)("div",{className:"workspace_selector--descriptionContainer---ZBF1",children:(0,c.tx)("onboarding.workspace_step.subtitle_v2",{orgName:l.name,tipText:(0,n.jsx)("span",{className:eU.s.textBodyLargeStrong.$,children:(0,c.tx)("onboarding.workspace_step.tip")})})})})]}),d=(0,n.jsx)(e7.P,{className:eU.s.flexShrink1.minH200.mt24.$,innerClassName:eU.s.flex.flexColumn.gap12.p16.pt2.$,children:e.map(e=>(0,n.jsx)(tr,{workspace:e,onClick:()=>a(e),isSelected:r?.id===e.id},e.id))}),_=(0,n.jsx)("div",{className:eU.s.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$,children:(0,n.jsxs)("div",{className:eU.s.flex.gap10.$,children:[(0,n.jsx)(e2.tM,{onClick:t,trackingProperties:{trackingDescriptor:X.c.SKIP},children:(0,c.tx)("onboarding.skip")}),(0,n.jsx)(e2.vd,{onClick:()=>{r&&(i(e9.x({workspace:r})),t())},disabled:null===r,trackingProperties:{trackingDescriptor:X.c.JOIN},children:(0,c.tx)("onboarding.workspace_step.join")})]})});return(0,n.jsx)(p.fu,{name:te,children:(0,n.jsxs)(e8.ey,{className:eU.s.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,e3.sx)("Modal Close",{source:e,trackingContext:te}),t()},disableClickOutsideToHide:!0,children:[(0,n.jsxs)("div",{className:eU.s.flex.flexColumn.hFull.$,children:[(0,n.jsxs)(e7.P,{className:eU.s.flexGrow1.$,innerClassName:eU.s.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$,children:[o,d]}),_]}),(0,n.jsx)(e5.Jn,{className:eU.s.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:X.c.CLOSE_BUTTON}})]})})}function tr({workspace:e,isSelected:t,onClick:r}){return(0,n.jsxs)("button",{className:o()("workspace_selector--workspaceOptionButton--hqNFy",{"workspace_selector--workspaceOptionButtonSelected--9bqpX":t}),onClick:r,type:"button",children:[(0,n.jsx)(e6.z6,{entity:e,size:32}),(0,n.jsx)("span",{className:eU.s.flexGrow1.truncate.textBodyLarge.colorText.ml16.$,children:e.name}),(0,n.jsx)("div",{className:o()("workspace_selector--radioButton--So7uS",{"workspace_selector--radioButtonSelected--6Dl1H":t})})]})}let tn="workspace_selector_seen",ta=(0,eQ.g)(tn),ti=(0,i.Iz)(e=>(0,eX.Z1)(e0.saW.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,e$.KQ)(t,"name"),t}));function ts(){let e=(0,eZ.dq)(),t=(0,e1.D6)("OrgSelectWorkspaceOverlay"),r="loaded"===t.status?t?.data?.key.parentId??void 0:void 0,a=(0,O.useRef)();a.current=r;let s=(0,i.md)(k.d2),l=(0,i.md)(H.uA),o=(0,ew.Au)(e),d=(0,i.md)(ti(e)),c=(0,i.md)(ta),{show:_,complete:u,isShowing:m}=(0,x.e)({overlay:v.USq,priority:g.N.HIGH_PRIORITY_MODAL},[s,l,o,d,c,t]);return((0,C.h)(()=>{_({canShow:(e,t,r,n,a,i)=>e===V.qo.ORG&&!!t&&!r&&!!n&&0!==n.length&&!a&&!!i,onShow:()=>{e4.G.postOrgUserFlags({orgUserId:a.current,flags:{[tn]:!0}})}})}),m&&"loaded"===d.status)?d.data?(0,n.jsx)(b.M,{isShowing:!0,testId:"org-select-workspace-overlay",children:(0,n.jsx)(tt,{onModalClose:u,workspaces:d.data})}):((0,eJ.$D)(eY.e.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),u(),null):null}var tl=r(140490),to=r(892329),td=r(806650),tc=r(372071),t_=r(373547),tu=r(229528),tm=r(878936),tp=r(153515),th=r(654200),tx=r(219199),tf=r(171660);let tg=(e,t)=>e?(0,n.jsx)(tf.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.drafts_have_a_new_home")}):t?(0,n.jsx)(tf.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu")}):(0,n.jsx)(tf.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.changes_to_your_drafts")}),tb=(e,t)=>e?(0,n.jsx)(tf.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")}):t?(0,n.jsx)(tf.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")}):(0,n.jsx)(tf.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")}),tv=(e,t)=>e?(0,n.jsx)(tf.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.nothing_else_has_changed")}):t?(0,n.jsx)(tf.E,{fontSize:14,color:"secondary",children:(0,c.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")}):(0,n.jsx)(tf.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")}),ty=(e,t)=>(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)(t||e?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")}),tj=O.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:r,hasOnlyOneStarterPlan:a})=>(0,n.jsx)(tw,{onClickPrimaryCTA:r,titleText:tg(a,e),descriptionText:tb(a,e),secondaryDescriptionText:tv(a,e),primaryButtonText:ty(a,e),assetSrc:t,hasOnlyOneStarterPlan:a})),tw=O.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:r,secondaryDescriptionText:a,primaryButtonText:i,assetSrc:s,hasOnlyOneStarterPlan:l})=>{let o=O.useCallback(()=>{tx.Ay.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return(0,n.jsxs)("div",{className:"plan_spaces_launch_modal_components--container--rGlQs",children:[(0,n.jsxs)("div",{className:"plan_spaces_launch_modal_components--textContainer--PGuuG",children:[(0,n.jsx)("p",{className:"plan_spaces_launch_modal_components--titleProperties--rAj1j",children:e}),(0,n.jsx)("div",{className:eU.s.pb16.$,children:t}),(0,n.jsx)("div",{children:a}),(0,n.jsxs)("div",{className:"plan_spaces_launch_modal_components--ctaRow--3DVA8",children:[(0,n.jsx)(d.nD,{onClick:r,children:i}),(0,n.jsx)(d.$9,{onClick:o,children:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("rcs.plan_spaces.learn_more")})})]})]}),l?(0,n.jsx)("img",{src:s,alt:"An illustration of the Figma sidebar",width:364}):(0,n.jsx)(ep.GV,{width:364,src:s})]})}),tT=new Date("2024-05-15T20:00:00.000Z").getTime();function tC(){return(0,n.jsx)(tl.u,{label:"PlanSpacesFileBrowserOverlays",children:(0,n.jsx)(tk,{})})}function tk(){let e=(0,D.d4)(e=>e.plans),t=(0,D.d4)(e=>e.teams),r=(0,D.d4)(e=>e.userFlags.personal_draft_migration_scheduled),a=e.filter(e=>e.plan_type===tm.O.TEAM).map(e=>t[e.plan_id]).filter(e=>!!e),l=(0,t_.DP)(),o=(0,i.md)(k.mp),d=e.some(e=>e.plan_type===tm.O.ORG),_=1===a.length&&a[0].starter_team&&!d,u=function(e,t,r){let n={darkMode:{org:(0,P.ck)("35339bd6f100fd7c2dca24546e4ded3f7397d137"),teams:(0,P.ck)("055e7f20c52382bdb565fbe89f04d9673952663a"),starter:(0,P.ck)("6327332cd808163a39e7093c9c388f6e16927cc4")},lightMode:{org:(0,P.ck)("d26daa4a5677426d2b01aa43677bf4c65f50b0bd"),teams:(0,P.ck)("1c1ca856971dff41eff57240862cf81437cb4dce"),starter:(0,P.ck)("b425061637a5821d58f2ce45dee702f544ea52d6")}},a=e?"darkMode":"lightMode";return r?n[a].starter:t?n[a].org:n[a].teams}("dark"===l,d,_),m=(0,td.j0)(),p=(0,tu.d)(),h=!((0,s.kc)().ps_personal_draft_migration&&!r&&_)&&m>0,{currentStep:f,next:b}=(0,z.A)({numSteps:2,onComplete:F.lQ}),y=[{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:eo.uZ,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:tc.U,emphasized:!0,shouldCenterArrow:th.EL.BEST_EFFORT,disableHighlight:!0}];h&&y.push({title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.lets_move_these_files"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.finding_the_right_home"),trackingContextName:"Plan spaces onboarding - Drafts to move",targetKey:to.P,emphasized:!0,disableHighlight:!0,pointToLeftEdge:!0});let{show:j,isShowing:w,complete:T}=(0,x.e)({overlay:v.sqw,priority:g.N.DEFAULT_MODAL+1},[o]);(0,O.useEffect)(()=>{p||j({canShow:e=>!!e&&(e.getTime()<=tT||m>0)})},[p,m,j]);let C=(0,O.useCallback)(e=>(0,n.jsx)(tj,{hasOrgPlan:d,hasOnlyOneStarterPlan:_,assetSrc:u,onClickPrimaryCTA:e.onClickPrimaryCta}),[d,u,_]);return e.length?(0,n.jsxs)(G.U,{currentStep:f,isShowing:w,children:[(0,n.jsx)(K.h,{closeButtonStyle:Y.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:C,isShowing:w,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:d?T:b,onClose:F.lQ,onManualDismiss:T,trackingContextName:"plan_spaces_launch_modal",userFlagOnShow:"seen_limited_spaces_onboarding"}),(0,n.jsx)(tp.WZ,{steps:y,isShowing:w,onComplete:T})]}):null}var tE=r(61102);let tI="saw_recreated_starter_team_onboarding",tA=(0,f.r1)(tI),tS=(0,f.r1)("had_recreated_starter_team");function tN(){let e=(0,i.md)(tA),t=(0,tu.d)(),r=(0,i.md)(tS),{show:a,isShowing:s,complete:l}=(0,x.e)({overlay:v.yjU,priority:g.N.DEFAULT_MODAL},[e,r]);return(0,C.h)(()=>{t||a({canShow:(e,t)=>!e&&t})}),(0,n.jsx)(tE.rq,{arrowPosition:th.F_.LEFT_TITLE,description:(0,n.jsx)("p",{children:(0,c.tx)("rcs.plan_spaces_new_starter_team.text")}),emphasized:!0,isShowing:s,onClose:l,targetKey:tc.U,testId:"PlanSpacesRecreatedStarterTeamOverlay",title:(0,c.tx)("rcs.plan_spaces_new_starter_team.title"),trackingContextName:"plan_spaces_recreated_starter_team_modal",userFlagOnShow:tI})}var tR=r(414085),tO=r(366535),tD=r(174730),tF=r(104836),tM=r(715458);function tL(){let e=(0,D.wA)(),t=(0,tD.f)(tR.p),r=(0,tF.ol)(),n=r?.id||null,{show:a,isShowing:i,complete:s}=(0,x.e)({overlay:v.xf0,priority:g.N.OVERRIDING_MODAL});return(0,C.h)(()=>{t&&n&&a()}),O.useEffect(()=>{i&&n&&(e(U.b({[tR.p]:!1})),e(tO.to({type:tM.C,data:{teamId:n}})),s())},[i,n,e,s]),null}var tP=r(105228),tB=r(657878),tU=r(268305),tz=r(911990),tH=r(580910);function tW({title:e,leftComponent:t,isExpanded:r,onClick:a,children:i}){let[s,l]=(0,O.useState)(r??!1);return(0,O.useEffect)(()=>{void 0!==r&&l(r)},[r]),(0,n.jsxs)(tz.Y,{verticalAlignItems:"start",width:"100%",height:"hug-contents",children:[t,(0,n.jsxs)(tz.Y,{direction:"vertical",children:[(0,n.jsx)("div",{tabIndex:0,className:eU.s.wFull.$,role:"button",onClick:()=>{a&&a(s),l(e=>!e)},children:(0,n.jsxs)(tz.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center",children:[(0,n.jsx)("div",{className:eU.s.font14.fontMedium.$,children:e}),(0,n.jsx)(tH.In,{icon:s?"chevron-up-32":"chevron-down-32"})]})}),s&&(0,n.jsx)("div",{className:eU.s.font13.$,children:i})]})]})}var tq=r(652539);function tV({hideModal:e,trackingName:t,trackingProperties:r,children:a}){return(0,n.jsx)(p.fu,{name:t,properties:{...r,...tU.ng.getTrackingProperties()},children:(0,n.jsx)(e8.ey,{hide:e,size:"any",className:"pro_trial_form_modal--modalContainer--mKui2",children:a})})}var tG=r(831814);function tK(e){let{stepProps:t,titleText:r,descriptionText:a,middleContent:i,ctaOnClick:s,ctaDisabled:l,ctaText:o,textCtaOnClick:_,textCtaText:u,hideModal:m}=e;return(0,n.jsxs)("div",{className:"pro_trial_form_modal--container--Wv6Lg",children:[(0,n.jsxs)("div",{className:"pro_trial_form_modal--header--yEBLV",children:[(0,n.jsx)(tq.B,{svg:tG.A,className:"pro_trial_form_modal--icon--CKqnw",useOriginalSrcFills_DEPRECATED:!0}),(0,n.jsx)(e5.Jn,{innerText:"Close",onClick:m})]}),(0,n.jsxs)("div",{className:"pro_trial_form_modal--content--cB6wt text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,n.jsxs)("div",{className:"pro_trial_form_modal--titleTextContainer--Whf8N",children:[t&&(0,n.jsx)(tf.E,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.step_counter",{currentStep:t.currentStep+1,totalSteps:t.totalSteps})}),r,a]}),i,(0,n.jsxs)("div",{className:"pro_trial_form_modal--footer--xDAGh",children:[(0,n.jsx)(d.nD,{onClick:s,className:"pro_trial_form_modal--footerCTA--bb-GE",disabled:l,trackingProperties:tU.ng.getTrackingProperties("continue"),children:o}),(0,n.jsx)(d.eM,{trackingProperties:tU.ng.getTrackingProperties("go back"),onClick:_,children:u})]})]})]})}var t$=r(901556),tY=r(853039),tJ=r(295746),tX=r(959834),tQ=r(219958),tZ=r(638742);function t0(){let[e,t]=(0,O.useState)(),r=(0,O.useMemo)(()=>[{title:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.title",{maxNumOfFiles:tY.WW,maxNumOfProjects:tY.Wf})}),children:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.description")}),leftComponent:(0,n.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,n.jsx)(tq.B,{svg:tQ.A,className:eU.s.colorIconDanger.$})})},{title:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.title")}),children:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.description")}),leftComponent:(0,n.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,n.jsx)(tq.B,{svg:tZ.A,className:eU.s.colorIconDanger.$})})},{title:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.title")}),children:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.description")}),leftComponent:(0,n.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,n.jsx)(tq.B,{svg:tZ.A,className:eU.s.colorIconDanger.$})})}],[]);return(0,n.jsx)(tz.Y,{width:"100%",direction:"vertical",spacing:24,padding:{top:32},children:r.map(({title:r,children:a,leftComponent:i},s)=>(0,n.jsx)(tz.Y,{height:"hug-contents",strokeColor:"default",strokeWidth:{left:0,top:0,right:0,bottom:1},padding:{bottom:24},children:(0,n.jsx)(tW,{leftComponent:i,title:r,isExpanded:e===s,onClick:e=>{e?t(void 0):t(s)},children:a})},s))})}let t1=(0,tX.Ju)(function({teamId:e}){let t=(0,D.wA)(),r=(0,O.useCallback)(()=>{t(tO.Ce())},[t]),a=(0,O.useCallback)(()=>{r(),t(t$.bE({all_team_flags:[{team_id:e,flags:{[tU.u_]:!1}}]}))},[t,r,e]);return(0,n.jsx)(tV,{trackingName:tJ.Mm,hideModal:r,children:(0,n.jsx)(tK,{titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.downgrade_modal.title")}),descriptionText:(0,n.jsx)(tf.E,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.downgrade_modal.description")}),middleContent:(0,n.jsx)(t0,{}),ctaOnClick:r,ctaDisabled:!1,ctaText:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.cta.text")}),textCtaOnClick:a,textCtaText:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.text_cta.text")}),hideModal:r})})},"ProTrialDowngradeModal");var t4=r(256384),t3=r(147046),t2=r(432135);function t5(e){let{selectedFeatures:t,setSelectedFeatures:r,shuffledFeaturesContent:a,hideModal:i,onClickCTA:s,onBack:l}=e;return(0,n.jsx)(p.fu,{name:tJ.iX[tJ.iX.SELECT_FEATURES],children:(0,n.jsx)(tK,{ctaDisabled:0===t.size,ctaOnClick:s,ctaText:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.finish")}),descriptionText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.you_have_14_days",{proTrialDuration:tU.$g})}),hideModal:i,middleContent:(0,n.jsx)("div",{className:"pro_trial_form_modal--proTrialFeatureSelectContainer--8j6DA",children:a.map(({featureType:e,featureText:a})=>(0,n.jsx)(t7,{featureIcon:tJ.bo[e],featureText:a,onClick:()=>{t.has(e)?r(new Set([...t].filter(t=>e!==t))):r(new Set([...t,e]))},isSelected:t.has(e)},e))}),stepProps:{currentStep:tJ.iX.SELECT_FEATURES,totalSteps:tJ.h3},textCtaOnClick:l,textCtaText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_are_you_excited")})})})}function t7(e){let{featureIcon:t,featureText:r,onClick:a,isSelected:i}=e;return(0,n.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--proTrialFeatureContainerSelected--t69-D pro_trial_form_modal--proTrialFeatureContainer--RI3Vx":"pro_trial_form_modal--proTrialFeatureContainer--RI3Vx",onClick:a,children:(0,n.jsxs)(tz.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:"12px",children:[(0,n.jsx)(tz.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",width:32,height:32,children:t}),r]})})}function t9(e){let{selectedTeamName:t,setSelectedTeamType:r,selectedTeamType:a,shuffledTeamTypeContent:i,hideModal:s,onClickCTA:l,onBack:o}=e;return(0,n.jsx)(p.fu,{name:tJ.iX[tJ.iX.SELECT_TEAM_TYPE],children:(0,n.jsx)(tK,{ctaDisabled:void 0===a,ctaOnClick:l,ctaText:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.continue")}),descriptionText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.not_being_nosy")}),hideModal:s,middleContent:(0,n.jsx)(tz.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:"12px",children:i.map(({teamType:e,imageAltText:t,descriptionText:i})=>(0,n.jsx)(t6,{isSelected:e===a,onClick:()=>{e!==a?r(e):r(void 0)},image:(0,n.jsx)("img",{src:tJ.$Q[e],alt:t(),height:110}),text:i},e))}),stepProps:{currentStep:tJ.iX.SELECT_TEAM_TYPE,totalSteps:tJ.h3},textCtaOnClick:o,textCtaText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_type_of_team",{teamName:t})})})})}function t6(e){let{image:t,text:r,onClick:a,isSelected:i}=e;return(0,n.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--teamTypeCardContainerSelected--kq22n pro_trial_form_modal--teamTypeCardContainer--HEdI4":"pro_trial_form_modal--teamTypeCardContainer--HEdI4",onClick:a,children:(0,n.jsxs)(tz.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",spacing:8,padding:{horizontal:12},height:195,children:[t,r]})})}var t8=r(142914),re=r(22803);function rt(e){let{teams:t,setSelectedTeamID:r,selectedTeamID:a,hideModal:i,onClickCTA:s,onBack:l}=e;return(0,n.jsx)(p.fu,{name:tJ.iX[tJ.iX.SELECT_TEAM],children:(0,n.jsx)(tK,{ctaDisabled:void 0===a,ctaOnClick:s,ctaText:(0,n.jsx)(tf.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.upgrade_to_pro")}),descriptionText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.everyone_will_be_upgraded")}),hideModal:i,middleContent:(0,n.jsx)("div",{className:"pro_trial_form_modal--teamSelectContainer--S4x5O",children:t.map(e=>(0,n.jsx)(rr,{team:e,onClick:()=>{e.id!==a?r(e.id):r(void 0)},isSelected:e.id===a},e.id))}),stepProps:{currentStep:tJ.iX.SELECT_TEAM,totalSteps:tJ.h3},textCtaOnClick:l,textCtaText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.cancel")}),titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.pick_a_team")})})})}function rr(e){let{team:t,onClick:r,isSelected:a}=e;return(0,n.jsxs)(p.jm,{role:"button",className:a?"pro_trial_form_modal--teamContainerSelected--Meavl pro_trial_form_modal--teamContainer--tLBf7":"pro_trial_form_modal--teamContainer--tLBf7",onClick:r,children:[(0,n.jsxs)("div",{className:"pro_trial_form_modal--teamContainerHead--EvWS5",children:[(0,n.jsx)(t8.nl,{team:t,size:re.P.LARGE}),(0,n.jsx)("div",{className:"pro_trial_form_modal--teamNameContainer--cwtSb",children:(0,n.jsx)(tf.E,{children:t.name,fontSize:14,truncate:"end",fontWeight:"medium"})})]}),(0,n.jsx)(tf.E,{color:"secondary",fontSize:14,fontWeight:"medium",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.editors.seat_rename",{numEditors:t.editors})})]})}let rn=(0,tX.Ju)(function(){let[e,t]=(0,O.useState)(tJ.iX.SELECT_TEAM),[r,a]=(0,O.useState)(),[i,s]=(0,O.useState)(),[l,o]=(0,O.useState)(()=>new Set),[d,_]=(0,O.useState)(tJ.TB),[u,m]=(0,O.useState)(tJ.PG),p=(0,tP.xX)(),h=(0,D.wA)(),x=(0,O.useCallback)(()=>p.find(e=>e.id===r)?.name??(0,c.t)("pro_trials_v3.pro_trial_initiation_modal.your_team"),[p,r]),f=(0,O.useCallback)(()=>h(tO.Ce()),[h]),g=(0,c.t)("payments.pro_trial.start_pro_trial_error");(0,O.useEffect)(()=>{_((0,e$.k4)(tJ.TB)),m((0,e$.k4)(tJ.PG))},[]);let b=(0,O.useCallback)(()=>{void 0===r?t(tJ.iX.SELECT_TEAM):p.find(e=>e.id===r)?h((0,t2.cw)({teamId:r,surveyResult:{teamId:r,teamType:i,features:Array.from(l)}})):(h(t3.sf({view:"recentsAndSharing"})),h(t4.s.error(g))),f()},[p,h,f,r,i,l,g]);return 0===p.length&&f(),(0,n.jsxs)(tV,{trackingName:tJ.NN,trackingProperties:{currentStage:tJ.iX[e],teamId:r,selectedTeamType:i??null,selectedFeatures:l.size>0?Array.from(l).join(" "):null},hideModal:f,children:[e===tJ.iX.SELECT_TEAM&&(0,n.jsx)(rt,{teams:p,setSelectedTeamID:a,selectedTeamID:r,hideModal:f,onClickCTA:()=>t(tJ.iX.SELECT_TEAM_TYPE),onBack:f}),e===tJ.iX.SELECT_TEAM_TYPE&&(0,n.jsx)(t9,{selectedTeamName:x(),setSelectedTeamType:s,selectedTeamType:i,shuffledTeamTypeContent:d,hideModal:f,onClickCTA:()=>t(tJ.iX.SELECT_FEATURES),onBack:()=>{t(tJ.iX.SELECT_TEAM),s(void 0)}}),e===tJ.iX.SELECT_FEATURES&&(0,n.jsx)(t5,{selectedFeatures:l,setSelectedFeatures:o,shuffledFeaturesContent:u,hideModal:f,onClickCTA:b,onBack:()=>{t(tJ.iX.SELECT_TEAM_TYPE),o(new Set)}})]})},"ProTrialInitiationModal");var ra=r(483200),ri=r(958127),rs=r(745529),rl=r(434960);function ro(e){let{hideModal:t}=e,r=(0,D.wA)(),a=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_explanation")}),(0,n.jsx)(ru,{})]}),i=(0,n.jsx)(d.nD,{onClick:()=>{t(),r((0,tO.to)({type:rn}))},trackingProperties:tU.ng.getTrackingProperties("Start professional trial"),children:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_cta_text")})});return(0,n.jsx)(r_,{titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.entry_modal_title")}),descriptionText:a,ctaButton:i,imgSrc:(0,P.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59")})}function rd(e){let{teamId:t,hideModal:r}=e,a=(0,D.wA)(),i=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_explanation")}),(0,n.jsx)(ru,{})]}),s=(0,n.jsx)(d.nD,{onClick:()=>{r(),a(t3.sf({view:"team",teamId:t}))},trackingProperties:tU.ng.getTrackingProperties("Team welcome to Professional trial"),children:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_cta")})});return(0,n.jsx)(r_,{descriptionText:i,titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.team_welcome_modal_title")}),imgSrc:(0,P.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),ctaButton:s})}function rc(e){let{hideModal:t,teamId:r}=e,a=(0,D.wA)(),i={view:"team",teamId:r},s=(0,n.jsx)(d.nD,{onClick:()=>{t(),a(ra.WX({teamId:r,selectedView:i,entryPoint:(0,rs.c)(ri.C6.PRO_TRIAL_UPSELL_MODAL)}))},trackingProperties:tU.ng.getTrackingProperties("Upgrade from Pro trial expiry modal"),children:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_cta_text")})}),l=(0,n.jsx)(d.$9,{onClick:()=>{a((0,tO.to)({type:t1,data:{teamId:r}}))},trackingProperties:tU.ng.getTrackingProperties("Go back to Starter from Pro trial expiry modal"),children:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_secondary_cta_text")})});return(0,n.jsx)(r_,{titleText:(0,n.jsx)(tf.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.expiry_modal_title")}),descriptionText:(0,n.jsx)(tf.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_explanation")}),ctaButton:s,secondaryCtaButton:l,imgSrc:(0,P.ck)("47a15784276e736195c9794a0c47c4d02c4c3ca4")})}function r_(e){let{titleText:t,descriptionText:r,ctaButton:a,imgSrc:i,secondaryCtaButton:s}=e;return(0,n.jsxs)("div",{className:"pro_trials_v3_modal_components--container--vGyv-",children:[(0,n.jsxs)("div",{className:"pro_trials_v3_modal_components--textContainer--jYLvj",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("div",{children:r}),(0,n.jsxs)("div",{className:"pro_trials_v3_modal_components--ctaRow--ENAnk",children:[a,s]})]}),(0,n.jsx)(ep.Gv,{width:313,src:i})]})}function ru(){return(0,n.jsxs)("div",{className:"pro_trials_v3_modal_components--proFeatureCheckBullets--B5Jb5",children:[(0,n.jsx)(rl.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_1")}),(0,n.jsx)(rl.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_2")}),(0,n.jsx)(rl.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_3")})]})}function rm(){let e=(0,x.e)({overlay:v.MwQ,priority:g.N.DEFAULT_MODAL}),t=(0,D.wA)();return(0,C.h)(()=>{e.show()}),(0,n.jsx)(K.h,{closeButtonStyle:Y.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,n.jsx)(ro,{hideModal:e.complete}),height:404,isShowing:e.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:e.complete,onClose:()=>{t(U.b({[tU.Jy]:!0})),e.complete()},onManualDismiss:e.complete,trackingContextName:"pro_trials_entry_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function rp(e){let t=(0,x.e)({overlay:v.NdL,priority:g.N.DEFAULT_MODAL}),{proTrial:r}=e,a=r.teamId,i=(0,D.wA)();(0,C.h)(()=>{t.show()});let s=O.useCallback(()=>i(t$.bE({all_team_flags:[{team_id:a,flags:{[tU.u_]:!0}}]})),[i,a]);return(0,n.jsx)(K.h,{closeButtonStyle:Y.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:()=>(0,n.jsx)(rc,{teamId:a,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{s(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_expiry_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function rh(e){let t=(0,x.e)({overlay:v.bGx,priority:g.N.DEFAULT_MODAL}),{proTrial:r}=e,a=r.teamId,i=(0,D.wA)();(0,C.h)(()=>{t.show()});let s=O.useCallback(()=>i(t$.bE({all_team_flags:[{team_id:a,flags:{[tU.v$]:!0}}]})),[i,a]);return(0,n.jsx)(K.h,{closeButtonStyle:Y.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,n.jsx)(rd,{teamId:a,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Y.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{s(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_v3_team_welcome_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function rx(){let e=(0,tB._6)(),t=(0,D.d4)(e=>e.userTeamFlags),r=(0,D.d4)(e=>!!e.modalShown),a=(0,tD.f)(tU.Jy),i=(0,tP.xX)(),{ongoingTrials:s,expiredTrials:l}=(0,tP.j9)(),o=tU.ng.entryEnabled()&&i.length>0&&!a,d=s.find(e=>{let r=t[e.teamId]?.[tU.v$];return!e.isOwner&&!r&&e.daysLeft>0}),c=l.find(e=>{if(!tU.ng.canSeeProTrialExpiryUx(e))return!1;let r=t[e.teamId]?.[tU.u_];return e.isOwner&&!r}),_=O.useCallback(()=>o?(0,n.jsx)(rm,{}):c?(0,n.jsx)(rp,{proTrial:c}):d?(0,n.jsx)(rh,{proTrial:d}):null,[o,c,d]);return!tU.ng.isEligibleTrialEntryView(e)||r?null:(0,n.jsx)("div",{"data-testid":"proTrialsV3FileBrowserOverlayWrapper",children:_()})}var rf=r(67893),rg=r(572761),rb=r(140948);let rv=(0,i.eU)(()=>{let e=(0,rf.UG)();try{return e.get(rg.Bq)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),ry=(0,rb.bt)(e=>null!=e.payment.promo),rj=(0,eX.Z1)(k.Vm,e=>(e??[]).some(e=>null!=e&&!(0,tY.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit));var rw=r(36600);function rT({dismissModal:e}){let t=(0,D.d4)(({payment:e})=>e.promo);return((0,C.h)(()=>{(0,rg.lc)()}),(0,O.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:(0,n.jsxs)(u.NJ,{targetKey:tc.U,dismissModal:e,width:301,shouldScrollTargetIntoView:!0,children:[(0,n.jsx)("div",{className:rw.Hj,children:(0,c.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")}),(0,c.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)})]})}function rC(){let e=(0,i.md)(rj),t=(0,i.md)(rv),r=(0,i.md)(ry),a=(0,x.e)({overlay:v.Qlc,priority:g.N.OVERRIDING_MODAL},[e]),s=(0,O.useCallback)(()=>{t&&r&&a.show({canShow:e=>!e})},[t,r,a]);return(0,C.h)(()=>{s()}),(0,n.jsx)(K.h,{element:rT,isShowing:a.isShowing,modalType:Y.q3.SELF_CONTAINED,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var rk=r(449572),rE=r(555590),rI=r(937505),rA=r(562311);function rS(e){let t=(0,D.wA)(),r=e.promo,a="",i=parseInt(r.promo_value);if(r.claims_end_at){let e=new Date(Date.parse(r.claims_end_at));a=r.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e}):(0,c.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e})}else a=r.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:i}):(0,c.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:i});return(0,n.jsxs)(e8.ey,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--20aUA",children:[(0,n.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamTitle--f1dSV text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,c.tx)("promo.select_team.choose_teams_to_upgrade")}),(0,n.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--pHb18 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:a}),(0,n.jsx)(e5.Jn,{className:"promo_code_select_team_content--closeButton--iQ6-4",onClick:e.dismissModal,innerText:"close"}),(0,n.jsx)(d.Kz,{multiple:2}),(0,n.jsx)(rE.I,{eligibleTeams:e.starterTeams,selectTeam:r=>{t(t2.g_({teamId:r.id,teamName:r.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam})]})}function rN({dismissModal:e}){let t=(0,D.d4)(({payment:e})=>e.promo),r=(0,D.d4)(({selectedView:e})=>e),a=(0,D.d4)(e=>e.teams),i=(0,rI.FC)(),s=O.useMemo(()=>Object.values(a).filter(e=>!(0,tY.w5)(e)&&(0,rA.canEditTeam)(e.id,i)),[a,i]),l=[],o=O.useMemo(()=>s.map(e=>({teamId:e.id})),[s]);return((0,rk.p)(e0.bel,o).forEach(e=>{l.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,C.h)(()=>{(0,rg.lc)()}),(0,O.useEffect)(()=>{(null==t||0===s.length)&&e()},[e,t,s]),null==t||0===s.length)?null:(0,n.jsx)(rS,{starterTeams:s,promo:t,filesPerStarterTeam:l,dismissModal:e,previousView:r})}function rR(){let e=(0,i.md)(rj),t=(0,i.md)(rv),r=(0,i.md)(ry),a=(0,x.e)({overlay:v.I$z,priority:g.N.OVERRIDING_MODAL},[e]),s=(0,O.useCallback)(()=>{t&&r&&a.show({canShow:e=>e})},[t,r,a]);return(0,C.h)(()=>{s()}),(0,n.jsx)(K.h,{element:rN,isShowing:a.isShowing,modalType:Y.q3.WELCOME,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var rO=r(796012),rD=r(208434),rF=r(576503),rM=r(62351);function rL(){let e=(0,i.md)((0,f.r1)(rF.a4)),t=(0,i.md)(k.Fy),r=(0,rD.mj)(),a=(0,rD.eH)(),s=r&&!a,{show:l,isShowing:o,complete:d}=(0,x.e)({overlay:v.utg,priority:g.N.DEFAULT_MODAL},[e,t]);(0,C.h)(()=>{l({canShow:(e,t)=>(r||a)&&!e&&t})});let _={arrowPosition:th.F_.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.get_inspired_by_community"),emphasized:!0,primaryCta:s?{ctaTrackingDescriptor:X.c.GOT_IT,label:(0,c.tx)("community.resource_hub.got_it"),onClick:d,type:"button"}:void 0,targetKey:e_.Pm,title:(0,c.tx)("community.resource_hub.reconnect_with_community"),trackingContextName:rM.HH.COMMUNITY_IA_CHANGE_OVERLAY,whenTargetLost:"complete"},u={arrowPosition:th.F_.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.see_your_teammates_resources"),emphasized:!0,primaryCtaLabel:(0,c.tx)("community.resource_hub.got_it"),targetKey:e_.d6,title:(0,c.tx)("community.resource_hub.created_by_your_teammates"),trackingContextName:rM.HH.INTERNAL_IA_CHANGE_OVERLAY,whenTargetLost:"complete"};return s?(0,n.jsx)(tE.rq,{arrowPosition:th.F_.LEFT_TITLE,isShowing:o,..._,onClose:d,userFlagOnShow:rF.a4}):(0,n.jsx)(tp.WZ,{isShowing:o,onComplete:d,steps:[_,u],userFlagOnShow:rF.a4})}var rP=r(299117),rB=r(746175),rU=r(816565),rz=r(843859),rH=r(116450),rW=r(182659);let rq=()=>Date.now()-864e5,rV=(e,t)=>{let r=P.Ay()?.iso_code,n=P.Ay()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<rq())&&!!("de"===n||navigator.languages.some(e=>rz.BF.includes(e))||r&&rz._H.includes(r))};function rG(e){let t=(0,D.wA)(),r=(0,t_.DP)();return(0,n.jsx)(rH._l,{isShowing:e.isShowing,trackingContextName:"de_de_launch_announcement",onClose:e.onClose,title:(0,n.jsx)(n.Fragment,{children:(0,c.tx)("de_de_announcement.title")}),description:(0,c.tx)("de_de_announcement.description"),primaryCta:{label:(0,c.tx)("de_de_announcement.cta_button"),type:"button",onClick:()=>{t((0,tO.to)({type:rW.kA,data:{source:rW.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:X.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(rU.oW,{width:332,height:404,src:(0,P.ck)("dark"===r?"0f90e908025398bf24b7a986d6d31629f5e80233":"e590fc8927a503d1e7d403cc9b96b6aee7da7344"),alt:(0,c.t)("de_de_announcement.image_alt_text")})})}let rK=(0,f.r1)("has_tried_de_de");function r$(){let e=(0,D.wA)(),t=(0,i.md)(rK),r=(0,i.md)(k.mp),a="loaded"===t.status&&"loaded"===r.status,{show:l,isShowing:o,complete:d}=(0,x.e)({overlay:v._1l,priority:g.N.SECONDARY_MODAL},[r,t]);return((0,O.useEffect)(()=>{P.Ay().user_data?.locale===rB.hT.DE&&"loaded"===t.status&&!1===t.data&&e(U.b({has_tried_de_de:!0}))},[e,t]),(0,O.useEffect)(()=>{a&&(0,s.kc)().i18n_de&&(0,s.kc)().i18n_de_full_launch&&P.Ay().user_data?.locale!==rB.hT.DE&&rV(r.data,t.data)&&l()},[e,l,a,t,r]),a&&(0,s.kc)().i18n_de&&(0,s.kc)().i18n_de_full_launch&&rV(r.data,t.data))?(0,n.jsx)(rG,{isShowing:o,onClose:d}):null}var rY=r(803276),rJ=r(187429),rX=r(459494);let rQ="seen_team_project_link_overlay",rZ=(0,f.r1)(rQ);function r0(){let e=(0,i.md)(rZ),t=(0,rX.fn)(),r=()=>t===rX.ih.CONTROL,{show:a,isShowing:s,complete:l}=(0,x.e)({overlay:v.BTz,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>r(),predicate:e=>!e,postCheck:e=>!e}},[e]);return(0,C.h)(()=>{a({canShow:e=>!e})}),(0,n.jsx)(tE.rq,{arrowPosition:_.F_.LEFT_TITLE,description:(0,c.tx)("team_project_link.overlay.description"),emphasized:!0,isShowing:s,onClose:l,targetKey:eo.Jo,trackingContextName:"Team Project Link Overlay",userFlagOnShow:rQ,zIndex:Z.R.MODAL})}let r1=()=>Date.now()-864e5,r4=(e,t)=>{let r=P.Ay()?.iso_code,n=P.Ay()?.user_data?.signup_locale;return!!(!t&&null!=e&&e.getTime()<r1())&&!!("fr"===n||navigator.languages.some(e=>rz.FI.includes(e))||r&&rz.Q9.includes(r))};function r3(e){let t=(0,D.wA)(),r=(0,t_.DP)();return(0,n.jsx)(rH._l,{isShowing:e.isShowing,trackingContextName:"fr_fr_launch_announcement",onClose:e.onClose,title:(0,n.jsx)(n.Fragment,{children:(0,c.tx)("fr_fr_announcement.title")}),description:(0,c.tx)("fr_fr_announcement.description"),primaryCta:{label:(0,c.tx)("fr_fr_announcement.cta_button"),type:"button",onClick:()=>{t((0,tO.to)({type:rW.kA,data:{source:rW.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:X.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(rU.oW,{width:332,height:404,src:(0,P.ck)("dark"===r?"ce746ed0388befd7e209f4dcefa0dd30d46ea816":"00de2888337422748db3f69e4919f9f784ba7c0c"),alt:(0,c.t)("fr_fr_announcement.image_alt_text")})})}let r2=(0,f.r1)("has_tried_fr_fr");function r5(){let e=(0,D.wA)(),t=(0,i.md)(r2),r=(0,i.md)(k.mp),a="loaded"===t.status&&"loaded"===r.status,{show:l,isShowing:o,complete:d}=(0,x.e)({overlay:v.ciq,priority:g.N.SECONDARY_MODAL},[r,t]);return((0,O.useEffect)(()=>{P.Ay().user_data?.locale===rB.hT.FR&&"loaded"===t.status&&!1===t.data&&e(U.b({has_tried_fr_fr:!0}))},[e,t]),(0,O.useEffect)(()=>{a&&(0,s.kc)().i18n_fr&&(0,s.kc)().i18n_fr_full_launch&&P.Ay().user_data?.locale!==rB.hT.FR&&r4(r.data,t.data)&&l()},[e,l,a,t,r]),a&&(0,s.kc)().i18n_fr&&(0,s.kc)().i18n_fr_full_launch&&r4(r.data,t.data))?(0,n.jsx)(r3,{isShowing:o,onClose:d}):null}var r7=r(140464),r9=r(618316),r6=r(915316),r8=r(450259),ne=r(673540),nt=r(513369),nr=r(997477),nn=r(944350);function na(){let{getConfig:e}=(0,nr.I7)("starter_global_file_limits"),t=(0,e1.S2)(),r=(0,nt.oA)(t?.data?.tier),{show:a,isShowing:i,complete:l}=(0,x.e)({overlay:v.dYj,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>{if(!(0,s.kc)().sts_starter_enabled)return!1;let t=new Date("2025-04-26T23:59:59").getTime();return!(Date.now()>t)&&e().get("enabled",!1)},predicate:e=>e,postCheck:()=>!0}},[t]);return(0,C.h)(()=>{a({canShow:e=>e?.tier===nn.Ag.STARTER})}),(0,n.jsx)(rH._l,{closeButtonColor:"dark",description:(0,c.tx)("starter_plan_updates_modal.description"),isShowing:i,media:(0,n.jsx)(rH.B$,{aspectRatio:1.625,width:700,src:(0,P.ck)("8bed8822b149a1da0cefb322e58ed4bd83ed7a28"),alt:"An illustration of several Figma features"}),onClose:l,orientation:"landscape",primaryCta:{label:(0,c.tx)("starter_plan_updates_modal.primary_cta_button"),type:"button",onClick:l,ctaTrackingDescriptor:X.c.GOT_IT},secondaryCta:{label:(0,c.tx)("starter_plan_updates_modal.secondary_cta_button"),type:"link",href:"https://help.figma.com/hc/categories/31823555275671-Figma-Sites",ctaTrackingDescriptor:X.c.LEARN_MORE},title:(0,c.tx)("starter_plan_updates_modal.title"),trackingContextName:"starter_plan_updates_overlay",trackingProperties:{plan:r}})}var ni=r(5175),ns=r(947035),nl=r(889438),no=r(285359);function nd(){let e=(0,i.md)(f.qG),t=(0,i.md)(k.Qm),r=(0,i.md)(k.zN),n=(0,tF.ol)(),a=(0,D.wA)(),s=(0,x.e)({overlay:v.Ult,priority:g.N.HIGH_PRIORITY_MODAL},[e,t,r]);return(0,C.h)(()=>{s.show({canShow:(e,t,r)=>!(0,W.mW)(e,"seen_edu_offboarding_modal")&&(0,nl.x$)(t)!==1/0&&r,onShow:()=>{a((0,tO.to)({type:no.ZL,data:{teamId:n?.id}})),a(U.b({seen_edu_offboarding_modal:!0})),s.complete()}})}),null}var nc=r(111679),n_=r(847282),nu=r(561602),nm=r(729226);function np(){let e=(0,x.e)({overlay:v.kmq,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,D.wA)();return(0,C.h)(()=>{let r=(0,n_.QL)(nu.ND.key),n=(0,n_.QL)(nu.pC.key);r===nu.ND.value?e.show({onShow:()=>{t(nc.Dw({isEduTeam:!0})),(0,n_.EM)(nu.ND.key)}}):n===nu.pC.value&&e.show({onShow:()=>{t((0,tO.to)({type:nm.q})),(0,n_.EM)(nu.pC.key)}})}),null}let nh=(0,f.Fu)("seen_plan_spaces_launch_modal"),nx=(0,f.Fu)("seen_limited_spaces_onboarding"),nf=new Date("2024-10-30T20:00:00.000Z").getTime();function ng(){let e=(0,D.d4)(e=>e.plans),t=(0,i.md)(k.mp),r=(0,i.md)(nh),a=(0,i.md)(nx),s=e.some(e=>e.plan_type===tm.O.TEAM&&e.is_guest),{show:l,isShowing:o,complete:d}=(0,x.e)({overlay:v.Sgd,priority:g.N.HIGH_PRIORITY_MODAL},[t,r,a]);return(O.useEffect(()=>{s&&l({canShow:(e,t,r)=>!!t&&!r&&e.getTime()<=nf})},[s,l]),e.length)?(0,n.jsx)(tE.rq,{arrowPosition:th.F_.RIGHT_TITLE,description:(0,c.tx)("rcs.limited_spaces.external_projects"),disableHighlight:!0,emphasized:!0,isShowing:o,onClose:d,primaryCta:{label:(0,c.tx)("rcs.got_it"),type:"button",onClick:d,ctaTrackingDescriptor:X.c.GOT_IT},targetKey:tc.U,testId:"limited_plan_spaces_onboarding_test_id",title:(0,c.tx)("rcs.limited_spaces.find_shared_projects"),trackingContextName:"Limited Spaces Onboarding Overlay"}):null}var nb=r(821076),nv=r(915707);let ny=new Date("2025-09-16T15:00:00+0000");function nj(){let e=(0,nr.bY)("starter_global_file_limits").getDynamicConfig().get("grandfather_date",ny),t=(0,s.kc)().sites_design_starter_combined_file_limit,r=(0,s.kc)().sts_starter_enabled,a=(0,i.md)(k.mp),l=(0,i.md)(k.t),o="recentsAndSharing"===(0,tB.z3)(),d=(0,nv.$)({editorType:nn._Y.SITES,newFileFrom:ey.f6.SITES_ON_STARTER_OVERLAY,isDraftsFolder:!0,contextClicked:"sites_on_starter_overlay_create_site"}),{isShowing:_,show:u,complete:m}=(0,x.e)({overlay:v.VRV,priority:g.N.SECONDARY_MODAL},[a,l]);return(0,C.h)(()=>{u({canShow:(n,a)=>n.getTime()<=e.getTime()&&a&&!!t&&!!r&&o})}),(0,n.jsx)(tE.rq,{description:(0,c.tx)("upsell.sites_on_starter.description"),isShowing:_,media:(0,n.jsx)(eB.y,{src:(0,P.ck)("8f7c39f3429e8e63ad5495fd18998cf2bfe6314c"),alt:(0,c.t)("upsell.sites_on_starter.alt_text"),aspectRatio:240/135}),onClose:m,primaryCta:{label:(0,c.tx)("upsell.sites_on_starter.create_site"),type:"button",onClick:()=>{d(),m()},ctaTrackingDescriptor:X.c.SEE_PLANS},secondaryCta:{label:(0,c.tx)("upsell.sites_on_starter.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31230436657815-Explore-Figma-Sites",ctaTrackingDescriptor:X.c.LEARN_MORE},targetKey:nb.z,title:(0,c.tx)("upsell.sites_on_starter.title"),trackingContextName:"Sites On Starter Overlay"})}var nw=r(617980);function nT(){let e=!!(0,eZ.dq)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rP.p,{children:(0,n.jsx)(ns.$,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(nw.A,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(np,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(nd,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r8.NuxOnboardingOverlay,{entryPoint:ni.C5.FileBrowser})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(tL,{})}),(a.XN||!a.rr)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rP.p,{children:(0,n.jsx)(eL,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r7.P,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(rY.A,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(rJ.Ay,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(ne.A,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r9.A,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r5,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r$,{})})]}),(0,n.jsx)(rP.p,{featureFlag:"pro_trials_v3_ux",children:(0,n.jsx)(rx,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(na,{})}),(0,n.jsxs)(rP.p,{children:[(0,n.jsx)(tC,{}),(0,n.jsx)(ng,{})]}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(tN,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r0,{})}),(0,n.jsxs)(rP.p,{children:[(0,n.jsx)(rC,{}),(0,n.jsx)(rR,{})]}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(R,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(T,{})}),e&&(0,n.jsx)(rP.p,{children:(0,n.jsx)(ts,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(eK,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(nj,{})}),(0,n.jsx)(rP.p,{featureFlag:"scrub_file_browser_search_results",children:(0,n.jsx)(rO.b0,{})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(r6.C,{source:"file_browser"})}),(0,n.jsx)(rP.p,{children:(0,n.jsx)(rL,{})})]})}},389631:(e,t,r)=>{r.d(t,{l:()=>n});let n="CREATE_FILES_ONBOARDING_KEY"},617980:(e,t,r)=>{r.d(t,{A:()=>b,y:()=>g});var n=r(237420),a=r(795033),i=r(653899);if(443==r.j)var s=r(428147);if(443==r.j)var l=r(312156);if(443==r.j)var o=r(906356);var d=r(366535),c=r(422872),_=r(847282),u=r(381059),m=r(958127),p=r(745529),h=r(143277),x=r(563554),f=r(441030);let g="upgrade";function b(){let e=(0,n.wA)(),t=(0,a.md)(u.d2),r=(0,c.e)({overlay:f.Wb3,priority:h.N.URGENT_ALERT},[t]);return(0,i.h)(()=>{let t=(0,_.QL)(g),n=(0,_.QL)("entryPoint");switch(t){case"pro":r.show({canShow:e=>e===x.qo.PERSONAL,onShow:()=>{let t={dispatch:e,plan:l.I.PRO,entryPoint:n?parseInt(n,10):(0,p.c)(m.C6.PRO_UPGRADE_SEQUENCE_FROM_DEEPLINK)};e((0,d.to)({type:o.dR,data:{...t}})),r.complete()}});break;case"plan_comparison":r.show({canShow:e=>e===x.qo.PERSONAL,onShow:()=>{e((0,d.to)({type:s.V,data:{entrypoint:n?{kind:"cart",id:parseInt(n,10)}:m.C6.PLAN_COMPARISON_MODAL_FROM_DEEPLINK}})),r.complete()}})}}),null}},680024:(e,t,r)=>{let n;r.d(t,{U:()=>s});var a=r(519042),i=r(959834);function s(){return n??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([r.e(743),r.e(9540),r.e(1614),r.e(6189),r.e(3402),r.e(1039),r.e(7453),r.e(4914),r.e(8060),r.e(5431),r.e(6074),r.e(5211),r.e(612),r.e(5651),r.e(2871),r.e(344),r.e(7384),r.e(8046),r.e(1077),r.e(8700),r.e(6004),r.e(7558),r.e(8717)]).then(r.bind(r,611453)).then(e=>e.FolderPermanentlyDeleteConfirmModal),(0,i.Ij)("FolderPermanentlyDeleteConfirmModal")))}},786559:(e,t,r)=>{let n;r.d(t,{V:()=>s});var a=r(519042),i=r(959834);function s(){return n??=(0,i.Ju)(a.A.createLazyComponent(()=>Promise.all([r.e(743),r.e(9540),r.e(1614),r.e(6189),r.e(3402),r.e(1039),r.e(7453),r.e(4914),r.e(8060),r.e(5431),r.e(6074),r.e(5211),r.e(612),r.e(5651),r.e(2871),r.e(344),r.e(7384),r.e(8046),r.e(1077),r.e(8700),r.e(6004),r.e(7558),r.e(8717)]).then(r.bind(r,615724)).then(e=>e.FolderTrashConfirmModal),(0,i.Ij)("FolderTrashConfirmModal")))}},689185:(e,t,r)=>{r.d(t,{r:()=>_});var n=r(104076),a=r(716976);if(443==r.j)var i=r(454851);if(443==r.j)var s=r(853943);var l=r(236631),o=r(192075),d=r(349311),c=r(984004);function _(e){let t=a.useRef(null),{toggle:r,showing:_,data:u}=(0,c.Di)();return(0,c.j_)().unwrapOr(!1)?(0,n.jsxs)("div",{className:l.s.ml4.$,children:[(0,n.jsx)(i.d,{ref:t,"aria-expanded":_,onClick:n=>{n.stopPropagation();let a=t.current?.getBoundingClientRect();r({data:{publishedResource:e.resource,targetRect:a}})},"aria-label":(0,o.t)("universal_insert.more_options"),htmlAttributes:{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":(0,o.t)("universal_insert.more_options")},children:(0,n.jsx)(s.J,{})}),_&&u&&(0,n.jsx)(c.ii,{dropdownData:u,isFromDropdownButton:!0})]}):null}},681087:(e,t,r)=>{r.d(t,{C:()=>C,y:()=>k});var n=r(104076),a=r(716976),i=r(237420);if(443==r.j)var s=r(936031);r(120440);var l=r(653899),o=r(192075),d=r(354925);if(443==r.j)var c=r(560507);if(443==r.j)var _=r(703605);var u=r(315910),m=r(366535),p=r(111297),h=r(249586),x=r(288747),f=r(912610),g=r(842433),b=r(441837),v=r(583669),y=r(689185),j=r(984004),w=r(77735),T=r(929616);function C(){let e=(0,i.d4)(e=>e.publishedPlugins),t=(0,x.dq)(),r=(0,w.S)(e,t||void 0),a=(0,i.wA)();return((0,l.h)(()=>{a(u.Xt())}),t&&0!==r.length)?(0,n.jsx)(k,{plugins:r,renderPluginDropdownButton:!0}):(0,n.jsx)("div",{className:T.p,children:(0,o.tx)("org_view.private_plugins_will_appear_here")})}function k({plugins:e,renderPluginDropdownButton:t}){return(0,n.jsx)(p.QE.Consumer,{children:r=>(0,n.jsx)(E,{plugins:e,trackingContext:r.name,renderPluginDropdownButton:t})})}function E({plugins:e,trackingContext:t,renderPluginDropdownButton:r}){let s=(0,i.wA)(),l=(0,j.j_)(),o=(0,c.B)(),{showing:d,show:p,data:x}=(0,j.Di)();a.useEffect(()=>{s(u.Xt())},[s]);let v=a.useMemo(()=>e.map(e=>({plugin:e,version:(0,f.uF)(e)})),[e]),y=a.useCallback(({version:e})=>e.name??"",[]),w=a.useCallback(({plugin:e},r)=>{(0,h.Cu)({context:t,text:"Plugin Tile",pluginId:e.id}),o(e,r)},[o,t]),T=a.useCallback(e=>{if(1!==e.length)return;let t=e[0].plugin;s((0,m.to)({type:b.H,data:{plugin:t},showModalsBeneath:!0}))},[s]),C=a.useCallback((e,t,r)=>{1===e.length&&p({data:{publishedResource:e[0].plugin,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[p]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.A,{items:v,getAriaLabel:y,viewType:g.XU.GRID,handleOpenItem:w,handleContextMenu:C,handleDeleteKey:l.unwrapOr(!1)?T:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:S.grid,renderCard:({ref:e,item:t,isSelected:a,role:i,onFocus:s,onClick:l,onBlur:o})=>(0,n.jsx)(I,{buttonRef:e,isSelected:a,plugin:t.plugin,cardRole:i,onFocus:s,onClick:l,onBlur:o,renderPluginDropdownButton:r})}}),d&&x&&(0,n.jsx)(j.ii,{dropdownData:x})]})}function I({plugin:e,buttonRef:t,cardRole:r,isSelected:i,renderPluginDropdownButton:s,onFocus:l,onClick:o,onBlur:c}){let[_,u]=a.useState(!1),m=a.useCallback(()=>{u(!0)},[]),p=a.useCallback(()=>{u(!1)},[]);return(0,n.jsx)("div",{onMouseEnter:m,onMouseLeave:p,children:(0,n.jsx)(d.R.Root,{ref:t,ariaLabel:f.Ar(e)?.name??"",cardRole:r,footer:(0,n.jsx)(A,{plugin:e,renderPluginDropdownButton:s,forceHover:_}),isSelected:i,onBlur:c,onClick:o,onFocus:l,children:(0,n.jsx)(v.Ce,{plugin:e,isPublishing:!1,showNewBadge:!1,isPublicOverride:!1})})})}function A({plugin:e,renderPluginDropdownButton:t,forceHover:r}){return(0,n.jsx)(v.Xg,{showInstallCount:!0,plugin:e,isPublicOverride:!1,forceHover:r,dropdown:t?(0,n.jsx)(s.HG,{className:"xjp7ctv",children:(0,n.jsx)(y.r,{resource:e})}):void 0})}let S={grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}},984004:(e,t,r)=>{r.d(t,{Di:()=>k,ii:()=>E,j_:()=>C});var n=r(104076),a=r(716976),i=r(237420),s=r(219199),l=r(192075);if(443==r.j)var o=r(354542);if(443==r.j)var d=r(560507);var c=r(720919),_=r(50536),u=r(366535),m=r(241625),p=r(506192),h=r(288747),x=r(592726),f=r(944350),g=r(904017),b=r(278052),v=r(389348),y=r(787053),j=r(996397),w=r(441837),T=r(346886);function C(){let e=(0,x.TA)(),t=(0,h.sZ)(),r=(0,g.D6)("useCanAdminOrgQuery");return a.useMemo(()=>r.transform(r=>!!t&&!!e&&(0,g.A8)(r,f.Xn.ADMIN)),[r,t,e])}function k(){let e=a.useId();return(0,p.BK)(`ORG_ADMIN_RESOURCE_DROPDOWN_${e}`)}function E(e){let{publishedResource:t,targetRect:r}=e.dropdownData,a=(0,i.wA)(),p=(0,x.TA)(),h=C(),f=(0,o.s)(),g=(0,d.B)();if(!r)return null;let k=e=>{e?.stopPropagation(),a((0,u.to)({type:w.H,data:{plugin:t},showModalsBeneath:!0}))},E=[y.KM.PERMISSIONS],I=[];e.isFromDropdownButton||(I.push({displayText:(0,l.t)("general.open"),callback:(e,r,n,a)=>{t.is_widget?f(t,a):g(t,a)}}),I.push({displayText:(0,l.t)("file_browser.open_in_new_tab"),callback:(e,r,n,a)=>{t.is_widget?s.Ay.redirect((0,j.YW)(t.id),"_blank"):s.Ay.redirect((0,j.ho)(t.id),"_blank")}}),I.push(b.w)),h.unwrapOr(!1)&&(((0,m.Ro)(t,p??"")||t.creator.id===p)&&(E.push(y.KM.PUBLISH),I.push({displayText:t.is_widget?(0,l.t)("community.plugins.edit_resource_details.widget"):(0,l.t)("community.plugins.edit_resource_details.plugin"),callback:(e,t,r,n)=>A(y.KM.PUBLISH,n)})),I.push({displayText:(0,l.t)("universal_insert.manage_permissions"),callback:(e,t,r,n)=>{A(y.KM.PERMISSIONS,n)}}),e.isFromDropdownButton&&I.push(b.w),I.push({displayText:(0,l.t)("community.resource.unpublish"),callback:(e,t,r,n)=>k(n)})),e.isFromDropdownButton||I.push(b.w,{displayText:(0,l.t)("file_browser.copy_link"),callback:(e,r,n,i)=>{t.is_widget?a(_.le({view:"communityHub",subView:"widget",widgetId:t.id})):a(_.le({view:"communityHub",subView:"plugin",publishedPluginId:t.id}))}});let A=(e,r)=>{r?.stopPropagation(),a((0,c.r)({publishedPluginId:t?.id,initialTab:e,entryPoint:v.k2.ADMIN,initialAllowedTabs:E}))};return(0,n.jsx)(T.j,{autofocusPrevOnDismount:!0,dispatch:a,hidePointWhenContentOffScreen:!0,items:I,lean:e.isFromDropdownButton?"left":"right",onSelectItem:(e,t)=>e.callback?.("",{},a,t),parentRect:r,rootAndSubmenuMaxWidth:190,rootAndSubmenuMinWidth:120,shouldUsePortal:!0,showPoint:!!e.isFromDropdownButton})}},917359:(e,t,r)=>{r.d(t,{x:()=>$,N:()=>Y});var n=r(104076),a=r(716976),i=r(237420);r(120440);var s=r(192075),l=r(354925),o=r(354542),d=r(703605),c=r(315910),_=r(366535),u=r(288747),m=r(912610),p=r(842433),h=r(951002),x=r(762801),f=r(936031),g=r(684742),b=r(140490),v=r(652539),y=r(689185),j=r(111297),w=r(82483),T=r(996397),C=r(611373),k=r(681398),E=r(728309),I=r(214964),A=r(592726),S=r(792028),N=r(437761),R=r(139693),O=r(978236),D=r(958613),F=r(307572),M=r(322086);function L(e){let t=(0,i.wA)(),r=(0,A.iZ)(),{dropdownIsShown:s,toggleSwitchEditorDropdown:l,PluginTrySwitchEditorDropdown:o}=(0,R.WW)(e.resource,"left",e.viewContext),d=a.useRef(null),c=(0,S.xQ)(e.resource),u=(0,m.uF)(e.resource),p=u.manifest.editorType?.[0]??N.FW.FIGMA;return e.isDisabled?(0,n.jsx)(D.x8,{icon:M.A,metric:e.resource.unique_run_count}):(0,n.jsxs)("div",{onMouseLeave:()=>l(d,!1),children:[(0,n.jsx)("div",{ref:d,onMouseEnter:()=>l(d,!0),children:(0,n.jsx)(D.vE,{icon:M.A,hoverIcon:M.A,activeIcon:M.A,metric:e.resource.unique_run_count,classNameOverride:s?p===N.FW.FIGMA?F.Qe:F._y:void 0,onClick:n=>{if(n.preventDefault(),n.stopPropagation(),r){if(k.Ay.mobile){t((0,_.to)({type:O.x,data:{dispatch:t}}));return}l(d)}else{let r=(0,I.k)(e.resource);t(E.cx({isWidget:c,redirectPath:r}))}}})}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:F.MJ}),(0,n.jsx)(o,{})]})]})}var P=r(583669),B=r(995104),U=r(678409),z=r(579393);function H({version:e,widget:t,lastViewedAtForNewBadge:r,isInItemsView:a,forceHover:i}){let l=x.iv({placement:"bottom"}),o=(0,C.y1)({editorType:e.manifest.editorType}),d=(0,n.jsxs)(n.Fragment,{children:[!!(r&&Date.parse(t.created_at)>Date.parse(r))&&(0,n.jsx)(P.Q7,{}),(0,n.jsx)(B.z,{src:e.redirect_snapshot_url||e.redirect_icon_url,context:"community"})]});return(0,n.jsxs)(w.WM,{removeBorder:a,children:[(0,n.jsx)("div",{...{0:{className:"x1y2wqyl xg01cxk x1o7uuvo x1euntei x10l6tqk xn0vg7t xpnmzw7"},1:{className:"x1y2wqyl x10l6tqk xn0vg7t xpnmzw7 x1hc1fzr"}}[!!(i||l.isOpen)<<0],children:o?(0,n.jsxs)(f.HG,{className:"xjp7ctv",children:[(0,n.jsx)(g.E,{...l.getTriggerProps(),className:"x12oqio5 xb3r6kr x5hs570","aria-label":(0,s.t)("community.detail_view.compatibility_tooltip_trigger"),"data-testid":o.testId,children:"single-editor"===o.type?(0,n.jsx)(o.Icon,{}):"multi-editor"===o.type?(0,n.jsx)(v.B,{svg:o.svg,useOriginalSrcFills_DEPRECATED:!0}):(0,h.xb)(o)}),(0,n.jsx)(x.mc,{manager:l,children:(0,n.jsx)(x.UC,{children:o.label})})]}):null}),a?d:(0,n.jsx)("a",{href:(0,T.YW)(t.id),children:d})]})}let W=(0,b._)(function({version:e,widget:t,viewContext:r}){let a=!!t.org_id,l=(0,i.d4)(e=>e.orgById),o="search"===(0,i.d4)(({selectedView:e})=>e).view,d=t.org_id&&l[t.org_id];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(w.dY.MetadataContainer,{children:[a?(0,n.jsx)(w.dY.PublisherAvatar,{publishers:t.community_publishers?.accepted}):(0,n.jsx)(w.dY.PublisherAvatarWithDropdown,{publishers:t.community_publishers?.accepted}),(0,n.jsx)(w.dY.TextMetadataLayout,{primaryText:(0,n.jsx)("h2",{className:"xt0psk2",children:e.name}),secondaryText:a?(0,n.jsx)(w.dY.MetadataAuthor,{publishers:t.community_publishers?.accepted}):(0,n.jsx)(w.dY.MetadataAuthorWithDropdown,{publishers:t.community_publishers?.accepted}),planIconEntity:o?d:null})]}),(0,n.jsx)(w.dY.ResourceActionContainer,{children:a?(0,n.jsx)(w.dY.ButtonWrapper,{children:(0,n.jsxs)("div",{className:U.m_,children:[(0,n.jsx)(v.B,{className:U.hz,svg:z.A,ariaHidden:!0}),(0,s.tx)("community.cards.private"),"OrgWidgetsView"===r&&(0,n.jsx)(f.HG,{className:"xjp7ctv",children:(0,n.jsx)(y.r,{resource:t})})]})}):(0,n.jsx)(w.dY.ButtonWrapper,{children:(0,n.jsx)(L,{resource:t,viewContext:r})})})]})},"WidgetCardBottomRow");(0,j.tf)(function(e){let{onTileClicked:t,version:r}=function({onClick:e,widget:t}){let r=(0,o.s)();return{onTileClicked:a.useCallback(n=>{e?.(t.id),r(t,n)},[t,e,r]),version:(0,m.uF)(t)}}({onClick:e.onClick,widget:e.widget});return(0,n.jsx)(w.sU,{onClick:t,image:(0,n.jsx)(H,{version:r,widget:e.widget,lastViewedAtForNewBadge:e.lastViewedAtForNewBadge}),bottomRow:(0,n.jsx)(W,{widget:e.widget,version:r,viewContext:e.viewContext})})});var q=r(441837),V=r(984004),G=r(77735),K=r(929616);function $(){let e=(0,i.wA)(),t=(0,u.dq)(),r=(0,i.d4)(e=>e.publishedWidgets);a.useEffect(()=>{e(c.gI())},[e]);let l=(0,G.S)(r,t||void 0);return t&&0!==l.length?(0,n.jsx)(Y,{widgets:l}):(0,n.jsx)("div",{className:K.p,children:(0,s.tx)("org_view.private_widgets_will_appear_here")})}function Y({widgets:e}){let t=(0,i.wA)(),r=(0,V.j_)();a.useEffect(()=>{t(c.gI())},[t]);let s=(0,o.s)(),{showing:l,show:u,data:h}=(0,V.Di)(),x=a.useMemo(()=>e.map(e=>({widget:e,version:(0,m.uF)(e)})),[e]),f=a.useCallback(({version:e})=>e.name??"",[]),g=a.useCallback(({widget:e},t)=>s(e,t),[s]),b=a.useCallback(e=>{if(1!==e.length)return;let r=e[0].widget;t((0,_.to)({type:q.H,data:{plugin:r},showModalsBeneath:!0}))},[t]),v=a.useCallback((e,t,r)=>{1===e.length&&u({data:{publishedResource:e[0].widget,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[u]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{items:x,getAriaLabel:f,viewType:p.XU.GRID,handleOpenItem:g,handleContextMenu:v,handleDeleteKey:r.unwrapOr(!1)?b:void 0,multiselectDisabled:!0,isDraggable:!1,gridViewProps:{containerStyle:Q.grid,renderCard:({ref:e,isSelected:t,onClick:r,onFocus:a,onBlur:i,role:s,item:l})=>(0,n.jsx)(J,{buttonRef:e,isSelected:t,onClick:r,onFocus:a,onBlur:i,cardRole:s,widget:l.widget,version:l.version})}}),l&&h&&(0,n.jsx)(V.ii,{dropdownData:h})]})}function J({buttonRef:e,isSelected:t,widget:r,version:i,onClick:s,onFocus:o,onBlur:d,cardRole:c}){let[_,u]=a.useState(!1),m=_||t,p=a.useCallback(()=>{u(!0)},[]),h=a.useCallback(()=>{u(!1)},[]);return(0,n.jsx)("div",{onMouseEnter:p,onMouseLeave:h,children:(0,n.jsx)(l.R.Root,{ref:e,ariaLabel:i.name??"",cardRole:c,footer:(0,n.jsx)(X,{widget:r,version:i}),isSelected:t,onBlur:d,onClick:s,onFocus:o,children:(0,n.jsx)(H,{widget:r,version:i,forceHover:m,isInItemsView:!0})})})}function X({widget:e,version:t}){return(0,n.jsx)("div",{className:"x78zum5 x1q0g3np xsdox4t x87ps6o",children:(0,n.jsx)(W,{widget:e,version:t,viewContext:"OrgWidgetsView"})})}let Q={grid:{kmVPX3:"x15fnm84",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,$$css:!0}}},77735:(e,t,r)=>{r.d(t,{S:()=>i});var n=r(716976),a=r(912610);function i(e,t){return n.useMemo(()=>t?Object.values((0,a.Qt)((0,a.i8)(Object.values(e)),t)):[],[t,e])}},574822:(e,t,r)=>{r.d(t,{p:()=>b,u:()=>v});var n=r(104076),a=r(999083);if(443==r.j)var i=r(272364);if(443==r.j)var s=r(660360);if(443==r.j)var l=r(108692);if(443==r.j)var o=r(975484);if(443==r.j)var d=r(520843);if(443==r.j)var c=r(322028);if(443==r.j)var _=r(872419);var u=r(192075);if(443==r.j)var m=r(111679);var p=r(519049),h=r(944350),x=r(176203);if(443==r.j)var f=r(75644);var g=r(524291);function b({editorType:e,isDisabled:t,isLoading:r,onClick:_,showRequestLabel:m,showRequestSentLabel:p}){let b={[h._Y.DESIGN]:{title:(0,u.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,n.jsx)(i.a,{})},[h._Y.WHITEBOARD]:{title:(0,u.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,n.jsx)(s.A,{})},[h._Y.SLIDES]:{title:(0,u.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,n.jsx)(l.o,{})},[h._Y.SITES]:{title:(0,u.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${x.oQ}-file-button`,icon:(0,n.jsx)(o.a,{}),badge:function(){if("BETA"===(0,f.z)())return g._.BETA}()},[h._Y.COOPER]:{title:(0,u.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:`new-${x.sq}-file-button`,icon:(0,n.jsx)(d.h,{}),badge:g._.BETA},[h._Y.FIGMAKE]:{title:(0,u.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:`new-${x.GJ}-file-button`,icon:(0,n.jsx)(c.s,{}),badge:void 0}}[e],v=(0,a.WI)([m?g._.REQUEST_UPGRADE:null,p?g._.REQUEST_SENT:null,b.badge]);return{key:e,isDisabled:t,isLoading:r,onClick:_,title:b.title,dataTestId:b.dataTestId,brand:b.brand,icon:b.icon,badges:v}}function v({isLoading:e,dispatch:t,targetFolderId:r}){return{key:"import-file",isLoading:e,onClick:()=>{r&&t((0,m.gN)(r)),t((0,p.L)())},title:(0,u.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:(0,n.jsx)(_.R,{})}}},818186:(e,t,r)=>{r.d(t,{V:()=>p});var n=r(104076),a=r(684742),i=r(240831),s=r(427369),l=r(790009);r(120440);var o=r(284467),d=r(11103),c=r(221602),_=r(192075),u=r(904017),m=r(349311);function p(e){let t=(0,u.X$)("FileCreationPillButton"),r=(0,u.YY)(t).unwrapOr(!1),a=(0,c.qI)().unwrapOr(null),i="";return r&&!e.isLoading&&e.showComingSoon?i=(0,_.t)("file_browser.creation_buttons.coming_soon"):e.isDisabled&&!e.isLoading&&a&&(i=a),(0,n.jsx)(h,{...e,tooltipText:i})}function h(e){let t=e.isDisabled||e.isLoading,r=(0,i.O)();return(0,n.jsx)(l.J,{brand:e.brand,children:(0,n.jsx)(a.E,{...{0:{className:"x11l4ivk xrbdz5j xp8tnzm x1c7hbig x19ojyqu x1x2d8cx x17eetdp x1jys9c5 x1cjeetj x1mqyn81 x6g8fao x1nzpo8l x1ulchi7 x12xxy4o x1bfvipf xxi3osj xnurnk3 xkhlbt9 xn0whsw x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr"},2:{className:"x11l4ivk xrbdz5j xp8tnzm x1c7hbig x19ojyqu x1x2d8cx x17eetdp x1jys9c5 x1cjeetj x1mqyn81 x6g8fao x1nzpo8l x1ulchi7 x12xxy4o x1bfvipf xxi3osj xnurnk3 xkhlbt9 x2lah0s x1d36bvo x1v8gsql x17c7w1w x1tt564c x8ge37t x6bkol7 xrhlwir xsfrc4e x129mn88 xb3r6kr xwa2v1s"},1:{className:"x11l4ivk xrbdz5j xp8tnzm x1c7hbig x19ojyqu x1x2d8cx x17eetdp x1jys9c5 x1cjeetj x1mqyn81 x6g8fao x1nzpo8l x1ulchi7 x12xxy4o x1bfvipf xxi3osj xnurnk3 xkhlbt9 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"},3:{className:"x11l4ivk xrbdz5j xp8tnzm x1c7hbig x19ojyqu x1x2d8cx x17eetdp x1jys9c5 x1cjeetj x1mqyn81 x6g8fao x1nzpo8l x1ulchi7 x12xxy4o x1bfvipf xxi3osj xnurnk3 xkhlbt9 x2lah0s x1d36bvo xb3r6kr xz8z4lq x15kbib2 x1yjdb4r x6bkol7 x1icplyp"}}[!("bake-filebrowser"!==e.brand)<<1|!!t<<0],onClick:e.onClick,"data-testid":e.isLoading?void 0:e.dataTestId,disabled:t,"data-onboarding-key":e.dataOnboardingKey,"data-tooltip":e.tooltipText,"data-tooltip-type":m.Ib.TEXT,"data-tooltip-timeout-delay":50,children:(0,n.jsx)(d.xv,{loaded:!e.isLoading,loadingSkeletonElement:(0,n.jsx)("div",{className:"x1yjdb4r",children:(0,n.jsx)(o.Qp,{animationType:o.JR.LIGHT_SHIMMER,className:"x10w6t97"})}),showElementBeforeLoaded:!0,children:(0,n.jsxs)("div",{className:"x1y1aw1k xwib8y2 xyfqnmn xnm25rq x78zum5 x6s0dn4 x167g77z",children:[(0,n.jsx)("div",{...{0:{className:"x1h4d7b8 x6s0dn4 xl56j7k x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq x1h4d7b8 x6s0dn4 xl56j7k x1a00udw xx3o462"},1:{className:"x1wbuj8u"},3:{className:"xu5wzci x192jxwq x1wbuj8u"}}[!t<<1|!!r<<0],"data-testid":"file-icon",children:e.icon}),(0,n.jsx)("div",{...{0:{className:"x1dtuv8b x1a00udw xx3o462"},2:{className:"xu5wzci x192jxwq x1dtuv8b x1a00udw xx3o462"},1:{className:"x1dtuv8b"},3:{className:"xu5wzci x192jxwq x1dtuv8b"}}[!t<<1|!!r<<0],"data-testid":"plus-icon",children:(0,n.jsx)(s.J,{})}),(0,n.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xiuzu7u",children:e.title})]})})})})}},821076:(e,t,r)=>{r.d(t,{Z:()=>u,z:()=>_});var n=r(104076);if(443==r.j)var a=r(333985);var i=r(812714),s=r(192075),l=r(818186),o=r(915707),d=r(944350),c=r(176203);let _="sites_on_starter_onboarding_key";function u({isDisabled:e,isLoading:t,newFileFrom:r}){let u=(0,o.$)({isDraftsFolder:!0,editorType:d._Y.SITES,newFileFrom:r,triggerElement:"pill",contextClicked:"recents_file_creation_thumbnails_created"});return(0,n.jsx)(l.V,{title:(0,s.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${c.oQ}-file-button`,icon:(0,n.jsx)(a.$,{}),isDisabled:e,isLoading:t,onClick:u,showComingSoon:!(0,i.kc)().sts_starter_enabled,dataOnboardingKey:_})}},699395:(e,t,r)=>{r.d(t,{iM:()=>b,nz:()=>g,pP:()=>f});var n=r(104076),a=r(716976);if(443==r.j)var i=r(307829);if(443==r.j)var s=r(420680);if(443==r.j)var l=r(180);var o=r(812714);r(120440);var d=r(886584),c=r(192075),_=r(967276);if(443==r.j)var u=r(389631);var m=r(197979),p=r(208740);let h=(0,d.o)(),x=(0,d.o)();function f(){h.emit()}function g(){x.emit()}function b({folderId:e,isContainerHovered:t}){let{getTriggerProps:r,manager:f}=i.b({config2025CuratorHacks:(0,o.kc)().fpl_menu_under_curator});(0,d.p)(h,a.useCallback(()=>f.setOpen(!0),[f])),(0,d.p)(x,a.useCallback(()=>f.setOpen(!1),[f]));let g=(0,_.Q)({newFileFrom:p.f6.FILE_BROWSER_SIDEBAR_DRAFTS,folderId:e,contextClicked:"file_browser_sidebar_drafts_new_file_created"});return(0,n.jsx)("div",{...{0:{},1:{className:"xg01cxk x1o7uuvo x1uxbtfk x4gyw5p x1euntei"}}[!t<<0],children:(0,n.jsxs)(i.bL,{manager:f,children:[(0,n.jsx)(s.K,{htmlAttributes:{"data-tooltip":(0,c.t)("sidebar.new_file"),"data-onboarding-key":"new-file-icon"},"aria-label":(0,c.t)("sidebar.new_file"),...r(),children:(0,n.jsx)(l.$,{})}),(0,n.jsx)(m.f,{menuItems:g,"data-onboarding-key":u.l})]})})}},892329:(e,t,r)=>{r.d(t,{P:()=>b,r:()=>j});var n=r(104076),a=r(716976),i=r(237420);if(443==r.j)var s=r(284193);var l=r(219199),o=r(140490),d=r(856909),c=r(236631),_=r(192075);if(443==r.j)var u=r(58212);if(443==r.j)var m=r(799303);var p=r(507147),h=r(542220),x=r(147046),f=r(443192),g=r(806650);let b="drafts_to_move_onboarding_key",v=443==r.j?3e5:null,y=new Date("2024-06-03");function j(e){return(0,n.jsx)(o.u,{label:"DraftsToMoveLink",children:(0,n.jsx)(w,{...e})})}function w(e){let t=e.dispatch,r=(0,i.d4)(e=>e.userFlags),o=(0,g.j0)(),j="draftsToMove"===e.selectedView.view;!function(e){let{personal_draft_migration_scheduled:t,personal_draft_migration_completed:r,long_running_draft_migration_toast_shown:n,draft_migration_completed_toast_shown:s}=(0,i.d4)(e=>e.userFlags),o=(0,a.useCallback)(()=>{e(u.F.enqueue({message:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration"),button:{text:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration_learn_more"),action:()=>{l.Ay.unsafeRedirect("https://figma.com/blog/updates-to-how-drafts-work","_blank")}},type:"long-running-draft-migration",timeoutOverride:1/0,onDismiss:()=>{}})),e(f.b({long_running_draft_migration_toast_shown:!0}))},[e]),d=(0,a.useCallback)(()=>{e(u.F.dequeue({matchType:"long-running-draft-migration"})),e(u.F.enqueue({message:(0,_.t)("file_browser.drafts_to_move.long_running_draft_migration_completed")})),e(f.b({draft_migration_completed_toast_shown:!0}))},[e]);a.useEffect(()=>{if(!t)return;if(r&&r.updatedAt>t.updatedAt){if(r.updatedAt<y||s&&s.updatedAt>r.updatedAt)return;d();return}if(n&&n.updatedAt>t.updatedAt)return;let e=new Date().getTime()-new Date(t.updatedAt).getTime();e>v?o():setTimeout(()=>{o()},v-e)},[r,o,d,n,s,t])}(t);let w=r.seen_drafts_to_move_notice_icon?o>0?(0,n.jsx)(d.Ex,{text:o>99?"99+":`${o}`,color:j?d.zE.TOOLBAR_SELECTED:d.zE.DEFAULT,className:c.s.mr8.if(!j,c.s.colorBgBrandTertiary.colorText).$}):void 0:(0,n.jsx)(p.E,{className:c.s.mr8.$});return o>0||j?(0,n.jsx)(h.SidebarRow,{isSelected:j,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(x.sf({view:"draftsToMove"})),t(m.Oe({clickedResourceType:"draftsToMove"})),t(f.b({seen_drafts_to_move_notice_icon:!0})))},"data-onboarding-key":b,icon:(0,n.jsx)(s.p,{}),text:(0,_.t)("sidebar.drafts_to_move"),badge:w,wrapInListItem:!1}):null}},806650:(e,t,r)=>{r.d(t,{Gs:()=>g,j0:()=>f,rO:()=>x});var n=r(716976),a=r(237420),i=r(287211),s=r(333331),l=r(232707),o=r(449572);if(443==r.j)var d=r(111679);var c=r(405583),_=r(592726),u=r(59849),m=r(643898);let p=443==r.j?9e5:null,h=443==r.j?12e5:null;function x(e,t){return!(new Date().getTime()-e.getTime()>p)&&(!t||e.getTime()>t.getTime())}function f(){let e=(0,_.iZ)(),t=(0,a.d4)(e=>e.userFlags),r=e?.personal_drafts_folder_id??"",n=!!r,i=b(e,t),s=(0,o.bc)(u.xO7,{projectId:r},{enabled:n});if(!n||i)return 0;let d=s.data?.project?.status!==l.tT.Loaded?[]:s.data?.project.data?.undeletedFiles??[],c=0,m=new Set;d.forEach(e=>{e.fileRepoId?m.has(e.fileRepoId)||(c++,m.add(e.fileRepoId)):c++});let p=d.filter(e=>e.trackTags?.isTemplate).length;return c===p?0:c}function g(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:r,loadedFolders:s}=(0,i.R)(e=>({fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,deletedFilesByKey:e.deletedFilesByKey,loadedFolders:e.loadedFolders})),l=(0,_.iZ)(),o=(0,a.wA)(),u=(0,a.d4)(e=>e.userFlags),m=l?.personal_drafts_folder_id,p=b(l,u);n.useEffect(()=>{m&&o((0,c.jl)({folderId:m,loadedFolders:s}))},[s,o,m]),n.useEffect(()=>{o(d.h3({orgId:null,teamId:null}))},[o]);let h=(0,n.useMemo)(()=>m?(t[m]??[]).map(t=>e[t]).filter(e=>!!e):[],[e,t,m]);if(p)return[];let x=Object.keys(r).map(e=>r[e]).filter(e=>e.folder_id===m);return h.concat(x)}function b(e,t){let r=(0,o.bc)((0,u.InN)({})),n=(0,s.oA)(r.data?.personalDraftToPlanDraftLocation),a=n?.status,i=(0,s.oA)(n?.updatedAt);if("complete"===a||"all_autogenerated_complete"===a||"started"===a&&i&&Date.now()-new Date(i).getTime()<h||(0,m.nx)(e))return!0;let{personal_draft_migration_scheduled:l,personal_draft_migration_completed:d,personal_draft_deletion_scheduled:c,personal_draft_deletion_completed:_}=t,p=!!(l&&x(l.updatedAt,d?.updatedAt)),f=!!(c&&x(c.updatedAt,_?.updatedAt));return!!(p||f)}},372071:(e,t,r)=>{r.d(t,{U:()=>S,b:()=>N});var n=r(104076),a=r(716976),i=r(237420);if(443==r.j)var s=r(307829);if(443==r.j)var l=r(684742);if(443==r.j)var o=r(550012);if(443==r.j)var d=r(620480);if(443==r.j)var c=r(536358);var _=r(812714),u=r(287211);r(120440);var m=r(333331),p=r(554609),h=r(192075),x=r(171660),f=r(513651),g=r(443192),b=r(803752),v=r(207472),y=r(792635),j=r(562311),w=r(904017),T=r(216816),C=r(680731),k=r(239891),E=r(748314);if(443==r.j)var I=r(254926);if(443==r.j)var A=r(61813);let S="PLAN_SWITCHER_ONBOARDING_KEY";function N(){let e=(0,i.wA)(),t=(0,i.d4)(e=>(0,j.getPermissionsStateMemoized)(e)),r=(0,u.R)(e=>(0,v.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),s=(0,i.d4)(e=>e.user),l=(0,i.d4)(e=>e.plans),o=(0,w.S2)();if(a.useEffect(()=>{e((0,b.hr)({loadedPlans:l}))},[]),!r||!s)return null;let d=(0,v.HE)(t,r);return(0,n.jsx)(R,{teamName:d,currentWorkspace:r,currentUser:s,planResult:o})}function R({teamName:e,currentWorkspace:t,currentUser:r,planResult:a}){let u=(0,i.wA)(),{manager:g,getTriggerProps:b}=s.b({config2025CuratorHacks:!0}),{menuGroups:v,onChange:j,onCreateTeam:N}=(0,k.g)({currentUser:r}),R=v.flatMap(e=>e.items).find(e=>e.isSelected)?.planId,M={...g,getFloatingProps:e=>{let t=g.getFloatingProps(e);return{...t,style:{...t?.style,minWidth:C.g-8}}}};(0,E.T)(g);let L=(0,w.S2)(),{isDraftsToMovePlan:P,dtmMigrationCompleted:B,starterTeamCreated:U,dtmMigrationPlanName:z,dtmPlanParentId:H,dtmPlanParentType:W}=(0,y.V)((0,m.oA)(L.data)||void 0),q=!P&&B&&(0,_.kc)().dtm_deprecation_post_migration_onboarding;return(0,n.jsxs)(s.bL,{manager:M,children:[(0,n.jsxs)(O,{children:[(0,n.jsxs)(l.E,{...{0:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570"},1:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr x5hs570 x30nh5c"}}[!!g.isOpen<<0],...b(),"aria-label":(0,h.t)("navbar.navbar.plan_label",{name:e}),children:[(0,n.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xb3r6kr",children:[(0,n.jsx)(p.n,{size:16,userId:t.userId,orgId:t.orgId,teamId:t.teamId,personalSpaceIcon:I.A,personalSpaceIcon1x:A.A}),(0,n.jsx)("div",{className:"x78zum5 x1q0g3np xet2fuk xb3r6kr",children:(0,n.jsx)(x.E,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0,children:e})})]}),(0,n.jsx)(d.r,{className:"x2lah0s"})]}),"loaded"===a.status&&(0,n.jsx)("div",{className:"x78zum5 xozqiw3 xj3b58b x1yf7rl7",children:(0,n.jsx)(f.A,{workspace:t,planTier:a.data.tier})})]}),(0,n.jsxs)(s.mc,{"data-onboarding-key":k.K,children:[(0,n.jsx)(o.z6,{title:null,onChange:e=>{j(e)},value:R,children:v.map(e=>(0,n.jsx)(s.YJ,{title:e.title?(0,n.jsx)(s.hE,{children:e.title}):null,children:e.items.map(e=>(0,n.jsxs)(o.CU,{value:e.planId,children:[(0,n.jsx)(s.Q$,{children:e.icon}),F(e.displayText),e.badge?(0,n.jsx)(s.Ov,{children:e.badge}):null]},e.planId))},e.key))}),N?(0,n.jsxs)(s.q7,{onClick:()=>N(),children:[(0,n.jsx)(s.Q$,{children:(0,n.jsx)(c.e,{})}),(0,h.t)("navbar.navbar.create_new")]}):null]}),q&&(0,n.jsx)(T.a,{entryPoint:"plan_nav",planName:z,targetKey:S,starterTeamCreated:U??!1,isOrg:"org"===W,navigateToPlan:()=>{H&&D(H,u,j)}})]})}function O({children:e}){return(0,n.jsx)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x6wrskw"},1:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x163pfp"}}[!!(0,_.kc)().file_browser_sidebar_row_ui<<0],"data-onboarding-key":S,children:e})}let D=(e,t,r)=>{e&&r(e,!0),t(g.b({switched_to_new_plan_from_dtm_deprecation_onboarding:!0}))},F=e=>(0,n.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft xenbecp",children:e})},239891:(e,t,r)=>{r.d(t,{K:()=>I,g:()=>A});var n=r(104076),a=r(716976),i=r(237420),s=r(638004),l=r(812714),o=r(333331),d=r(872763),c=r.n(d),_=r(755444),u=r(449572),m=r(645040),p=r(550209),h=r(554609),x=r(192075);if(443==r.j)var f=r(111679);var g=r(513651),b=r(443192),v=r(830705),y=r(249586),j=r(207472),w=r(59849),T=r(643898),C=r(562311),k=r(883580),E=r(878936);let I="PLAN_SPACES_ONBOARDING_KEY";function A({currentUser:e}){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.plans),n=(0,i.d4)(e=>(0,C.getPermissionsStateMemoized)(e)),d=(0,v.z)(),h=(0,u.bc)(w.InN,{},{enabled:(0,l.kc)().dtm_deprecation_post_migration_onboarding}),g=(0,o.oA)(h.data?.personalDraftToPlanDraftLocation),j=o.oA(g?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,I=g?.status==="complete",A=(0,u.bc)((0,w.sMZ)({name:"seen_dtm_post_migration_badge"})),N=!!A?.data?.currentUser?.userFlagByName,R=(0,T.nx)(e),O=R&&r.length>1,D=!R&&!(0,_.sL)();return{menuGroups:(0,a.useMemo)(()=>{let t=r.some(e=>e.is_guest),{full:a,limited:i}=function({userPlans:e,currentUser:t,hasRestrictedTeams:r}){let n=[],a=[];return e.forEach(e=>{r?e.plan_type===E.O.ORG&&e.plan_id===t.external_restricted_org_id?n.push(e):a.push(e):e.is_guest?a.push(e):n.push(e)}),r&&0===n.length&&(0,p.$D)(s.e.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t.id}`),{extra:{...e}}),{full:n,limited:a}}({currentUser:e,userPlans:r,hasRestrictedTeams:O}),l=a.map(t=>S(t,e,n,{isDraftsToMovePlan:j&&g?.planParentId===t.plan_id,dtmMigrationCompleted:j&&I,starterTeamCreated:j,seenDtmPostMigrationBadge:N})).sort((e,t)=>e.displayText.localeCompare(t.displayText)),o=i.map(t=>S(t,e,n,{isDraftsToMovePlan:j&&g?.planParentId===t.plan_id,dtmMigrationCompleted:j&&I,starterTeamCreated:j,seenDtmPostMigrationBadge:N})).sort((e,t)=>e.displayText.localeCompare(t.displayText));return c()([l.length>0&&{key:"full",title:t?(0,x.t)("navbar.navbar.full_team_member_access"):void 0,items:l},o.length>0&&{key:"limited",title:O||!t?(0,x.t)("navbar.navbar.view_only_plans_disabled_by_admins"):(0,x.t)("navbar.navbar.limited_team_member_access"),items:o}])},[r,O,e,n,j,I,N,g?.planParentId]),onChange:(a,i)=>{let s;let o=r.find(e=>e.plan_id===a);if(!o)return;let d=(0,m.O)(o,e.id),c=n.currentUserOrgId,u=n.currentTeamId,p=d.orgId,h=d.teamId,x=!!(0,_.tl)().is_limited_team_plan,v=!!h&&o.is_guest,w=o.draft_folder_id;s=i&&(0,l.kc)().dtm_deprecation_post_migration_onboarding&&w?{view:"folder",folderId:w}:d.teamId&&!o.is_guest?{view:"team",teamId:d.teamId}:d.teamId&&o.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:d.orgId,orgViewTab:k.X.HOME},I&&j&&g?.planParentId===o.plan_id&&t(b.b({seen_dtm_post_migration_badge:!0})),(0,y.uE)("Plan Switcher Plan Clicked",{user:e},{currentOrgId:c,currentTeamId:u,newOrgId:p,newTeamId:h,isCurrentPlanLimitedTeamPlan:x,isNextPlanLimitedTeamPlan:v}),t(f._l({workspace:d,view:s}))},onCreateTeam:D?d:null}}function S(e,t,r,a){let i=(0,m.O)(e,t.id),s=(0,j.HE)(r,i),o=(0,j.O_)(r,i),d=(0,l.kc)().dtm_deprecation_post_migration_onboarding&&a?.starterTeamCreated&&a?.isDraftsToMovePlan&&a?.dtmMigrationCompleted&&!a?.seenDtmPostMigrationBadge;return{planId:e.plan_id,isSelected:o,displayText:s,badge:(0,n.jsx)(g.A,{planTier:e.tier,workspace:i,isInDropdown:!0,isGuest:e.is_guest,shouldShowDtmPostMigrationBadge:d}),icon:(0,n.jsx)(h.n,{userId:i.userId,orgId:i.orgId,teamId:i.teamId,size:16})}}},748314:(e,t,r)=>{r.d(t,{O:()=>l,T:()=>o});let{open:n,close:a,useRegisterMenu:i}=(0,r(209267).K)(),s={open:n,close:a};function l(){return s}let o=443==r.j?i:null},513651:(e,t,r)=>{r.d(t,{A:()=>O});var n=r(104076),a=r(962856),i=r(192075),s=r(755444),l=r(944350);function o(e){let t=e.planTier===l.Ag.ENTERPRISE,r=(0,s.sL)()?(0,i.t)("navbar.navbar.government"):e.isGuest?(0,i.t)("navbar.navbar.guest"):t?(0,i.t)("navbar.navbar.enterprise"):(0,i.t)("navbar.navbar.org");return(0,n.jsx)(a.E,{variant:"defaultFilled",children:r})}var d=r(716976),c=r(237420);r(120440);var _=r(901014),u=r(449572),m=r(856909),p=r(236631),h=r(428147),x=r(111679),f=r(366535),g=r(459494),b=r(244205),v=r(111297),y=r(332795),j=r(958127),w=r(105228),T=r(59849),C=r(853039),k=r(562311),E=r(268305),I=r(295253),A=r(613936),S=r(349311);let N=(0,r(560201).ex)("pro_trial",function(e){let t=(0,n.jsx)("span",{style:{fontWeight:600},children:(0,i.tx)("team_list.pro_trial_time_left_days",{daysLeft:e.daysLeft})});return(0,n.jsx)("div",{className:p.s.flex.itemsCenter.justifyCenter.$,children:(0,n.jsx)("p",{children:(0,i.tx)("team_list.pro_trial_time_left",{daysLeftText:t})})})},e=>({daysLeft:Number(e.getAttribute("data-tooltip-pro-trials-days-left")||0)}));function R(e){let t=(0,c.wA)(),r=(0,c.d4)(e=>e.user),s=(0,c.d4)(e=>e.teams)[e.teamId],o=(0,c.d4)(e=>(0,k.getPermissionsStateMemoized)(e)),R=e.planTier===l.Ag.PRO,O=(0,g.uM)(),D=e.planTier===l.Ag.PRO||e.planTier===l.Ag.STUDENT,F=(0,u.bc)((0,T.yQw)({teamId:e.teamId}),{enabled:!D}).transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=A.e6.EDITOR)).unwrapOr(!1),M=(0,w.TN)(e.teamId),L=(0,c.d4)(e=>e.plans),P=(0,c.d4)(e=>e.modalShown?.type===h.y),B=L.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type),U=!!B?.is_guest,[z,H]=(0,d.useState)(!1),W=(0,d.useRef)();if(!r||!s)return null;let q=e=>{t((0,f.to)({type:h.V,data:{teamId:s.id,entrypoint:e}}))};if(U&&e.isInDropdown)return(0,n.jsx)(n.Fragment,{});if(s.student_team){if(e.isInDropdown)return(0,n.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.edu")})}else if((0,C.oc)(s.id,o)){if(s.student_team_at)return null;let t=E.ng.canSeeProTrialExpiryUx(M),l=(0,n.jsx)(a.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.trial_expired")}),o=(0,n.jsx)(a.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.locked")});return e.isInDropdown?t?l:o:t?(0,n.jsx)(v.fu,{name:m._Y.PRO_TRIAL_EXPIRED,properties:{userId:r.id,teamId:s.id,...E.ng.getTrackingProperties()},children:l}):o}else if(M&&E.ng.canSeeProTrialUx(M)){let t=(0,n.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro_trial")});return e.isInDropdown?t:(0,n.jsx)(v.fu,{name:m._Y.PRO_TRIAL,properties:{userId:r.id,teamId:s.id,...E.ng.getTrackingProperties()},children:(0,n.jsx)(v.$z,{type:"button",onClick:()=>q(j.C6.PRO_TRIAL_UPSELL_MODAL),className:p.s.ml8.noWrap.$,trackingProperties:E.ng.getTrackingProperties("Badge Clicked"),children:(0,n.jsx)("span",{"data-tooltip-type":S.Ib.SPECIAL,"data-tooltip":N,"data-tooltip-pro-trials-days-left":M.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50,children:t})})})}else if(D&&e.isInDropdown)return(0,n.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro")});else if(R&&!e.isInDropdown&&O())return(0,n.jsx)(v.fu,{name:m._Y.PROFESSIONAL,properties:{userId:r.id,teamId:s.id,trackingDescriptor:b.c.PROFESSIONAL},children:(0,n.jsx)(v.$z,{"aria-label":(0,i.t)("navbar.navbar.professional_label",{teamName:s.name}),"aria-expanded":P,onClick:()=>q(j.C6.SIDEBAR_PLAN_SWITCHER_PROFESSIONAL_BADGE),className:"xctca69",children:(0,n.jsx)(m.Ex,{size:m.vj.LARGE,color:m.zE.DEFAULT,text:(0,i.t)("navbar.navbar.professional"),className:"x1fgql6j xj3b58b x1yf7rl7 xyk4uir xdkpnqj xuxw1ft x78zum5"})})});else if(!D){let l=(0,n.jsx)(a.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.free")});if(e.isInDropdown)return l;if(F){let e={monetization_surface:y.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:I.b.STARTER_TEAM_BADGE};return(0,n.jsx)("button",{"aria-label":(0,i.t)("navbar.navbar.free_label",{teamName:s.name}),"aria-expanded":P,onClick:n=>{n.stopPropagation(),t(x.dm(s.id)),q(j.C6.STARTER_TEAM_BADGE),(0,_.sx)("Starter Team Badge Clicked",{userId:r.id,teamId:s.id,...e})},onMouseEnter:()=>{z||(W.current=setTimeout(()=>{(0,_.sx)("Starter Team Badge Viewed",{userId:r.id,teamId:s.id,...e}),H(!0)},1e3))},onMouseLeave:()=>{clearTimeout(W.current)},className:p.s.bgTransparent.$,className:"xctca69",children:(0,n.jsx)(m.Ex,{size:m.vj.LARGE,color:m.zE.DEFAULT,text:(0,i.t)("navbar.navbar.free"),className:`${p.s.noWrap.flex.$} plan_switcher_team_badges--freeBadgeHover--BSSXU`})})}}return null}function O({workspace:e,isInDropdown:t,planTier:r,isGuest:s,shouldShowDtmPostMigrationBadge:l}){if(l)return(0,n.jsx)(a.E,{variant:"brandFilled",children:(0,i.t)("file_browser.drafts_to_move.new")});if(e.orgId){if(t)return(0,n.jsx)(o,{orgId:e.orgId,planTier:r,isGuest:!!s})}else if(e.teamId)return(0,n.jsx)(R,{teamId:e.teamId,isInDropdown:t,planTier:r});return null}},114647:(e,t,r)=>{r.d(t,{P:()=>d});var n=r(104076),a=r(716976),i=r(936031),s=r(890373),l=r(120440),o=r(354925);let d=a.forwardRef(function({title:e,subtitle:t,topRightContent:r,iconImage:a,backgroundColor:d,isSelected:_,onClick:u,onFocus:m,onBlur:p,cardRole:h,draggable:x,ariaCurrent:f,isHoverContentVisibleOverride:g},b){return(0,n.jsx)(o.R.Root,{ref:b,ariaCurrent:f,cardRole:h,draggable:x,isHoverContentVisibleOverride:g,isSelected:!!_,onBlur:p,onClick:u,onFocus:m,children:(0,n.jsxs)("div",{className:"x1n2onr6",children:[r&&(0,n.jsx)(i.HG,{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:r}),(0,n.jsxs)("div",{...l.xk(c.content,c.contentWithBackgroundColor(d??s.Tj.bg)),children:[(0,n.jsx)("div",{className:"x78zum5 xh8yej3 x1qughib xb3r6kr x5yr21d",children:a}),(0,n.jsxs)("div",{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr",children:[(0,n.jsx)(o.R.Title,{children:e}),(0,n.jsx)(o.R.Subtitle,{children:t})]})]})]})})}),c={content:{k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kGNEyG:"x6s0dn4",kmVPX3:"x1dipnxa",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kOIVth:"x1excjyp",khm7nJ:null,k1C7PZ:null,$$css:!0},contentWithBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}]}},362534:(e,t,r)=>{r.d(t,{g:()=>n});var n,a=r(104076),i=r(681398),s=r(192075),l=r(842433),o=r(583669);(e=>{e.SearchResult=t=>e.renderSearchResult(t.searchResult,l.XU.LIST),(e.SortKeys||(e.SortKeys={})).NAME="name",e.viewBarConfig={viewId:"search-public_profiles",sortKeys:["name"],sortKeyDescriptions:{[l.XU.GRID]:{name:(0,s.tx)("search.sort_option.name")},[l.XU.LIST]:{name:(0,s.tx)("search.sort_option.name")}},defaultOptions:{viewMode:l.XU.LIST,sortMode:{sortKey:"name",sortDesc:!1}},includeSortDirection:e=>!1,settingsSpacer:i.Ay.tablet||i.Ay.mobile},e.renderSearchResult=function(e,t){return(0,a.jsx)(o.TL,{publicProfile:e.model,resources:e.resources,notTabletSidebarOptimized:!0},e.model.id)},e.getValidOptions=function(){return e.viewBarConfig.defaultOptions}})(n||(n={}))},950129:(e,t,r)=>{let n;r.d(t,{_:()=>e6,g:()=>e9});var a=r(104076),i=r(716976),s=r(237420),l=r(951002),o=r(684742),d=r(449572),c=r(906234),_=r(101880),u=r(652539),m=r(192075),p=r(671032),h=r(59849),x=r(456877),f=r(842433),g=r(272909),b=r(812714),v=r(733200),y=r(901014),j=r(755444),w=r(681398),T=r(775551),C=r(105963),k=r(598574),E=r(104836),I=r(386216),A=r(778612),S=r(705075),N=r(362534),R=r(638004),O=r(700411),D=r(460347),F=r(221586),M=r(550209),L=r(115989),P=r(403494),B=r(825649),U=r(922939),z=r(249586),H=r(937505),W=r(657878),q=r(826160);function V(e){let{href:t,onClickWithDefaults:r,children:n}=e;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(O._,{onClick:r,href:t,children:n}),!t&&n]})}let G=i.memo(function(e){let{searchResult:t}=e,r=t.files_last_touched_at,n=t.model,s=t.model.created_at,{onClick:l,onJoin:o,onLeave:d}=(0,B.A)(n.id,e.canUserViewTeam),c=(0,H.FC)(),_=(0,W._6)(),u=i.useId(),m=(0,F.Gc)(t=>{t.preventDefault(),(0,z._J)("file_browser_team_click",e.searchResult.model.id,c,{selectedView:"recentsAndSharing"===_.view?_.tab:_.view,viewMode:"list"}),l()});return(0,a.jsx)(V,{onClickWithDefaults:m,href:e.canUserViewTeam?`/files/team/${n.id}`:void 0,children:(0,a.jsxs)("div",{className:"teams--row--Jrp4F teams--rowTemplate--G068V search_list_row--row--xo6wT text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,a.jsx)("div",{className:e.canUserViewTeam?"teams--name--E9r5y search_list_row--name--WpBVa search_list_row--_name--5gTc0 ellipsis--ellipsis--Tjyfa":"teams--nameDisabled--gGY6t search_list_row--nameDisabled---iIdo search_list_row--_name--5gTc0 ellipsis--ellipsis--Tjyfa",id:u,children:(0,a.jsx)(q.rE,{entity:n,size:10,hideFallbackInitial:!0,onClick:void 0},n.id)}),(0,a.jsx)("div",{className:"teams--touchedAt--nRyn6",children:r?(0,a.jsx)(L.h1,{date:r}):"\u2013"}),(0,a.jsx)("div",{className:"teams--createdAt--3hbJC",children:(0,a.jsx)(L.h1,{date:s})}),(0,a.jsx)("div",{className:"teams--memberCount--8dPEi",children:t.member_count}),(0,a.jsx)("div",{className:"teams--join--KCnXg",children:(0,a.jsx)(U.W,{titleId:u,team:n,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:m,onJoin:o,onLeave:d,spinnerClassName:"teams--joinSpinner--t8AWc",isCardActive:!1})}),(0,a.jsx)(P.C,{...e.settingsButtonProps})]})})}),K=(n={[f.XU.GRID]:function(e){return i.useEffect(()=>{(0,M.$D)(R.e.SEARCH,Error("Unexpectedly received grid view mode in teams SearchResult"))},[]),null},[f.XU.LIST]:function(e){let t=e.searchResult.model,r=(0,d.bc)(h.y_L,{teamId:t.id}),n=!1,i=!1;if("loaded"===r.status&&r.data?.team){let e=(0,D.ci)(r.data.team);n=e.canView,i=e.isInTeam}return(0,a.jsx)(G,{...e,isLoading:"loaded"!==r.status,canUserViewTeam:n,isCurrentUserInTeam:i})}},function(e){let t=n[e.viewMode];return(0,a.jsx)(t,{...e})});var $=r(120191),Y=r(225125),J=r(825180),X=r(874916),Q=r(604853),Z=r(378080),ee=r(398990),et=r(796012),er=r(619070),en=r(111297),ea=r(707026),ei=r(42995),es=r(563554),el=r(299117);let eo={showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicateToDrafts:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0},ed=e=>{switch(e){case f.C0.NAME:return x.Lk.NAME;case f.C0.CREATED_AT:return x.Lk.CREATED_AT;case f.C0.TOUCHED_AT:return x.Lk.TOUCHED_AT;case f.C0.SEARCH_RELEVANCE:return x.Lk.RELEVANCY;default:return(0,l.KF)(!0,"Should not try to sort by any other key in search list view"),x.Lk.NAME}},ec=e=>{switch(e){case x.Lk.NAME:return f.C0.NAME;case x.Lk.CREATED_AT:return f.C0.CREATED_AT;case x.Lk.TOUCHED_AT:return f.C0.TOUCHED_AT;case x.Lk.RELEVANCY:return f.C0.SEARCH_RELEVANCE}};function e_(e){let t=(0,s.wA)(),r=(0,s.d4)(e=>e.search.parameters.sortState),n=(0,J.db)(),{Sprig:l}=(0,Y.A)(),[o,d]=i.useState(null);(0,$.Cm)(o??[]);let{showing:_,show:u,data:m}=(0,Q.L)(),h=i.useCallback((r,a,i)=>{r.type===ea.nb.FILE&&(t(er.yJ({file:ei.F.toSinatra(r.file)})),n(i,"key"in a&&"Enter"===a.key?c.vj.Query.ClickAction.ENTER:c.vj.Query.ClickAction.CLICK,e.results.find(e=>e.model.key===r.file.key))),(0,b.kc)().file_browser_sentiment_survey&&l("setAttribute","fb_file_opened",!0)},[t,e.results,n,l]),g=i.useCallback(e=>{let n=ed(e);if(!n)return;let a={...r,[x.uH.FILES]:{sortKey:n,sortDesc:r.files.sortKey!==n||!r.files.sortDesc}};t(p.qv({sortState:a}))},[t,r]),v=i.useMemo(()=>e.results.map(({model:e})=>(0,ea.fA)(e)),[e.results]),y=i.useCallback((e,t,r)=>{u({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[u]),j=(0,X.v)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee.d,{checksForViewOnlyLabels:e.checksForViewOnlyLabels,doNotFocusOnLoad:!0,handleOpenDropdown:y,handleOpenTile:h,interactiveThumbnailsEnabled:!!(0,b.kc)().scrub_file_browser_search_results,items:v,sortBy:g,sortConfig:{key:ec(r.files.sortKey),dir:r.files.sortDesc?f.ue.DESC:f.ue.ASC},updateVisibleItems:d,viewType:e.viewMode}),(0,a.jsx)(el.p,{featureFlag:"scrub_file_browser_search_results",children:(0,a.jsx)(et.b0,{})}),(()=>{let t=m?.tile??null,r=t?.type===ea.nb.FILE?v.findIndex(e=>e.file.key===t?.file.key):void 0,i=()=>{if(t&&void 0!==r){if(t.type===ea.nb.FILE){let a=e.results.find(e=>e.model.key===t.file.key);n(r,c.vj.Query.ClickAction.CONTEXT_CLICK,a)}(0,b.kc)().file_browser_sentiment_survey&&l("setAttribute","fb_file_opened",!0)}},s=t?[t]:[];return(0,a.jsx)(en.fu,{name:es.e0.TILES_VIEW_DROP_DOWN,enabled:_,properties:{tileType:t?.type,tileFileId:t?.type===ea.nb.FILE?t?.file.key:void 0},children:(0,a.jsx)(Z.i,{tileActions:eo,tile:t,selectedTiles:s,openTile:e=>{t&&(j(t,e),i())},dropdownVisible:_,trackSearchFn:i})})})()]})}var eu=r(681087);function em(e){let t=(0,s.d4)(e=>e.publishedPlugins),r=i.useMemo(()=>e.results.map(e=>t[e.model.id]??e.model),[e.results,t]);return(0,a.jsx)(eu.y,{plugins:r})}var ep=r(276800),eh=r(578726),ex=r(957867),ef=r(713606),eg=r(550444);let eb=e=>{switch(e){case eg.Dq.NAME:return x.mp.NAME;case eg.Dq.CREATED_AT:return x.mp.CREATED_AT;default:return(0,l.KF)(!0,"Should not try to sort by any other key in search list view"),x.mp.NAME}},ev=e=>{switch(e){case x.mp.NAME:return eg.Dq.NAME;case x.mp.CREATED_AT:return eg.Dq.CREATED_AT;default:return(0,l.KF)(!0,"Should not try to sort by any other key in search project list view"),eg.Dq.NAME}};function ey(e){let t=(0,s.wA)(),r=(0,s.d4)(e=>e.search.parameters.sortState),n=(0,s.d4)(e=>(0,eh.H)(e.dropdownShown)),l=e=>{let n=eb(e.sortKey);if(!n)return;let a={...r,[x.uH.PROJECTS]:{sortKey:n,sortDesc:r.projects.sortKey!==n||!r.projects.sortDesc}};t(p.qv({sortState:a}))},o=e.results.map(e=>({...e.model,files_last_touched_at:e.files_last_touched_at})),d=(0,J.hA)(),_=i.useCallback((t,r)=>{let n=r?"key"in r&&"Enter"===r.key?c.vj.Query.ClickAction.ENTER:c.vj.Query.ClickAction.CLICK:c.vj.Query.ClickAction.CONTEXT_CLICK,a=e.results.find(e=>e.model.id===t);d(o.findIndex(e=>e.id===t),n,a)},[o,e.results,d]),u=i.useCallback(()=>{n&&_(n.id,null)},[n,_]);return(0,a.jsx)(g.kq.Consumer,{children:t=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex.m,{onOpenFolder:(0,b.kc)().merge_project_context_menus?_:ep.lQ,folderList:o,onContextMenuOverride:e.viewMode===f.XU.GRID||(0,b.kc)().merge_project_context_menus?void 0:(r,n,a)=>{t.onContextMenuClick({data:e.results[a],index:a},n)},currentSortOverride:{field:ev(r.projects.sortKey),isDescending:r.projects.sortDesc},onChangeSortOptions:l,checksForViewOnlyLabels:e.checksForViewOnlyLabels,viewType:e.viewMode}),n&&(0,a.jsx)(ef.p,{folder:n,shouldHideShareOption:!1,trackSearchFolder:u})]})})}var ej=r(335331);function ew(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model,team_last_touched_at:e.files_last_touched_at,member_count:e.member_count})),[e.results]);return(0,a.jsx)(ej.w,{orgTeams:t,viewType:e.viewType})}var eT=r(120440),eC=r(511570),ek=r.n(eC),eE=r(236631),eI=r(142914),eA=r(558725),eS=r(195112),eN=r(703605),eR=r(503099),eO=(e=>(e.NAME="name",e.EMAIL="email",e))(eO||{});let eD=e=>{switch(e){case x.a7.NAME:return"name";case x.a7.EMAIL:return"email";default:return(0,l.KF)(!0,"Should not try to sort by any other key in search users list view"),"name"}},eF=e=>{switch(e){case"name":return x.a7.NAME;case"email":return x.a7.EMAIL;default:return(0,l.KF)(!0,"Should not try to sort by any other key in search list view"),x.a7.NAME}};var eM=r(219199),eL=r(647673),eP=r(50536),eB=r(506192),eU=r(278052),ez=r(346886);function eH(e){let{user:t,targetRect:r}=e.dropdownData,n=(0,s.wA)(),i=(0,eA.y)(),l=(0,eL.t)(t,t.org_id);if(!r)return null;let o=[];return o.push({displayText:(0,m.t)("general.open"),callback:(e,r,n,a)=>i(t,a)}),o.push({displayText:(0,m.t)("file_browser.open_in_new_tab"),callback:(e,t,r,n)=>eM.Ay.redirect(`${location.origin}`+l,"_blank")}),o.push(eU.w),o.push({displayText:(0,m.t)("file_browser.copy_link"),callback:()=>{n(eP.S({url:`${location.origin}`+l}))}}),(0,a.jsx)(ez.j,{dispatch:n,parentRect:r,rootAndSubmenuMinWidth:120,rootAndSubmenuMaxWidth:190,items:o,onSelectItem:(e,t)=>e.callback?.("",{},n,t),shouldUsePortal:!0,showPoint:!1})}let eW={field:eO.NAME,renderHeaderCell:()=>(0,m.t)("file_browser.user_list_view.header_name_column"),renderStaticRowCell:e=>(0,a.jsx)("div",{className:ek()("search_results_users_items_view--listName--5ONwa search_list_row--name--WpBVa search_list_row--_name--5gTc0 ellipsis--ellipsis--Tjyfa",eT.Ay.classNames(eG.rowPadding)),children:(0,a.jsx)(q.az,{entity:e,size:24},e.id)})},eq={field:eO.EMAIL,renderHeaderCell:()=>(0,m.t)("file_browser.user_list_view.header_email_column"),renderStaticRowCell:e=>(0,a.jsx)(eS.B,{truncate:!0,children:e.email})};function eV(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model,last_active_at:e.last_active_at})),[e.results]),{currentSort:r,sortBy:n}=function(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.search.parameters.sortState);return{currentSort:{field:eD(t.users.sortKey),isDescending:t.users.sortDesc},sortBy:r=>{let n=eF(r);if(!n)return;let a={...t,[x.uH.USERS]:{sortKey:n,sortDesc:t.users.sortKey!==n||!t.users.sortDesc}};e(p.qv({sortState:a}))}}}(),l=w.Ay.mobile||w.Ay.tablet,o=(0,s.d4)(e=>e.orgById),d=(0,eA.y)(),{showing:c,show:_,data:u}=function(){let e=i.useId();return(0,eB.BK)(`USER_DROPDOWN_${e}`)}(),h=i.useCallback((e,t,r)=>{1===e.length&&_({data:{user:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:r}})},[_]),f=i.useCallback(e=>{let t=e.org_id&&o[e.org_id];return(0,a.jsxs)("div",{className:"search_results_users_items_view--tileContainer--QZxVL",children:[(0,a.jsx)("div",{className:ek()(eE.s.flex.justifyEnd.pt12.pr12.minW32.minH32.$,"search_results_users_items_view--settingsButton--UFVFe"),children:(0,a.jsx)(P.C,{showSettingsIcon:l})}),(0,a.jsxs)("div",{className:ek()(eE.s.flex.flexColumn.cursorDefault.selectNone.itemsCenter.$,"search_results_users_items_view--tileContent--YoM64"),children:[(0,a.jsx)(eI.H8,{user:e,size:eI.Pf.XLARGE}),(0,a.jsx)("div",{className:ek()(eE.s.mt16.font13.$,"search_results_users_items_view--tileName--ffWxq search_results_users_items_view--gridEllipsis--ROrDw ellipsis--ellipsis--Tjyfa"),children:e.name||e.handle}),(0,a.jsx)("div",{className:ek()(eE.s.minH16.$,"search_results_users_items_view--email--KxUch search_results_users_items_view--gridEllipsis--ROrDw ellipsis--ellipsis--Tjyfa"),children:e.email}),(0,a.jsxs)("div",{className:ek()(eE.s.h36.py36.$,"search_results_users_items_view--lastActiveAt--DbBT1"),children:[t&&(0,a.jsxs)("div",{className:eE.s.flex.flexRow.itemsCenter.justifyCenter.mb4.$,children:[(0,a.jsx)(eR.H,{entityId:t.id,entityName:t.name,imgUrl:t.img_url,hideTooltip:!0}),t.name]}),e.last_active_at?(0,m.tx)("search.user_view.last_active",{relativeTimeString:(0,a.jsx)(L.h1,{date:e.last_active_at})}):(0,m.tx)("search.user_view.not_active_yet")]})]})]})},[o,l]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eN.A,{getAriaLabel:e=>e.handle,gridViewProps:{containerStyle:eG.gridPadding,tileBorderRadius:4,renderTile:f},handleContextMenu:h,handleOpenItem:d,isDraggable:!1,items:t,listViewProps:{columns:[eW,eq],currentSort:r,handleSortBy:n},multiselectDisabled:!0,updateRenderedItems:ep.lQ,viewType:e.viewMode}),c&&u&&(0,a.jsx)(eH,{dropdownData:u})]})}let eG={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0},rowPadding:{kLKAdn:"x1gskr33",kGO01o:"x1ihwiht",$$css:!0}};var eK=r(917359);function e$(e){let t=i.useMemo(()=>e.results.map(e=>({...e.model})),[e.results]);return(0,a.jsx)(eK.N,{widgets:t})}function eY(e){i.useEffect(()=>{y.az.trackDefinedEvent("search_experience.dead_code",{userId:j.Ay().user_data?.id,codeLocation:`SearchResult - type: ${e.searchResult.search_model_type} ${e.viewMode}`})},[e.searchResult.search_model_type,e.viewMode]);let t={showSettingsIcon:!1};switch((w.Ay.mobile||w.Ay.tablet)&&(t={showSettingsIcon:!0,onFileSettingsClick:T.j}),e.searchResult.search_model_type){case x.uH.TEAMS:return(0,a.jsx)(K,{searchResult:e.searchResult,viewMode:e.viewMode,setSelectedSearchResultId:e.setSelectedSearchResultId,selectedSearchResultId:e.selectedSearchResultId,settingsButtonProps:t});case x.uH.HUB_FILES:return(0,a.jsx)(S.q0,{searchResult:e.searchResult});case x.uH.PUBLIC_PROFILES:return(0,a.jsx)(N.g.SearchResult,{searchResult:e.searchResult,viewMode:e.viewMode});default:return(0,v.xb)(e.searchResult),null}}function eJ(e){let[t,r]=i.useState(void 0),n=(0,E.cD)(),l=(0,A.vt)(n),o=(0,I.jn)(),c=i.useMemo(()=>e.searchModelType===x.uH.TEAMS?e.searchResults.map(e=>({teamId:e.model.id})):[],[e.searchModelType,e.searchResults]),_=(0,d.p)(h.H5I,c,{enabled:e.searchModelType===x.uH.TEAMS}),u=(0,s.wA)();i.useEffect(()=>{if(e.searchModelType===x.uH.TEAMS){let t={};_.forEach(e=>{t[e.args.teamId]=e.result.data?.team.status==="loaded"&&!!e.result.data.team.data?.isOrphaned});let r=e.searchResults.map(e=>{let r=e.model;return{...r,orphaned:t[r.id]}});u(k.hZ({teams:r}))}},[u,e.searchResults,_,e.searchModelType]);let m=n?{teamId:n,isLockedTeam:l||o}:void 0;switch(e.searchModelType){case x.uH.FILES:return(0,a.jsx)(e_,{results:e.searchResults,viewMode:e.viewMode,checksForViewOnlyLabels:m});case x.uH.PROJECTS:return(0,a.jsx)(ey,{results:e.searchResults,checksForViewOnlyLabels:m,viewMode:e.viewMode});case x.uH.PUBLIC_PLUGINS:case x.uH.PRIVATE_PLUGINS:return(0,a.jsx)(em,{results:e.searchResults});case x.uH.PUBLIC_WIDGETS:case x.uH.PRIVATE_WIDGETS:return(0,a.jsx)(e$,{results:e.searchResults});default:if((e.viewMode===f.XU.GRID||(0,b.kc)().teams_list_view_search)&&e.searchModelType===x.uH.TEAMS)return(0,a.jsx)(ew,{results:e.searchResults,viewType:e.viewMode});if(e.searchModelType===x.uH.USERS)return(0,a.jsx)(eV,{results:e.searchResults,viewMode:e.viewMode});return(0,a.jsx)(a.Fragment,{children:e.searchResults.map((n,i)=>{let s="key"in n.model?n.model.key:n.model.id;return(0,a.jsx)(C.G,{category:e.searchModelType,searchResult:n,index:i,planFilter:e.planFilter,children:(0,a.jsx)(g.ro,{data:n,index:i,children:(0,a.jsx)(eY,{searchResult:n,viewMode:e.viewMode,selectedSearchResultId:t,setSelectedSearchResultId:r,checksForViewOnlyLabels:m},s)})},s)})})}}var eX=r(830853);let eQ="search_results_view--emptyStateStrongText--efqbm";var eZ=r(505145),e0=r(44395),e1=r(625002),e4=r(727585),e3=r(559361);let e2={[x.uH.HUB_FILES]:e0.A,[x.uH.PUBLIC_PLUGINS]:e1.A,[x.uH.PRIVATE_PLUGINS]:null,[x.uH.PUBLIC_PROFILES]:eZ.A,[x.uH.FILES]:null,[x.uH.PROJECTS]:null,[x.uH.TEAMS]:null,[x.uH.USERS]:null,[x.uH.PUBLIC_WIDGETS]:e4.A,[x.uH.PRIVATE_WIDGETS]:null},e5={[x.uH.PUBLIC_PROFILES]:"search_results_view--profilesList--9ZGjr"};class e7 extends i.Component{componentDidMount(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),c.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}componentDidUpdate(){!this.props.isLoading&&this.props.search.queryId!==this.props.search.lastAckedQueryId&&this.props.search.parameters.query.length>0&&(this.props.setSearchLastAckedQueryId(this.props.search.queryId),this.props.setLastLoadedQuery(this.props.search.sessionId,this.props.search.parameters.query,this.props.search.queryId),c.vj.Session.trackClientResult(this.props.search,this.props.selectedView))}renderContent(){let e;if(this.props.viewMode===f.XU.LIST)e=e5[this.props.searchModelType]??"search_results_view--list--ptCB2";else if(this.props.viewMode===f.XU.GRID)switch(this.props.searchModelType){case x.uH.PUBLIC_PROFILES:case x.uH.HUB_FILES:e="search_results_view--grid--OTLZ4"}else(0,l.xb)(this.props.viewMode);e+=this.props.isLoggedIn?" search_results_view--resultsContainerMarginLoggedIn--ae69j":"";let t=this.props.didSucceed&&0===this.props.searchResults.length;return(0,a.jsx)(_.x,{isLoading:this.props.isLoading,className:"search_results_view--loadingContainer--CEkG8",children:()=>this.props.didFail?(0,a.jsx)(e6,{illustration:e3.A,resourceTypeDisplayString:this.props.failureMessage||(0,m.t)("search.search_model_type.search_error"),searchModelType:this.props.searchModelType,query:null,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):t?(0,a.jsx)(e6,{illustration:e2[this.props.searchModelType],resourceTypeDisplayString:(0,x.hf)(this.props.searchModelType),searchModelType:this.props.searchModelType,query:this.props.query,activePlan:this.props.activePlan,activeWorkspaceFilter:this.props.activeWorkspaceFilter,onResetWorkspaceFilter:this.props.onResetWorkspaceFilter}):(0,a.jsx)("div",{className:"search_results_view--resultsContainer--DguQE",children:(0,a.jsx)("div",{className:e,children:(0,a.jsx)(eJ,{searchModelType:this.props.searchModelType,searchResults:this.props.searchResults,viewMode:this.props.viewMode,planFilter:this.props.planFilter})})})})}render(){let e=this.props.searchModelType===x.uH.FILES?void 0:this.props.viewMode===f.XU.LIST?"search_results_view--searchResultsViewList--w3RD5 search_results_view--searchResultsView---Ec4r":"search_results_view--searchResultsView---Ec4r";return(0,a.jsx)(g.Q0,{isDropdown:!1,...this.props,children:(0,a.jsx)("div",{className:e,children:this.renderContent()})})}}function e9(e){let t=(0,s.wA)(),r=(0,s.d4)(t=>(0,eX.zQ[e.searchModelType])(t.search.parameters,t.viewBarViewModeOptionByView).viewMode),n=(0,s.d4)(e=>!!e.user),l=(0,s.d4)(e=>e.search),o=(0,s.d4)(e=>e.search.parameters.workspaceFilter),d=(0,s.d4)(e=>e.search.parameters.planFilter),c=(0,s.d4)(e=>e.currentUserOrgId),_=(0,s.d4)(e=>e.selectedView),u=i.useCallback(()=>{t(p.HI({}))},[t]),m=i.useCallback(e=>{t(p.ej({lastAckedQueryId:e}))},[t]),h=i.useCallback((e,r,n)=>{t(p.w2({sessionId:e,query:r,queryId:n}))},[t]);return(0,a.jsx)(e7,{...e,activePlan:d,activeWorkspaceFilter:o,currentOrgId:c,isLoggedIn:n,onResetWorkspaceFilter:u,search:l,selectedView:_,setLastLoadedQuery:h,setSearchLastAckedQueryId:m,viewMode:r})}function e6(e){let{query:t,resourceTypeDisplayString:r}=e,n=(0,s.d4)(e=>e.currentUserOrgId),l="NON_ORG_TEAMS"!==e.activePlan&&e.activePlan||n,c=(0,d.bc)(h.N63,{orgId:l??null}),_=i.useMemo(()=>"loaded"===c.status?c.data?.org?.workspaces:[],[c]),p=_?.find(t=>null!=e.activeWorkspaceFilter&&t.id===e.activeWorkspaceFilter),x=e.onResetWorkspaceFilter,f=i.useMemo(()=>(0,a.jsxs)(a.Fragment,{children:[r,null!==t?(0,a.jsxs)(a.Fragment,{children:["\xa0",(0,a.jsx)("span",{className:eQ,children:t})]}):null,null!=p&&(0,a.jsxs)(a.Fragment,{children:[" in the ",(0,a.jsx)("span",{className:eQ,children:p.name})," workspace",(0,a.jsx)("br",{}),(0,a.jsx)(o.E,{className:"search_results_view--removeSearchFilterText--45h-M",onClick:()=>{x&&x()},"aria-label":(0,m.t)("search.empty_state.try_searching_whole_org"),children:(0,m.tx)("search.empty_state.try_searching_whole_org")})]})]}),[t,x,p,r]);return(0,a.jsxs)("div",{className:"search_results_view--emptyState--HtHm1 tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[e.illustration&&(0,a.jsx)(u.B,{className:"search_results_view--emptyStateIllustrations--CN9Y8",svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),(0,a.jsx)("div",{className:"search_results_view--emptyStateTextWrapper--zg-Cu",children:(0,a.jsx)("span",{className:"search_results_view--emptyStateText---YT8b ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",children:f})}),e.cta?(0,a.jsx)("div",{className:"search_results_view--inactiveScopeLink--nbSTw",children:e.cta}):null]})}e7.displayName="SearchResultView",e6.displayName="SearchResultEmptyState"},830853:(e,t,r)=>{r.d(t,{ZG:()=>eS,zQ:()=>eA});var n,a=r(104076),i=r(716976),s=r(237420),l=r(951002),o=r(684742),d=r(390579),c=r(795033),_=r(236631),u=r(917228),m=r(113985),p=r(705075),h=r(322530),x=r(328341),f=r(456877);function g(e){let{onChange:t}=e,r=f.fS[e.searchScope].modelTypes,[n,,s]=h.t.useTabs(r.reduce((e,t)=>(e[t]=!0,e),{}),{defaultActive:e.searchModelType});i.useEffect(()=>{t(s.activeTab)},[s.activeTab,t]);let l=(0,x.ZC)(e.searchModelType);return i.useEffect(()=>{l&&l!==e.searchModelType&&s.activeTab!==e.searchModelType&&s.setActiveTab(e.searchModelType)},[e.searchModelType,l,s]),(0,a.jsx)("div",{className:"search_model_toggle--tabsRedesign--dUZl9",children:(0,a.jsx)(h.t.TabStrip,{manager:s,children:r.map(e=>(0,i.createElement)(h.t.Tab,{...n[e],key:e},(0,f.q6)(e)))})})}var b=r(147046),v=r(671032),y=r(506192),j=r(842433),w=r(856474),T=r(993151),C=r(722122),k=r(366701),E=r(123941),I=r(948799),A=r(901014),S=r(652539),N=r(192075),R=r(730347);let O="relevancy_dropdown_options--row--yLM2h",D="relevancy_dropdown_options--heading--4-NnX relevancy_dropdown_options--row--yLM2h",F="relevancy_dropdown_options--icon--ULRw8";var M=r(824007);function L({checkedValue:e,currentDirection:t,dirValuesToDisplayText:r,tileSortValues:n,values:l,valuesToDisplayText:o,onChange:d}){let _=(0,s.wA)(),u=(0,c.md)(I.R9),m=i.useCallback((t,r,n)=>{t.stopPropagation(),_(b.oB()),(0,A.sx)("Sort Changed - Dropdown",{oldValueString:e,newValueString:r,model:u,dir:n===j.ue.ASC?"asc":n===j.ue.DESC?"desc":void 0}),d?.(r,n)},[e,_,d,u]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:D,children:(0,N.tx)("tile.sort_filter.sort_by_label")}),l.map(t=>(0,a.jsxs)("div",{className:O,onMouseDown:e=>{m(e,t)},role:"button",tabIndex:-1,children:[o[t],e===t&&(0,a.jsx)(S.B,{svg:M.A,className:F})]},t)),n.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relevancy_dropdown_options--separator--3yf35"}),(0,a.jsx)("div",{className:D,children:(0,N.tx)("tile.sort_filter.order_label")})]}),n.map((n,i)=>(0,a.jsxs)("div",{className:O,onMouseDown:t=>m(t,e,n),role:"button",tabIndex:-1,children:[r(n,(0,R.E)(e)),t===n&&(0,a.jsx)(S.B,{svg:M.A,className:F})]},i))]})}var P=r(84852),B=r(511570),U=r.n(B),z=r(449572),H=r(59849),W=r(299117),q=r(653899),V=r(422872),G=r(987224),K=r(235711),$=r(143277),Y=r(61102),J=r(441030);let X="seen_search_workspace_onboarding",Q="SEARCH_WORKSPACE_ONBOARDING_KEY",Z=(0,K.r1)("file_browser_onboarded"),ee=(0,K.r1)(X);function et(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,G.UC)(e),r=(0,c.md)(t),n=(0,c.md)(Z),i=(0,c.md)(ee),l=(0,V.e)({overlay:J.tBR,priority:$.N.DEFAULT_MODAL},[n,r,i]);return(0,q.h)(()=>{l.show({canShow:(e,t,r)=>e&&t&&!r})}),(0,a.jsx)(Y.rq,{isShowing:l.isShowing,trackingContextName:"Search Workspace Onboarding",userFlagOnShow:X,onClose:l.complete,targetKey:Q,title:(0,N.tx)("rcs.search_workspace_onboarding_modal.title"),description:(0,a.jsx)("p",{children:(0,N.tx)("rcs.search_workspace_onboarding_modal.text")}),emphasized:!0})}let er="workspace_dropdown_filters--row--HUwI-",en="workspace_dropdown_filters--icon--cqrra";function ea({values:e,valuesToDisplayText:t,checkedValue:r,onResetFilter:n,onChange:l}){let o=(0,s.wA)(),d=i.useCallback(e=>{e.stopPropagation(),o(b.oB())},[o]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"workspace_dropdown_filters--heading--zYZzJ workspace_dropdown_filters--row--HUwI-",children:(0,N.tx)("search.facets.workspaces")}),(0,a.jsxs)("div",{className:er,onMouseDown:e=>{d(e),n()},role:"button",tabIndex:-1,children:[t.ALL,"ALL"===r&&(0,a.jsx)(S.B,{svg:M.A,className:en})]},"ALL"),e.map(e=>(0,a.jsxs)("div",{className:er,onMouseDown:t=>{d(t),l?.(e)},role:"button",tabIndex:-1,children:[t[e],r===e&&(0,a.jsx)(S.B,{svg:M.A,className:en})]},e))]})}var ei=r(575388),es=r(154709);let el={},eo=(e,t)=>{let r=e.name.toUpperCase(),n=t.name.toUpperCase();return r<n?-1:r>n?1:0};function ed(e){let t=(0,s.d4)(e=>e.currentUserOrgId),r="NON_ORG_TEAMS"!==e.planId&&e.planId||t,n=(0,z.bc)(H.N63,{orgId:r}),{currentWorkspace:l,viewableWorkspaces:o}=i.useMemo(()=>{if("loaded"===n.status){let e=n.data?.org?.workspaces,t=e?.filter(e=>e.canView),r=n.data?.currentUser.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspaceId;return{currentWorkspace:t?.find(e=>e.id===r),viewableWorkspaces:t}}return{currentWorkspace:null,viewableWorkspaces:[]}},[n]),d=(0,s.d4)(e=>e.orgById[r]);el.ALL=(0,N.t)("search.search_filter.all_org_results",{orgName:d?.name});let _=[],u=(0,c.md)(T.P_);return i.useMemo(()=>u&&!u.value[f.qy.FOLDER].length&&!u.value[f.qy.TEAM].length&&1===u.value[f.qy.ORG].length,[u])&&e.planId&&"NON_ORG_TEAMS"!==e.planId&&o?.length?(l&&_.push(l.id),o?.sort(eo).forEach(e=>{e.id!==l?.id&&_.push(e.id),el[e.id]=e.name}),(0,a.jsxs)("div",{"data-onboarding-key":Q,children:[(0,a.jsx)(ec,{dropdownId:"search-dropdown-group-filter",sortControlsDisabled:e.sortControlsDisabled,values:_,checkedValue:e.workspaceFilter??"ALL",onChange:e.onChangeWorkspaceFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetWorkspaceFilter}),(0,a.jsx)(W.p,{children:(0,a.jsx)(et,{})})]})):(0,a.jsx)(a.Fragment,{})}function ec(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),n=(0,s.d4)(e=>e.dropdownShown),l=n?.type===e.dropdownId,o=e=>{e.stopPropagation()};return(0,a.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?ei.b6:ei.P2,onMouseDown:n=>{l?(t(b.oB()),e.onClickDropdown(f.tC.CLOSE)):r.current&&(t(b.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),e.onClickDropdown(f.tC.OPEN)),o(n)},onClick:o,children:[(0,a.jsx)("span",{children:el[e.checkedValue]}),(0,a.jsx)("div",{className:ei.dN,ref:r,children:(0,a.jsx)(S.B,{svg:es.A,className:U()(ei.OW,l?ei.iw:"")})}),l&&(0,a.jsx)(P.G,{dropdownId:e.dropdownId,dropdownChild:(0,a.jsx)(ea,{values:e.values,valuesToDisplayText:el,checkedValue:e.checkedValue,onResetFilter:e.onResetFilter,onChange:e.onChange})})]})}var e_=r(89004),eu=r(541240),em=r(362534),ep=r(387973),eh=r(99723),ex=r(665261),ef=r(731083),eg=r(592726),eb=r(215853);let ev=ex.wv,ey="NON_ORG_TEAMS",ej={};function ew(e){let t=(0,eg.iZ)(),r=(0,s.d4)(e=>t?e.authedUsers.byId[t.id]?.plans:null);if(r&&0===r.length)return(0,a.jsx)(a.Fragment,{});let n=[];ej.ALL=(0,N.t)("search.search_filter.all_organizations_results");let i=!1;return r?.forEach(e=>{e.is_org?(n.push(e.plan_id),ej[e.plan_id]=e.name):i=!0}),i&&(n.push(ey),ej[ey]=(0,N.t)("search.search_filter.non_org_teams")),(0,a.jsx)(eT,{dropdownId:"search-dropdown-plan-filter",sortControlsDisabled:e.sortControlsDisabled,values:n,checkedValue:e.planFilter??"ALL",onChange:e.onChangePlanFilter,onClickDropdown:e.onClickDropdown,onResetFilter:e.onResetPlanFilter})}function eT(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),n=(0,s.d4)(e=>e.dropdownShown),l=n?.type===e.dropdownId,[o,d]=i.useState(window.innerHeight-175);i.useEffect(()=>{let e=(0,eh.s)(function(){d(window.innerHeight-175)},250);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=e=>{e.stopPropagation()},_=()=>{l&&t(b.oB())};return(0,a.jsxs)("div",{className:e.sortControlsDisabled&&"ALL"===e.checkedValue?ei.b6:ei.P2,onMouseDown:n=>{l?(t(b.oB()),e.onClickDropdown(f.tC.CLOSE)):r.current&&(t(b.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),e.onClickDropdown(f.tC.OPEN)),c(n)},onClick:c,children:[e.checkedValue&&"ALL"!==e.checkedValue&&e.checkedValue!==ey&&(0,a.jsx)(ef.lV,{planOption:{label:ej[e.checkedValue],plan_id:e.checkedValue,plan_type:"org"}}),(0,a.jsx)("span",{ref:r,children:ej[e.checkedValue]}),(0,a.jsx)("div",{className:ei.dN,children:(0,a.jsx)(S.B,{svg:es.A,className:U()(ei.OW,l?ei.iw:"")})}),l&&(0,a.jsxs)(eb.Cf,{targetRect:n.data.targetRect,minWidth:162,maxWidth:500,maxHeight:o,showPoint:!0,lean:"right",propagateCloseClick:!0,children:[(0,a.jsx)(ex.MM,{checked:"ALL"===e.checkedValue,onClick:()=>{_(),e.onResetFilter()},children:ej.ALL},"ALL"),(0,a.jsx)(ev,{}),e.values.map(t=>(0,a.jsx)(ex.MM,{checked:t===e.checkedValue,onClick:()=>{_(),e.onChange(t)},children:ej[t]&&ej[t]},t))]})]})}var eC=r(769649),ek=r(140174);(e=>{class t extends i.Component{constructor(){super(...arguments),this.onChange=(e,t)=>{let r={...this.props.sortState,[this.props.searchModelType]:{sortKey:e,sortDesc:void 0===t?e===f.Lk.TOUCHED_AT||e===f.Lk.CREATED_AT:t===j.ue.DESC}};this.props.onChange(r)}}render(){let e=`search-sort-${this.props.searchModelType}`,t=this.props.sortState[this.props.searchModelType],r={includeSortDirection:!1};return this.props.includeSortDirection(t.sortKey)&&(r={includeSortDirection:!0,tileSortValues:ef.R1.sortOptions,currentDirection:t.sortDesc?j.ue.DESC:j.ue.ASC}),(0,a.jsx)(eN,{dropdownId:e,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[this.props.viewMode],checkedValue:t.sortKey,onChange:this.onChange,disabled:this.props.disabled,...r})}}e.SearchSortDropdown=function(e){switch(e.searchModelType){case f.uH.HUB_FILES:return(0,a.jsx)(t,{...e,...p.xH});case f.uH.PUBLIC_PLUGINS:return(0,a.jsx)(t,{...e,...eu.x});case f.uH.PRIVATE_PLUGINS:return(0,a.jsx)(t,{...e,...e_.x});case f.uH.FILES:return(0,a.jsx)(t,{...e,...u.KJ});case f.uH.PROJECTS:return(0,a.jsx)(t,{...e,...u.$T});case f.uH.TEAMS:return(0,a.jsx)(t,{...e,...u.Vx});case f.uH.USERS:return(0,a.jsx)(t,{...e,...u.V0});case f.uH.PUBLIC_PROFILES:case f.uH.PUBLIC_WIDGETS:case f.uH.PRIVATE_WIDGETS:return null;default:(0,l.xb)(e.searchModelType)}}})(n||(n={}));let eE=n.SearchSortDropdown;function eI(e){switch(e.searchModelType){case f.uH.FILES:return(0,a.jsx)(ek.Kc,{...e,...u.KJ});case f.uH.PROJECTS:return(0,a.jsx)(ek.Kc,{...e,...u.$T});case f.uH.TEAMS:return(0,a.jsx)(ek.Kc,{...e,...u.Vx});case f.uH.USERS:return(0,a.jsx)(ek.Kc,{...e,...u.V0});case f.uH.HUB_FILES:case f.uH.PUBLIC_PLUGINS:case f.uH.PRIVATE_PLUGINS:case f.uH.PUBLIC_PROFILES:case f.uH.PUBLIC_WIDGETS:case f.uH.PRIVATE_WIDGETS:return null;default:return(0,l.xb)(e.searchModelType)}}let eA={[f.uH.FILES]:(e,t)=>({sortMode:e.sortState.files,viewMode:(0,w.y2)(u.KJ.viewId,t,u.KJ.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[f.uH.PROJECTS]:(e,t)=>({sortMode:e.sortState.projects,viewMode:(0,w.y2)(u.$T.viewId,t,u.$T.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[f.uH.TEAMS]:(e,t)=>({sortMode:e.sortState.teams,viewMode:(0,w.y2)(u.Vx.viewId,t,u.Vx.defaultOptions.viewMode),shouldShowGroupFilter:!0,shouldShowPlanFilter:!0}),[f.uH.USERS]:(e,t)=>({sortMode:e.sortState.users,viewMode:(0,w.y2)(u.V0.viewId,t,u.V0.defaultOptions.viewMode),shouldShowGroupFilter:!1,shouldShowPlanFilter:!0}),[f.uH.HUB_FILES]:p.eB,[f.uH.PUBLIC_PLUGINS]:eu.z,[f.uH.PRIVATE_PLUGINS]:e_.z,[f.uH.PUBLIC_PROFILES]:em.g.getValidOptions,[f.uH.PUBLIC_WIDGETS]:ep.n.getValidOptions,[f.uH.PRIVATE_WIDGETS]:ep.u.getValidOptions};function eS(e){let t=(0,s.wA)(),r=(0,s.d4)(e=>e.search.parameters),n=(0,s.d4)(e=>e.viewBarViewModeOptionByView),[l,o]=(0,c.fp)(I.R9),d=(0,c.md)(T.P_),u=(0,c.md)(T.J),p=l??f.uH.FILES,h=(0,k.r4)(p),x=h.includes(f.WY.RESOURCE),b=h.includes(f.WY.CREATOR),y=h.includes(f.WY.SPACE),j=y&&(p===f.uH.FILES||p===f.uH.PROJECTS||p===f.uH.TEAMS),w=(0,eA[p])(r,n),A=w.viewMode,S=!y&&(w.shouldShowPlanFilter??!1),N=(0,c.md)(m.hO.isFragmentSearchAtom),R=(0,c.md)(I.sC),O=(0,E.L)(N?"fragment_search_modal":"file_browser",R,!1),D=(0,c.md)(I.Q8),F=(0,c.Xr)((0,T.l4)(f.WY.RESOURCE)),M=i.useCallback(e=>{if(e===p)return;let r=(0,f.Wr)(e),n=(0,k.jN)(r);F(n),o(e);let a=(0,k.r4)(e).includes(f.WY.CREATOR),i=(0,k.r4)(e).includes(f.WY.SPACE);(n?.value===f.$L.PLUGINS||n?.value===f.$L.WIDGETS)&&t(v.HI({}));let s=(0,k.nX)(n,a?u:null,i?d:null,e);O(D,e,s,!0,!0,!1),window.scrollTo(0,0)},[p,t,u,d,O,D,F,o]),L=e=>{t(v.vj({clickType:e}))},P=(0,a.jsx)(eE,{viewMode:A,searchModelType:p,sortState:r.sortState,onChange:e=>{t(v.qv({sortState:e}))},disabled:e.sortControlsDisabled},"search-view-bar-search-sort-dropdown"),B=(0,a.jsx)("div",{className:_.s.flex.itemsCenter.mlAuto.$,children:(0,a.jsx)(eI,{searchModelType:p,disabled:e.sortControlsDisabled})},"search-view-bar-search-view-mode-toggle"),U=S&&(0,a.jsx)("div",{children:(0,a.jsx)(ew,{sortControlsDisabled:e.sortControlsDisabled,planFilter:r.planFilter,onChangePlanFilter:e=>{t(v.c3({planFilter:e}))},onClickDropdown:L,onResetPlanFilter:()=>{t(v.tw({}))}},"search-view-bar-search-plan-filter-dropdown")}),z=x&&(0,a.jsx)(C.l,{dropdownId:"full-search-results-resource-facet-dropdown",facetType:f.WY.RESOURCE},"search-view-bar-file-type-dropdown"),H=b&&(0,a.jsx)(C.l,{dropdownId:"full-search-results-creator-facet-dropdown",facetType:f.WY.CREATOR},"search-view-bar-creator-facet-dropdown"),W=y&&(0,a.jsx)(C.l,{dropdownId:"full-search-results-space-facet-dropdown",facetType:f.WY.SPACE},"search-view-bar-space-facet-dropdown"),q=d&&1===d.value[f.qy.ORG].length?d.value[f.qy.ORG][0].id:void 0,V=[U,z,H,W,j&&(0,a.jsx)(ed,{sortControlsDisabled:e.sortControlsDisabled,workspaceFilter:r.workspaceFilter,onChangeWorkspaceFilter:e=>{t(v.MB({workspaceFilter:e}))},onClickDropdown:L,onResetWorkspaceFilter:()=>{t(v.HI({}))},planId:q},"search-view-bar-facet-workspace-dropdown"),P,B];return(0,a.jsx)(eC.f,{leftSide:(0,a.jsx)(g,{searchScope:r.searchScope,searchModelType:p,onChange:M}),rightSide:V,rightSideMobile:V,shouldStackRightSideMobile:!0})}function eN(e){let t=(0,s.wA)(),r=(0,i.useRef)(null),n=(0,y.Um)(),l=n?.type===e.dropdownId,c=n=>{n.stopPropagation(),l?t(b.oB()):r.current&&t(b.j7({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}}))},_=e.disabled?ei.b6:ei.P2,u=(0,a.jsx)(P.G,{dropdownId:e.dropdownId,dropdownChild:(0,a.jsx)(L,{checkedValue:e.checkedValue,currentDirection:e.includeSortDirection?e.currentDirection:null,tileSortValues:e.includeSortDirection?e.tileSortValues:[],dirValuesToDisplayText:ef.R1.sortOptionsDisplayText,values:e.values,valuesToDisplayText:e.valuesToDisplayText,onChange:e.onChange})});return(0,a.jsxs)("div",{className:_,children:[(0,a.jsxs)(o.E,{onClick:e=>{c(e)},"aria-expanded":l,children:[(0,a.jsx)("span",{ref:r,children:e.valuesToDisplayText[e.checkedValue]}),(0,a.jsx)(d.O,{})]}),l?u:null]})}},731083:(e,t,r)=>{r.d(t,{FU:()=>D,KH:()=>S,R1:()=>E,gr:()=>A,lI:()=>O,lV:()=>k,mc:()=>M,qD:()=>C,ve:()=>R,ye:()=>N});var n=r(104076),a=r(716976),i=r(237420),s=r(951002);if(443==r.j)var l=r(302727);if(443==r.j)var o=r(144949);if(443==r.j)var d=r(307829);if(443==r.j)var c=r(550012);if(443==r.j)var _=r(390579);var u=r(901014),m=r(236631),p=r(192075),h=r(142914);if(443==r.j)var x=r(799303);if(443==r.j)var f=r(607804);var g=r(249586),b=r(141524),v=r(842433),y=r(503099);if(443==r.j)var j=r(127082);if(443==r.j)var w=r(167151);var T=r(730347);function C(e){let t=(0,b.wW)(e.userId).user;return(0,n.jsx)("div",{className:m.s.mr4.flex.itemsCenter.$,children:t&&(0,n.jsx)(h.H8,{user:t,size:14})})}function k(e){let t=(0,i.d4)(e=>e.teams),r=(0,i.d4)(e=>e.orgById);if(!e.planOption?.plan_id)return null;let a="org"===e.planOption.plan_type&&e.planOption.plan_id?r[e.planOption.plan_id]?.img_url:t[e.planOption.plan_id]?.img_url;return(0,n.jsx)("div",{className:m.s.flex.itemsCenter.$,children:(0,n.jsx)(y.H,{entityId:e.planOption.plan_id,entityName:e.planOption.label,imgUrl:a})})}let E={sortOptions:[v.ue.ASC,v.ue.DESC],sortOptionsDisplayText:(e,t)=>{switch(e){case v.ue.ASC:switch(t){case v.rR.TIME:return(0,p.t)("tile.sort_filter.sort_direction_oldest_first");case v.rR.ALPHABETICAL:return(0,p.t)("tile.sort_filter.sort_direction_a_to_z");default:return(0,p.t)("tile.sort_filter.sort_direction_ascending")}case v.ue.DESC:switch(t){case v.rR.TIME:return(0,p.t)("tile.sort_filter.sort_direction_newest_first");case v.rR.ALPHABETICAL:return(0,p.t)("tile.sort_filter.sort_direction_z_to_a");default:return(0,p.t)("tile.sort_filter.sort_direction_descending")}default:(0,s.xb)(e)}}};function I(e){let t=e.checkedValue.toString(),r=(t,r)=>{let n=e.filterOptions.find(e=>e.toString()===t);void 0!==n&&e.onChange(n,r)};return(0,n.jsxs)(l.Root,{value:t,onChange:e=>r(e??""),children:[(0,n.jsx)(o.v.SelectTrigger,{selected:"0"!==t&&""!==t,children:(0,n.jsx)("span",{children:e.filterDisplayText[e.checkedValue]})}),(0,n.jsx)(l.Container,{children:e.filterOptions.map(t=>(0,n.jsx)(l.Option,{value:t.toString(),children:e.filterDisplayText[t]},t))})]})}function A(e){return(0,n.jsx)(I,{filterOptions:[v.rJ.ANY,v.rJ.SELF,v.rJ.OTHER],filterDisplayText:{[v.rJ.ANY]:(0,p.tx)("tile.sort_filter.created_by_anyone"),[v.rJ.SELF]:(0,p.tx)("tile.sort_filter.created_by_you"),[v.rJ.OTHER]:(0,p.tx)("tile.sort_filter.created_by_others")},checkedValue:e.options.tileSortFilterConfig.filters.creator,onChange:t=>{let r=e.options.tileSortFilterConfig,n={...r,filters:{...r.filters,creator:t}};e.dispatch(x.JF({selectedView:e.selectedView,config:n})),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"creator",filterValue:t.toString(),previousFilterValue:r.filters.creator?.toString()??"",page:e.selectedView.view})}})}function S(e){return(0,n.jsx)(I,{filterOptions:[v.Jh.CAN_BE_RESTORED_DELETED,v.Jh.CAN_BE_VIEWED],filterDisplayText:{[v.Jh.CAN_BE_RESTORED_DELETED]:(0,p.tx)("tile.sort_filter.can_be_restored_permanently_deleted"),[v.Jh.CAN_BE_VIEWED]:(0,p.tx)("tile.sort_filter.can_be_viewed")},checkedValue:e.options.tileSortFilterConfig.filters.role??v.Jh.CAN_BE_RESTORED_DELETED,onChange:t=>{let r=e.options.tileSortFilterConfig,n={...r,filters:{...r.filters,role:t}};e.dispatch(x.JF({selectedView:e.selectedView,config:n})),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"role",filterValue:(0,v.xp)(t),previousFilterValue:(0,v.xp)(r.filters.role)??"",page:e.selectedView.view})}})}function N(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),a=(0,w.oz)(),s=(0,f.HH)(),l=(0,j.aI)(),o="recentsAndSharing"===r.view,d=[v.t2.ANY,v.t2.DESIGN,v.t2.FIGJAM,v.t2.SLIDES];d=s?d.concat([v.t2.COOPER]):d,d=a?d.concat([v.t2.SITES]):d,d=l?d.concat([v.t2.MAKE]):d,d=o?d.concat([v.t2.PROTOTYPE]):d;let c={[v.t2.ANY]:(0,p.tx)("tile.sort_filter.filter_by_all_files"),[v.t2.DESIGN]:(0,p.tx)("tile.sort_filter.filter_by_design_files"),[v.t2.FIGJAM]:(0,p.tx)("tile.sort_filter.filter_by_figjam_files"),[v.t2.PROTOTYPE]:(0,p.tx)("tile.sort_filter.filter_by_prototype_files"),[v.t2.SITES]:(0,p.tx)("tile.sort_filter.filter_by_sites_files"),[v.t2.SLIDES]:(0,p.tx)("tile.sort_filter.filter_by_slides_files"),[v.t2.COOPER]:(0,p.tx)("tile.sort_filter.filter_by_buzz_files"),[v.t2.MAKE]:(0,p.tx)("tile.sort_filter.filter_by_make_files")};return(0,n.jsx)(I,{filterOptions:d,filterDisplayText:c,checkedValue:e.config.filters.fileType,onChange:n=>{let a={...e.config,filters:{...e.config.filters,fileType:n}};t(x.JF({selectedView:r,config:a,tab:e.tab})),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"fileType",filterValue:(0,v.kf)(n??v.t2.ANY),previousFilterValue:(0,v.kf)(e.config.filters.fileType),page:r.view})}})}function R(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),a=Object.values(v.oc),s={[v.oc.ALL]:(0,p.t)("shared_with_you.filters.shared_with.all"),[v.oc.USER]:(0,p.t)("shared_with_you.filters.shared_with.you_directly"),[v.oc.USER_GROUP]:(0,p.t)("shared_with_you.filters.shared_with.your_user_groups")},l=e.userGroupIdFilterOptions??{},u=Object.keys(l),m=e.config.filters.sharedWith??v.oc.ALL,h=e.config.filters.sharedWithUserGroupIdFilter,f=n=>{let a={...e.config,filters:{...e.config.filters,sharedWith:n,sharedWithUserGroupIdFilter:n===v.oc.USER_GROUP?e.config.filters.sharedWithUserGroupIdFilter:void 0}};t(x.JF({selectedView:r,config:a,tab:e.tab}))},g=n=>{let a={...e.config,filters:{...e.config.filters,sharedWithUserGroupIdFilter:n}};t(x.JF({selectedView:r,config:a,tab:e.tab}))},{getTriggerProps:b,manager:y}=d.b(),j=m!==v.oc.ALL||void 0!==h;return(0,n.jsxs)(d.bL,{manager:y,children:[(0,n.jsx)(o.v,{trailing:(0,n.jsx)(_.O,{}),selected:j,...b(),children:(0,n.jsx)("span",{children:(()=>{if(h&&l[h])return`${(0,p.t)("shared_with_you.filters.shared_with.label")}: ${l[h]}`;switch(m){case v.oc.ALL:return(0,p.t)("shared_with_you.filters.shared_with.all");case v.oc.USER:return`${(0,p.t)("shared_with_you.filters.shared_with.label")}: ${(0,p.t)("shared_with_you.filters.shared_with.you_directly")}`;case v.oc.USER_GROUP:return`${(0,p.t)("shared_with_you.filters.shared_with.label")}: ${(0,p.t)("shared_with_you.filters.shared_with.your_user_groups")}`;default:return(0,p.t)("shared_with_you.filters.shared_with.all")}})()})}),(0,n.jsxs)(d.mc,{children:[(0,n.jsx)(d.YJ,{title:(0,n.jsx)(d.hE,{children:(0,p.tx)("shared_with_you.filters.shared_with.label")}),children:a.map(e=>(0,n.jsx)(c.H_,{onChange:()=>f(e),checked:e===m,children:s[e]},`shared-with-${e}`))},"shared-with-filter"),u.length>0&&m===v.oc.USER_GROUP&&(0,n.jsxs)(d.YJ,{title:(0,n.jsx)(d.hE,{children:(0,p.tx)("shared_with_you.filters.user_group.label")}),children:[(0,n.jsx)(c.H_,{onChange:()=>g(void 0),checked:void 0===h,children:(0,p.t)("shared_with_you.filters.user_group.all")},"user-group-all"),u.map(e=>(0,n.jsx)(c.H_,{onChange:()=>g(e),checked:e===h,children:l[e]},`user-group-${e}`))]},"user-group-filter")]})]})}function O(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView);return(0,n.jsx)(I,{checkedValue:e.config.filters.sharedBy??"",onChange:n=>{let a={...e.config,filters:{...e.config.filters,sharedBy:n}},i="recentsAndSharing"===r.view?r.tab:r.view;(0,g.nX)(n,i),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"sharedBy",filterValue:n,previousFilterValue:e.config.filters.sharedBy??"anyone",page:i}),t(x.JF({selectedView:r,config:a,tab:e.tab}))},filterOptions:Object.keys(e.filterOptions),filterDisplayText:e.filterOptions})}function D(e){let t=(0,i.wA)(),r=(0,i.d4)(e=>e.selectedView),s=a.useMemo(()=>{let t={};return Object.entries(e.filterOptions).forEach(([e,r])=>{t[e]=r.label}),t},[e.filterOptions]),l=e.config.filters.plan?.planId??"";return a.useEffect(()=>{let n=e.config.filters.plan?.planId;if(n&&!s[n]){let n={...e.config,filters:{...e.config.filters,plan:{planId:void 0,planType:void 0}}};t(x.JF({selectedView:r,config:n,tab:e.tab}))}},[e.config,e.tab,t,r,s]),(0,n.jsx)(I,{checkedValue:l,onChange:n=>{let a=e.filterOptions[n];if(!a)return;let{plan_id:i,plan_type:s}=a,o={...e.config,filters:{...e.config.filters,plan:{planId:i,planType:s}}},d="recentsAndSharing"===r.view?r.tab:r.view;(0,g.FE)(i,d,s),t(x.JF({selectedView:r,config:o,tab:e.tab})),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:"plan",filterValue:i??"all_plans",previousFilterValue:l??"all_plans",page:d})},filterOptions:Object.keys(e.filterOptions),filterDisplayText:s})}let F={[v.C0.NAME]:v.ue.ASC,[v.C0.CREATED_AT]:v.ue.DESC,[v.C0.TOUCHED_AT]:v.ue.DESC,[v.C0.TRASHED_AT]:v.ue.DESC,[v.C0.PROJECT_NAME]:v.ue.ASC,[v.C0.ACCESSED_AT]:v.ue.DESC,[v.C0.SHARED_AT]:v.ue.DESC,[v.C0.SEARCH_RELEVANCE]:v.ue.DESC};function M(e){let{options:t,selectedView:r,tab:i,dispatch:s}=e,l=e=>F[e]??v.ue.ASC,m=a.useCallback((e,n)=>{let a=t.tileSortFilterConfig,o=void 0===n?l(e):n,d={...a,sort:{key:e,dir:o}};s(x.JF({selectedView:r,config:d,tab:i})),u.az.trackDefinedEvent("file_browser.filter_sort_updated",{filterType:void 0===n?"sortKey":"sortDir",sortKey:(0,v._5)(e),sortDir:(0,v.GB)(o),previousSortKey:(0,v._5)(a.sort.key),previousSortDir:(0,v.GB)(a.sort.dir),page:r.view})},[t.tileSortFilterConfig,r,i,s]);a.useEffect(()=>{t.sortKeys.some(e=>e===t.tileSortFilterConfig.sort.key)||m(t.sortKeys[t.sortKeys.length-1],t.tileSortFilterConfig.sort.dir)},[t.sortKeys,t.tileSortFilterConfig.sort.key,t.tileSortFilterConfig.sort.dir,m]);let h={[v.C0.CREATED_AT]:(0,p.tx)("tile.sort_filter.sort_date_created"),[v.C0.TOUCHED_AT]:(0,p.tx)("tile.sort_filter.sort_last_modified"),[v.C0.ACCESSED_AT]:(0,p.tx)("tile.sort_filter.sort_last_viewed"),[v.C0.NAME]:(0,p.tx)("tile.sort_filter.sort_alphabetical"),[v.C0.TRASHED_AT]:(0,p.tx)("tile.sort_filter.sort_date_trashed"),[v.C0.SHARED_AT]:(0,p.tx)("tile.sort_filter.date_shared"),[v.C0.SEARCH_RELEVANCE]:(0,p.tx)("tile.sort_filter.trending"),[v.C0.PROJECT_NAME]:(0,p.tx)("tile.sort_filter.team")},{getTriggerProps:f,manager:g}=d.b();return(0,n.jsxs)(d.bL,{manager:g,children:[(0,n.jsx)(o.v,{trailing:(0,n.jsx)(_.O,{}),...f(),children:(0,n.jsx)("span",{children:h[t.tileSortFilterConfig.sort.key]})}),(0,n.jsxs)(d.mc,{children:[t.sortKeys.length>1&&(0,n.jsx)(d.YJ,{title:(0,n.jsx)(d.hE,{children:(0,p.t)("tile.sort_filter.sort_by_label")}),children:t.sortKeys.map(e=>(0,n.jsx)(c.H_,{onChange:()=>m(e),checked:e===t.tileSortFilterConfig.sort.key,children:h[e]},`sort-filter-label-${e}`))},"sort-filter-label"),(0,n.jsx)(d.YJ,{title:(0,n.jsx)(d.hE,{children:(0,p.t)("tile.sort_filter.order_label")}),children:E.sortOptions.map((e,r)=>(0,n.jsx)(c.H_,{onChange:()=>m(t.tileSortFilterConfig.sort.key,e),checked:e===t.tileSortFilterConfig.sort.dir,children:E.sortOptionsDisplayText(e,(0,T.E)(t.tileSortFilterConfig.sort.key))},`sort-option-label-${r}`))},"sort-option-label")]})]})}},730347:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(638004),a=r(550209),i=r(550444),s=r(456877),l=r(842433);function o(e){switch(e){case l.C0.ACCESSED_AT:case l.C0.CREATED_AT:case l.C0.TOUCHED_AT:case l.C0.TRASHED_AT:case l.C0.SHARED_AT:case s.j9.CREATED_AT:case s.j9.TOUCHED_AT:case s.j9.UPDATED_AT:case s.j9.RECENCY:case i.Dq.LAST_MODIFIED:case i.Dq.SHARED_AT:return l.rR.TIME;case l.C0.NAME:case l.C0.PROJECT_NAME:case s.j9.NAME:case s.j9.AUTHOR_NAME:case s.j9.EMAIL:case i.Dq.NAME:case i.Dq.OWNER:case i.Dq.TEAM:return l.rR.ALPHABETICAL;case s.j9.INSTALL_COUNT:case s.j9.MEMBER_COUNT:case s.j9.RELEVANCY:case s.j9.POPULARITY:return l.rR.OTHER;default:let t=Error(`Uncaught sort key: ${e}`);return(0,a.$D)(n.e.WAYFINDING,t),l.rR.OTHER}}},769649:(e,t,r)=>{r.d(t,{f:()=>l});var n=r(104076);if(r(120440),443==r.j)var a=r(983500);var i=r(917736),s=r(404343);function l(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.z,{query:`(min-width: ${(0,a.jz)(s.tgj)+1}px)`,children:(0,n.jsxs)("div",{className:"x1peatla x78zum5 x1a02dak x1qughib x6s0dn4 x87ps6o",children:[(0,n.jsx)("div",{className:"x78zum5 x2lah0s x6s0dn4 x67bb7w",children:e.leftSide}),(0,n.jsx)("div",{className:"x78zum5 x2lah0s x67bb7w x167g77z x6s0dn4",children:e.rightSide})]})}),(0,n.jsx)(i.z,{query:`(max-width: ${(0,a.jz)(s.tgj)}px)`,children:(0,n.jsxs)("div",{...{0:{className:"x8nclml x1y1aw1k xwib8y2 x167g77z x9f619 x78zum5 x1qughib x6s0dn4 x87ps6o"},1:{className:"x8nclml x1y1aw1k xwib8y2 x167g77z x9f619 x78zum5 x1qughib x87ps6o x3ieub6 x1qjc9v5"}}[!!e.shouldStackRightSideMobile<<0],children:[(0,n.jsx)("div",{className:"x78zum5 x2lah0s x67bb7w x167g77z",children:e.leftSide}),(0,n.jsx)("div",{className:"x78zum5 x2lah0s x67bb7w x167g77z",children:e.rightSideMobile})]})})]})}},140174:(e,t,r)=>{r.d(t,{$c:()=>h,Kc:()=>x});var n=r(104076),a=r(716976),i=r(237420),s=r(219570),l=r(336518),o=r(324438),d=r(419750),c=r(901014),_=r(192075);if(443==r.j)var u=r(799303);var m=r(842433);function p({viewMode:e,onViewModeChange:t,disabled:r}){let a=()=>{(0,c.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.GRID}),t(m.XU.GRID)},i=()=>{(0,c.sx)("file_browser_view_mode_toggle",{newViewMode:m.XU.LIST}),t(m.XU.LIST)};return(0,n.jsx)("form",{children:(0,n.jsxs)(s.bL,{value:e?.toString(),legend:(0,n.jsx)(l.q,{children:(0,_.t)("fullscreen.view_mode.view_mode")}),readonly:r,onChange:e=>{e===m.XU.GRID.toString()?a():i()},children:[(0,n.jsx)(s.c$,{value:m.XU.GRID.toString(),icon:(0,n.jsx)(o.t,{}),"aria-label":(0,_.t)("fullscreen.view_mode.show_as_grid")}),(0,n.jsx)(s.c$,{value:m.XU.LIST.toString(),icon:(0,n.jsx)(d.Z,{}),"aria-label":(0,_.t)("fullscreen.view_mode.show_as_list")})]})})}class h extends a.PureComponent{constructor(e){super(e),this.onViewModeChange=e=>{this.setState({viewMode:e},()=>{this.props.onViewModeChange(e)})},this.state={viewMode:e.initialViewMode}}render(){return(0,n.jsx)(p,{viewMode:this.state.viewMode,onViewModeChange:this.onViewModeChange})}}function x(e){let t=(0,i.wA)(),r=(0,i.d4)(t=>t.viewBarViewModeOptionByView[e.viewId])??e.defaultOptions.viewMode;return(0,n.jsx)(p,{viewMode:r,onViewModeChange:r=>{t(u.uV({viewId:e.viewId,viewMode:r}))},disabled:e.disabled})}},560507:(e,t,r)=>{r.d(t,{B:()=>c});var n=r(716976),a=r(237420),i=r(219199),s=r(221586),l=r(147046),o=r(912610),d=r(996397);function c(){let e=(0,a.wA)();return n.useCallback((t,r)=>{let n=o.uF(t)?.name;if(r?.stopPropagation(),(0,s.oJ)(r)){i.Ay.redirect((0,d.ho)(t.id,n),"_blank");return}r?.preventDefault(),e(l.sf({view:"communityHub",subView:"plugin",publishedPluginId:t.id}))},[e])}},354542:(e,t,r)=>{r.d(t,{s:()=>c});var n=r(716976),a=r(237420),i=r(219199),s=r(221586),l=r(147046),o=r(912610),d=r(996397);function c(){let e=(0,a.wA)();return n.useCallback((t,r)=>{let n=o.uF(t)?.name;if(r?.stopPropagation(),(0,s.oJ)(r)){i.Ay.redirect((0,d.YW)(t.id,n),"_blank");return}r?.preventDefault(),e(l.sf({view:"communityHub",subView:"widget",widgetId:t.id}))},[e])}},825649:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(716976),a=r(237420);if(443==r.j)var i=r(111679);var s=r(366535),l=r(598574),o=r(627712);function d(e,t){let r=(0,a.wA)();return n.useMemo(()=>({onClick:t?()=>{r(i.dm(e))}:()=>{},onJoin:l.GR(r,e),onLeave:()=>{r(s.to({type:o.p,data:{teamId:e}}))}}),[r,e,t])}},359171:(e,t,r)=>{r.d(t,{t:()=>a});var n=r(192075);function a(e){return e<999?e.toString():(0,n.t)("file_browser.folder.truncated_file_count",{maxCount:999})}},796012:(e,t,r)=>{r.d(t,{b0:()=>v});var n=r(104076),a=r(716976),i=r(812714),s=r(795033),l=r(755444),o=r(539226),d=r(192075),c=r(422872),_=r(381059),u=r(235711),m=r(143277),p=r(765516),h=r(61102),x=r(654200),f=r(441030);let g="seen_file_preview_overlay",b=(0,u.r1)(g);function v(){let e=(0,s.md)(o.i),t=(0,s.md)(_.Fy),r=!!(0,i.kc)().scrub_file_browser_search_results,u=(0,s.md)(b),{show:v,isShowing:y,complete:j}=(0,c.e)({overlay:f.b0J,priority:m.N.DEFAULT_MODAL},[t,u]);return a.useEffect(()=>{e.size&&r&&v({canShow:(e,t)=>e&&!t})},[r,e,v]),(0,n.jsx)(h.rq,{arrowPosition:x.F_.LEFT_TITLE,description:(0,d.tx)("file_preview_onboarding.move_your_cursor"),disableHighlight:!0,isShowing:y,media:(0,n.jsx)(p.w,{src:(0,l.ck)("31df1314d5fec4580db0bc6ceda8fcca7a600e30"),aspectRatio:16/9}),onClose:j,onTargetLost:j,targetKey:"scrubbable-thumbnail",title:(0,d.tx)("file_preview_onboarding.new_ways_to_preview_files"),trackingContextName:"FilePreviewOverlay",userFlagOnShow:g})}},713606:(e,t,r)=>{r.d(t,{p:()=>M,u:()=>F});var n=r(104076),a=r(237420),i=r(812714),s=r(901014);if(443==r.j)var l=r(983500);var o=r(380841),d=r(633065),c=r(833805);if(443==r.j)var _=r(256384);var u=r(192075);if(443==r.j)var m=r(111679);if(443==r.j)var p=r(837007);if(443==r.j)var h=r(680024);if(443==r.j)var x=r(898040);var f=r(939354),g=r(84320),b=r(50536),v=r(366535),y=r(111297),j=r(249586),w=r(571430),T=r(958127),C=r(405583),k=r(657878),E=r(104836),I=r(498726),A=r(550444),S=r(278151),N=r(346886),R=r(103345),O=r(243432),D=r(404343);function F(e){let t=(0,a.d4)(e=>e.currentUserOrgId),r=(0,a.d4)(e=>e.currentTeamId),n=(0,a.d4)(e=>e.loadedFolders),p=(0,k._6)(),y=(0,f.ym)(),j=(0,f.WJ)(),N=(0,c.gY)(C.k4),F=t||r,M=(0,a.d4)(e=>e.teams),L=(0,o.YO)(e),P=(0,a.wA)();return({folder:e,shouldShowJoinButton:r,shouldHideShareOption:a,trackSearchFolder:o})=>{let c=e.teamId,f=e&&c?M[c]:void 0,k=f?f.org_id:e.orgId;if("loaded"!==L.status)return[];let B=!!L.data?.canShare,U=!!L.data?.canMove&&(!L.data?.hasPendingResourceConnectionInvite||!!k),z=!!L.data?.canRestore,H=!!L.data?.canPermanentlyDelete,W=()=>{P(m.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),y(e.id)},q=()=>{P(m.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),j(e.id)},V=window.innerWidth<=(0,l.hG)(D.tgj),G=!B||(a||!(0,i.kc)().merge_project_context_menus)&&!V,K=[],$=[];if($.push({displayText:(0,u.t)("general.open"),onClick:()=>{o&&o(),W()},disabled:"trashedFolders"===p.view}),d.eD||$.push({displayText:(0,u.t)("file_browser.open_in_new_tab"),onClick:()=>{o&&o(),q()},disabled:"trashedFolders"===p.view}),e.trashedAt)return z&&K.push({displayText:(0,u.t)("project_menu.restore"),onClick:()=>{(0,s.sx)("Folder Restore Click",{folderId:e.id,teamId:c,orgId:k}),f&&!(0,E.rR)(f,{type:E.sK.ADD_PROJECT})?P(v.to({type:R.DV,data:{team:f,resource:I.vL.FOLDER,action:S.ZN.CREATE_FOLDER,currentPlan:w.F.Plan.STARTER,upsellPlan:w.F.Plan.PRO,editorType:null,entryPoint:T.C6.FOLDER_RESTORE}})):N({folderId:e.id,team:f}).catch(()=>{P(_.s.error((0,u.t)("file_browser.api_folder.error_when_restoring")))})},disabled:!z}),H&&K.push({displayText:(0,u.t)("project_menu.permanently_delete"),onClick:()=>{(0,s.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.teamId,orgId:k}),P(v.to({type:(0,h.U)(),data:{folder:e,folderOrgId:k}}))},disabled:!H}),[{key:"trashed",items:K}];K.push({displayText:(0,u.t)("file_browser.copy_link"),onClick:()=>{let r=(0,A.EE)(e.id,t);P(b.S({url:r,linkType:"project"}))}}),r||(G||K.push({displayText:(0,u.t)("sidebar.share"),onClick:()=>{P((0,C.jl)({folderId:e.id,loadedFolders:n})),P(v.to({type:O.WY,data:{folderId:e.id}}))}}),(k===F||c===F)&&K.push({displayText:(0,u.t)("sidebar.move_project"),onClick:()=>{P((0,C.jl)({folderId:e.id,loadedFolders:n})),P(v.to({type:x.J,data:{folderId:e.id}}))},disabled:!U}));let Y=[];return!G&&(0,i.kc)().merge_project_context_menus&&Y.push({key:"open",items:$}),Y.push({key:"default",items:K}),Y.push({key:"settings",items:[{displayText:(0,u.t)("project_menu.settings"),onClick:()=>{P(v.to({type:g.l,data:{folderId:e.id}}))},trackingEventName:"Folder Settings Click",trackingProperties:{folderId:e.id,entryPoint:"Folder Context Menu"}}]}),Y}}function M({className:e,folder:t,shouldHideShareOption:r,trackSearchFolder:i}){let s=(0,a.d4)(e=>e.dropdownShown),l=(0,a.wA)(),o=(0,y.j6)(),d=F(t.id),c=s?.data?.targetRect;if(!c)return null;let _=d({folder:t,shouldHideShareOption:r,trackSearchFolder:i});return(0,n.jsx)(y.fu,{name:"Folder Context Menu",children:(0,n.jsx)(N.j,{className:e,items:(0,p.o)(_),parentRect:c,showPoint:!1,lean:"right",dispatch:l,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},l,t),e.trackingProperties&&(0,j.Cu)({...o.properties,trackingContext:e.trackingEventName||o.name,...e.trackingProperties})},shouldUsePortal:!0,autofocusPrevOnDismount:!0})})}},957867:(e,t,r)=>{r.d(t,{m:()=>tp});var n=r(104076),a=r(716976),i=r(237420),s=r(812714),l=r(120440),o=r(901014),d=r(380841),c=r(833805),_=r(256384),u=r(192075),m=r(111679),p=r(680024),h=r(786559),x=r(939354),f=r(578726),g=r(276800),b=r(307829),v=r(936031),y=r(684742),j=r(700411),w=r(380494),T=r(511570),C=r.n(T),k=r(633065),E=r(221586),I=r(449572),A=r(681398),S=r(225125),N=r(856909),R=r(1188),O=r(284467),D=r(11103),F=r(403494),M=r(652539),L=r(804101),P=r(615916),B=r(236631),U=r(171660),z=r(497511),H=r(178867),W=r(354925);let q=a.forwardRef(function({topLeftThumbnailPreview:e,topRightThumbnailPreview:t,bottomLeftThumbnailPreview:r,bottomRightThumbnailPreview:a,title:i,subtitle:s,topRightContent:l,isSelected:o,onClick:d,onFocus:c,onBlur:_,cardRole:u,draggable:m},p){return(0,n.jsx)(W.R.Root,{isSelected:!!o,ref:p,onClick:d,onFocus:c,onBlur:_,cardRole:u,draggable:m,children:(0,n.jsxs)("div",{className:"x1n2onr6",children:[l&&(0,n.jsx)("div",{className:"x78zum5 x1q0g3np xuk3077 x1i71x30 x1qughib x10l6tqk x1vjfegm x13vifvy x3m8u43 xi4r6k5 xb3r6kr x98rzlu x9f619 x13qp9f6",children:l}),(0,n.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x1dipnxa x1excjyp x1yjdb4r",children:[(0,n.jsx)(V,{topLeftPreview:e,topRightPreview:t,bottomLeftPreview:r,bottomRightPreview:a}),(0,n.jsxs)("div",{className:"x98rzlu x78zum5 xh8yej3 xdt5ytf x195vfkc xb3r6kr",children:[(0,n.jsx)(W.R.Title,{children:i}),(0,n.jsx)(W.R.Subtitle,{children:s})]})]})]})})});function V({topLeftPreview:e,topRightPreview:t,bottomLeftPreview:r,bottomRightPreview:a}){return(0,n.jsxs)("div",{className:"xrvj5dj x3qb07v x1p9eum2 x1i71x30 xh8yej3 x5yr21d",children:[e,t,r,a]})}var G=r(874916),K=r(657878);function $(e){let t=(0,K._6)(),r=(0,i.d4)(e=>e.currentUserOrgId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_org?.id??null:r}function Y(e){let t=(0,K._6)(),r=(0,i.d4)(e=>e.currentTeamId);return"recentsAndSharing"===t.view&&"shared-projects"===t.tab?e.parent_team?.id??null:r}var J=r(359171),X=r(94650),Q=r(708412),Z=r(459494),ee=r(407261),et=r(944350);function er(e){let{folder:t}=e,r=(0,i.wA)(),s=$(e.folder),l=e.folder.team_id,o=(0,ee.jm)(s,l),d=(0,Z.fn)()===Z.ih.CONTROL,c=a.useCallback(({favoriteId:e,sectionId:n})=>{r(Q.Mv({entrypoint:"folder_list_card",favoriteId:e,sectionId:n,folder:t}))},[r,t]),_=a.useCallback(({favoriteId:e})=>{r(Q.jv({entrypoint:"folder_list_card",favoriteId:e,folder:t}))},[r,t]);return d&&o?(0,n.jsx)(X.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:c,removeFavorite:_,favoriteType:et.bk.FOLDER,resourceId:e.folder.id,orgId:s,teamId:l}):(0,n.jsx)(n.Fragment,{})}var en=r(768823),ea=r(378080),ei=r(604853),es=r(147046),el=r(668242),eo=r(701299),ed=r(249586),ec=r(190737),e_=r(707026),eu=r(506192),em=r(15426),ep=r(937505),eh=r(631370),ex=r(592726),ef=r(59849),eg=r(445046),eb=r(208740),ev=r(65180),ey=r(349311),ej=r(396331);function ew(){return(0,n.jsx)(ej.X,{FileThumbnailComponent:eT})}function eT(){return(0,n.jsx)(P.q,{noBorder:!0,borderRadius:8,children:(0,n.jsx)(O.Qp,{animationType:O.JR.LIGHT_SHIMMER,className:C()(B.s.wFull.hFull.$)})})}let eC="folder_list_card--fileTile--tAGh3";var ek=r(361376);let eE=a.forwardRef(function(e,t){let r=(0,i.wA)(),l=(0,ep.FC)(),o=(0,K._6)(),c=(0,ex.TA)(),_=$(e.folder),u=Y(e.folder),p=(0,eu.Um)(),h=b.b(),y=(0,I.bc)(ef.qjT,{resourceId:e.folder.id,resourceType:et.bk.FOLDER,orgId:_,teamId:_?null:u}),j=w.Qw.useTransform(y,e=>void 0!==(0,ec.eU)(e,et.bk.FOLDER)).unwrapOr(!!e.folder.is_favorited),T=(0,d.YO)(e.folder.id),k=(0,x.EB)(),E=t=>{"trashedFolders"!==o.view&&(r(m.kg({clickedResourceType:"team",resourceIdOrKey:e.folder.id})),(0,ed.xr)("file_browser_folder_click",e.folder.id,e.folder.team_id,l,{selectedView:"recentsAndSharing"===o.view?o.tab:o.view,planFilterId:e.currentPlanFilter?.planId||null,planFilterType:e.currentPlanFilter?.planType||null,viewMode:"grid"}),k(e.folder.id,t))},S="loaded"===T.status&&!!T.data?.canCreateDesignFileWithReasons.result,N=w.Qw.useTransform(e.folderFilesResult,(0,a.useCallback)(e=>e.sort((e,t)=>e.touched_at===t.touched_at?0:e.touched_at<t.touched_at?1:-1).slice(0,15),[])),R=w.Qw.useTransform(N,(0,a.useCallback)(t=>{let r=t.slice(0,4).map(t=>(0,n.jsx)(eF,{file:t,teamId:e.folder.team_id},t.key));for(;r.length<4;)r.push((0,n.jsx)(eB,{folderId:e.folder.id,teamId:e.folder.team_id,canCreateFile:S},`${r.length}`));return r},[S,e.folder]));if((0,s.kc)().file_browser_folder_cards){let r=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,n.jsx)(q,{ref:t,bottomLeftThumbnailPreview:(0,n.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:2,teamId:u,canCreateFile:S}),bottomRightThumbnailPreview:(0,n.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:3,teamId:u,canCreateFile:S}),cardRole:e.cardRole,isHoverContentVisibleOverride:h.manager.isOpen,isSelected:e.isSelected,onBlur:e.onBlur,onClick:e.onClick,onFocus:e.onFocus,subtitle:(0,n.jsx)(eD,{folder:e.folder,folderTeamName:e.folderTeamName}),title:(0,n.jsx)(eO,{showViewOnlyLabel:r,folder:e.folder,folderName:e.folderName,settingsButtonProps:e.settingsButtonProps}),topLeftThumbnailPreview:(0,n.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:0,teamId:u,canCreateFile:S}),topRightContent:"trashedFolders"===o.view?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(v.HG,{children:(0,n.jsx)(W.R.Overlay,{isHoverContentVisibleOverride:h.manager.isOpen,children:(0,n.jsx)(er,{folder:{...e.folder,is_subscribed:j},favoriteStarMenu:h})})}),topRightThumbnailPreview:(0,n.jsx)(eI,{folderId:e.folder.id,fileTilesResult:e.folderFilesResult,itemIndex:1,teamId:u,canCreateFile:S})})}return(0,n.jsx)("div",{className:e.inItemsView?"folder_list_card--folderCardInItemsView--9JpPY":"folder_list_card--folderCard--f45e1",onClick:e.inItemsView?g.lQ:e=>{e.preventDefault(),e.stopPropagation(),(2===e.detail||A.Ay.mobile||A.Ay.tablet)&&E(e)},onContextMenu:e.inItemsView?g.lQ:t=>{t.stopPropagation(),t.preventDefault();let n={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};r(es.j7({type:f.B,data:{folder:{...(0,eg.Bp)(e.folder),description:e.folder.description,isSubscribed:j},targetRect:n}}))},"data-onboarding-key":e.dataOnboardingKey,tabIndex:0,children:(0,n.jsxs)("div",{className:"folder_list_card--folderCardContent--znHVA",children:[(0,n.jsx)(D.xv,{loaded:"loaded"===R.status,loadingSkeletonElement:(0,n.jsx)(ew,{}),children:(0,n.jsx)("div",{className:"folder_list_card--folderTiles--q3GHS",onFocus:e.onChildFocusChange,onBlur:e.onChildFocusChange,children:R.data})}),(0,n.jsxs)(n.Fragment,{children:["trashedFolders"===o.view?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("div",{className:C()("folder_list_card--topRightControls--1iU9d",{"folder_list_card--topRightControlsVisible--HrquF":p?.data?.resourceId===e.folder.id||j||h.manager.isOpen}),children:(0,n.jsx)(er,{folder:{...e.folder,is_subscribed:j},favoriteStarMenu:h})}),(0,n.jsx)("div",{className:"folder_list_card--folderCardFooter--1WvIF",children:(0,n.jsx)(eR,{...e,currentUserId:c,folder:e.folder,folderLastUpdated:e.folderLastUpdated,folderName:e.folderName,folderTeamName:e.folderTeamName,isSharerInfoIncluded:e.isSharerInfoIncluded,showFavoriteStar:!1})})]})]})})});function eI({folderId:e,fileTilesResult:t,itemIndex:r,teamId:a,canCreateFile:i}){let s=(0,K._6)();return(0,n.jsx)(D.xv,{loaded:"loaded"===t.status,loadingSkeletonElement:(0,n.jsx)(eT,{}),children:t.data?.[r]?"trashedFolders"===s.view?(0,n.jsx)(eM,{file:t.data[r]}):(0,n.jsx)(v.HG,{className:"x78zum5 xh8yej3",children:(0,n.jsx)(eL,{file:t.data[r],teamId:a},r)}):(0,n.jsx)(eB,{folderId:e,teamId:a,canCreateFile:i})})}let eA=a.forwardRef(function(e,t){return(0,n.jsx)(R.tH,{boundaryKey:"FolderListCard",fallback:R.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(eE,{ref:t,...e})})}),eS=a.forwardRef(function(e,t){let r=(0,K._6)(),a=(0,z.R)({folderId:e.folder.id,shouldShowOnlyTrashedFiles:"trashedFolders"===r.view});return(0,n.jsx)(eA,{ref:t,...e,...(0,en.Z)(e.folder),folderFilesResult:a})}),eN={open:!0,openNewTab:!0,share:!0,copyLink:!0,delete:!0,moveFile:!0};function eR(e){let t=e.folder,r=e.folderTeamName,a=!!e.checksForViewOnlyLabels&&e.checksForViewOnlyLabels.teamId===e.folder.team_id&&e.checksForViewOnlyLabels.isLockedTeam;return(0,n.jsxs)("div",{className:"folder_list_card--folderInfoTile---uGGi",children:[(0,n.jsx)(eO,{showViewOnlyLabel:a,folder:t,folderName:e.folderName,settingsButtonProps:e.settingsButtonProps}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"folder_list_card--folderInfoFooter--BGb-d",children:(0,n.jsx)("div",{className:"folder_list_card--folderActivity--DGpNx",children:(0,n.jsx)(eD,{folder:t,folderTeamName:r})})})})]})}function eO({showViewOnlyLabel:e,folder:t,folderName:r,settingsButtonProps:a}){return(0,n.jsxs)("div",{className:"folder_list_card--folderUpperRow--c-qXp",children:[(0,n.jsxs)("div",{className:"folder_list_card--folderName--fsdBf text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,n.jsx)(U.E,{fontSize:13,fontWeight:"medium",truncate:!0,showTooltipWhenTruncated:!1,children:r}),e&&(0,n.jsx)(v.HG,{children:(0,n.jsx)(N.Ex,{color:N.zE.WARNING_TERTIARY,text:(0,u.t)("locked_team.label.view_only"),dataTooltip:(0,u.t)("locked_team.label.tooltip"),dataTooltipType:ey.Ib.TEXT,className:"folder_list_card--viewOnlyLabel--in8ZA"})}),!e&&t.is_connected_project&&(0,n.jsx)("div",{className:B.s.pl4.$,children:(0,n.jsx)(v.HG,{children:(0,n.jsx)(H.W,{hostPlanName:t.resource_connection?.hostPlanName,connectedPlanName:t.resource_connection?.connectedPlanName})})})]}),(0,n.jsx)(v.HG,{children:(0,n.jsx)(F.C,{...a})})]})}function eD({folder:e,folderTeamName:t}){let r="trashedFolders"===(0,K._6)().view,a=(0,em.x)(e.id,r);if("loaded"!==a.status)return(0,n.jsx)(O.Wi,{className:B.s.h16.w150.$,animationType:O.JR.NO_SHIMMER});let i=(0,u.t)("file_browser.folder.number_of_files",{numFiles:a.data,formattedNumFiles:(0,J.t)(a.data)});return(0,n.jsx)("div",{className:B.s.flex.flexRow.itemsCenter.justifyStart.overflowHidden.$,children:(0,n.jsxs)(U.E,{fontSize:11,truncate:!0,children:[t&&(0,n.jsxs)(n.Fragment,{children:[t,"\xa0\xb7\xa0"]}),i]})})}function eF({file:e,teamId:t}){return"trashedFolders"===(0,K._6)().view?(0,n.jsx)(eM,{file:e}):(0,n.jsx)(eL,{file:e,teamId:t})}function eM({file:e}){return(0,n.jsx)("div",{className:eC,children:(0,n.jsx)(eP,{file:e})})}function eL({file:e,teamId:t}){let r=(0,i.wA)(),s=(0,G.v)(),{Sprig:l}=(0,S.A)(),d=a.useMemo(()=>(0,e_.fA)(e),[e]),{showing:c,show:_,data:u}=(0,ei.L)(),p=!!u?.tile&&e_.Tf.getId(u.tile)===e.key,h=a.useCallback(n=>{n.stopPropagation(),n.preventDefault(),(2===n.detail||0===n.detail)&&(k.eD&&(0,o.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify({teamId:t})}),r(m.UN({fileKey:e.key,entrypoint:"folder list card",sprig:l})),s(d,n))},[s,r,d,e.key,t,l]),x=a.useCallback(e=>{e.preventDefault(),e.stopPropagation(),_({data:{tile:d,targetRect:{top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1}}}),r(eo.an()),r(eo.y$({type:ev.F.FILES,tiles:[d]}))},[_,r,d]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.E,{className:C()(eC,{"folder_list_card--selected--om9Zo":p}),onClick:h,htmlAttributes:{onContextMenu:x},children:(0,n.jsx)(eP,{file:e})}),c?(0,n.jsx)(ea.i,{tileActions:eN,tile:d,selectedTiles:[d],openTile:h,dropdownVisible:c}):null]})}function eP({file:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.NU,{file:e,borderRadius:8,noBorder:!0}),(0,n.jsx)("div",{className:"folder_list_card--fileTileOverlay--fzqr8",children:(0,n.jsx)("div",{className:"folder_list_card--fileTileOverlayText--fLH8K",children:e.name})})]})}function eB({canCreateFile:e,folderId:t,teamId:r}){return e?(0,n.jsx)(ez,{folderId:t,teamId:r}):(0,n.jsx)(eU,{})}function eU(){return(0,n.jsx)(P.q,{borderRadius:8})}function ez({folderId:e,teamId:t}){let r=(0,i.wA)(),a=(0,eh.B)(),s=(0,i.d4)(e=>t?e.teams[t]:void 0);return(0,n.jsx)(j._,{href:"#",htmlAttributes:{onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},"aria-label":(0,u.t)("team_view.empty_file_tile.label"),className:"folder_list_card--emptyFileTile--nywuu",onClick:t=>{t.preventDefault(),t.stopPropagation(),r(el.zE({state:a,editorType:et._Y.DESIGN,folderId:e,team:s,from:eb.f6.FILE_BROWSER_FOLDER_EMPTY_TILE,openNewFileIn:(0,E.oJ)(t)?eb.ai.NEW_TAB:eb.ai.SAME_TAB}))},trusted:!0,children:(0,n.jsx)(M.B,{svg:ek.A,"aria-hidden":!0})})}var eH=r(703605),eW=r(366535),eq=r(405583),eV=r(599078),eG=r(550444),eK=r(842433),e$=r(414191);let eY=(0,eV.Mz)(e$.h,e=>"team"===e.view?`${e.view}-${e.teamId}`:e.view),eJ=(0,eV.Mz)(e$.h,eY,e=>e.viewBarSortOptionsByView,e=>e.tileSortFilterStateByView,(e,t,r,n)=>{if("team"===e.view){let e=n.team;return{sortKey:e.sort.key===eK.C0.NAME?eG.Dq.NAME:eG.Dq.LAST_MODIFIED,sortDesc:e.sort.dir===eK.ue.DESC}}return r[t]});var eX=r(115989),eQ=r(551101),eZ=r(514625),e0=r(195112),e1=r(692557),e4=r(73795);function e3({folderId:e}){let t="trashedFolders"===(0,K._6)().view,r=(0,em.x)(e,t);return"loaded"!==r.status?(0,n.jsx)(O.Wi,{className:B.s.w48.$,animationType:O.JR.NO_SHIMMER}):(0,n.jsx)(U.E,{truncate:!0,children:(0,n.jsx)("span",{...l.Ay.props(e4.g.textBodyMedium),children:(0,u.t)("file_browser.folder.number_of_files",{formattedNumFiles:(0,J.t)(r.data),numFiles:r.data})})})}function e2(e){let t=e.folder.shared_at;return t?(0,n.jsx)(eX.h1,{date:t}):(0,n.jsx)(U.E,{truncate:!0,children:"--"})}var e5=r(142914),e7=r(141524);function e9(e){let t=e.folder.shared_by_user?.name,r=e.folder.shared_by??null,a=(0,e7.wW)(r).user;return r?(0,n.jsxs)("div",{className:B.s.flex.itemsCenter.gap8.$,children:[a&&(0,n.jsx)(e5.H8,{user:a,size:e5.Pf.MEDIUM}),(0,n.jsx)(U.E,{truncate:!0,children:t})]}):(0,n.jsx)(U.E,{truncate:!0,children:"--"})}function e6(e){let t=e.folder.trashed_at;return t?(0,n.jsx)(eX.h1,{date:t}):(0,n.jsx)(U.E,{truncate:!0,children:"--"})}let e8={renderInteractiveRowCell:(e,{isSelected:t,isHovered:r})=>(0,n.jsx)(te,{folder:e,isSelected:t,isHovered:r})};function te({folder:e,isSelected:t,isHovered:r}){let a=b.b(),i=$(e),s=Y(e),o=!!(0,e1.Y)(e.id,et.bk.FOLDER,i,s).favorite||t||r||a.manager.isOpen;return(0,n.jsx)("div",{...l.Ay.props(eQ.R.invisible,eQ.R.hoverTarget(o)),children:(0,n.jsx)(er,{folder:e,favoriteStarMenu:a})})}let tt=({dataOnboardingKey:e,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:r}={})=>({headerCellStyles:tu.headerCellStyles,field:eG.Dq.NAME,renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_name_column"),renderStaticRowCell:(a,{itemIndex:i})=>{let s=!!r&&a.team_id===r.teamId&&r.isLockedTeam;return(0,n.jsx)(eZ.L,{folder:a,dataOnboardingKey:i===t?e:"",showViewOnlyLabel:s})}}),tr={renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_files_column"),renderStaticRowCell:e=>(0,n.jsx)(e3,{folderId:e.id})},tn={field:eG.Dq.LAST_MODIFIED,renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(eX.h1,{date:e.folderLastUpdated??e.updated_at})})},ta={renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_updated_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(eX.h1,{date:e.files_last_touched_at??e.updated_at})})},ti={field:eG.Dq.CREATED_AT,renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_created_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(eX.h1,{date:e.created_at})})},ts={field:eG.Dq.SHARED_AT,renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(e2,{folder:e})})},tl={renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(e9,{folder:e})})},to={renderHeaderCell:()=>(0,u.t)("file_browser.folder_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,n.jsx)(e0.B,{children:(0,n.jsx)(e6,{folder:e})})},td=e=>({gutterColumn:e8,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex,checksForViewOnlyLabels:e.checksForViewOnlyLabels}),tr,tn]}),tc=e=>({gutterColumn:e8,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex}),tr,tl,ts]}),t_=e=>({gutterColumn:void 0,columns:[tt({dataOnboardingKey:e.dataOnboardingKey,dataOnboardingKeyIndex:e.dataOnboardingKeyIndex}),tr,to]}),tu={headerCellStyles:{kzqmXN:"x3hqpx7",$$css:!0}},tm=(e,t,r,n)=>{switch(e.view){case"recentsAndSharing":return tc({dataOnboardingKeyIndex:r,dataOnboardingKey:t});case"search":return{gutterColumn:void 0,columns:[tt({checksForViewOnlyLabels:n}),tr,ta,ti]};case"trashedFolders":return t_({});default:return td({dataOnboardingKeyIndex:r,dataOnboardingKey:t,checksForViewOnlyLabels:n})}};function tp(e){let[t,r]=a.useState([]),l=(0,i.wA)(),g=(0,i.d4)(eJ),b=(0,K._6)(),v=(0,c.gY)(eq.Ct),y=(0,d.MD)(t),j=(0,i.d4)(e=>e.teams),{columns:w,gutterColumn:T}=tm(b,e.dataOnboardingKey,e.dataOnboardingKeyIndex,e.checksForViewOnlyLabels),C=(0,x.EB)(),k=a.useCallback((e,t)=>{(0,o.sx)("Folder Permanently Delete Click",{folderId:e.id,teamId:e.team_id,orgId:t}),"loaded"===y.projects.status&&y.projects.data[e.id].canPermanentlyDelete&&l(eW.to({type:(0,p.U)(),data:{folder:e,folderOrgId:t}}))},[l,y]),E=a.useCallback((e,t)=>{(0,o.sx)("Folder Trash Click",{folderId:e.id,teamId:e.team_id,orgId:t});let r=y.projects.data?.[e.id];r?.canSkipDeletionConfirmation?v({folderId:e.id}).catch(()=>{l(_.s.error((0,u.t)("file_browser.api_folder.error_when_moving_to_trash")))}):r?.canTrash&&l(eW.to({type:(0,h.V)(),data:{folder:e}}))},[l,y,v]),I=a.useCallback(e=>{if(1!==e.length)return;let t=e[0],r=t.team_id,n=t&&r?j[r]:void 0,a=n?n.org_id:t.org_id;void 0===a&&(a=null),"trashedFolders"===b.view?k(t,a):E(t,a)},[E,k,b.view,j]),A=a.useCallback(t=>e.dataOnboardingKeyIndex&&e.folderList[e.dataOnboardingKeyIndex]?.id===t?"project-card":void 0,[e.dataOnboardingKeyIndex,e.folderList]);return(0,n.jsx)(eH.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:th.gridPadding,trailingGridElements:e.trailingGridElements,...(0,s.kc)().file_browser_folder_cards?{renderCard:({ref:t,item:r,isSelected:a,role:i,onFocus:s,onClick:l,onBlur:o})=>(0,n.jsx)(eS,{ref:t,cardRole:i,checksForViewOnlyLabels:e.checksForViewOnlyLabels,currentPlanFilter:e.currentPlanFilter,dataOnboardingKey:A(r.id),folder:r,isSelected:a,isSharerInfoIncluded:e.isSharerInfoIncluded,onBlur:o,onClick:l,onFocus:s},r.id)}:{tileBorderRadius:16,nestedFocus:!0,renderTile:(t,r)=>(0,n.jsx)(eS,{folder:t,dataOnboardingKey:A(t.id),isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:e.checksForViewOnlyLabels,inItemsView:!0,onChildFocusChange:r},t.id)}},handleContextMenu:e.onContextMenuOverride?e.onContextMenuOverride:(e,t)=>{t.stopPropagation(),t.preventDefault();let r=e[0];if(!r)return;let n={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};l(es.j7({type:f.B,data:{folder:{...(0,eg.Bp)(r),isSubscribed:r.is_favorited},targetRect:n}}))},handleDeleteKey:I,handleOpenItem:(t,r)=>{"trashedFolders"!==b.view&&(l(m.kg({clickedResourceType:"team",resourceIdOrKey:t.id})),e.onOpenFolder&&e.onOpenFolder(t.id,r),C(t.id,r))},items:e.folderList,listViewProps:{columns:w,gutterColumn:T,currentSort:e.currentSortOverride?e.currentSortOverride:{field:g?.sortKey,isDescending:!!g?.sortDesc},handleSortBy:t=>{e.onChangeSortOptions({sortKey:t,sortDesc:t!==g?.sortKey||!g.sortDesc})}},multiselectDisabled:!0,updateRenderedItems:r,viewType:e.viewType})}let th={gridPadding:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,$$css:!0}}},578726:(e,t,r)=>{function n(e){return e&&e.type===a?e.data.folder:null}r.d(t,{B:()=>a,H:()=>n});let a="nav-folder-context-menu"},396331:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(104076),a=r(615916),i=r(236631);function s({FileThumbnailComponent:e}){return(0,n.jsx)("div",{className:i.s.grid.gridTemplateColumns2.gap12.wFull.hFull.$,children:Array.from({length:4}).map((t,r)=>(0,n.jsx)(a.q,{noBorder:!0,borderRadius:8,children:(0,n.jsx)(e,{})},r))})}},84320:(e,t,r)=>{r.d(t,{l:()=>eu});var n=r(104076),a=r(237420),i=r(929302),s=r(950187),l=r(268389),o=r(684742),d=r(962856),c=r(751309),_=r(812714),u=r(511570),m=r.n(u),p=r(333331),h=r(380841),x=r(449572),f=r(833805),g=r(652539),b=r(236631),v=r(256384),y=r(192075),j=r(629253),w=r(581707),T=r(542190),C=r(551668),k=r(420680),E=r(475477),I=r(293422),A=r(739713),S=r(410615),N=r(190028),R=r(140490),O=r(520741),D=r(58212),F=r(142914),M=r(102858),L=r(147046),P=r(366535),B=r(111297),U=r(944350),z=r(904017),H=r(920659),W=r(665756),q=r(959834),V=r(288054),G=r(699914),K=r(731749),$=r(903156),Y=r(70690);function J(e){let t=(0,z.S2)().unwrapOr(null),r=e.hasOwnProperty("resourceConnectionInvite"),d=r?e.resourceConnectionInvite.hostPlan:e.resourceConnection.hostPlan,c=r?e.resourceConnectionInvite.connectingPlan:e.resourceConnection.connectedPlan,_=r?e.resourceConnectionInvite.projectName:e.resourceConnection.projectName,u=r?e.resourceConnectionInvite.isHostPlanAdmin:e.resourceConnection.isHostPlanAdmin;if(null==d||null==c)throw Error("hostPlan or connectingPlan not found");let m=(0,a.wA)(),p=i.hS({...e,onClose:()=>{m(P.Ce())}}),h=(0,S.Hg)(r?void 0:e.resourceConnection.id),x=(0,S.Bs)(r?"":e.resourceConnection.id,u,!r&&!!e.resourceConnection.id),f=0,v=0,j=!r&&"loaded"===x.status;if(j){let{resourceConnectedUsersWithPlan:e,totalResourceConnectedUsers:t}=x.unwrapOr({resourceConnectedUsersWithPlan:[],totalResourceConnectedUsers:0});f=e?.filter(e=>e?.planId===c.id).length||0,v=t?Number(t)-f:0}let w="loading"===h.status,T=e=>e?e.toLocaleDateString((0,N.A)(e).locale(),{year:"numeric",month:"short",day:"numeric"}):"",C=(()=>{if(!r)return;let t=e.resourceConnectionInvite;return{inviteSentByTimestamp:t.createdAt,inviteSentBy:t.hostInviterName}})(),R=(()=>{if(r)return;let t=e.resourceConnection.resourceConnectionInvite;return{connectedByTimestamp:(u?t?.createdAt:t?.handledAt)??void 0,connectedBy:u?t?.hostInviterName:t?.handledByName}})(),q=(0,n.jsxs)("div",{className:$.YM,children:[(0,n.jsx)("div",{className:b.s.colorTextSecondary.$,children:u?(0,y.tx)("resource_connection.connected_by"):(0,y.tx)("resource_connection.approved_by")}),(0,n.jsx)("div",{children:(0,y.tx)("resource_connection.connected_by_info",{inviter:R?.connectedBy,timeStamp:T(R?.connectedByTimestamp)})})]});return(0,n.jsx)(B.fu,{name:"Manage Project Connection Modal",properties:{resourceConnectionId:r?null:e.resourceConnection.id,resourceConnectionInviteId:r?e.resourceConnectionInvite.id:null},children:(0,n.jsx)(s.bL,{manager:p,width:"md",children:(0,n.jsxs)(l.vo,{children:[(0,n.jsx)(l.Y9,{children:(0,n.jsx)(l.hE,{children:(0,n.jsxs)("div",{className:$.g2,children:[(0,n.jsx)(k.K,{onClick:()=>{m(P.Lo())},"aria-label":(0,y.t)("resource_connection.aria_label.button"),children:(0,n.jsx)(A.C,{})}),(0,y.tx)("resource_connection.manage_connection")]})})}),(0,n.jsxs)(l.nB,{scrolling:"manual",padding:{top:r?0:16,bottom:16,left:0,right:0},children:[r&&(0,n.jsx)("div",{className:b.s.mb16.$,children:(0,n.jsx)(O._,{rounded:!1,dataTestId:"viewer-upgrade-banner",color:O.S.PLAIN,text:(0,y.tx)("resource_connection.pending_modal.connecting_plan_hasnt_approved_invite_yet",{connectingPlan:c.name})})}),(0,n.jsxs)("div",{className:b.s.pl16.pr16.$,children:[(0,n.jsx)("div",{className:b.s.textBodyMediumStrong.pb4.$,children:(0,y.t)("resource_connection.teams")}),(0,n.jsxs)("div",{className:$.Ec,children:[(0,n.jsx)(F.nl,{size:F.Pf.MEDIUM,shape:"CIRCLE",team:d}),(0,n.jsxs)("div",{className:b.s.flex.flexColumn.$,children:[(0,n.jsx)("div",{children:d.name}),(0,n.jsxs)("span",{children:[j&&(0,n.jsxs)("span",{className:b.s.textBodyMedium.colorTextSecondary.$,children:[(0,y.t)("resource_connection.num_members",{count:v})," \xb7\xa0"]}),(0,n.jsx)(E.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD8C3M4MDEVKBHAFEQ",children:(0,y.t)("resource_connection.host")})]})]})]}),(0,n.jsxs)("div",{className:$.Ec,children:[(0,n.jsx)(F.nl,{size:F.Pf.MEDIUM,shape:"CIRCLE",team:c}),(0,n.jsxs)("div",{className:b.s.flex.flexColumn.$,children:[(0,n.jsx)("div",{children:c.name}),(0,n.jsx)("div",{className:b.s.textBodyMedium.colorTextSecondary.$,children:r?(0,y.tx)("resource_connection.invite_pending"):j?(0,y.t)("resource_connection.num_members",{count:f}):null})]})]}),(0,n.jsx)("div",{className:b.s.py8.$,children:!r&&(()=>{let t=[];return u&&e.resourceConnection.projectTeamId&&t.push({label:(0,y.t)("resource_connection.manage_modal.libraries"),description:w?void 0:h.data?(0,y.t)("resource_connection.n_libraries_in_connected_project",{count:h.data}):(0,y.t)("resource_connection.manage_modal.allow_external_teams_to_use_libraries"),onClick:()=>{m(P.to({type:G.T,data:{teamId:e.resourceConnection.projectTeamId,entrypoint:V.r6.CONNECTED_PROJECT_MANAGE_MODAL,resourceConnection:{id:e.resourceConnection.id,projectName:_,hostPlanType:d.type}}}))}}),t})().map((e,t)=>(0,n.jsxs)(o.E,{className:$.lK,onClick:e.onClick,children:[(0,n.jsxs)("div",{className:b.s.flex.flexColumn.my6.$,children:[(0,n.jsx)("div",{className:$.ed,children:e.label}),e.description&&(0,n.jsx)("div",{className:$.q3,children:e.description})]}),(0,n.jsx)("span",{className:$.zc,children:(0,n.jsx)(g.B,{svg:Y.A})})]},t))}),r?(0,n.jsxs)("div",{className:$.YM,children:[(0,n.jsx)("div",{className:b.s.colorTextSecondary.$,children:(0,y.tx)("resource_connection.invite_sent")}),(0,n.jsx)("div",{children:(0,y.tx)("resource_connection.invite_sent_info",{inviter:C?.inviteSentBy,timeStamp:T(C?.inviteSentByTimestamp)})})]}):q,(0,n.jsx)("div",{className:b.s.mb8.mt12.$,children:(0,n.jsx)(I.$n,{variant:"link",onClick:()=>{t&&(t.key.type===U.OL.ORG?m(L.sf({view:"orgAdminSettings",orgAdminSettingsViewTab:H.J7.CONTENT,orgAdminSettingsViewSecondaryTab:H.SN.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})):t.key.type===U.OL.TEAM&&m(L.sf({view:"teamAdminConsole",teamId:t.key.parentId,isProTeam:t.tier===U.Ag.PRO,teamAdminConsoleViewTab:W.Iv.CONTENT,teamAdminConsoleViewSecondaryTab:W.F9.CONNECTED_PROJECTS,showResourceConnectionFlyout:e.resourceConnection.id})),m(P.Ce()))},children:(0,y.t)("resource_connection.manage_modal.view_in_admin_dashboard")})})]})]}),(0,n.jsx)(l.wi,{children:(0,n.jsxs)("div",{className:$.Vr,children:[(0,n.jsx)("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ",target:"_blank",children:(0,n.jsx)(I.$n,{variant:"link",onClick:e=>e.stopPropagation(),children:(0,y.tx)("resource_connection.request_modal.learn_more")})}),(0,n.jsx)(I.$n,{variant:"destructiveSecondary",onClick:r?()=>{m(P.to({type:M.h,data:{resourceConnectionInvite:e.resourceConnectionInvite}}))}:()=>{if(!e.resourceConnection.projectTeamId){m(D.F.enqueue({message:(0,y.t)("resource_connection.visual_bell.generic_error")}));return}m(P.to({type:K.K,data:{resourceConnectionId:e.resourceConnection.id,projectName:_,projectId:e.resourceConnection.projectId,projectTeamId:e.resourceConnection.projectTeamId,hostPlan:d,connectedPlan:c,isHostPlanAdmin:u}}))},children:r?(0,y.tx)("resource_connection.pending_modal.revoke_invite"):(0,y.tx)("resource_connection.manage_modal.deactivate")})]})})]})})})}let X=(0,q.Ju)(function(e){return(0,n.jsx)(R.u,{label:"ResourceConnectManageModal",children:(0,n.jsx)(J,{...e})})},"ResourceConnectManageModal");var Q=r(744153),Z=r(310271),ee=r(786559),et=r(834130),er=r(249586),en=r(571430),ea=r(958127),ei=r(405583),es=r(853306),el=r(59849),eo=r(498726),ed=r(349311),ec=r(103345);let e_=(e,t)=>{let r=(0,h.YO)(e),n=(0,x.bc)(el.SWF,{projectId:e}),i=(0,a.wA)(),s=(0,f.gY)(ei.Ct),l=n.data?.project,o=l?.plan?.tier===U.Ag.STARTER,d=(0,x.bc)(el.InN,{},{enabled:o&&(0,_.kc)().dtm_starter_team_project_transfer_carveout}),c=l?.activeProjectResourceConnections,u=c?.length?c[0]:null,m=l?.plan,g=(0,p.oA)(d.data?.personalDraftToPlanDraftLocation),b=(0,z.S2)().unwrapOr(null),k=g?.planParentId===b?.key?.parentId,E=l?.plan?.tier!==U.Ag.STARTER||k&&g?.status==="complete"&&(0,_.kc)().dtm_starter_team_project_transfer_carveout||(0,_.kc)().enable_starter_project_transfers,I=u?l?.connectedPlan:null,A=l?.pendingResourceConnectionInvite,S=l?.pendingAssetTransferRequest,N=l?.team?.pendingAssetTransferRequest,R=(0,es.N)(m?.key,()=>{m&&i(P.to({type:C.B,data:{folder:{...l,plan:m},entryPoint:j.wR.PROJECT_SETTINGS,assetTransferRequestWarning:!!(S&&!S.isTransferCopy)}}))});if([r,n].some(e=>"loaded"!==e.status&&"disabled"!==e.status))return[];let O=r.data;if(!O||!l)return[];let D=()=>S?Q.cm.PENDING_ASSET_TRANSFER:A?Q.cm.PENDING_RESOURCE_CONNECTION:u?Q.cm.ACTIVE_RESOURCE_CONNECTION:null,F=e=>{i(P.to({type:(0,T.Lg)(),data:{folderId:l.id,teamId:l.teamId,entryPoint:T.Lq.PROJECT_SETTINGS,shouldTransferCopy:e}}))},M=()=>{i(P.to({type:ec.DV,data:{team:l.team,resource:eo.Bi.PROJECT_TRANSFER,currentPlan:en.F.Plan.STARTER,upsellPlan:en.F.Plan.PRO,editorType:null,entryPoint:ea.C6.PROJECT_TRANSFER}}))},L=[{label:(0,y.tx)("file_browser.folder_settings_modal.name"),description:l.name,onClick:()=>{i(P.to({type:(0,w.y)(),data:{folder:l}}))},disabled:!O.canEdit,noDisabledStyling:!0,noChevron:!O.canEdit},{label:(0,y.tx)("file_browser.folder_settings_modal.description"),description:l.description&&""!==l.description?l.description:O.canEdit?(0,y.tx)("file_browser.folder_settings_modal.add_description"):(0,y.tx)("file_browser.folder_settings_modal.no_description_added_yet"),onClick:()=>{i(P.to({type:(0,Z.C)(),data:{folder:l}}))},disabled:!O.canEdit,noDisabledStyling:!0,noChevron:!O.canEdit},{label:"",separator:!0}],B=O.isPlanAdmin&&O.planCanConnectWithReasons?.publicDenyReasons&&1===O.planCanConnectWithReasons.publicDenyReasons.length&&O.planCanConnectWithReasons.publicDenyReasons[0]===U.QK.PLAN_DENY_CAN_CONNECT_IF_AT_CONNECTION_LIMIT,H=O.canConnect||B,W=m?.isAdmin,q=I?.isAdmin;return u&&(W||q)?L.push({label:(0,y.t)("file_browser.folder_settings_modal.manage_connection"),description:W?(0,y.t)("file_browser.folder_settings_modal.manage_connection_description"):void 0,onClick:()=>{u&&i(P.to({type:X,data:{resourceConnection:{...u,hostPlan:{id:u.hostPlanId,name:u.hostPlanName,imgUrl:u.hostPlanImageUrl,type:u.hostPlanType},connectedPlan:{id:u.connectedPlanId,name:u.connectedPlanName,imgUrl:u.connectedPlanImageUrl,type:u.connectedPlanType},projectName:l.name,projectTeamId:l.teamId,projectId:l.id,resourceConnectionInvite:u.resourceConnectionInvite??void 0,isHostPlanAdmin:u.isHostPlanAdmin}}}))}}):A&&W?L.push({label:(0,y.t)("file_browser.folder_settings_modal.manage_connection"),description:(0,y.t)("file_browser.folder_settings_modal.manage_connection_description"),onClick:()=>{A&&i(P.to({type:X,data:{resourceConnectionInvite:{...A,hostPlan:{id:A.hostPlanId,name:A.hostPlanName,imgUrl:A.hostPlanImageUrl,type:A.hostPlanType},connectingPlan:{id:A.connectingPlanId,name:A.connectingPlanName,imgUrl:A.connectingPlanImageUrl,type:A.connectingPlanType},projectName:l.name,isHostPlanAdmin:A.isHostPlanAdmin}}}))}}):H&&L.push({label:(0,y.t)("file_browser.folder_settings_modal.connect_with_external_plan"),onClick:R,disabled:!!N,disabledMessage:(0,y.t)("file_browser.folder_settings_modal.tooltip.cannot_connect_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Connect Click",trackingProperties:{folderId:l.id}}),S?(O.isPlanMember||O.isPlanAdmin)&&L.push({label:(0,y.t)("project_menu.manage_transfer_request"),onClick:()=>{S&&i(P.to({type:(0,et.d)(),data:{pending:S&&{id:S.id,source_user_email:S.sourceUser?.email,destination_user_email:S.destinationUser?.email,is_transfer_copy:S.isTransferCopy},canRevokeProjectTransfer:S.isTransferCopy?O.canTransferCopy:O.canTransferExternally}}))}}):(A||u||!O.canTransferExternally||L.push({label:(0,y.t)("project_menu.transfer"),onClick:()=>{E?F(!1):M()},disabled:!!N,disabledMessage:(0,y.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}}),O.canTransferCopy&&L.push({label:(0,y.t)("project_menu.send_a_copy"),onClick:()=>{E?F(!0):M()},disabled:!!N,disabledMessage:(0,y.t)("file_browser.folder_settings_modal.tooltip.cannot_transfer_folder_with_team_asset_transfer_request"),trackingEventName:"Folder Transfer Copy Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}})),L.push({label:"",separator:!0}),O.canTrash&&L.push({label:(0,y.tx)("project_menu.move_to_trash"),onClick:()=>{let e=D();O.canSkipDeletionConfirmation&&!e?(s({folderId:l.id}).catch(()=>{i(v.s.error((0,y.t)("file_browser.api_folder.error_when_moving_to_trash")))}),t()):i(P.to({type:(0,ee.V)(),data:{folder:l,folderState:e}}))},noChevron:!0,trackingEventName:"Folder Trash Click",trackingProperties:{folderId:l.id,entryPoint:"Folder Settings Modal"}}),!O.canTrashWithReasons?.result&&O.canTrashWithReasons?.publicDenyReasons.includes(U.QK.CONNECTED_FOLDER_DENY_CAN_TRASH_DESPITE_CAN_MANAGE_LIFECYCLE)&&L.push({label:(0,y.tx)("project_menu.move_to_trash"),disabled:!0,disabledMessage:O.isPlanAdmin?(0,y.t)("file_browser.folder_settings_modal.tooltip.disconnect_folder_before_moving_to_trash"):(0,y.t)("file_browser.folder_settings_modal.tooltip.contact_your_admin_to_disconnect_folder_before_moving_to_trash"),noChevron:!0}),L},eu=(0,q.Ju)(function(e){let t;let r=i.hS({open:e.open,onClose:e.onClose}),{folderId:a}=e,_=(0,B.j6)(),u=(0,x.bc)(el.SWF,{projectId:a}),p=u.data?.project,h=e_(a,e.onClose),f=e=>()=>{!e.disabled&&(e.onClick&&e.onClick(),(e.trackingEventName||e.trackingProperties)&&(0,er.Cu)({..._.properties,trackingContext:e.trackingEventName||_.name,...e.trackingProperties}))};if(!p)return(0,n.jsx)(n.Fragment,{});let v=e=>e.disabled&&e.disabledMessage?{"data-tooltip":e.disabledMessage,"data-tooltip-type":ed.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-max-width":210,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{};return(0,n.jsx)(B.fu,{name:"Folder Settings Modal",properties:{folderId:p?.id},children:(0,n.jsx)(s.bL,{manager:r,width:"lg",children:(0,n.jsxs)(l.vo,{children:[(0,n.jsx)(l.Y9,{children:(0,n.jsx)(l.hE,{children:(0,y.tx)("file_browser.folder_settings_modal.settings")})}),(0,n.jsx)(l.nB,{scrolling:"manual",children:h&&(t=!1,h.slice().reverse().filter(e=>(t||e.separator||(t=!0),t||!e.separator)).reverse().filter((e,t,r)=>!e.separator||0===t||!r[t-1]?.separator)).map((e,t)=>{let r=e.disabled&&!e.noDisabledStyling,a=!e.noChevron&&!e.disabled,i=e.showNewBadge||a||r;return e.separator?(0,n.jsx)("div",{className:"folder_settings_modal--separator--19MvF"},t):(0,n.jsxs)(o.E,{className:m()("folder_settings_modal--settingsOption--zt1FW",e.disabled&&"folder_settings_modal--settingsOptionDisabled--lHgWj"),disabled:e.disabled,onClick:f(e),children:[(0,n.jsxs)("div",{className:b.s.flex.flexColumn.my6.$,children:[(0,n.jsx)("div",{className:m()("folder_settings_modal--optionLabel--ZvxkO",r&&b.s.colorTextSecondary.$),children:e.label}),e.description&&(0,n.jsx)("div",{className:"folder_settings_modal--optionDescription--i7lA7",children:e.description})]}),i&&(0,n.jsxs)("div",{className:"folder_settings_modal--rightSideOptions--pIWL8",children:[e.showNewBadge&&(0,n.jsx)(d.E,{variant:"brandFilled",children:(0,y.tx)("resource_connection.onboarding.new")}),a&&(0,n.jsx)("span",{className:"folder_settings_modal--iconContainer--9ZlTr",children:(0,n.jsx)(g.B,{svg:Y.A})}),r&&(0,n.jsx)("div",{className:"folder_settings_modal--infoIconWrapper--IsNDl",...v(e),children:(0,n.jsx)(c.B,{})})]})]},t)})})]})})})},"FolderSettingsModal")},195112:(e,t,r)=>{r.d(t,{B:()=>l});var n=r(104076);if(443==r.j)var a=r(73795);var i=r(120440),s=r(171660);function l({truncate:e=!1,children:t}){return(0,n.jsx)(s.E,{truncate:e,children:(0,n.jsx)("span",{...i.Ay.props(a.g.textBodyMedium),children:t})})}},745790:(e,t,r)=>{r.d(t,{m3:()=>y,RI:()=>j,_S:()=>w});var n=r(104076),a=r(716976),i=r(237420),s=r(511570),l=r.n(s),o=r(555013),d=r(192075),c=r(147046),_=r(366535),u=r(569711),m=r(598574),p=r(657878),h=r(325306),x=r(562311),f=r(904017),g=r(613936),b=r(807372);let v="org_team_action--showBlueBorder--W-9zt";function y(e){let[t,r]=a.useState(!1),s=(0,i.wA)(),_=(0,i.d4)(e=>e.teamRoleRequests),u=(0,i.d4)(e=>e.currentUserOrgId),m=(0,i.d4)(e=>(0,x.getPermissionsState)(e)),g=(0,p._6)(),b=(0,f.px)(),y=(0,f.j_)(b).unwrapOr(!1),T=(0,h.YP)(e.team,_[e.team.id],m,y),C=t=>{t.stopPropagation(),t.preventDefault(),s(c.oB()),null!=T&&w({type:T,team:e.team,onLeave:e.onLeave,onJoin:e.onJoin,onJoinAsAdmin:e.onJoinAsAdmin,dispatch:s,teamRoleRequest:_[e.team.id]})},k=()=>{r(!0)},E=()=>{r(!1)};if(g?.view==="search"&&e.team.org_id!==u||null===T||T===h.gO.CLICK_JOIN||T===h.gO.CLICK_JOIN_AS_ADMIN)return(0,n.jsx)(n.Fragment,{});let I=j({type:T,overrideLeaveText:t||e.isCardActive?(0,d.t)("team_list.org_join_status_leave"):void 0}),A={className:(()=>{switch(T){case h.gO.CLICK_LEAVE:return l()("org_team_action--buttonNegative--jWoqq org_team_action--actionButton--2k4Cm button_styles--button--vl9vc",v);case h.gO.CLICK_REQUEST:return l()("org_team_action--requestButton--rrIM7 org_team_action--requestButton--rrIM7 org_team_action--actionButton--2k4Cm button_styles--button--vl9vc",v);default:return l()("org_team_action--actionButton--2k4Cm button_styles--button--vl9vc",v)}})(),onClick:C,onMouseOver:k,onMouseLeave:E,children:I};return T===h.gO.CLICK_LEAVE?(0,n.jsx)(o.s6,{className:A.className,onClick:C,onMouseOver:k,onMouseLeave:E,"aria-describedby":e.titleId,children:I}):(0,n.jsx)(o.nR,{...A,"aria-describedby":e.titleId})}function j({type:e,overrideLeaveText:t}){switch(e){case h.gO.CLICK_LEAVE:if(t)return t;return(0,d.t)("team_list.org_join_status_joined");case h.gO.CLICK_WITHDRAW:return(0,d.t)("teams_table.cancel_join_request");case h.gO.CLICK_JOIN:return(0,d.t)("teams_table.join_team");case h.gO.CLICK_JOIN_AS_ADMIN:return(0,d.t)("teams_table.join_team_as_admin");case h.gO.BYPASS_REQUEST:return(0,d.t)("teams_table.join_team_as_owner");case h.gO.CLICK_REQUEST:return(0,d.t)("teams_table.ask_to_join")}}function w({type:e,team:t,teamRoleRequest:r,onLeave:n,onJoin:a,onJoinAsAdmin:i,dispatch:s}){switch(e){case h.gO.CLICK_LEAVE:n(t);return;case h.gO.CLICK_WITHDRAW:r&&s(u.lT({requestId:r.id}));return;case h.gO.CLICK_JOIN:a?.(t.id);return;case h.gO.CLICK_JOIN_AS_ADMIN:i?.(t.id);return;case h.gO.BYPASS_REQUEST:(0,m.GR)(s,t.id,g.e6.OWNER)();return;case h.gO.CLICK_REQUEST:s(_.to({type:b.$,data:{team:t}}));return}}},922939:(e,t,r)=>{r.d(t,{W:()=>l});var n=r(104076),a=r(716976),i=r(679359),s=r(745790);class l extends a.Component{constructor(){super(...arguments),this.state={isJoining:!1,isRedirecting:!1},this.onJoin=e=>{this.setState({isJoining:!0},()=>{this.props.onJoin&&this.props.onJoin(e)})}}componentDidUpdate(e){!(e.isCurrentUserInTeam&&!e.isLoading)&&this.props.isCurrentUserInTeam&&!this.props.isLoading&&this.state.isJoining&&this.setState({isRedirecting:!0},()=>{this.props.onOpenTeam()})}render(){let e=this.props.isLoading||this.state.isRedirecting;return(0,n.jsxs)("div",{className:e?"redirecting_org_team_action--containerLoading--MCEAV redirecting_org_team_action--_container--2dOl4":"redirecting_org_team_action--container--XlCia redirecting_org_team_action--_container--2dOl4",children:[(0,n.jsx)("div",{className:`redirecting_org_team_action--spinner--2rFX8 ${this.props.spinnerClassName||""}`,children:e&&(0,n.jsx)(i.kt,{})}),(0,n.jsx)("div",{className:"redirecting_org_team_action--button--ISpcA",children:(0,n.jsx)(s.m3,{...this.props,onJoin:this.onJoin})})]})}}},768823:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(392243);function a(e){return{folderName:(0,n.CI)(e),folderTeamName:e.parent_team?.name??null,folderLastUpdated:new Date(e.touched_at),folderSharedAt:e.shared_at?new Date(e.shared_at):null}}},913582:(e,t,r)=>{r.d(t,{F:()=>A,W:()=>S});var n=r(104076),a=r(237420),i=r(333331);if(443==r.j)var s=r(983500);var l=r(449572);if(443==r.j)var o=r(256384);var d=r(192075);if(443==r.j)var c=r(837007);if(443==r.j)var _=r(901532);var u=r(745790),m=r(50536),p=r(147046),h=r(366535),x=r(598574),f=r(944350),g=r(59849),b=r(325306),v=r(562311),y=r(104836),j=r(613936),w=r(278151),T=r(507665),C=r(346886),k=r(470949),E=r(627712),I=r(404343);function A(){let e=(0,a.d4)(e=>(0,v.getPermissionsState)(e)),t=(0,a.d4)(e=>e.selectedView),r=(0,a.d4)(e=>e.teamRoleRequests),n=(0,a.wA)(),i=(0,_.s)();return({onRenameClick:a,onChangeTeamIconClick:l,selectedTeamPermissions:c,team:_,shouldBlockTeamActionsDuringDTMMigration:g})=>{let v=()=>{n(p.oB()),n(h.to({type:E.p,data:{teamId:_.id}}))},y=(0,x.GR)(n,_.id),C=(0,x.GR)(n,_.id,j.e6.ADMIN),A=e=>{n(h.to({type:E.p,data:{teamId:e.id}}))},S=()=>{n(p.oB());let e=!!_.org_id,t=e=>{n(h.to({type:k.H,data:{team:_,subscriptionStatus:e}}))};e?t(!0):T.$.getSubscriptionStatus({teamId:_.id}).then(({data:e})=>{t(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&n(o.s.error(e.data.message))})},N=e.roles.byTeamId[_.id]||{},R=Object.keys(N).filter(e=>!N[e].pending).length,O=c.canAdminOrg,D=_?.org_access===f.bU.PUBLIC||R>1,F=window.innerWidth<=(0,s.hG)(I.tgj),M=[];if(M.push({displayText:(0,d.t)("file_browser.copy_link"),onClick:()=>{let e=(0,w.bL)(_.id,_.org_id);n(m.S({url:e,linkType:"team"}))}}),"search"===t.view&&_.org_id!==e.currentUserOrgId)return[{key:"search",items:M}];F&&M.push({displayText:(0,d.t)("file_browser.team.invite"),onClick:()=>{i({teamId:_.id,canAdmin:c.canAdmin})}}),c.canAdmin&&M.push({displayText:(0,d.t)("team_view.toolbar.rename"),onClick:()=>{n(p.oB()),a&&a(_)}}),c.canAdmin&&l&&M.push({displayText:(0,d.t)("team_view.toolbar.change_icon"),onClick:()=>{n(p.oB()),l&&l(_)}});let L=[{key:"default",items:M}],P=(()=>{let t=[];if(c.isInTeam)D&&t.push({displayText:(0,d.t)("team_view.toolbar.leave_team"),onClick:v});else if(_.org_id){let a=(0,b.YP)(_,r[_.id],e,O);null!=a&&a!==b.gO.CLICK_JOIN&&t.push({displayText:(0,u.RI)({type:a,overrideLeaveText:(0,d.t)("teams_table.leave_team")}),onClick:()=>{(0,u._S)({type:a,team:_,teamRoleRequest:r[_.id],onLeave:A,onJoin:y,onJoinAsAdmin:C,dispatch:n})}})}return c.canDelete&&t.push({displayText:(0,d.t)("team_view.toolbar.delete_team"),onClick:g?()=>{}:S,disabled:g}),t})();return P.length>0&&L.push({key:"admin",items:P}),L}}function S({className:e,team:t,onRenameClick:r,onChangeTeamIconClick:s,selectedTeamPermissions:o}){let d=(0,a.d4)(e=>e.dropdownShown),_=(0,a.wA)(),u=A(),m=(0,y.PS)(t),p=(0,l.Rs)(g.InN,{},{enabled:m}),h=(0,i.oA)(p.data?.personalDraftToPlanDraftLocation),x=h?.planParentId===t.id&&h?.status==="started";if(!o)return null;let f=u({team:t,onRenameClick:r,onChangeTeamIconClick:s,selectedTeamPermissions:o,shouldBlockTeamActionsDuringDTMMigration:x});return(0,n.jsx)(C.j,{className:e,items:(0,c.o)(f),parentRect:d?.data?.targetRect,showPoint:!1,lean:"right",dispatch:_,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},_,t)},autofocusPrevOnDismount:!0})}},19320:(e,t,r)=>{r.d(t,{C:()=>o});var n=r(104076);if(443==r.j)var a=r(293422);if(443==r.j)var i=r(536358);r(120440);var s=r(192075),l=r(385641);function o(e){return(0,n.jsxs)("div",{className:l.p$,children:[(0,n.jsx)("div",{className:l._U,children:(0,s.tx)("team_tile.no_teams.title")}),e.onCreateTeam&&(0,n.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xou54vl",children:[(0,n.jsx)("p",{children:(0,s.tx)("team_tile.no_teams.info")}),(0,n.jsx)(a.$n,{onClick:e.onCreateTeam,variant:"secondary",iconPrefix:(0,n.jsx)(i.e,{}),children:(0,s.tx)("team_tile.no_teams.create_team_button")})]})]})}},335331:(e,t,r)=>{r.d(t,{w:()=>ew});var n=r(104076),a=r(716976),i=r(237420);r(120440);var s=r(460347),l=r(219199),o=r(221586),d=r(256384),c=r(111679),_=r(744153),u=r(657853),m=r(703605),p=r(913582),h=r(19320),x=r(936031),f=r(286138),g=r(307829),b=r(740681),v=r(812714),y=r(236631),j=r(192075),w=r(142914),T=r(171660),C=r(354925),k=r(114647),E=r(726105),I=r(922939),A=r(692557),S=r(94650),N=r(708412),R=r(147046),O=r(366535),D=r(249586),F=r(937505),M=r(760437),L=r(944350),P=r(530299),B=r(422253),U=r(325306),z=r(904017),H=r(349311),W=r(807372),q=r(503099),V=r(385641),G=r(240681);function K({team:e,titleId:t}){let r,a,i;return e.org_access===L.bU.PRIVATE?(r=(0,j.t)("file_browser.team_header.closed_team_header"),a=(0,j.t)("file_browser.team_header.closed_team_subtitle"),i=(0,j.t)("file_browser.team_header.closed_team_sr_only_text")):e.org_access===L.bU.SECRET&&(a=(0,j.t)("file_browser.team_header.secret_team_subtitle"),r=(0,j.t)("file_browser.team_header.secret_team_header"),i=(0,j.t)("file_browser.team_header.secret_team_sr_only_text")),(0,n.jsxs)("span",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[(0,n.jsx)(T.E,{fontWeight:"medium",fontSize:13,fontFamily:"primary",truncate:"end",children:(0,n.jsx)("span",{id:t,children:e.name})}),e.org_access===L.bU.PRIVATE||e.org_access===L.bU.SECRET?(0,n.jsxs)(x.HG,{children:[(0,n.jsx)(f.E,{children:i}),(0,n.jsx)("div",{"data-tooltip-type":H.Ib.TEXT,"data-tooltip":r,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":a,children:(0,n.jsx)(b.s,{})})]}):void 0]})}function $({team:e,inSearchView:t,isCurrentUserInTeam:r}){let a=(0,B.x)(),s=(0,i.d4)(e=>e.orgById),l=e.member_count??0,o=e.org_id&&s[e.org_id]||e.id&&a[e.id],d=(0,j.tx)("team_tile.members_count",{numMembers:l});return(0,n.jsxs)("div",{className:y.s.flex.flexRow.itemsCenter.$,children:[t&&o&&(0,n.jsx)(q.H,{entityId:o.id,entityName:o.name,imgUrl:o.img_url}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,j.tx)("team_list.org_join_status_joined"),(0,n.jsx)("span",{children:"\xa0\xb7\xa0"})]}),(0,n.jsx)("span",{children:d})]})}let Y=a.forwardRef(function({team:e,teamPermissions:t,isSelected:r,onJoin:s,onLeave:l,cardRole:o,onClick:d,onFocus:_,onBlur:u,draggable:m},p){let h=(0,i.wA)(),x=a.useId(),f=(0,i.d4)(e=>e.currentUserOrgId),b=(0,F.FC)(),y=(0,i.d4)(({selectedView:e})=>e),j=(0,i.d4)(e=>e.loadingState),T=(0,A.Y)(e.id,L.bk.TEAM,f),B=a.useMemo(()=>"loaded"===T.status&&void 0!==T.favorite,[T]),H=g.b(),q=(0,z.No)().unwrapOr(null),Y=(0,M.y)(q?.planRecordId),J=t?.isInTeam??!1,X=t?.canView??!1,Q=e=>{h(O.to({type:W.$,data:{team:e}}))},Z=(0,E.l)(),ee=a.useCallback(({favoriteId:t,sectionId:r})=>{h(N.DN({team:e,entrypoint:"org_browse_teams_view",sectionId:r,favoriteId:t}))},[h,e]),et=a.useCallback(({favoriteId:t})=>{h(N.ox({team:e,entrypoint:"org_browse_teams_view",favoriteId:t}))},[h,e]),er=(0,n.jsxs)("div",{className:"x78zum5 xg2d0mh",children:[(0,n.jsx)(C.R.Overlay,{children:(0,n.jsx)(I.W,{team:e,isCurrentUserInTeam:J,isLoading:(0,P.VP)(j,(0,U.p9)(e.id)),onOpenTeam:()=>{if(!X){Q(e);return}(0,D._J)("file_browser_team_click",e.id,b,{selectedView:"recentsAndSharing"===y.view?y.tab:y.view,viewMode:"grid"}),h(c.kg({clickedResourceType:"team",resourceIdOrKey:e.id})),(0,v.kc)().file_browser_search_panel_fpl_migration?Z(e):h(R.sf({view:"team",teamId:e.id}))},onJoin:s,onLeave:l,spinnerClassName:V.Ys,titleId:x,isCardActive:!0})}),f&&X&&(0,n.jsx)(C.R.Overlay,{isHoverContentVisibleOverride:B,children:(0,n.jsx)(S.H,{favoriteStarMenu:H,setFavorite:ee,removeFavorite:et,favoriteType:L.bk.TEAM,resourceId:e.id,orgId:e.org_id})})]}),en=(0,n.jsx)(K,{team:e,titleId:x}),ea=(0,n.jsx)($,{team:e,inSearchView:"search"===y.view,isCurrentUserInTeam:J});return(0,n.jsx)(k.P,{ref:p,ariaCurrent:r,cardRole:o,draggable:m,iconImage:(0,n.jsx)(w.nl,{team:e,size:40,avatarSvg:Y?void 0:G.A}),isHoverContentVisibleOverride:H.manager.isOpen,isSelected:r,onBlur:u,onClick:d,onFocus:_,subtitle:ea,title:en,topRightContent:er})});var J=r(598574),X=r(506192),Q=r(288747),Z=r(657878),ee=r(278151),et=r(507665),er=r(470949),en=r(627712),ea=r(449572),ei=r(115989),es=r(825649),el=r(195112),eo=r(259936),ed=r(59849),ec=r(826160),e_=r(575617);let eu={field:ee.o6.NAME,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_name_column"),renderStaticRowCell:e=>(0,n.jsx)("div",{className:e_.s,children:(0,n.jsx)(ec.rE,{entity:e,size:10,hideFallbackInitial:!0,onClick:void 0},e.id)})},em={field:ee.o6.MEMBER_COUNT,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_member_column"),renderStaticRowCell:e=>(0,n.jsx)(el.B,{children:e.member_count})},ep={field:ee.o6.LAST_MODIFIED,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_updated_column"),renderStaticRowCell:e=>{let t=e.team_last_touched_at;return(0,n.jsx)(el.B,{children:t?(0,n.jsx)(ei.h1,{date:t}):"\u2013"})}},eh={field:ee.o6.CREATED_AT,renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_created_column"),renderStaticRowCell:e=>(0,n.jsx)(el.B,{children:(0,n.jsx)(ei.h1,{date:e.created_at})})};function ex(e){let t=e.team,r=(0,ea.bc)(ed.y_L,{teamId:t.id}),a=(0,s.dr)([t]),[i,l]=a.teams.transform(e=>{let r=e[t.id];return r?[r.canView,r.isInTeam]:[!1,!1]}).unwrapOr([!1,!1]),d=!1,c=!1;if("loaded"===r.status&&r.data?.team){let e=(0,s.ci)(r.data.team);d=e.canView,c=e.isInTeam}(0,eo.u8)({oldValue:[d,c],newValue:[i,l],label:eo.A5.TeamsItemsView.orgTeamActionListView,oldValueReady:"loaded"===r.status,newValueReady:"loaded"===a.teams.status});let{onClick:_,onJoin:u,onLeave:m}=(0,es.A)(t.id,d),p=(0,F.FC)(),h=(0,Z._6)(),x=(0,o.Gc)(e=>{e.preventDefault(),(0,D._J)("file_browser_team_click",t.id,p,{selectedView:"recentsAndSharing"===h.view?h.tab:h.view,viewMode:"list"}),_()});return(0,n.jsx)(I.W,{titleId:e.titleId,team:t,isCurrentUserInTeam:c,isLoading:"loaded"!==r.status,onOpenTeam:x,onJoin:u,onLeave:m,isCardActive:!1})}let ef={renderHeaderCell:()=>(0,j.t)("file_browser.team_list_view.header_action_column"),renderInteractiveRowCell:(e,{mainContentId:t})=>(0,n.jsx)(ex,{team:e,titleId:t})};var eg=r(951002),eb=r(671032),ev=r(456877);let ey=e=>{switch(e){case ev.qm.NAME:return ee.o6.NAME;case ev.qm.CREATED_AT:return ee.o6.CREATED_AT;case ev.qm.FILES_LAST_TOUCHED_AT:return ee.o6.LAST_MODIFIED;case ev.qm.MEMBER_COUNT:return ee.o6.MEMBER_COUNT;default:return ee.o6.NAME}},ej=e=>{switch(e){case ee.o6.NAME:return ev.qm.NAME;case ee.o6.CREATED_AT:return ev.qm.CREATED_AT;case ee.o6.LAST_MODIFIED:return ev.qm.FILES_LAST_TOUCHED_AT;case ee.o6.MEMBER_COUNT:return ev.qm.MEMBER_COUNT;case ee.o6.ACTION:return null;default:return(0,eg.d_)("Should not try to sort by any other key in search list view"),null}};function ew(e){let t=(0,Q.dq)(),r=(0,i.d4)(e=>e.teams),x=(0,Z._6)(),f=e.orgTeams,g=(0,i.wA)(),{showing:b,show:v,data:y}=(0,X.BK)(_.RQ),j=a.useCallback((e,t)=>{v({data:{team:e[0],targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}})},[v]),w=e=>(0,J.GR)(g,e)(),T=e=>{g(O.to({type:en.p,data:{teamId:e.id}}))},C=a.useCallback(e=>{g(O.to({type:(0,u.h)(),data:{team:e}}))},[g]),[k,E]=a.useState([]),I=(0,s.dr)(k),{currentSort:A,sortBy:S}=function(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.search.parameters.sortState);return{currentSort:{field:ey(t.teams.sortKey),isDescending:t.teams.sortDesc},sortBy:r=>{let n=ej(r);if(!n)return;let a={...t,[ev.uH.TEAMS]:{sortKey:n,sortDesc:t.teams.sortKey!==n||!t.teams.sortDesc}};e(eb.qv({sortState:a}))}}}(),N=y?.team?.id,F=N?I.teams.unwrapOr({})[N]:void 0,M=a.useCallback((n,a)=>{if(!I.teams.transform(e=>{let t=e[n.id];return!t||t.canView}).unwrapOr(!0)){g(O.to({type:W.$,data:{team:n}}));return}if((0,D._J)("file_browser_team_click",n.id,{teams:r,orgTeams:e.orgTeamStatus?{status:e.orgTeamStatus,teams:f}:void 0},{selectedView:"recentsAndSharing"===x.view?x.tab:x.view,viewMode:"grid"}),(0,o.oJ)(a)){let e=(0,ee.bL)(n.id,t);l.Ay.redirect(e,"_blank"),a.stopPropagation();return}g(c.kg({clickedResourceType:"team",resourceIdOrKey:n.id})),g(R.sf({view:"team",teamId:n.id})),a.stopPropagation(),a.preventDefault()},[t,g,x,I,e.orgTeamStatus,f,r]),L=a.useCallback(e=>{if(1!==e.length)return;let t=e[0];if(!I.teams.data?.[t.id]?.canAdmin)return;g(R.oB());let r=!!t.org_id,n=e=>{g(O.to({type:er.H,data:{team:t,subscriptionStatus:e}}))};r?n(!0):et.$.getSubscriptionStatus({teamId:t.id}).then(({data:e})=>{n(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{e.data?.message&&g(d.s.error(e.data.message))})},[g,I]),{columns:P}={columns:[eu,ep,eh,em,ef]};return!e.orgTeams||Array.isArray(e.orgTeams)&&!e.orgTeams.length?(0,n.jsx)("div",{className:e_.d,children:e.emptyView??(0,n.jsx)(h.C,{onCreateTeam:e.onCreateTeam})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.A,{getAriaLabel:e=>e.name,gridViewProps:{containerStyle:eT.gridPadding,renderCard:({ref:e,item:t,isSelected:r,role:a,onFocus:i,onClick:s,onBlur:l})=>(0,n.jsx)(Y,{ref:e,cardRole:a,isSelected:r,onBlur:l,onClick:s,onFocus:i,onJoin:w,onLeave:T,team:t,teamPermissions:I.teams.data?.[t.id]},`TeamGridCard-${t.id}`)},handleContextMenu:j,handleDeleteKey:L,handleOpenItem:M,isDraggable:!1,items:f,listViewProps:{columns:P,currentSort:A,handleSortBy:S},multiselectDisabled:!0,updateRenderedItems:E,viewType:e.viewType}),b&&F&&(0,n.jsx)(p.W,{team:y.team,onRenameClick:C,selectedTeamPermissions:F})]})}let eT={gridPadding:{kE3dHu:"x1nz7w5u",kpe85a:"xyx8554",kZCmMZ:null,kwRFfy:null,kGO01o:"xpezlj7",$$css:!0}}},938607:(e,t,r)=>{r.d(t,{i:()=>i});var n=r(104076);r(120440);var a=r(171660);function i({thumbnail:e,title:t,subtitle:r,bottomLeftIcon:i,topLeftContent:s,topRightContent:l,bottomRightContent:o,isHovered:d,onFocus:c,onBlur:_}){return(0,n.jsxs)("div",{className:"x78zum5 xdt5ytf",onFocus:c,onBlur:_,children:[(0,n.jsxs)("div",{className:"x1n2onr6",children:[e,(0,n.jsxs)("div",{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619",children:[s?(0,n.jsx)("div",{className:"xs83m0k xb3r6kr xeuugli",children:s}):null,l?(0,n.jsx)("div",{className:"xs83m0k x13qp9f6",children:l}):null]})]}),(0,n.jsxs)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1yjdb4r x1y0btm7 x178xt8z x7z60cl"},1:{className:"x78zum5 x1q0g3np x6s0dn4 xnm25rq xyfqnmn xz9dl7a xsag5q8 x1v2ro7d x1y0btm7 x178xt8z x7z60cl x30nh5c"}}[!!d<<0],children:[i,(0,n.jsxs)("div",{className:"x1iyjqo2 x1r8uery x78zum5 xdt5ytf x195vfkc xb3r6kr",children:[(0,n.jsx)(a.E,{truncate:!0,color:"default",children:(0,n.jsx)("span",{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:t})}),(0,n.jsx)(a.E,{truncate:!0,color:"secondary",children:(0,n.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:r})})]}),o]})]})}},398990:(e,t,r)=>{r.d(t,{d:()=>te});var n=r(104076),a=r(716976),i=r(237420),s=r(951002),l=r(812714),o=r(795033),d=r(120440),c=r(485566),_=r(748860),u=r(120191),m=r(225125),p=r(577737),h=r(256384),x=r(192075),f=r(874916),g=r(703605),b=r(42570),v=r(701299),y=r(707026),j=r(288747),w=r(657878),T=r(42995),C=r(132711),k=r(863062),E=r(842433);function I(e){let t=(0,w._6)();return A(e,(0,j.dq)())&&S(t)}function A(e,t){return e.type!==y.nb.OFFLINE_FILE&&y.Tf.getOrgId(e)===t}function S(e){return"deletedFiles"!==e.view}var N=r(919073),R=r(236631),O=r(171660);function D(e){return(0,n.jsxs)("div",{className:R.s.gap8.h40.flex.flexRow.itemsCenter.$,children:[(0,n.jsx)("div",{className:"tile_drag_image--thumbnailContainer--1rhVM",children:(0,n.jsx)(p.e,{tile:e.tile,size:N.y.SMALL,borderRadius:4,hideUntilLoaded:!1})}),(0,n.jsx)(O.E,{fontSize:13,truncate:!0,fontWeight:"medium",children:y.Tf.getName(e.tile)})]})}var F=r(307829),M=r(962856),L=r(240831);let P=(0,a.memo)(function(e){return(0,L.O)()?(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h2a.5.5 0 1 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3a.5.5 0 0 1 0-1h3a4 4 0 0 0 .79-7.922zm-4.69 1.219a.5.5 0 0 0-.707 0l-2.5 2.5a.5.5 0 1 0 .708.707l1.646-1.647V19a.5.5 0 1 0 1 0v-6.293l1.646 1.647a.5.5 0 0 0 .708-.707z",clipRule:"evenodd"})}):(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,n.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m17.043 9.928-.055-.759a4.5 4.5 0 0 0-8.504-1.703l-.257.507-.567.038A5 5 0 0 0 8 18h1.5a.5.5 0 0 1 0 1H8a6 6 0 0 1-.407-11.986 5.5 5.5 0 0 1 10.393 2.083A5.002 5.002 0 0 1 17 19h-3.5a.5.5 0 0 1 0-1H17a4 4 0 0 0 .79-7.922zm-5.19 1.218a.5.5 0 0 0-.707 0l-3 3a.5.5 0 0 0 .708.708L11 12.707V19.5a.5.5 0 0 0 1 0v-6.793l2.146 2.147a.5.5 0 0 0 .708-.708z",clipRule:"evenodd"})})});var B=r(944082),U=r(790009),z=r(397261),H=r(354925),W=r(936031);let q=a.forwardRef(function({thumbnail:e,title:t,subtitle:r,bottomLeftIcon:a,topLeftContent:i,topRightContent:s,bottomRightContent:l,isSelected:o,onClick:d,cardRole:c,onFocus:_,onBlur:u,draggable:m,isHoverContentVisibleOverride:p},h){return(0,n.jsxs)(H.R.Root,{isSelected:!!o,ref:h,onClick:d,onFocus:_,onBlur:u,cardRole:c,draggable:m,isHoverContentVisibleOverride:p,children:[(0,n.jsxs)("div",{className:"x1n2onr6",children:[e,(0,n.jsxs)("div",{className:"x78zum5 x1q0g3np x1cy8zhl xou54vl x1qughib x10l6tqk xu96u03 x13vifvy x3m8u43 x1tamke2 xb3r6kr xeuugli x98rzlu x9f619",children:[i&&(0,n.jsx)(W.HG,{className:"xb3r6kr xeuugli",children:i}),s&&(0,n.jsx)(W.HG,{className:"x13qp9f6",children:s})]})]}),(0,n.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x1gcgh60 x1jwbysl x1xvsi7n xdmjnt8 x1pulhmw x1yjdb4r x1y0btm7 x178xt8z x7z60cl",children:[(0,n.jsx)(W.HG,{children:a}),(0,n.jsxs)("div",{className:"x98rzlu x78zum5 xdt5ytf x195vfkc xb3r6kr",children:[(0,n.jsx)(H.R.Title,{children:t}),(0,n.jsx)(W.HG,{children:(0,n.jsx)(H.R.Subtitle,{children:r})})]}),(0,n.jsx)(W.HG,{children:l})]})]})});var V=r(34952),G=r(396434),K=r(153436),$=r(592726),Y=r(645083),J=r(987080);function X(e){let t=y.Tf.getFileOrSelectedBranchKey(e.tile)||"",r=(0,$.Pc)(),a=Object.values((0,i.d4)((0,Y.Z)(t)));return a.length?(0,n.jsx)(J.W,{entityList:a,maxNumHeads:3,currentUser:r,overlapped:!0}):null}var Q=r(94650),Z=r(708412),ee=r(407261);function et(e){let t=(0,i.wA)(),r=a.useCallback(({favoriteId:r,sectionId:n})=>{t(Z.EX({entrypoint:e.entrypoint,favoriteId:r,sectionId:n,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),s=a.useCallback(({favoriteId:r})=>{t(Z.dy({entrypoint:e.entrypoint,favoriteId:r,tile:e.tile,fileBrowserEntryPoint:!0}))},[t,e.tile,e.entrypoint]),l=y.Tf.getOrgId(e.tile)??null,o=y.Tf.getFavoriteResourceTeamId(e.tile)??null;return(0,ee.jm)(l,o)?(0,n.jsx)(Q.H,{favoriteStarMenu:e.favoriteStarMenu,setFavorite:r,removeFavorite:s,favoriteType:y.Tf.getFavoritedResourceType(e.tile),resourceId:y.Tf.getFavoriteResourceId(e.tile)||"",orgId:y.Tf.getOrgId(e.tile)??null,teamId:y.Tf.getFavoriteResourceTeamId(e.tile)??null}):(0,n.jsx)(n.Fragment,{})}var er=r(503099);function en(e){let t=(0,i.d4)(e=>e.orgById),r=y.Tf.getOrgId(e.tile);if(!r)return(0,n.jsx)(n.Fragment,{});let a=t[r];return a?(0,n.jsx)(er.H,{entityId:r,entityName:a.name,imgUrl:a.img_url,size:e.size}):(0,n.jsx)(n.Fragment,{})}var ea=r(684742),ei=r(939354),es=r(796110),el=r(115989);function eo(e){let t=e.getDateFromGenericTile(e.tile),r=(0,el.Ak)(t);return(0,n.jsx)(n.Fragment,{children:r??"--"})}function ed(e){let t=(0,$.TA)(),r=y.Tf.getTrashedUserId(e.tile),a=(0,n.jsx)(eo,{tile:e.tile,getDateFromGenericTile:y.Tf.getTrashedAt});return r&&r===t?(0,x.tx)("tile.file_tile.trashed_by_you",{time:a}):(0,x.tx)("tile.file_tile.trashed_generic",{time:a})}function ec({tile:e,selectedView:t,hideBranchIndicator:r}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e_,{tile:e,hideBranchIndicator:r}),(0,n.jsx)(eu,{tile:e,selectedView:t})]})}function e_(e){let t=e.tile.type===y.nb.REPO&&e.tile.branches.filter(e=>!e.trashed_at).length||0;return!e.hideBranchIndicator&&t>1?(0,n.jsxs)(n.Fragment,{children:[(0,x.tx)("tile.file_tile.branch_count",{branchCount:t}),"\xa0\xb7\xa0"]}):(0,n.jsx)(ep,{tile:e.tile})}function eu(e){let t=(0,x.tx)("tile.file_tile.edited_time",{time:(0,n.jsx)(eo,{tile:e.tile,getDateFromGenericTile:y.Tf.getTouchedAt})});return"deletedFiles"===e.selectedView.view?(0,n.jsx)(ed,{tile:e.tile}):"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===k.Gw.SHARED_FILES?y.Tf.getSharedBy(e.tile)?(0,x.tx)("team_tile.shared_by",{shared_by_text:y.Tf.getSharedByName(e.tile)}):(0,x.tx)("swy_tile.shared_date",{shared_date:(0,n.jsx)(eo,{tile:e.tile,getDateFromGenericTile:y.Tf.getSharedAt})}):"user"===e.selectedView.view?(0,x.tx)("tile.file_tile.last_activity_time",{time:(0,n.jsx)(eo,{tile:e.tile,getDateFromGenericTile:y.Tf.getTouchedAt})}):e.tile.type===y.nb.FILE&&e.tile.file.trackTags?.source==="import"&&new Date(e.tile.file.touchedAt)<=e.tile.file.createdAt?(0,x.tx)("tile.file_tile.imported_time",{time:(0,n.jsx)(eo,{tile:e.tile,getDateFromGenericTile:y.Tf.getCreatedAt})}):y.Tf.getIsPasswordProtected(e.tile)?(0,n.jsx)(em,{tile:e.tile,defaultText:t}):t}function em(e){let t=(0,o.md)((0,y.hi)({tile:e.tile}));if("loading"===t.status)return null;if(!t.data)switch(e.tile.type){case y.nb.FILE:case y.nb.REPO:case y.nb.PINNED_FILE:case y.nb.OFFLINE_FILE:return(0,x.tx)("tile.file_tile.password_protected");case y.nb.PROTOTYPE:return(0,x.tx)("tile.file_tile.password_protected_prototype");default:(0,s.xb)(e.tile)}return(0,n.jsxs)(n.Fragment,{children:[(0,x.tx)("tile.file_tile.password_protected_shorter")," \xb7 ",e.defaultText]})}function ep(e){let t=y.Tf.getFolderId(e.tile),r=(0,es.h)(t),a=r.data?.folderName||null,i=r.data?.isTrashed||!1,s=(0,ei.EB)();return"loaded"===r.status&&a&&t?i?(0,n.jsxs)(n.Fragment,{children:[a,"\xa0",(0,x.t)("file_browser.folder.trashed_folder"),"\xa0\xb7\xa0"]}):(0,n.jsxs)("span",{children:[(0,n.jsx)(ea.E,{onClick:e=>{e.stopPropagation(),s(t,e)},className:"x1n0bwc9 xt0b8zv x1kuswnt",children:a}),"\xa0\xb7\xa0"]}):null}var eh=r(304797),ex=r(349311),ef=r(901014),eg=r(550012),eb=r(536358),ev=r(240941),ey=r(390579),ej=r(679500),ew=r(20940),eT=r(364017),eC=r(893393),ek=r(563554);function eE({branch:e}){return(0,n.jsx)(eg.CU,{value:e.key,children:e.name})}function eI({sourceFileKey:e,createBranchStatus:t,dispatch:r}){return(0,n.jsxs)(F.q7,{onClick:()=>{let n=ek.e0.FILE_BROWSER;switch(t){case"upsell-org":r(ej.j({trackingContextName:n}));break;case"enabled":r(ej.l({trackingContextName:n,sourceFileKey:e,dispatchedFromEditor:!1}));break;case"disabled":break;default:(0,s.xb)(t)}},disabled:"disabled"===t,children:[(0,n.jsx)(F.Q$,{children:(0,n.jsx)(eb.e,{})}),(0,x.t)("tile.branching.create_new_branch")]})}function eA({branches:e,selectedBranchKey:t,sourceFileKey:r,onSelectBranch:i,createBranchStatus:s,dispatch:l}){let{mainBranches:o,ownedBranches:d,submenuBranches:c}=a.useMemo(()=>{let t=[],r=[],n=[];for(let a of e)a.isMain?t.push(a):a.ownedByUser?r.push(a):n.push(a);return{mainBranches:t,ownedBranches:r,submenuBranches:n}},[e]);return(0,n.jsxs)(F.mc,{rareUseIndentOptOut:!0,children:[(0,n.jsxs)(eg.z6,{value:t,onChange:i,title:(0,n.jsx)(F.r1,{children:(0,x.t)("tile.branching.change_default_branch")}),children:[o.map(e=>(0,n.jsx)(eE,{branch:e},e.key)),d.map(e=>(0,n.jsx)(eE,{branch:e},e.key))]}),"hidden"!==s.status&&c.length>0?(0,n.jsx)(F.YJ,{children:(0,n.jsxs)(F.g8,{children:[(0,n.jsx)(F.ZP,{children:(0,x.t)("tile.branching.see_all_branches")}),(0,n.jsx)(F.MJ,{children:(0,n.jsx)(eg.z6,{value:t,onChange:i,title:(0,n.jsx)(F.r1,{children:(0,x.t)("tile.branching.see_all_branches")}),children:c.map(e=>(0,n.jsx)(eE,{branch:e},e.key))})})]})}):null,"hidden"!==s.status&&r?(0,n.jsx)(eI,{sourceFileKey:r,createBranchStatus:s.status,dispatch:l}):null]})}function eS(e){let t=eC.M4.useFile(e.fileKey).data,r=(0,i.d4)(e=>e.repos),s=t?(0,ew.L8)(t,r):null,l=eC.M4.File.useValue(s?.default_file_key).data,o=(0,eT.ac)(l?T.F.toLiveGraph(l):null),d=(0,i.wA)(),{getTriggerProps:c,manager:_}=e.menu,u=a.useMemo(()=>e.branches.find(t=>t.key===(e.selectedBranchKey??s?.default_file_key)),[e.branches,e.selectedBranchKey,s?.default_file_key]);return"loaded"!==o.status?null:(0,n.jsxs)(F.bL,{manager:_,children:[(0,n.jsxs)(ea.E,{...c(),className:"x78zum5 x6s0dn4 x1mh6rdz xg2d0mh xon4yw5 x1sxf85j xh8yej3 x1a2a7pz xiym6m8 x1g40iwv","data-testid":"branch-indicator-dropdown","aria-label":(0,x.t)("tile.branching.change_default_branch"),children:[(0,n.jsx)(ev.L,{"aria-hidden":!0,className:"xn0whsw x2lah0s"}),(0,n.jsx)(O.E,{truncate:!0,color:"menu",children:u?.name}),(0,n.jsx)(ey.O,{"aria-hidden":!0,className:"xn0whsw x2lah0s"})]}),(0,n.jsx)(eA,{branches:e.branches,selectedBranchKey:e.selectedBranchKey,sourceFileKey:l?.key,onSelectBranch:e.onSelectBranch,createBranchStatus:o.data,dispatch:d})]})}var eN=r(133724);function eR({repoTile:e,menu:t}){let r=(0,i.wA)(),s=(0,i.d4)(e=>e.roles.byFileKey),l=(0,$.Pc)(),o=(0,i.d4)(e=>e.selectedBranchKeyByRepoId),d=e.branches.filter(e=>!e.trashed_at),c=(0,ew.mr)(e.repo,e.branches,o),_=a.useMemo(()=>(0,ew.gx)(e.repo,d,s,l.id),[e,d,s,l]);return d.length<=1?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(eS,{fileKey:e.repo.default_file_key,branches:_,selectedBranchKey:c.key,onSelectBranch:t=>{(0,ef.sx)("Branch Tile Drop Down Clicked Through",{fileRepoId:e.repo.id,selectedFileKey:t,previousFileKey:c?.key}),r(eN.kE({repoId:e.repo.id,branchKey:t}))},menu:t})}var eO=r(938607);function eD({tile:e,isHovered:t,isSelected:r,showPlanIcon:i,hideBranchIndicator:s,checksForViewOnlyLabels:o,interactiveThumbnailsEnabled:d,onChildFocusChange:c}){let[_,u]=a.useState(!1),m=(0,V.C)(e),h=(0,w._6)(),f=y.Tf.getTeamId(e),g=y.Tf.getOrgId(e),b=y.Tf.getFolderId(e),v=(0,y.c_)(e).unwrapOr(!1),j=F.b(),T=F.b(),C=t||r||_||j.manager.isOpen||T.manager.isOpen;return(0,n.jsx)(H.R.OverlayHoverTarget,{isHoverContentVisibleOverride:C,children:(0,n.jsx)(eO.i,{thumbnail:(0,n.jsx)(p.e,{tile:e,noBorder:!0,interactiveThumbnailsEnabled:d}),topLeftContent:(0,n.jsx)(eM,{tile:e,repoMenu:T,showPlanIcon:i,hideBranchIndicator:s}),topRightContent:(0,n.jsx)(eL,{tile:e,favoriteStarMenu:j}),bottomLeftIcon:v?(0,n.jsx)(K.K,{}):(0,n.jsx)(z.w4,{size:16,type:m}),title:(0,n.jsx)(eh.A,{tile:e,checksForViewOnlyLabels:o}),subtitle:(0,n.jsx)(ec,{tile:e,hideBranchIndicator:s,selectedView:h}),bottomRightContent:e.type===y.nb.OFFLINE_FILE?(0,n.jsx)(P,{"data-tooltip":(0,x.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-type":ex.Ib.TEXT}):(0,l.kc)().dtm_deprecation_pre_migration_onboarding&&!f&&!g&&b?(0,n.jsx)(B.i,{style:{"--color-icon":"var(--color-icon-secondary)"},"data-tooltip-show-above":!0,"data-tooltip-type":ex.Ib.TEXT,"data-tooltip":(0,x.t)("tile.dtm_onboarding.dtm_files_will_be_moved_soon"),"data-tooltip-timeout-delay":50,"data-tooltip-align":"center"}):(0,n.jsx)(X,{tile:e}),onFocus:()=>{u(!0),c?.()},onBlur:()=>{u(!1),c?.()}})})}let eF=a.forwardRef(function({tile:e,isSelected:t,showPlanIcon:r,hideBranchIndicator:a,checksForViewOnlyLabels:i,interactiveThumbnailsEnabled:s,cardRole:l,onClick:o,onFocus:d,onBlur:c,draggable:_},u){let m=(0,V.C)(e),h=(0,w._6)(),f=F.b(),g=F.b(),b=(0,y.c_)(e).unwrapOr(!1),v=f.manager.isOpen||g.manager.isOpen;return(0,n.jsx)(q,{ref:u,bottomLeftIcon:b?(0,n.jsx)(K.K,{}):(0,n.jsx)(z.w4,{size:16,type:m}),bottomRightContent:e.type===y.nb.OFFLINE_FILE?(0,n.jsx)(P,{"data-tooltip":(0,x.t)("tile.offline_file_tile.offline_upload_tooltip"),"data-tooltip-type":ex.Ib.TEXT}):(0,n.jsx)(X,{tile:e}),cardRole:l,draggable:_,isHoverContentVisibleOverride:v,isSelected:t,onBlur:c,onClick:o,onFocus:d,subtitle:(0,n.jsx)(ec,{tile:e,hideBranchIndicator:a,selectedView:h}),thumbnail:(0,n.jsx)(p.e,{tile:e,noBorder:!0,interactiveThumbnailsEnabled:s}),title:(0,n.jsx)(eh.A,{tile:e,checksForViewOnlyLabels:i}),topLeftContent:(0,n.jsx)(eM,{tile:e,showPlanIcon:r,hideBranchIndicator:a,repoMenu:g}),topRightContent:(0,n.jsx)(eL,{tile:e,favoriteStarMenu:f})})});function eM({tile:e,showPlanIcon:t,hideBranchIndicator:r,repoMenu:a}){let i=(()=>{if(t)return(0,n.jsx)(H.R.Overlay,{children:(0,n.jsx)(en,{tile:e,size:24})});let r=y.Tf.getEditorType(e);return(0,l.kc)().template_badge_file_browser&&y.Tf.getIsTeamTemplate(e)&&r?(0,n.jsx)(U.J,{brand:(0,G.K)(r),children:(0,n.jsx)(M.E,{variant:"brandFilled",children:(0,x.t)("file_browser.file_grid_view.template")})}):e.type===y.nb.FILE&&e.file.isPublishedSite&&r?(0,n.jsx)(U.J,{brand:(0,G.K)(r),children:(0,n.jsx)(M.E,{variant:"brandFilled",children:(0,x.t)("file_browser.file_grid_view.published")})}):null})();return(0,n.jsxs)("div",{className:"x78zum5 x6s0dn4 x1v2ro7d",children:[i,e.type===y.nb.REPO&&!r&&(0,n.jsx)(H.R.Overlay,{children:(0,n.jsx)(eR,{repoTile:e,menu:a})})]})}function eL({tile:e,favoriteStarMenu:t}){if(!I(e))return null;let r=y.Tf.getIsFavorited(e);return(0,n.jsx)(H.R.Overlay,{isHoverContentVisibleOverride:r,children:(0,n.jsx)(et,{tile:e,entrypoint:"file_tile",favoriteStarMenu:t})})}var eP=r(551101),eB=r(147046),eU=r(295110),ez=r(826160);function eH(e){let t=(0,i.wA)(),r=y.Tf.getOwner(e.tile);if(!r)return(0,n.jsx)(O.E,{fontSize:13,truncate:!0,children:"--"});let a=y.Tf.getOrgId(e.tile);return(0,n.jsx)("div",{className:"generic_tile_owner--hugContents--77Wld",children:(0,n.jsx)(ez.az,{entity:r,size:24,showIsMe:!1,onClick:()=>{t(eB.sf({view:"user",userId:r.id,userViewTab:eU.o.INTERNAL_PROFILE,orgId:a}))}},r.id)})}function eW(e){let t=e.getFolderIdFromGenericTile(e.tile),r=(0,es.h)(t),a=r.data?.folderName||null,i=r.data?.isTrashed||!1,s=(0,ei.EB)(),l=!i;return"loaded"===r.status&&a&&t?l?(0,n.jsx)(ea.E,{onClick:e=>{l&&(e.stopPropagation(),s(t,e))},className:"generic_tile_previous_location--folder_name_clickable--yQN6N",children:(0,n.jsx)(O.E,{fontSize:e.fontSize,truncate:!0,children:a})}):(0,n.jsxs)(O.E,{fontSize:e.fontSize,truncate:!0,children:[a,"\xa0",i&&(0,x.t)("file_browser.folder.trashed_folder")]}):(0,n.jsx)(O.E,{fontSize:e.fontSize,truncate:!0,children:"--"})}var eq=r(73795),eV=r(142914),eG=r(141524);function eK(e){let t=y.Tf.getSharedByName(e.tile),r=y.Tf.getSharedBy(e.tile)??null,a=(0,eG.wW)(r).user;return r?(0,n.jsxs)("div",{className:R.s.flex.itemsCenter.gap8.$,children:[a&&(0,n.jsx)(eV.H8,{user:a,size:eV.Pf.MEDIUM}),(0,n.jsx)(O.E,{truncate:!0,children:(0,n.jsx)("span",{...d.Ay.props(eq.g.textBodyMedium),children:t})})]}):(0,n.jsx)(O.E,{truncate:!0,children:(0,n.jsx)("span",{...d.Ay.props(eq.g.textBodyMedium),children:"--"})})}var e$=r(195112);function eY(e){let t=(0,V.C)(e.tile);return(0,n.jsxs)("div",{className:R.s.flex.itemsCenter.gap12.overflowHidden.h48.wFull.$,children:[(0,n.jsxs)("div",{className:R.s.relative.flexShrink0.hFull.$,children:[(0,n.jsx)(p.e,{tile:e.tile,size:N.y.SMALL,borderRadius:4}),(0,n.jsx)("div",{className:"tile_name_and_preview--iconContainer--sybhv",children:(0,n.jsx)(z.w4,{size:16,type:t})})]}),(0,n.jsx)("div",{className:R.s.wFull.$,children:(0,n.jsx)(O.E,{fontWeight:"medium",fontSize:13,truncate:!0,children:(0,n.jsx)(eh.A,{tile:e.tile,isListView:!0,checksForViewOnlyLabels:e.checksForViewOnlyLabels})})})]})}let eJ={nameHeaderCellStyles:{kzqmXN:"x3hqpx7",$$css:!0},facePileHeaderCellStyles:{kzqmXN:"x1d7z9mz",$$css:!0}},eX={renderInteractiveRowCell:(e,{isSelected:t,isHovered:r})=>(0,n.jsx)(eQ,{tile:e,isSelected:t,isHovered:r})};function eQ({tile:e,isSelected:t,isHovered:r}){let a=F.b(),i=I(e),s=y.Tf.getIsFavorited(e);if(!i)return null;let l=s||t||r||a.manager.isOpen;return(0,n.jsx)("div",{...d.Ay.props(eP.R.invisible,eP.R.hoverTarget(l)),children:(0,n.jsx)(et,{tile:e,entrypoint:"file_list_row",favoriteStarMenu:a})})}let eZ=e=>({field:E.C0.NAME,headerCellStyles:eJ.nameHeaderCellStyles,renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_name_column"),renderStaticRowCell:t=>(0,n.jsx)(eY,{tile:t,checksForViewOnlyLabels:e})}),e0={renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_last_modified_column"),renderStaticRowCell:e=>(0,n.jsx)(e$.B,{truncate:!0,children:(0,n.jsx)(eo,{tile:e,getDateFromGenericTile:y.Tf.getTouchedAt})})},e1={field:E.C0.TRASHED_AT,renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_trashed_at_column"),renderStaticRowCell:e=>(0,n.jsx)(e$.B,{truncate:!0,children:(0,n.jsx)(eo,{tile:e,getDateFromGenericTile:y.Tf.getTrashedAt})})},e4={renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_previous_location_column"),renderInteractiveRowCell:e=>(0,n.jsx)(e$.B,{children:(0,n.jsx)(eW,{tile:e,getFolderIdFromGenericTile:y.Tf.getFolderId})})},e3={field:E.C0.CREATED_AT,renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_created_column"),renderStaticRowCell:e=>(0,n.jsx)(e$.B,{truncate:!0,children:(0,n.jsx)(eo,{tile:e,getDateFromGenericTile:y.Tf.getCreatedAt})})},e2={field:E.C0.SHARED_AT,renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_shared_at_column"),renderStaticRowCell:e=>(0,n.jsx)(e$.B,{truncate:!0,children:(0,n.jsx)(eo,{tile:e,getDateFromGenericTile:y.Tf.getSharedAt})})},e5={renderHeaderCell:()=>"",headerCellStyles:eJ.facePileHeaderCellStyles,renderInteractiveRowCell:e=>(0,n.jsx)(X,{tile:e})},e7={renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_owner_column"),renderInteractiveRowCell:e=>(0,n.jsx)(eH,{tile:e})};function e9(e){return{gutterColumn:eX,columns:[eZ(e),e0,e3,e5]}}let e6={gutterColumn:eX,columns:[eZ(),{renderHeaderCell:()=>(0,x.t)("file_browser.file_list_view.header_shared_by_column"),renderStaticRowCell:e=>(0,n.jsx)(eK,{tile:e})},e2,e5]},e8=e=>{let t=[],r=[],n=[],a=[];return e.forEach(e=>{switch(e.type){case y.nb.FILE:r.push(e);break;case y.nb.PROTOTYPE:n.push(e);break;case y.nb.REPO:t.push(e);break;case y.nb.PINNED_FILE:(0,s.KF)(!0,"Do not expect to be rendering project or pinned tiles here");break;case y.nb.OFFLINE_FILE:a.push(e);break;default:(0,s.xb)(e)}}),{repoTiles:t,fileTiles:r,prototypeTiles:n,offlineFileTiles:a}};function te({handleOpenDropdown:e,handleOpenTile:t,items:r,updateRenderedItems:s,updateVisibleItems:d,sortConfig:I,doNotFocusOnLoad:N,checksForViewOnlyLabels:R,interactiveThumbnailsEnabled:O,gridContainerStyle:F,viewType:M,sortBy:L}){let P=(0,i.wA)(),B=(0,w._6)(),U=(0,j.dq)(),z=(0,o.Xr)(C.yH),{Sprig:H}=(0,m.A)(),W=(0,f.v)(),q=(0,o.md)(y.Y6),V=a.useCallback(e=>{P(v.an());let{fileTiles:t,offlineFileTiles:r,repoTiles:n,prototypeTiles:a}=e8(e);t.length>0&&P(v.y$({type:y.YC[y.nb.FILE],tiles:t})),r.length>0&&P(v.y$({type:y.YC[y.nb.OFFLINE_FILE],tiles:r})),n.length>0&&P(v.y$({type:y.YC[y.nb.REPO],tiles:n})),a.length>0&&P(v.y$({type:y.YC[y.nb.PROTOTYPE],tiles:a})),z([...new Set(e.map(e=>y.Tf.getFolderId(e)).filter(e=>null!==e))])},[P,z]),{gutterColumn:G,columns:K}=function(e,t){switch(e.view){case"recentsAndSharing":return e.tab===k.Gw.SHARED_FILES?e6:e9(t);case"search":return{gutterColumn:eX,columns:[eZ(t),e0,e3,e7]};case"deletedFiles":return{gutterColumn:eX,columns:[eZ(t),e1,e4]};default:return e9(t)}}(B,R),{filePermissions:$,repoPermissions:Y}=(0,u.xD)(),J=a.useCallback(e=>e.every(e=>A(e,U)&&!y.Tf.isRenaming(e,q)),[q,U]),X={containerStyle:F??tt.gridContainerDefault,renderTileDragImage:e=>(0,n.jsx)(p.e,{tile:e,noBorder:!0,hideUntilLoaded:!1})},Q="deletedFiles"===B.view,Z={...X,...(0,l.kc)().file_browser_file_cards?{renderCard:({ref:e,item:t,isSelected:r,role:a,onFocus:i,onClick:s,onBlur:l})=>(0,n.jsx)(eF,{ref:e,cardRole:a,checksForViewOnlyLabels:R,draggable:S(B),hideBranchIndicator:Q,interactiveThumbnailsEnabled:O,isSelected:r,onBlur:l,onClick:s,onFocus:i,showPlanIcon:"recentsAndSharing"===B.view&&B.tab===k.Gw.RECENTLY_VIEWED||"search"===B.view,tile:t},`TileGridCard${y.Tf.getId(t)}`)}:{renderTile:(e,t,{isHovered:r,isSelected:a})=>(0,n.jsx)(eD,{tile:e,hideBranchIndicator:Q,isHovered:r,isSelected:a,showPlanIcon:"recentsAndSharing"===B.view&&B.tab===k.Gw.RECENTLY_VIEWED||"search"===B.view,checksForViewOnlyLabels:R,interactiveThumbnailsEnabled:O,onChildFocusChange:t}),tileBorderRadius:"large"}};return(0,n.jsx)(g.A,{canSelectedItemsBeDragged:J,doNotFocusOnLoad:N,getAriaLabel:y.Tf.getName,gridViewProps:Z,handleContextMenu:(t,n,a)=>{let i=r[a];i&&e(i,n,a)},handleDeleteKey:e=>{let{fileTiles:t,repoTiles:r,offlineFileTiles:n}=e8(e);if((0,l.kc)().file_browser_sentiment_survey&&H("setAttribute","fb_file_organized",!0),"deletedFiles"===B.view){let e=t.map(e=>e.file.key),n=r.map(e=>e.repo.id),a=e.length+n.length;if(!a||"loaded"!==$.status||"loaded"!==Y.status)return;let i=(0,c.m8)(e,$.data),s=(0,_.gX)(n,Y.data);if(i.length+s.length<a){P(h.s.error((0,x.t)("flash.dont_have_permission_permanently_delete_files")));return}P(b.Fh({fileKeys:i,repoIds:s}))}else{if(t.length+r.length+n.length===0||"loaded"!==$.status||"loaded"!==Y.status)return;let{filesByKey:a,reposById:i,offlineFilesByKey:s,allDrafts:l,deletableCount:o,selectedCount:d}=b.Mw(e,$.data,Y.data);if(o<d){P(h.s.error((0,x.t)("tile.error.permission_error_trash_file",{selectedCount:e.length})));return}P(b.U1({filesByKey:a,reposById:i,offlineFilesByKey:s,allDrafts:l}))}},handleDragDataTransfer:(e,t)=>{let{fileTiles:r,repoTiles:n,prototypeTiles:a}=e8(e),i=r.map(e=>T.F.toSinatra(e.file)),s=n.map(e=>e.repo),l=a.map(e=>e.prototype);!i.length||s.length||l.length?i.length||!s.length||l.length?i.length||s.length||!l.length?t.setTilesData(i,s,l):t.setPrototypesData(l):t.setReposData(s,[]):t.setFigFilesData(i)},handleOpenItem:"deletedFiles"!==B.view?(e,r,n)=>{t(e,r,n),W(e,r)}:void 0,isDraggable:S(B),items:r,listViewProps:{gutterColumn:G,columns:K,currentSort:{field:I.key,isDescending:I.dir===E.ue.DESC},handleSortBy:L,renderItemDragImage:e=>(0,n.jsx)(D,{tile:e})},onSelection:V,updateRenderedItems:s,updateVisibleItems:d,viewType:M})}let tt={gridContainerDefault:{kE3dHu:"x1tudf5h",kpe85a:"x1m2p0i2",kZCmMZ:null,kwRFfy:null,kGO01o:"x1gan7if",$$css:!0}}},925658:(e,t,r)=>{r.d(t,{l:()=>i});var n=r(266808),a=r(331497);function i(e=!0){let t=e?n.Ez5?.canvasGrid().canvasGridArray:null;return 0===(0,a.ut)(t,[]).length}},540983:(e,t,r)=>{r.d(t,{qv:()=>V,ah:()=>$,rG:()=>Z,iW:()=>eo,DM:()=>er,px:()=>et,T5:()=>ee,Vg:()=>Q,EI:()=>J,p9:()=>ea,ON:()=>X});var n=r(104076),a=r(716976),i=r(419822),s=r(684742),l=r(293422),o=r(475477),d=r(296430),c=r(728145),_=r(546236),u=r(853943),m=r(180),p=r(926653),h=r(980852),x=r(812714),f=r(795033);r(120440);var g=r(511570),b=r.n(g),v=r(686549),y=r(816565),j=r(284467),w=r(977916),T=r(919073),C=r(236631),k=r(352630),E=r(192075),I=r(444423),A=r(621689),S=r(244205),N=r(904017),R=r(349311),O=r(739710),D=r(524065),F=r(294383);let M="cooper_template_ui--tile--jISg-",L="cooper_template_ui--detailTileContainer--jd6Lz",P="cooper_template_ui--detailTile--9845k",B="cooper_template_ui--hoverOverlayTarget--p--MK",U="cooper_template_ui--rowMargin--swZAo",z="cooper_template_ui--rowContainer--XSWCI",H="cooper_template_ui--rowIconContainer--2MsQm",W="cooper_template_ui--rowMetadataContainer--za0YG",q="cooper_template_ui--rowMetadataTitle--iceIC",V="https://help.figma.com/hc/articles/31271693614487",G={kVIFPx:"x19kjcj4",$$css:!0},K={image:e=>[G,{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]};function $({onboardingKey:e=""}){return(0,n.jsx)("div",{className:C.s.flexColumn.alignCenter.pt32.pb16.$,"data-onboarding-key":e,children:(0,n.jsx)("div",{className:C.s.mxAuto.w24.h24.$,children:(0,n.jsx)(i.k,{})})})}let Y="cooper-tile-id";function J({name:e,label:t,thumbnailUrl:r,additionalThumbnailUrls:a,onClick:i,libraryKey:l,truncateHoverText:o=!1}){let d=(0,F._M)((0,p.l)(l)).data.templates,c=0;for(let e of d)c+=e.components.length;let _=c>0?o?(0,E.t)("cooper.templates.view_n_templates_short",{numTemplates:c}):(0,E.t)("cooper.templates.view_n_templates",{numTemplates:c}):o?(0,E.t)("cooper.templates.view"):(0,E.t)("cooper.templates.view_templates");return(0,n.jsx)(s.E,{onClick:i,htmlAttributes:{"data-testid":`templateDetailTile.${e}`},className:B,children:(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("div",{className:P,children:[r&&a&&a.length>0?(0,n.jsx)("div",{className:"cooper_template_ui--thumbnailContainer--OH-6w",children:(0,n.jsx)(w.A,{thumbnailUrl:r,additionalThumbnailUrls:a||[],thumbnailType:T.F.COOPER,noBorder:!0})}):(0,n.jsx)("div",{className:C.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,n.jsx)(I.Q,{src:r||void 0,alt:e,draggable:!1,imageStyle:K.image("100%"),loading:"lazy",crossOrigin:"use-credentials",fadeInOnLoad:!0})}),(0,n.jsx)(el,{variant:"view",buttonText:_,ariaLabel:e})]}),(0,n.jsx)(ei,{title:e,subtitle:t})]})})}function X(){return(0,n.jsxs)("div",{className:"cooper_template_ui--detailTilePlaceholderContainer--bq545",children:[(0,n.jsx)("div",{className:M,children:(0,n.jsx)("div",{className:C.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,n.jsx)(j.Qp,{className:"cooper_template_ui--tilePlaceholderImage--AwOc0",animationType:j.JR.LIGHT_SHIMMER,primary:!0})})}),(0,n.jsxs)("div",{className:"cooper_template_ui--tilePlaceholderMetadataContainer--JDVbm",children:[(0,n.jsx)("div",{style:{display:"table-row"},children:(0,n.jsx)(j.Wi,{className:"cooper_template_ui--tilePlaceholderTitle--z-TuN",animationType:j.JR.LIGHT_SHIMMER})}),(0,n.jsx)("div",{style:{display:"table-row"},children:(0,n.jsx)(j.Wi,{className:"cooper_template_ui--tilePlaceholderSubtitle--UslXp",animationType:j.JR.LIGHT_SHIMMER})})]})]})}function Q({template:e,name:t,thumbnailUrl:r,onPointerDown:i,isAboveFold:s=!1,dimensions:l,assetTypeName:o,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:_=!1}){let[u,m]=a.useState(!1);return(0,n.jsxs)("div",{className:"cooper_template_ui--tileContainer--OsY1W",children:[(0,n.jsx)(es,{template:e,onPointerDown:i,isSquareTile:!l,shouldShowPlusButtonOnHover:!0,dimensions:l,ariaLabel:o??t,hasVideo:d,insertResourceIntoInternalCanvas:c,showPreview:_,children:(0,n.jsx)("span",{className:C.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,n.jsx)(y.oW,{onLoad:()=>{m(!0)},src:r,alt:t,draggable:!1,style:{objectFit:"contain",transition:"opacity 0.1s ease-in-out",opacity:u?1:0,borderRadius:"var(--radius-medium)",...l?{aspectRatio:l.width/l.height,width:"100%",height:"auto"}:{width:"100%",height:"100%"}},loading:s?"eager":"lazy"})})}),o&&(0,n.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:o})]})}function Z({onPointerDown:e}){let t=(0,N.T5)("useAllowInternalTemplatesCooper"),r="loaded"===t.status?t.data?.name:void 0;return(0,n.jsx)(s.E,{onClick:e,className:B,"data-testid":"create-new-template-tile",children:(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("div",{className:P,children:[(0,n.jsx)(d.X,{}),(0,n.jsx)(el,{variant:"add",buttonText:(0,E.t)("cooper.templates.blank_template")})]}),(0,n.jsx)(ei,{title:(0,E.t)("cooper.templates.new_template"),subtitle:r&&(0,E.t)("cooper.templates.for_plan_name",{planName:r})})]})})}function ee({templateType:e,iconUrl:t,onPointerDown:r}){let{name:a,dimension:i}=e,s=i.x/i.y;return(0,n.jsx)("button",{onClick:r,className:B,"data-testid":"start-from-scratch-template-tile",children:(0,n.jsxs)("div",{className:L,children:[(0,n.jsxs)("div",{className:P,children:[(0,n.jsx)("div",{className:b()("cooper_template_ui--startFromScratchAsset--5ppxw",s>1?"cooper_template_ui--horizontalAspectRatio--CE1m4":"cooper_template_ui--verticalAspectRatio--5b2Ap"),style:s<2.5&&s>.4?{aspectRatio:i.x/i.y}:void 0,children:t&&(0,n.jsx)(y.oW,{src:t,alt:a,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}),(0,n.jsx)(el,{variant:"add",buttonText:(0,E.t)("cooper.templates.add_blank"),ariaLabel:a})]}),(0,n.jsx)(ei,{title:a,subtitle:`${i.x} x ${i.y}`})]})})}function et({templateType:e,iconUrl:t,onPointerDown:r}){let{name:i,dimension:l}=e,o=a.useRef(null),d=(0,F.o6)(o)?{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":i,"data-tooltip-timeout-delay":300}:{};return(0,n.jsx)("div",{className:U,children:(0,n.jsxs)(s.E,{onClick:r,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":Y},className:z,...d,children:[t?(0,n.jsx)("div",{className:H,children:(0,n.jsx)(y.oW,{src:t,alt:i,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}):(0,n.jsx)(en,{}),(0,n.jsxs)("div",{className:W,children:[i&&(0,n.jsx)("span",{ref:o,className:q,children:i}),l&&(0,n.jsx)("span",{className:"cooper_template_ui--rowMetadataSubtitle--RjcR9",children:`${l.x} x ${l.y}`})]})]})})}function er({onPointerDown:e}){return(0,n.jsx)("div",{className:U,children:(0,n.jsxs)(s.E,{onClick:e,actionOnPointerDown:!0,className:z,recordingKey:"cooperStartFromScratchCustomSize",children:[(0,n.jsx)(en,{}),(0,n.jsx)("div",{className:W,children:(0,n.jsx)("span",{className:q,children:(0,E.t)("cooper.templates.custom_size")})})]})})}function en(){return(0,n.jsx)("div",{className:H,children:(0,n.jsx)(c.v,{})})}function ea({numColumns:e,children:t}){let r=(0,F.VU)(),a=(0,f.md)(A.ce),i=(0,f.md)(A.Lm),s=(0,f.md)(A.U_),l=a.length>0,o=l&&r,d=r&&i.type===A.mF.TEMPLATES,c="COMMUNITY"===s&&!l,_=b()({"cooper_template_ui--grid---JmtS cooper_template_ui--gridBase--AIKjP":!r,"cooper_template_ui--teamTemplateGrid--jNTGc cooper_template_ui--gridBase--AIKjP":r&&!d&&!c&&!o,"cooper_template_ui--firstPartyAssetGrid--YjA3q cooper_template_ui--gridBase--AIKjP":r&&(c||o),"cooper_template_ui--templateListGrid--4vaYJ cooper_template_ui--gridBase--AIKjP":d&&!c&&!o});return(0,n.jsx)("div",{className:_,style:{"--num-columns":e||3},children:t})}function ei({title:e,subtitle:t}){let r=a.useRef(null),i=(0,F.o6)(r)?{"data-tooltip-type":R.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":300}:{};return(0,n.jsxs)("div",{className:"cooper_template_ui--tileMetadataContainer---6Z7k",children:[e&&(0,n.jsx)("div",{style:{display:"table-row"},children:(0,n.jsx)("span",{ref:r,...i,className:"cooper_template_ui--tileMetadataTitle--Rkqhq",children:e})}),t&&(0,n.jsx)("div",{style:{display:"table-row"},children:(0,n.jsx)("span",{className:"cooper_template_ui--tileMetadataSubTitle--G7BsU",children:t})})]})}function es({template:e,children:t,onPointerDown:r,isSquareTile:i,shouldShowPlusButtonOnHover:s,dimensions:l,ariaLabel:o,hasVideo:d=!1,insertResourceIntoInternalCanvas:c,showPreview:m=!1}){let p=a.useRef(null),g=a.useRef(null),v=(0,f.Xr)(A.jj),y=(0,f.Xr)(A.hD),[j,w]=(0,f.fp)(A.g8),T=(0,f.Xr)(A.Rb),C=(0,f.Xr)(A.J5),I=a.useCallback(()=>{v({}),y([])},[v,y]),N=t=>{T(e),w(""),c(t),I(),g.current&&C(g.current.getBoundingClientRect().y)},R=a.useCallback(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let t=window.innerWidth/2,n=window.innerHeight/2,a=new PointerEvent("pointerdown",{pointerId:0,pointerType:"virtual",clientX:t,clientY:n,bubbles:!0});r({...a,target:e.currentTarget,currentTarget:e.currentTarget,preventDefault:()=>{},stopPropagation:()=>{},stopImmediatePropagation:()=>{},isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,persist:()=>{},nativeEvent:a});let i=new PointerEvent("pointerup",{pointerId:0,pointerType:"virtual",clientX:t,clientY:n,bubbles:!0});document.dispatchEvent(i)}},[r]);return a.useEffect(()=>{if(j===e.id){I();let{guidComponentProps:t,variantPropDefs:r,stateOrLooseComponent:n}=function(e){let t,r;let n=e.containing_frame?.containingStateGroup&&e.containing_frame?.containingStateGroup.nodeId,a=h.getActiveTSSceneGraph().getInternalCanvas()?.childrenNodes||[],i=e.node_id;for(let e of a)if(n&&e.publishID===n){for(let r of e.childrenNodes)if(r.publishID===i){t=(0,O.Yg)([r.guid],(0,h.getActiveTSSceneGraph)());let n=(0,D.Jm)(e.guid,t);return{guidComponentProps:t,variantPropDefs:n,stateOrLooseComponent:r}}}else e.publishID===i&&(t=(0,O.Yg)([e.guid],(0,h.getActiveTSSceneGraph)()),r=e);return{guidComponentProps:t,stateOrLooseComponent:r}}(e);t&&n&&n&&v(t[n.guid]),r&&y(r)}},[j,e.id,I,v,y,e]),(0,n.jsxs)(k.e6,{ref:p,onClick:r,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":Y,"data-testid":"insertableAssetTile",onKeyDown:R},className:b()(i?"cooper_template_ui--templateAssetTile--KzBnr":M,{[B]:s}),style:{position:"relative",...l?{aspectRatio:l.width/l.height,width:"100%",height:"auto"}:{aspectRatio:1}},trackingProperties:{trackingDescriptor:S.c.TEMPLATE_COVER_TILE},children:[s&&(0,n.jsx)(el,{variant:"add",buttonText:p.current?.clientWidth&&p.current.clientWidth>140?(0,E.t)("cooper.templates.add_template"):(0,E.t)("cooper.templates.add"),ariaLabel:o}),t,d&&(0,n.jsx)(_._,{className:"x10l6tqk x1bfpjnn x1473dw x1n327nk x47corl x192jxwq xmkeg23 x1y0btm7 x1co876m x68m4m9 xwa2v1s"}),m&&(0,x.kc)().buzz_template_sets&&(0,n.jsx)("button",{className:"cooper_template_ui--templatePreviewSeeDetails--RuIkg",onPointerDown:e=>{e.preventDefault(),e.stopPropagation(),N(e)},"aria-label":(0,E.t)("buzz.templates.template_picker.org_view.see_details"),ref:g,children:(0,n.jsx)(u.J,{className:"xwa2v1s"})})]})}function el({variant:e,buttonText:t,ariaLabel:r}){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"cooper_template_ui--templateTileHoverOverlay--TZ2iV","aria-label":r||t,role:"button",children:"add"===e?(0,n.jsx)(l.$n,{iconPrefix:(0,n.jsx)(m.$,{style:{"--color-icon":"white"}}),htmlAttributes:{tabIndex:-1},variant:"primary",children:t}):(0,n.jsx)(s.E,{className:"cooper_template_ui--hoverOverlayWhiteButton--ePHj2",htmlAttributes:{tabIndex:-1},children:t})})})}function eo({isWide:e=!1}){return e?(0,n.jsx)(l.IK,{variant:"secondary",onClick:()=>(0,v.FJ)(V,"_blank"),children:(0,E.tx)("cooper.templates.show_me_how")}):(0,n.jsx)(o.N.Button,{href:V,variant:"secondary",trusted:!0,newTab:!0,children:(0,E.tx)("cooper.templates.show_me_how")})}},94650:(e,t,r)=>{r.d(t,{H:()=>u});var n=r(104076),a=r(716976),i=r(684742),s=r(881265),l=r(765024),o=r(890373);r(120440);var d=r(349311);let c=a.forwardRef(function({tooltip:e,isFavorited:t,disabled:r,dataTestId:a="favorite-star-button","aria-expanded":c,..._},u){return(0,n.jsx)(i.E,{ref:u,"aria-label":e,disabled:r,htmlAttributes:{"data-testid":a,...c?{}:{"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":50}},..._,className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11 x19y5rnk x16v0e3u x1pt8ico x5hs570 x16evbv0 x1g40iwv",children:(0,n.jsx)("span",{"aria-hidden":!0,children:t?(0,n.jsx)(s._,{style:{"--color-icon":o.Tj.iconfavorite},"data-testid":`${a}-favorited-icon`}):(0,n.jsx)(l.c,{style:{"--color-icon":o.Tj.iconSecondary},"data-testid":`${a}-unfavorited-icon`})})})});var _=r(824650);function u({favoriteType:e,orgId:t,resourceId:r,setFavorite:a,removeFavorite:i,teamId:s,favoriteStarMenu:l,dataTestId:o="favorite-star-button"}){return(0,n.jsx)(_.k,{resourceId:r,favoriteType:e,orgId:t,teamId:s,setFavorite:a,removeFavorite:i,favoriteStarMenu:l,children:e=>(0,n.jsx)(c,{dataTestId:o,...e})})}},824650:(e,t,r)=>{r.d(t,{k:()=>m});var n=r(104076),a=r(716976),i=r(276800),s=r(307829),l=r(812714),o=r(225125),d=r(192075),c=r(190737),_=r(692557),u=r(403836);function m({resourceId:e,orgId:t,teamId:r,setFavorite:m,removeFavorite:p,favoriteType:h,children:x,favoriteStarMenu:f}){let g=(0,_.Y)(e,h,t,r),b=a.useMemo(()=>(0,c.t$)(g.userSidebarSections??[],g.orderedSidebarSections??[]),[g.userSidebarSections,g.orderedSidebarSections]),v=function({subscription:e,orgId:t,setFavorite:r,removeFavorite:n}){let s=e.favorite,{Sprig:_}=(0,o.A)(),u=e.hasMaxFavorites,m=a.useCallback(()=>{s?n({favoriteId:s.id}):u||r({})},[s,n,r,u]),p=e.userSidebarSections,h=!!(!t||p&&p.length<=1),x=a.useCallback(({sectionId:e})=>{r({favoriteId:s?.id,sectionId:e}),(0,l.kc)().file_browser_sentiment_survey&&_?.("setAttribute","fb_file_organized",!0)},[s,r,_]),f=a.useCallback(()=>{s&&(n({favoriteId:s.id}),(0,l.kc)().file_browser_sentiment_survey&&_?.("setAttribute","fb_file_organized",!0))},[s,n,_]);return{toggle:"loaded"!==e.status?i.lQ:m,shouldUseToggleFavorite:h,setFavorite:x,removeFavorite:f,tooltip:e.favorite?(0,d.t)("favorited_resources.remove_from_sidebar"):e.hasMaxFavorites?(0,d.t)("tile.favoriting.max_favorites",{maxFavorites:(0,c.kK)(t)}):(0,d.t)("favorited_resources.add_to_sidebar")}}({subscription:g,orgId:t,setFavorite:m,removeFavorite:p}),{getTriggerProps:y,manager:j}=f;return"loaded"!==g.status?(0,n.jsx)(n.Fragment,{children:x({disabled:!0,onClick:i.lQ,tooltip:v.tooltip,isFavorited:!1})}):v.shouldUseToggleFavorite?(0,n.jsx)(n.Fragment,{children:x({disabled:!1,onClick:v.toggle,tooltip:v.tooltip,isFavorited:!!g.favorite})}):(0,n.jsxs)(s.bL,{manager:j,children:[x({disabled:!1,tooltip:v.tooltip,isFavorited:!!g.favorite,...y()}),(0,n.jsx)(u.t,{currentSectionId:g.favorite?.resource.sidebarSectionId,"data-testid":"organize-favorite-menu",favoriteId:g.favorite?.id,orderedSidebarSections:b,removeFavorite:v.removeFavorite,resourceId:e,resourceType:h,setFavorite:v.setFavorite,userHasMaxFavorites:g.hasMaxFavorites})]})}},403836:(e,t,r)=>{r.d(t,{b:()=>p,t:()=>h});var n=r(104076),a=r(237420);if(443==r.j)var i=r(307829);if(443==r.j)var s=r(550012);var l=r(192075);if(443==r.j)var o=r(799303);var d=r(708412),c=r(288747),_=r(62032);function u({currentSectionId:e,orderedSidebarSections:t,resourceType:r,resourceId:s}){let c=(0,a.wA)(),_=(0,a.d4)(e=>e.mobileNavShown);return(0,n.jsx)(i.q7,{onClick:()=>{void 0===_||_||c(o.PY());let n=e?t.findIndex(t=>t.id===e):0;r&&c(d.to({movingResource:{resourceId:s,isFavorited:!0,resourceType:r}})),c(d.pS({newCustomSectionIndex:n}))},children:(0,l.t)("favorited_resources.create_a_new_section")},"create-section")}function m({removeFavorite:e}){return(0,n.jsx)(i.q7,{onClick:e,children:(0,l.t)("favorited_resources.remove_from_sidebar")},"remove-from-sidebar")}function p({favoriteId:e,currentSectionId:t,setFavorite:r,removeFavorite:o,userHasMaxFavorites:p,resourceId:h,resourceType:x,orderedSidebarSections:f}){let g=(0,a.wA)(),b=(0,a.d4)(e=>e.currentTeamId),v=(0,c.dq)(),y=(0,a.d4)(e=>e.favorites.collapsedCustomSections),j=e=>{e===t?o():!p&&e&&(r({sectionId:e}),y.delete(e),g(d.U6({collapsedCustomSections:y})),_.Fp({type:"topLevel",id:"custom",orgId:v,sectionId:e},!0))},w=f.map(e=>{let t=""===e.name?(0,l.t)("sidebar.starred"):e.name;return(0,n.jsx)(s.CU,{value:e.id,children:t},e.id)}),T=f.find(e=>e.id===t),C=e?`${(0,l.t)("favorited_resources.indicate_section_prefix")}: ${T?.name||(0,l.t)("sidebar.starred")}`:(0,l.t)("favorited_resources.add_to_sidebar"),k=[],E=f.length>4;return E?k.push((0,n.jsx)(i.YJ,{children:(0,n.jsxs)(i.g8,{children:[(0,n.jsx)(i.ZP,{children:C}),(0,n.jsxs)(i.MJ,{children:[(0,n.jsx)(s.z6,{title:(0,n.jsx)(i.r1,{children:(0,l.t)("favorited_resources.add_to_sidebar")}),onChange:j,value:t??void 0,children:w},"sections-radio-group"),(0,n.jsx)(u,{currentSectionId:t,orderedSidebarSections:f,resourceType:x,resourceId:h})]})]},"sections-submenu")},"sections-group")):k.push((0,n.jsx)(s.z6,{title:(0,n.jsx)(i.hE,{children:(0,l.t)("favorited_resources.add_to_sidebar")}),value:t??void 0,onChange:j,children:w},"sections-group")),e&&k.push((0,n.jsx)(i.YJ,{children:(0,n.jsx)(m,{removeFavorite:o})},"remove-from-sidebar-group")),b||E||k.push((0,n.jsx)(i.YJ,{children:(0,n.jsx)(u,{currentSectionId:t,orderedSidebarSections:f,resourceType:x,resourceId:h})},"create-section-group")),(0,n.jsx)(n.Fragment,{children:k})}function h({setFavorite:e,removeFavorite:t,orderedSidebarSections:r,resourceId:a,resourceType:s,favoriteId:l,currentSectionId:o,userHasMaxFavorites:d}){return(0,n.jsx)(i.mc,{children:(0,n.jsx)(p,{currentSectionId:o,orderedSidebarSections:r,favoriteId:l,removeFavorite:t,resourceId:a,resourceType:s,setFavorite:e,userHasMaxFavorites:d})})}},822852:(e,t,r)=>{r.d(t,{Te:()=>o,V6:()=>d,ew:()=>l});var n=r(812714),a=r(74620),i=r(211862),s=r(944350);function l(){let e=(0,a.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function o(){let e=(0,i.q5)();return e?.editorType===s._Y.DESIGN}function d(){let e=o(),t=l();return e&&(t||(0,n.kc)().interop_pages)}},58399:(e,t,r)=>{r.d(t,{i:()=>w});var n=r(716976),a=r(237420);if(443==r.j)var i=r(448897);var s=r(795033),l=r(901014),o=r(837975),d=r(192075);if(443==r.j)var c=r(58212);var _=r(260745),u=r(459494),m=r(847282),p=r(344354),h=r(211862),x=r(904017),f=r(382137),g=r(946996),b=r(655839),v=r(373224),y=r(649693),j=r(958251);function w(){let e;let t=(0,a.wA)(),{nudgeUpgradeRequest:r}=(0,b.q0)(),w=(0,u.rb)(),T=(0,s.md)(p.D),[C,k]=(0,n.useState)(!1),E=(0,x.T5)("useUpgradeRequestModalOnPageLoad"),I=(0,h.q5)(),A=(0,m.QL)("entry_point")||"",S=(0,m.QL)("upgrade_request_type")||"",N=null!==I&&("in_editor"===S||A===v.i.INVITE_REDEEM),R=N||(0,y.a_)(S);R&&(e=N?(0,j.wR)(I.editorType):y.TI[S]);let O=(0,i.K)(_.tc,A)??_.tc.UNKNOWN_DEEP_LINK,D=(0,i.K)(v.i,A)??v.i.UNKNOWN_DEEP_LINK,{handleUpgrade:F,getPendingRequest:M,getUpgradeEligibility:L,getIsUpgradeHandlerLoading:P}=(0,f.wH)({entryPoint:O,plan:E?.data?.key?.parentId&&E?.data?.key?.type?{id:E.data.key.parentId,type:E.data.key.type}:void 0}),B=P()||"loading"===E.status,U=R&&!B;(0,n.useEffect)(()=>{C||"NuxOnboardingOverlay"!==T||k(!0)},[T,C,k]),(0,o.R)(()=>{if(!U||!e){S&&l.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow_invalid",{upgradeType:R?S:"invalid",entryPoint:O,licenseType:e||"undefined",planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key});return}if(C)return;let n=L(e);if(l.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow",{upgradeType:S,entryPoint:O,licenseType:e,upgradeEligibility:n,planType:E?.data?.key?.type,planParentType:E?.data?.key?.type,planId:E?.data?.key?.parentId||void 0,planParentId:E?.data?.key?.parentId||void 0,fileKey:I?.key}),n!==g.q.CAN_UPGRADE){let n=M(e);if(n&&O!==_.tc.INVITE_REDEEM){let{requestCanBeNudged:e,upgradeRequestId:a}=(0,b.qm)(n);e?r(a):t(c.F.enqueue({message:(0,d.t)("team_user.actions.request_sent_well_let_you_know")}))}return}(O!==_.tc.INVITE_REDEEM||w())&&F({licenseType:e,editorType:N?I?.editorType??null:null,entryPoint:O,upgradeReason:D})({}),(0,m.EM)("entry_point"),(0,m.EM)("upgrade_request_type")},[B,T],([e,t])=>!e&&!t)}},923256:(e,t,r)=>{r.d(t,{g:()=>d});var n=r(795033),a=r(380494),i=r(59849),s=r(381643),l=r(987224);let o=(0,n.Iz)(({orgId:e,eventType:t})=>(0,s.Z1)(i._ob.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),d=(0,n.Iz)(e=>(0,n.eU)(t=>{let r=t(l._s);return r?t(o({orgId:r,eventType:e})):a.Qw.disabled()}))},561602:(e,t,r)=>{r.d(t,{Cr:()=>o,ND:()=>i,l:()=>d,pC:()=>s});var n=r(812714),a=r(997477);let i={key:"createEduTeam",value:"1"},s={key:"upgradeEduTeam",value:"1"},l="2025-09-29T00:00:00";function o(){let e=new Date((0,a.bY)("edu_offboarding_in_app_target_date").getDynamicConfig().get("target_edu_period_end",l));return isNaN(e.getTime())&&(e=new Date(l)),e}function d(e,t){return!!(0,n.kc)().edu_in_app_offboarding_reverification_copy&&!!e&&!!t&&e>new Date(t.getTime()-864e5)}},792635:(e,t,r)=>{r.d(t,{V:()=>l});var n=r(812714),a=r(333331),i=r(449572),s=r(59849);function l(e){let t=(0,i.bc)(s.InN,{},{enabled:(0,n.kc)().dtm_deprecation_post_migration_onboarding});if(!e||!(0,n.kc)().dtm_deprecation_post_migration_onboarding)return{isDraftsToMovePlan:!1,dtmMigrationCompleted:!1,starterTeamCreated:!1};let r=(0,a.oA)(t.data?.personalDraftToPlanDraftLocation),l=r?.planParentId===e.key.parentId,o=a.oA(r?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,d=r?.toDraftsFolder?.plan?.name,c=r?.planParentType,_=r?.planParentId;return{isDraftsToMovePlan:l,dtmMigrationCompleted:r?.status==="complete",starterTeamCreated:o,dtmMigrationPlanName:d,dtmPlanParentId:_,dtmPlanParentType:c}}},105228:(e,t,r)=>{r.d(t,{TN:()=>l,j9:()=>o,xX:()=>d});var n=r(237420),a=r(562311),i=r(268305),s=r(434884);function l(e){let t=!!(0,s.q)({teamId:e,flag:i.uU}),r=(0,n.d4)(t=>t.teams[e]),l=(0,n.d4)(e=>(0,a.getPermissionsStateMemoized)(e));return i.ng.getProTrial(r,t,l)}function o(){let e=(0,n.d4)(e=>e.userTeamFlags),t=(0,n.d4)(e=>(0,a.getPermissionsStateMemoized)(e));return i.ng.getUpgradableProTrials(e,t)}function d(){let e=(0,n.d4)(e=>e.user),t=(0,n.d4)(e=>e.isFreeUser),r=(0,n.d4)(e=>(0,a.getPermissionsStateMemoized)(e)),s=(0,n.d4)(e=>e.userTeamFlags);return i.ng.getEligibleProTrialTeams(e,t,r,s)}},434884:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(237420);function a({teamId:e,flag:t}){return(0,n.d4)(r=>r.userTeamFlags[e]?.[t])}},645083:(e,t,r)=>{if(r.d(t,{Z:()=>i}),443==r.j)var n=r(599078);let a=e=>e.activeFileUsers,i=e=>(0,n.Mz)(a,t=>t[e]||{})},623971:(e,t,r)=>{r.d(t,{G:()=>p,Q:()=>m});var n=r(104076),a=r(716976),i=r(812714),s=r(795033),l=r(511570),o=r.n(l),d=r(1188),c=r(278491),_=r(663450),u=r(199440),m=(e=>(e.FILE_BROWSER="file_browser",e))(m||{});function p({entryPoint:e}){return(0,n.jsx)(d.tH,{boundaryKey:"figment-debugger",fallback:(0,n.jsx)("div",{}),children:(0,n.jsx)(h,{entryPoint:e})})}function h({entryPoint:e}){let[t,r]=(0,s.fp)(_.eE);return(0,a.useEffect)(()=>{r(!!(0,u.wh)())},[]),t&&(0,i.kc)().figment_debugger?(0,n.jsx)("div",{className:o()("file_browser"===e?"figment_debugger--fileBrowserContainer--KNMPr figment_debugger--container--4qsMx":"figment_debugger--container--4qsMx",c.s4,c.Dm),children:(0,n.jsx)(x,{})}):null}function x(){let[e,t]=(0,s.fp)(_.a4),[r,i]=(0,a.useState)([]),l=(0,a.useRef)(null),o=l.current&&l.current.value.length>0,d=o?r:e;return(0,n.jsxs)("div",{className:"figment_debugger--mainWrapper--Tty8t",tabIndex:0,"data-fullscreen-intercept":!0,children:[(0,n.jsx)(f,{children:(0,n.jsx)("input",{ref:l,placeholder:"\u{1F50E} Event name",className:"figment_debugger--searchBar--uECKp",onInput:t=>{let r=t.target.value.toLowerCase();r.length<3&&i([]),i(e.filter(e=>e.requestJson.event.toLowerCase().includes(r)))}})}),(0,n.jsx)(f,{children:(0,n.jsx)("button",{onClick:()=>{t("clear")},children:"[clear]"})}),o&&(0,n.jsx)(f,{children:"Showing "+d.length+" of "+e.length+" most recent events"}),d.map(e=>(0,n.jsx)(g,{req:e},e.requestJson.figment_debugger_uuid))]})}function f(e){return(0,n.jsx)("div",{className:"figment_debugger--sectionWrapper--Zr0-r","data-fullscreen-intercept":!0,children:e.children})}function g({req:e}){let[t,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),l=e.requestJson,o=(0,a.useMemo)(()=>t&&null!=l.properties?Object.entries(l.properties).map(([e,t])=>(0,n.jsxs)("div",{children:[e,": ",JSON.stringify(t)]},e)):[],[l,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"figment_debugger--logrow--dxWpW",tabIndex:0,role:"button",onClick:()=>{r(!t),s(!1)},"data-fullscreen-intercept":!0,children:[(0,n.jsx)("span",{children:t?"\uFF0D":"\uFF0B"}),"\xa0",(0,n.jsx)("span",{children:e.networkState===_.tM.SUCCESS?"\u{1F49A}":e.networkState===_.tM.FAILURE?"\u{1F494}":"\u{1F9E1}"}),"\xa0",(0,n.jsx)("span",{className:"figment_debugger--timestamp--BaHtN",children:l.sentAt.slice(11,16)}),"\xa0",l.event]}),t&&(0,n.jsxs)("div",{className:"figment_debugger--propertiesWrapper--hZGnc",children:[(0,n.jsx)("div",{className:"figment_debugger--propertiesButtonsRow--ZL1rH",children:(0,n.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),s(!0)},children:["[",i?"copied":"copy","]"]})}),o]})]})}},677092:(e,t,r)=>{r.d(t,{X:()=>rF,W:()=>rM});var n=r(237420),a=r(812714),i=r(755444),s=r(819851),l=r(211862),o=r(288747),d=r(538829),c=r(104076),_=r(716976),u=r(65545),m=r(951002),p=r(293422),h=r(929302),x=r(247172),f=r(740681),g=r(266808),b=r(681958),v=r(980852),y=r(795033);r(120440);var j=r(333331),w=r(901014),T=r(686549),C=r(190028),k=r(633065),E=r(323673),I=r(310725),A=r(219199),S=r(225582),N=r(681398),R=r(889438),O=r(394549),D=r(555013),F=r(436295),M=r(236631),L=r(259161),P=r(192075),B=r(659062),U=r(457923),z=r(276800),H=r(840206),W=r(833805),q=r(140490),V=r(58212),G=r(957526),K=r(184070),$=r(283816),Y=r(366535),J=r(111297),X=r(817647),Q=r(347592),Z=r(592726),ee=r(944350),et=r(754039),er=r(608175),en=r(346672),ea=r(600703);function ei(){let e=(0,n.wA)(),t=(0,Z.iZ)(),r=(0,o.sZ)(),i=!!r?.id,s=(0,W.gY)($.l),l=(0,a.kc)().terms_of_service_may_2025_update,d=(0,G.T)(r),_=!!d?.data?.isEligible,u=(0,X.vK)({planParentId:r?.id||"",planType:ee.OL.ORG},{enabled:i&&_}),m=!!u.data,p=(0,X.jv)({billableProductKeys:Q.N_,baseQuery:{tier:(0,et.kA)(r)?er.Ju.ENTERPRISE:er.Ju.ORG,currency:u.data,renewalTerm:er.IX.YEAR,unit:er.IX.MONTH},options:{enabled:m}});if(!r?.id||"loaded"!==d.status||!d.data.isEligible)return null;let h=d.data.orgTermsInfo.renewalDate,f=(0,C.A)(),g=30>=(0,C.A)(h).diff(f,"day");if(!h||!p.data)return null;let b=(0,c.jsxs)("span",{children:[l&&(0,P.tx)("seat_billing_terms.banner.urgent.main_text_v2"),!l&&(g?(0,P.tx)("seat_billing_terms.banner.urgent.main_text"):(0,P.tx)("seat_billing_terms.banner.info.main_text",{renewalDate:h.toDate()}))]}),v=(0,c.jsxs)("span",{children:[l&&(0,P.tx)("seat_billing_terms.banner.urgent.description_v2",{renewalDate:h.toDate()}),!l&&(g?(0,P.tx)("seat_billing_terms.banner.urgent.description"):(0,P.tx)("seat_billing_terms.banner.info.description"))]});return(0,c.jsx)(J.fu,{name:"Seat Billing Terms Reminder Banner",properties:{userId:t?.id,orgId:r?.id,variant:g?l?"error":"warning":"info"},children:(0,c.jsx)("div",{className:M.s.sticky.top0.$,style:B.sx.add({zIndex:2}).$,children:(0,c.jsx)(en.C,{content:{id:ea.om.SeatBillingTermsReminder,bannerType:g?ea.x1.DANGER:ea.x1.INFO_SOFT,mainText:b,description:v,dismissible:!1,positionStatic:!0,icon:g?(0,c.jsx)(x.e,{}):(0,c.jsx)(H.M,{}),iconSize:"medium",button:{buttonText:(0,P.tx)("seat_billing_terms.banner.review_and_accept"),onClick:()=>{e(Y.to({type:(0,K.w)(),data:{orgId:r.id,organizationName:r.name,renewalDate:h,isEnterprise:(0,et.kA)(r),onAccept:()=>s({planParentId:r.id,planType:ee.OL.ORG}).then(()=>{e(V.F.enqueue({message:(0,P.t)("seat_billing_terms.modal.success")}))}),prices:p.data}}))}}},onDismiss:z.lQ,dataTestId:"seat-billing-terms-banner"})})})}var es=r(821655),el=r(369729),eo=r(263188),ed=r(806484),ec=r(544394),e_=r(874191),eu=r(329821),em=r(923256),ep=r(893393),eh=r(904017),ex=r(134235),ef=r(982470);let eg="non_admin_billing_terms_banner_seen",eb=(0,em.g)(eg),ev=ep.M4.Query({fetch:async e=>(await ef.w.getNonAdminBillingTermsBanner(e)).data.meta}),ey=ep.M4.Mutation(async e=>{await ex.G.postOrgUserFlags({orgUserId:e.orgUserId,flags:{[eg]:!0}})});function ej(){let e=(0,Z.iZ)(),t=(0,o.sZ)(),r=(0,y.md)((0,G.b)(t?.id??null)),n=(0,y.md)(eb),i=(0,a.kc)().terms_of_service_may_2025_update,s=!!t?.created_at&&(0,eu.d)({date:new Date(t?.created_at)}),l=(0,eh.D6)("NonAdminBillingTermsBanner"),d=(0,eh.Ty)(l?.data??null),[u]=(0,ep.IT)(ev({orgId:t?.id}),{enabled:!!t?.id&&i&&s&&!d}),m=(0,ep.gY)(ey),p=r.unwrapOr(!1),h=l?.data?.key.parentId,{is_eligible:x,renewal_date:f,admin_settings_url:g,admin_emails:b}=u.unwrapOr({is_eligible:!1,renewal_date:"",admin_settings_url:"",admin_emails:[]}),v=(0,C.A)(),j=(0,C.A)(f),T=v.isBefore(j)&&7>=j.diff(v,"day"),k=_.useMemo(()=>(function({adminEmails:e,renewalDate:t,userName:r,adminSettingsLink:n}){if(!e||!t||!n||!t.isValid())return"";let a=encodeURIComponent((0,P.t)("non_admin_billing_terms.email_subject")),i=encodeURIComponent((0,P.t)("non_admin_billing_terms.email_body",{renewalDate:t.toDate(),admin_link:n,userName:r||""})),s=e.join(", ");return`mailto:${s}?subject=${a}&body=${i}`})({adminEmails:b,renewalDate:j,userName:e?.name,adminSettingsLink:g}),[b,j,e,g]);return j.isValid()&&t?.id&&i&&p&&!n.data&&h&&x&&T&&s?(0,c.jsx)(J.fu,{name:"Non Admin Billing Terms Reminder Banner",properties:{userId:e?.id,orgId:t?.id,emails:b?.join(", ")},children:(0,c.jsxs)(es.Cs,{variant:"warn",onDismiss:()=>{(0,w.sx)("CTA Clicked",{name:"Non Admin Billing Terms Reminder Banner dismissed",currentOrgId:t.id,userId:e?.id,emails:b?.join(",")}),m({orgUserId:h})},children:[(0,c.jsx)(el.Q,{children:(0,P.tx)("non_admin_billing_terms.banner_description",{name:t.name,renewalDate:j.toDate()})}),k&&(0,c.jsx)(L.pW,{href:k,variant:"secondary",children:(0,P.tx)("non_admin_billing_terms.contact_admin_button")})]})}):null}var ew=r(999083),eT=r(638004),eC=r(352630),ek=r(147046),eE=r(271330),eI=r(173982),eA=r(104836),eS=r(665756),eN=r(349311),eR=r(386216);function eO({team:e,openInvoiceUrls:t}){let r=(0,n.wA)();if(0===t.length)return null;let a={"data-tooltip-type":eN.Ib.TEXT,"data-tooltip":(0,P.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,c.jsx)(eC.$z,{onClick:()=>{t.length>1?r(ek.sf({view:"teamAdminConsole",teamId:e.id,teamAdminConsoleViewTab:eS.Iv.BILLING})):(0,T.FJ)(t[0],"_blank","noopener")},variant:"secondary",htmlAttributes:a,children:(0,P.t)("team_view.locked_proteam_admin_invoice_reminder_banner.cta",{invoiceCount:t.length})})}function eD(e){let t=e.team?.restrictions_list?.includes(ee.P4.LOCKED),r=(0,eI.Ti)({planId:e.team.id,planType:ee.OL.TEAM}),n=(0,eE.L)(eT.e.BILLING_EXPERIENCE),a=t?(0,P.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.title"):(0,P.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.title"),i=t?(0,P.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.subtitle"):(0,P.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.subtitle"),s=(0,ew.WI)(r.data?.map(e=>e.hosted_invoice_url)??[]);return(0,c.jsx)(J.fu,{name:"team_admin_open_invoice_reminder_banner",properties:{teamId:e.team.id},trackingOptions:n,children:(0,c.jsx)(en.C,{content:{id:0,bannerType:ea.x1.WARN_SOFT,mainText:a,description:i,dismissible:!1,positionStatic:!0,icon:(0,c.jsx)(x.e,{}),iconSize:"medium",button:{type:ea.MA.CUSTOM,element:(0,c.jsx)(eO,{team:e.team,openInvoiceUrls:s})}},onDismiss:z.lQ})})}var eF=r(609060),eM=r(51820),eL=r(451263),eP=r(607804),eB=r(850701),eU=r(483200),ez=r(443192),eH=r(901556),eW=r(845945),eq=r(278491),eV=r(244205),eG=r(244399),eK=r(822852),e$=r(558817),eY=r(958127),eJ=r(745529),eX=r(392243),eQ=r(797255),eZ=r(74620),e0=r(937505),e1=r(174730),e4=r(434884),e3=r(853039),e2=r(643898),e5=r(562311),e7=r(268305),e9=r(595724),e6=r(688009),e8=r(733811),te=r(256384),tt=r(549571),tr=r(509303),tn=r(248043),ta=r(876793),ti=r(669436),ts=r(217409);function tl(e){let t=(0,tt.xo)(),r=!!(0,tr.hA)(),a=(0,Z.TA)(),i=function(){let e=(0,tt.xo)(),t=(0,n.wA)(),r=(0,Z.iZ)(),a=(0,l.q5)();return e&&a&&r?async()=>{let e=await ti.S.copyFile(a.key);if(e.data.meta){let t=e.data.meta;if(k.eD){k.eD.openFile({fileKey:t.key,title:t.name,fileEditorType:"dev_handoff",target:k.aw.FOCAL_TAB,isBranch:!1,isLibrary:!1,isTeamTemplate:!1,userId:r?.id});return}A.Ay.redirect((0,tn.jN)({file:t,isDevHandoff:!0}),"_blank")}else t(te.s.error((0,P.t)("file_browser.file_browser_actions.file_copy_error")))}:null}(),[s,o]=(0,_.useState)(!1),[d,u]=(0,ta.QF)(a||"")||[],m=async()=>{i&&(o(!0),await i(),o(!1))};if(!t||r)return null;let p=(0,c.jsx)(eC.c,{disabled:!i||s,onClick:m,variant:"primary",trackingProperties:{planId:u,planType:d},children:(0,P.t)("dev_handoff.demo_file.request_access")});return(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!1,bannerType:ea.x1.INFO_SOFT,icon:(0,c.jsx)(e8.l,{className:"x1aue78i"}),iconSize:"medium",mainText:(0,c.jsx)("span",{className:"xemv814",children:(0,P.t)("dev_handoff.demo_file.get_dev_mode_to_simplify")}),button:{type:ea.MA.CUSTOM,element:p}}})}var to=r(629560),td=r(419822),tc=r(296430),t_=r(611060),tu=r(470876),tm=r(141773),tp=r(208740),th=r(872769),tx=r(330),tf=r(919853),tg=r(917916),tb=r(382827),tv=r(996253),ty=r(229796),tj=r(790009),tw=r(482996),tT=r(925658),tC=r(540983),tk=r(621689),tE=r(488355),tI=r(112773),tA=r(483193),tS=r(319057),tN=r(366797),tR=r(631571),tO=r(76635);function tD(){let{openMakePublishFlow:e}=(0,tA.X)(),t=(0,y.md)(tR.td)||!1;return(0,c.jsx)(eC.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1tk3asg xmkeg23 x1y0btm7 xau91oi x1ypdohk"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1ypdohk x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[!!t<<0],onClick:()=>e("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eV.c.PUBLISH_TEMPLATE,buttonContext:(0,P.t)("slides.templates.banner.publish_template_button"),productType:ee._Y.FIGMAKE},disabled:t,children:(0,P.tx)("slides.templates.banner.publish_template_button")})}function tF({showBanner:e}){let{openCooperPublishFlow:t}=(0,tI.t)(),r=(0,tT.l)(e);return(0,c.jsx)(eC.e6,{...{0:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea"},1:{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1wei53h xgbcquw xmkeg23 x1y0btm7 x1sc164m"}}[!!r<<0],onClick:()=>t("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eV.c.PUBLISH_TEMPLATE,buttonContext:(0,P.t)("slides.templates.banner.publish_template_button"),productType:ee._Y.COOPER},disabled:r,children:(0,P.tx)("slides.templates.banner.publish_template_button")})}function tM(){return(0,c.jsx)(eC.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg x1ypdohk",onClick:()=>(0,T.FJ)(tC.qv,"_blank"),trackingProperties:{trackingDescriptor:eV.c.SHOW_ME_HOW,buttonContext:(0,P.t)("cooper.templates.show_me_how"),productType:ee._Y.COOPER},children:(0,P.tx)("cooper.templates.show_me_how")})}var tL=r(983930),tP=r(649266),tB=r(678184),tU=r(950187),tz=r(268389);function tH({manager:e,userCanEditFile:t,isUserConnected:r}){return(0,c.jsx)(tU.bL,{manager:e,width:"fit-content",children:(0,c.jsxs)(tz.vo,{children:[(0,c.jsx)(tz.Y9,{children:(0,c.jsx)(tz.hE,{children:t?(0,P.t)("multiplayer_upgrade_modal.content_saving"):(0,P.t)("multiplayer_upgrade_modal.content_reloading")})}),r||(0,c.jsx)(tz.nB,{children:(0,P.t)("multiplayer_upgrade_modal.content_offline")}),(0,c.jsx)(tz.wi,{children:(0,c.jsx)(tz.jk,{children:(0,c.jsx)(td.k,{size:"md"})})})]})})}var tW=r(307858),tq=r(35219),tV=r(534477),tG=r(147836);let tK=JSON.parse('{"safari":"16","firefox":"101","chrome":"99","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var t$=r(253353),tY=r(104766),tJ=r(316388);let tX={bannerId:ea.om.TestWarningBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},tQ={bannerId:ea.om.TestOOMBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:"80% of memory used",customElem:(0,c.jsx)("div",{className:t$.DB,children:(0,c.jsx)(to.wc,{memoryUsagePercent:80})}),description:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("b",{style:B.sx.fontSemiBold.$,children:"This file is almost out of browser memory."})," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."]}),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},tZ={bannerId:ea.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...r}=tK,n=(0,S.R)("day"),a=new Date(t);if(a>new Date(n.getTime()+24192e5)||!N.Ay.isUnsupportedBrowser(r))return null;let i=a>n?(0,P.t)("banner.browser_deprecation.description",{deprecationDate:a}):(0,P.t)("banner.browser_deprecation.description_now"),s={dismissible:!0,bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,P.t)("banner.browser_deprecation.learn_more"),onClick:()=>A.Ay.redirect("https://help.figma.com/hc/articles/360039827194-Figma-browser-requirements","_blank")}};return(0,c.jsx)(ts.f,{...e,bannerContent:s})},dataTestId:"browser-deprecation-banner"},t0={bannerId:ea.om.CooperOldFileBanner,Banner:function(e){let t=(0,eP.to)();if(!(0,_.useMemo)(()=>{if(!t||!(0,eP.HH)())return!1;let e=(0,v.getActiveTSSceneGraph)();if(!e||!e.isValidScene)return[];let r=(0,b.bV)(e,"0:1");if(r.find(e=>"cooper_root"===e.name))return!0;let n=r.find(e=>"SLIDE_GRID"===e.type);return!!(n&&n.childrenNodes.find(e=>e.maxWidth!==g.IPu?.gridMaxWidth()))},[t]))return null;{let t={dismissible:!1,bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.cooper.old_file.title"),description:(0,P.t)("banner.cooper.old_file.description")};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}},dataTestId:"cooper-old-file-banner"},t1={bannerId:ea.om.InteropPagesBanner,Banner:function(e){return(0,eK.V6)()?(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!0,bannerType:ea.x1.WARN_SOFT,icon:tJ.A,mainText:"[Internal] Interop pages",description:(0,c.jsxs)("span",{children:["We\u2019ve sunset interop pages, so this file might be wonky. Ping ",(0,c.jsx)("a",{href:"https://figma.slack.com/archives/C065U6BKPBR",target:"_blank",rel:"noopener noreferrer",children:"#feat-interop-pages"})," for help."]})}}):null},dataTestId:"interop-pages-banner"},t4={bannerId:ea.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,k.GN)();if(null==t||y.zl.get(E.Pi))return null;let r=(0,P.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),n={dismissible:!0,bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.desktop_app_deprecation.title"),description:r,button:{buttonText:(0,P.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>A.Ay.unsafeRedirect(k.tr,"_blank")},dismissedAtom:E.Pi};return(0,c.jsx)(ts.f,{...e,bannerContent:n})},dataTestId:"desktop-deprecation-banner"},t3={bannerId:ea.om.TestInfoBanner,Banner:function(e){let t=(0,l.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:ea.x1.INFO,icon:tY.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>A.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},t2={bannerId:ea.om.ProTeamPastDue,Banner:function(e){let t=(0,n.wA)(),r=(0,eA.cD)(),a=(0,n.d4)(e=>r?e.teams[r]:null),i=(0,e0.FC)(),s=r&&(0,e5.canAdminTeam)(r,i),o=(0,l.q5)(),d=!!o?.canEdit,_=a&&a.subscription===ee.Qh.PAST_DUE,u={"data-tooltip-type":eN.Ib.TEXT,"data-tooltip":(0,P.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(_&&!d){let r={bannerType:ea.x1.WARN_SOFT,icon:(0,c.jsx)(x.e,{}),iconSize:"medium",mainText:s?(0,P.t)("banner.pro_team_past_due_revamp.title"):(0,P.t)("banner.pro_team_past_due_revamp.title_viewer"),description:s?(0,P.t)("banner.pro_team_past_due_revamp.subtitle.can_admin"):(0,P.t)("banner.pro_team_past_due_revamp.subtitle.no_admin"),button:s?{type:ea.MA.CUSTOM,element:(0,c.jsx)(p.$n,{onClick:()=>{t?.(ek.sf({view:"teamAdminConsole",teamId:a.id,teamAdminConsoleViewTab:eS.Iv.BILLING}))},variant:"secondary",htmlAttributes:u,children:(0,P.t)("banner.pro_team_past_due_revamp.cta")})}:void 0,dismissible:!1};return(0,c.jsx)(ts.f,{...e,bannerContent:r})}return null},dataTestId:"pro-team-past-due-banner"},t5={bannerId:ea.om.ExternalContentControlBanner,Banner:function(e){let t=(0,n.wA)(),r=(0,l.q5)(),a=(0,Z.iZ)(),i=(0,o.dq)(),s=(0,e2.R$)(a,i),d=(0,n.d4)(e=>{if(!s)return null;let t=e.orgById[a.external_restricted_org_id];return t?t.name:null});if(s&&d){let n=!!r&&r.viewerExportRestricted,a={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.tx)("external_collaboration_restricted.banner.title"),description:(0,P.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:d}),button:n?void 0:{buttonText:(0,P.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{r?.editorType==="design"?t(eB.u1({id:eq.C9})):t(Y.to({type:tL.B,data:{pickerInfo:{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}}}))}},dismissible:!1};return(0,c.jsx)(ts.f,{...e,bannerContent:a})}return null},dataTestId:"external-content-control-banner"},t7={bannerId:ea.om.ProTeamChargeFailed,Banner:function(e){let t=(0,n.wA)(),r=(0,eA.cD)(),a=(0,n.d4)(e=>r?e.teams[r]:null),i=(0,e0.FC)(),s=r&&(0,e5.canAdminTeam)(r,i),l=a&&a.subscription===ee.Qh.GRACE_PERIOD,o={"data-tooltip-type":eN.Ib.TEXT,"data-tooltip":(0,P.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(l&&s){let r={bannerType:ea.x1.WARN_SOFT,icon:(0,c.jsx)(x.e,{}),iconSize:"medium",mainText:(0,P.t)("banner.pro_team_charge_failed_revamp.title"),description:(0,P.t)("banner.pro_team_charge_failed_revamp.subtitle.can_admin"),button:{type:ea.MA.CUSTOM,element:(0,c.jsx)(p.$n,{onClick:()=>{t?.(ek.sf({view:"teamAdminConsole",teamId:a.id,teamAdminConsoleViewTab:eS.Iv.BILLING}))},variant:"secondary",htmlAttributes:o,children:(0,P.t)("banner.pro_team_past_due_revamp.cta")})},dismissible:!1};return(0,c.jsx)(ts.f,{...e,bannerContent:r})}return null},dataTestId:"pro-team-charge-failed-banner"},t9={bannerId:ea.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,n.wA)(),r=(0,eA.cD)(),a=(0,n.d4)(e=>r?e.teams[r]:null),s=(0,e0.FC)(),l=r&&(0,e5.canAdminTeam)(r,s);if(a&&a.subscription===ee.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let n=l?(0,c.jsx)("span",{children:(0,P.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:(0,c.jsx)("a",{href:`mailto:${(0,i.W4)()}`,children:(0,P.tx)("banner.pro_team_no_monthly_sub.contact_support")})})}):(0,c.jsx)("span",{children:(0,P.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:a.name})}),s={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.pro_team_no_monthly_sub.locked"),description:n,button:l?{buttonText:(0,P.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(ek.sf({view:"teamAdminConsole",teamId:r,teamAdminConsoleViewTab:eS.Iv.SETTINGS}))}}:void 0};return(0,c.jsx)(ts.f,{...e,bannerContent:s})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},t6={bannerId:ea.om.ProTrialsExpiryBanner,Banner:function(e){let t=(0,n.wA)(),r=(0,l.q5)(),a=(0,eA.cD)(),i=(0,n.d4)(e=>a?e.teams[a]:null),s=(0,e0.FC)(),o=(0,n.d4)(e=>e.userTeamFlags),d=(0,n.Pj)(),_=(0,e4.q)({teamId:a,flag:e7.lg});if(!i||!r)return null;let u=(0,e5.canEditTeam)(i.id,s),m=(0,e3.oc)(i.id,s);if(e7.ng.canSeeExpiredProTrialBanner(o,i,s)&&(m||u&&!_)){let n,a,s;m?(s=ea.x1.WARN_SOFT,n=u?(0,P.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:(0,c.jsx)("button",{onClick:e=>{e.preventDefault(),t?.(Y.to({type:tB.v,data:{teamId:i.id}}))},children:(0,P.tx)("banner.pro_trial_expiry.lower_usage")}),upgradeLink:(0,c.jsx)(J.$z,{onClick:e=>{e.preventDefault();let r=d.getState();t(eU.WX({teamId:i.id,selectedView:r.selectedView,entryPoint:(0,eJ.c)(eY.C6.PRO_TRIAL_UPSELL_BANNER)}))},children:(0,P.tx)("banner.pro_trial_expiry.upgrade")})}):(0,P.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),a={buttonText:(0,P.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,eF.h)({key:r.key,name:r.name,folder_id:r.folderId,team_id:r.teamId,editor_type:r.editorType,parent_org_id:r.parentOrgId},null,t)}):(s=ea.x1.INFO,n=(0,P.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),a={buttonText:(0,P.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=d.getState();t(eU.WX({teamId:i.id,selectedView:e.selectedView,entryPoint:(0,eJ.c)(eY.C6.PRO_TRIAL_UPSELL_BANNER)}))}});let l={bannerType:s,icon:tJ.A,mainText:(0,P.t)("banner.pro_trial_expiry.title"),dismissible:!m,onDismiss:m?void 0:()=>{t(eH.bE({all_team_flags:[{team_id:i.id,flags:{[e7.lg]:!0}}]}))},description:n,button:u?a:void 0};return(0,c.jsx)(ts.f,{...e,bannerContent:l})}return null},dataTestId:"pro-trials-expiry-banner"},t8={bannerId:ea.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,n.wA)(),r=(0,eA.cD)(),a=(0,n.d4)(e=>r?e.teams[r]:null),i=(0,e0.FC)(),o=(0,s.m0)(),d=(0,s.ow)(),_=(0,n.Pj)(),u=l.q5()?.canEdit,m=r&&(0,e5.canEditTeam)(r,i),p=a&&!(0,e3.n0)(a)&&!a.student_team&&(0,e3.oc)(a.id,i);if(p){let n=a.student_team_state===ee.kU.STUDENT_TEAM_EXPIRED,i=!!r&&p;if(i&&!u){let i=!!a.stripe_customer_id,s=()=>{t(Y.to({type:tP.t,data:{teamId:r,canEditTeam:!0}}))},l=()=>{let e=_.getState();t(eU.WX({teamId:r,selectedView:e.selectedView,entryPoint:(0,eJ.c)(eY.C6.LOCKED_TEAM_BANNER)}))},u=n?(0,P.t)("locked_team.card.title"):d?(0,P.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,P.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),p=n?(0,c.jsx)(J.fu,{name:"edu_locked_team",children:(0,c.jsx)("div",{style:B.sx.add({marginLeft:"-32px"}).$,children:(0,P.tx)("locked_team.card.edu_description",{reverifyEduLink:(0,c.jsx)(D.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,P.tx)("locked_team.card.reverify_edu_link")}),upgradeProLink:(0,c.jsx)(D.Us,{onClick:l,trusted:!0,children:(0,P.tx)("locked_team.card.upgrade_pro_link")})})})}):(0,c.jsx)("div",{style:B.sx.add({marginLeft:"-32px"}).$,children:(0,P.tx)(o?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:m?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),s()},children:(0,P.tx)("locked_team.banner.learn_more")})}):(0,c.jsx)(c.Fragment,{})})}),h=n?{buttonText:(0,P.t)("locked_team.banner.learn_more"),onClick:s,className:t$.n3}:m?{buttonText:i?(0,P.t)("locked_team.banner.reactivate_professional"):(0,P.t)("locked_team.banner.upgrade_to_professional"),onClick:l,className:t$.Vg}:void 0,x={bannerType:ea.x1.WARN_SOFT,icon:(0,c.jsx)(f.s,{}),mainText:u,description:p,button:h};return(0,c.jsx)(ts.f,{...e,bannerContent:x})}if(!i&&!o){let n;n=m?(0,c.jsxs)("span",{children:[(0,c.jsxs)("b",{style:B.sx.fontSemiBold.$,children:[(0,P.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:a.name})," "]}),(0,P.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:a.name,learnMoreLink:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(Y.to({type:tB.v,data:{teamId:r}}))},children:(0,P.tx)("banner.free_limit_locked.learn_more")})})})]}):(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{style:B.sx.fontSemiBold.$,children:(0,P.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:a.name})})," ",(0,P.tx)("banner.free_limit_locked.ask_your_team_admin_for_details")]});let i={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.free_limit_locked.locked"),description:n,button:m?{buttonText:(0,P.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=_.getState();t(eU.WX({teamId:r,selectedView:e.selectedView,entryPoint:(0,eJ.c)(eY.C6.LOCKED_TEAM_BANNER)}))},className:t$.n3}:void 0};return(0,c.jsx)(ts.f,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},re={bannerId:ea.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,l.q5)(),r=(0,o.dq)(),a=(0,n.d4)(et.wA),i=null,s=null;if(i=r&&(0,j.oA)(t?.isAbandonedDraftFile),s=(0,j.oA)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,P.tx)("banner.orphaned_projects.move_to_project")," ",(0,c.jsx)(D.N_,{trusted:!0,target:"_blank",className:M.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,P.tx)("general.learn_more")})]}):(0,P.t)("banner.orphaned_projects.move_to_project.member",{orgName:a?.name??""}),i&&t){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:s};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"orphaned-org-drafts-file-banner"},rt={bannerId:ea.om.TeamAbandonedDraftsFile,Banner:function(e){let t=(0,l.q5)(),r=(0,o.dq)(),n=(0,j.oA)(t?.isAbandonedDraftFile),a=(0,eA.ol)();if(a&&!r&&n){let r=(0,j.oA)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,P.tx)("banner.orphaned_projects.move_to_project.team")," ",(0,c.jsx)(D.N_,{trusted:!0,target:"_blank",className:M.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,P.tx)("general.learn_more")})]}):(0,P.t)("banner.orphaned_projects.move_to_project.team_member",{teamName:a.name??""});if(t){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:r};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}}return null},dataTestId:"team-abandoned-drafts-file-banner"},rr={bannerId:ea.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,l.q5)(),r=(0,eA.cD)(),a=(0,n.d4)(e=>r?e.teams[r]:null),i=(0,o.dq)(),s=(0,n.wA)(),d=(0,e0.FC)();if(!(i&&t?.project&&(0,eX.n3)(t.project))&&!a&&t&&(0,e3.f4)(t.folderId,t.teamId,d)){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.personal_projects.locked"),description:(0,c.jsx)(c.Fragment,{children:(0,P.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:(0,c.jsx)("a",{href:"/pricing-faq#what-changes-for-me",children:(0,P.tx)("banner.personal_projects.learn_more")})})}),button:{buttonText:(0,P.t)("banner.personal_projects.back_to_files"),onClick:()=>s?.(ek.sf({view:"recentsAndSharing"}))}};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},rn={bannerId:ea.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,eA.cD)(),r=(0,n.d4)(e=>t?e.teams[t]:null),a=(0,Z.iZ)(),i=(0,eG.nF)(),s=(0,n.d4)(e=>e.userEduGracePeriods);if(!t||!a)return null;if(r&&!i?.enabled&&(0,R.GU)(s,(0,R.cn)(a),t,!!r.student_team).showAccessRestricted){let t={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,P.t)("banner.edu_grace_period.verification_required"),description:(0,P.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:r.name}),button:{buttonText:(0,P.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>A.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},ra={bannerId:ea.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,eA.cD)(),r=(0,n.d4)(e=>t?e.teams[t]:null),a=(0,Z.iZ)(),i=(0,eG.nF)(),s=(0,n.d4)(e=>e.userEduGracePeriods);if(t&&a){let n=r&&!i?.enabled&&(0,R.GU)(s,(0,R.cn)(a),t,!!r.student_team).showReminder,l=(0,R.zR)(s,t);if(n){let t={bannerType:ea.x1.INFO,icon:tY.A,mainText:(0,P.t)("banner.edu_grace_period.verification_required"),description:(0,P.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:r.name,endDate:l}),dismissible:!0,button:{buttonText:(0,P.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>A.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"};function ri(e){let t;if(!e)return(0,P.t)("banner.multiplayer_session_upgrade.page_out_of_date");switch(e){case ee._Y.DESIGN:t=(0,P.t)("general.figma_design");break;case ee._Y.WHITEBOARD:t=(0,P.t)("general.figjam");break;case ee._Y.SLIDES:t=(0,P.t)("general.figma_slides");break;case ee._Y.SITES:t=(0,P.t)("general.figma_sites");break;case ee._Y.COOPER:t=(0,P.t)("general.figma_buzz");break;case ee._Y.FIGMAKE:t=(0,P.t)("general.figma_rev");break;default:(0,m.xb)(e)}return(0,P.t)("banner.multiplayer_session_upgrade.with_editor_type",{editorType:t})}let rs={bannerId:ea.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,eZ.p8)("multiplayerSessionState")!==g.kul.UNJOINED,r=!(0,eZ.p8)("isReadOnly"),i=(0,n.d4)(e=>e.showingUpgradeBanner),s=l.q5()?.editorType,[o,d]=(0,_.useState)(!1),u=h.hS({open:o,onClose:()=>{},preventUserClose:!0});if(i){let n={bannerType:ea.x1.INFO,icon:tJ.A,mainText:(0,a.kc)().force_client_reloads_fullscreen_banner_string?ri(s):(0,P.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:r?(0,P.t)("banner.multiplayer_session_upgrade.out_of_date.editor"):(0,P.t)("banner.multiplayer_session_upgrade.out_of_date.viewer"),button:{buttonText:r?(0,P.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,P.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,w.sx)("Upgrade Banner Clicked"),g.h3O?.startUpgrade(),d(!0)}}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ts.f,{...e,bannerContent:n}),(0,c.jsx)(tH,{manager:u,userCanEditFile:r,isUserConnected:t})]})}return null},dataTestId:"multiplayer-session-upgrade-banner"},rl={bannerId:ea.om.ForceClientReload,Banner:function(e){let[t,r]=_.useState(!1),[i,s]=_.useState(!1),o=(0,y.md)(eQ.T),d=(0,n.d4)(e=>!!e.saveStatus?.hasUnsavedChanges),u=l.q5()?.editorType;if(_.useEffect(()=>{o&&!i&&(w.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.shown",{}),s(!0))},[o,i]),_.useEffect(()=>{t&&!d&&A.Ay.reload("force client reload banner",{isForceClientReloadBanner:!0})},[t,d]),o){let n={bannerType:ea.x1.INFO,icon:tJ.A,mainText:(0,a.kc)().force_client_reloads_fullscreen_banner_string?ri(u):(0,P.t)("banner.multiplayer_session_upgrade.page_out_of_date"),button:{buttonText:(0,P.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{r(!0),w.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.clicked",{})},disabled:t}};return(0,c.jsx)(ts.f,{...e,bannerContent:n})}return null},dataTestId:"force-client-reload-banner"},ro={bannerId:ea.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,n.wA)(),r=(0,l.q5)(),a=(0,eG.nF)(),i=(0,Z.iZ)(),s=(0,e1.f)("dismissed_figjam_try_drafts_banner"),o=(0,S.R)("minute");if(!a?.enabled||!r||!i)return null;if(!r.isTryFile&&!r.parentOrgId&&r.folderId===i.drafts_folder_id&&!s){let n=(0,C.A)(o),i=Math.ceil((0,C.A)(a.until).diff(n,"hours",!0)),s={bannerType:ea.x1.INFO,icon:tY.A,mainText:i>1?(0,P.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,P.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,P.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(ez.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,P.t)("figjam_try.move_file"),onClick:()=>(0,eF.h)({key:r.key,name:r.name,folder_id:r.folderId,team_id:r.teamId,editor_type:r.editorType,parent_org_id:r.parentOrgId},null,t)}};return(0,c.jsx)(ts.f,{...e,bannerContent:s})}return null},dataTestId:"figjam-try-drafts-banner"},rd=(0,y.eU)(!1),rc={bannerId:ea.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,l.q5)(),{onClaim:r}=(0,tV.E)(t?.key),n=(0,eG.nF)(),a=(0,Z.iZ)(),[i,s]=(0,y.fp)(rd),o=(0,S.R)("minute"),d=(0,tq.d)(),_=t?.key;if(!t?.isTryFile||N.Ay.isMeetDevice||!a||!n?.enabled||!_||i||d)return null;let u=(0,C.A)(o),m=Math.ceil((0,C.A)(n.until).diff(u,"hours",!0)),p={bannerType:ea.x1.INFO,icon:tY.A,mainText:m>1?(0,P.t)("figjam_try_v2.timer_hours_left",{hoursLeft:m}):(0,P.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,P.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>s(!0),dismissible:!0,button:{buttonText:(0,P.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>r()}};return(0,c.jsx)(ts.f,{...e,bannerContent:p})},dataTestId:"figjam-try-claim-banner"},r_={bannerId:ea.om.DowntimeBanner,Banner:function(e){let t=(0,n.d4)(e=>e.showingDowntimeBanner),{payload:r,status:i}=(0,n.d4)(e=>e.downtime);if(!r||!(0,a.kc)().display_downtime_banner)return null;let s=(0,P.tx)("downtime_banner.warning.description",{minLengthMinutes:r.minLengthMinutes,maxLengthMinutes:r.maxLengthMinutes,startTime:r.downtimeStartDate,helpcenterLink:(0,c.jsx)(D.CY,{target:"_blank",href:r.helpcenterUrl,trusted:!0,children:(0,P.t)("downtime_banner.ongoing_and_warning.learn_more_link")})}),l=(0,c.jsx)("p",{children:(0,P.tx)("downtime_banner.ongoing.description",{minLengthMinutes:r.minLengthMinutes,maxLengthMinutes:r.maxLengthMinutes,helpcenterLink:(0,c.jsx)(D.CY,{target:"_blank",href:r.helpcenterUrl,trusted:!0,children:(0,P.t)("downtime_banner.ongoing_and_warning.learn_more_link")})})}),o=()=>{let e=r.downtimeStartDate.getTime(),t=Date.now();return Math.floor((t<e?Math.floor((e-t)/1e3):0)/60)},d=null;return(t?d={bannerType:ea.x1.WARN,icon:tJ.A,dismissible:!1,mainText:(0,P.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:o()}),description:s}:i===e6.A.Ongoing?d={bannerType:ea.x1.WARN,icon:tJ.A,dismissible:!1,mainText:(0,P.t)("downtime_banner.ongoing.scheduled_maintenance_in_progress_header"),description:l}:i===e6.A.Imminent&&(d={bannerType:ea.x1.WARN,icon:tJ.A,dismissible:!1,mainText:(0,P.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:o()}),description:s}),d)?(0,c.jsx)(ts.f,{...e,bannerContent:d}):null},dataTestId:"downtime-banner"};function ru({hubFile:e}){return(0,eL._)(e)?(0,P.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,P.tx)("banner.freemium_preview.get_the_full_file_on_community")}function rm({hubFile:e}){return(0,eL._)(e)?(0,P.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,P.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function rp({hubFile:e}){let t=(0,eL._)(e),r=t?"":`?${eW.Tb}`;return(0,c.jsx)(eM.A6,{to:`/community/file/${e.id}${r}`,children:(0,c.jsx)(D.tM,{trackingProperties:{trackingDescriptor:t?eV.c.OPEN_IN_COMMUNITY:eV.c.BUY_THE_RESOURCE},children:t?(0,P.tx)("banner.freemium_preview.open_in_community"):(0,P.tx)("banner.freemium_preview.buy_the_resource")})})}let rh={bannerId:ea.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,l.tS)(),r=(0,n.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),a=(0,n.d4)(e=>r?e.hubFiles[r.hubFileId]:null);return r&&r.isPreview&&a&&a.monetized_resource_metadata?(0,c.jsx)(ts.f,{...e,bannerContent:{bannerType:ea.x1.INFO,icon:tY.A,dismissible:!1,mainText:(0,c.jsx)(ru,{hubFile:a}),description:(0,c.jsx)(rm,{hubFile:a}),button:{type:ea.MA.CUSTOM,element:(0,c.jsx)(rp,{hubFile:a})}}}):null},dataTestId:"freemium-preview-banner"},rx={bannerId:ea.om.FileCreationFailureBanner,Banner:function(e){if((0,n.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:ea.x1.WARN,dismissible:!1,mainText:(0,P.tx)("banner.file_creation_failure.title"),description:(0,P.tx)("banner.file_creation_failure.description")};return(0,c.jsx)(ts.f,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},rf={bannerId:ea.om.FileIsTeamTemplate,Banner:function(e){let t=(0,n.wA)(),r=(0,eZ.aV)(),i=(0,tu.kD)(),o=(0,tm.b4)(),d=(0,l.q5)(),_=(0,tu.tS)(),u=(0,tu.ac)(),m=(0,tf.Td)(),h=(0,s.lg)(),x=(0,tb.sO)(),f=(0,eP.to)(),g=(0,s.ow)(),b=(0,Z.iZ)(),v=b?.id&&i&&i.publishedByUserId===b.id,j=(0,tu.J3)(),w=(0,y.md)(tv.wb),T=(0,tm.WS)(),C=null!=i&&T(i.fileKey);if(!_||r||!d||!i||m||null===u||w)return null;let k=u&&j===tu.kN.CAN_PUBLISH,E=(0,a.kc)().figjam_a11y_template_banner&&g,I=()=>{if(i&&d){if(f){let e=new URL((0,tx.e)(h,tp.f6.TEAM_TEMPLATE_BANNER,d.libraryKey),document.baseURI).href;A.Ay.redirect(e,"_blank")}else o({templateIdentifier:{type:th.vt.TeamTemplate,file_key:i.fileKey},templateName:i.name,openInNewTab:h===ee._Y.FIGMAKE})}},S=()=>{(0,tg.YM)(t,i.fileKey,h,"editor-republish-banner")},N=x?(0,P.t)("slides.templates.banner.new_deck_button"):(0,P.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button"),R=(0,c.jsx)(t_.vu,{editorType:h,libraryKey:d.libraryKey,variant:k&&v?"bannerSecondary":"bannerPrimary"}),O=(0,c.jsx)("div",{className:"x1n2onr6",children:(0,c.jsxs)(p.$n,{variant:"secondary","data-testid":"banner-cta-button",children:[(0,c.jsx)("span",{className:"xlshs6z",children:N}),(0,c.jsx)("span",{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz",children:(0,c.jsx)(td.k,{size:"md"})})]})}),D=C?{type:ea.MA.CUSTOM,element:O}:{type:ea.MA.STRUCTURED,onClick:I,trackingDescriptor:eV.c.USE_IN_NEW_FILE,buttonText:N},F=C?O:(0,c.jsx)("div",{className:"x1n2onr6",children:(0,c.jsx)(eC.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xmkeg23 x1y0btm7 xau91oi x1tk3asg xt0e3qv xwa2v1s",onClick:I,trackingProperties:{trackingDescriptor:eV.c.USE_IN_NEW_FILE,buttonContext:N,productType:h},"data-testid":"buzz-banner-cta-button",children:N})});if(k){if(!v){let t=f?{type:ea.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,R]})}:D;return(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!1,bannerType:E?ea.x1.FPL_BRAND:ea.x1.INFO,icon:ty.A,mainText:(0,P.t)("templates.banner.republish.primary_text"),description:(0,P.t)("templates.banner.republish.secondary_text_not_owner"),button:t}})}let t={type:ea.MA.STRUCTURED,onClick:S,trackingDescriptor:eV.c.PUBLISH_CHANGES,buttonText:(0,P.t)("templates.banner.republish.republish_action")},r=(0,c.jsx)(eC.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea",onClick:S,trackingProperties:{trackingDescriptor:eV.c.PUBLISH_CHANGES,buttonContext:(0,P.t)("templates.banner.republish.republish_action"),productType:h},children:(0,P.t)("templates.banner.republish.republish_action")}),n=f?{type:ea.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,R,r]})}:t;return(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!1,bannerType:E?ea.x1.FPL_BRAND:ea.x1.INFO,icon:ty.A,mainText:(0,P.t)("templates.banner.republish.primary_text"),description:(0,P.t)("templates.banner.republish.secondary_text"),button:n}})}let L=i.publishedByUser?.handle&&(v?x?(0,P.tx)("slides.templates.banner.republish.you"):(0,P.tx)("templates.banner.made_by_you"):(0,P.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:i.publishedByUser.handle})),B=L?x?(0,P.tx)("slides.templates.banner.republish.made_this",{madeByPublisherName:L}):(0,P.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:(0,c.jsx)("span",{className:M.s.fontNormal.$,children:L})}):(0,P.t)("templates.banner.republish.you_re_viewing_a_template"),U=f?{type:ea.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[F,R]})}:D;return(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!1,bannerType:E?ea.x1.FPL_BRAND:ea.x1.INFO,icon:(0,c.jsx)(tc.X,{...{0:{className:"xwa2v1s"},1:{}}[!!x<<0]}),iconSize:"medium",mainText:B,description:x?(0,P.t)("slides.templates.banner.republish.templates_can_be_used_to_create_a_new_slide_deck"):void 0,button:U}})},dataTestId:"team-templates-banner"},rg={bannerId:ea.om.TemplatePublishingNudgeBanner,Banner:function(e){let t;let r=(0,eZ.aV)(),n=(0,tu.kD)(),a=(0,l.q5)(),i=(0,tu.J3)(),s=(0,tE.j)()&&(0,tu.JU)(i),{draftTemplateKeys:o,isCurrentFileDraftTemplate:d,setUserDraftTemplateKeyForCurrentFile:u}=(0,tO.Iv)(),{openSlidesPublishFlow:m}=(0,tS.X)(),p=(0,y.md)(tk.Hk),h=(0,y.md)(tN.Np);(0,_.useEffect)(()=>{(p||h)&&!d()&&u()},[d,p,h,u]);let x=a?.editorType===ee._Y.SLIDES,f=a?.editorType===ee._Y.COOPER,g=a?.editorType===ee._Y.FIGMAKE,b=(0,tw.bF)()&&(0,tu.JU)(i),v=!!a?.editorType&&!n&&!r&&Object.keys(o).length>0&&(d()||p||h)&&!(f&&!s)&&!(g&&!b);return v?(t=f?{type:ea.MA.CUSTOM,element:(0,c.jsx)(tj.J,{mode:"dark",children:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[(0,c.jsx)(tM,{}),(0,c.jsx)(tF,{showBanner:v})]})})}:g?{type:ea.MA.CUSTOM,element:(0,c.jsx)(tj.J,{mode:"dark",children:(0,c.jsx)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:(0,c.jsx)(tD,{})})})}:{type:ea.MA.STRUCTURED,onClick:()=>m("editor-pre-publish-banner"),trackingDescriptor:eV.c.PUBLISH_TEMPLATE,buttonText:(0,P.t)("slides.templates.banner.publish_template_button")},(0,c.jsx)(ts.f,{...e,bannerContent:{dismissible:!1,bannerType:ea.x1.INFO,icon:(0,c.jsx)(tc.X,{...{0:{className:"xwa2v1s"},1:{}}[!!x<<0]}),iconSize:"medium",mainText:(0,P.t)("slides.templates.banner.making_a_template"),description:(0,P.t)("slides.templates.banner.publish_when_youre_done"),button:t}})):null},dataTestId:"template-publishing-nudge-banner"},rb={bannerId:ea.om.OrgDowngradeBanner,Banner:function(e){let t=(0,e$.a9)(),r=(0,o.sZ)();if(!(0,a.kc)().org_downgrade_banner||t?.permission!==ee._D.ADMIN||r?.org_downgrade?.operation_state!=="scheduled")return null;let n=r?.org_downgrade?.scheduled_run_at;if(!n)return null;let i=new Date(n);if(i<new Date)return null;let s={bannerType:ea.x1.WARN,dismissible:!1,mainText:(0,P.tx)("banner.org_downgrade.reminder.title",{orgName:r?.name||"",downgradeDate:i}),positionStatic:!0,button:{type:ea.MA.CUSTOM,element:(0,c.jsx)(U.V,{onClick:()=>{(0,T.FJ)("https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215","_blank")},variant:"inverse",children:(0,P.tx)("banner.org_downgrade.reminder.contact_support")})}};return(0,c.jsx)(ts.f,{...e,bannerContent:s})},dataTestId:"org-downgrade-banner"},rv={bannerId:ea.om.SeatBillingTermsReminder,Banner:function(){return(0,c.jsx)(q.u,{label:"SeatBillingTermsReminderBanner",children:(0,c.jsx)(ei,{})})},dataTestId:"seat-billing-terms-banner"},ry={bannerId:ea.om.TeamAdminOpenInvoiceReminder,Banner:function(){let e=(0,eA.ol)(),t=(0,eR.R)(e?.id),r=(0,d.n)();return e&&t&&r?(0,c.jsx)(eD,{team:e}):null},dataTestId:"team-admin-open-invoice-reminder-banner"},rj={bannerId:ea.om.DevModeDemoFileUpsellBanner,Banner:function(e){return(0,c.jsx)(q.u,{label:"DevModeDemoFileUpsellBanner",children:(0,c.jsx)(tl,{...e})})},dataTestId:"dev-mode-demo-file-upsell-banner"},rw={bannerId:ea.om.OrderFormBillingTermsBanner,Banner:function(){let e=(0,n.wA)(),t=(0,Z.iZ)(),r=(0,o.sZ)(),a=(0,e_.Az)(r),[i,s]=_.useState(!1),l=_.createRef();if(!a.data?.isEligible)return null;let{isEligible:d,warningType:u,renewalDate:m}=a.data;if(!(d&&u&&m)||i)return null;let{variant:p,buttonText:h,onDismiss:x}={warning:{variant:"warn",buttonText:(0,P.tx)("order_form_billing_terms.button_text.warn"),onDismiss:()=>s(!0)},error:{variant:"danger",buttonText:(0,P.tx)("order_form_billing_terms.button_text.warn"),onDismiss:void 0}}[u];return(0,c.jsx)(J.fu,{name:"Order Form Renewal Banner",properties:{userId:t?.id,orgId:r?.id,variant:p},children:(0,c.jsxs)("div",{className:M.s.sticky.top0.$,style:B.sx.add({zIndex:2}).$,children:[(0,c.jsxs)(es.Cs,{variant:p,onDismiss:x,"data-testid":"near-renewal-warning-banner",children:[(0,c.jsx)(el.Q,{title:(0,P.tx)("order_form_billing_terms.headline_banner_text.danger"),children:(0,c.jsx)("p",{children:(0,P.tx)("order_form_billing_terms.description_banner_text.warn",{renewalDate:m.toDate()})})}),(0,c.jsx)(eo.$,{onClick:()=>{(0,ed.ny)({name:t?.name||null,email:t?.email||null},{ticketForms:["billing"],locale:t?.locale,fields:[{id:0x53d2eb6d8d,value:(0,P.t)("order_form_billing_terms.billing_contact_subject")},{id:0x53d2eb6da1,value:(0,P.t)("order_form_billing_terms.billing_contact_description")},{id:0x8d435084517,value:"b_something_else"}],suppressAnswerBot:!0})},children:h})]}),(0,c.jsx)(ec.F,{ref:l,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})})},dataTestId:"order-form-billing-terms-banner"},rT={bannerId:ea.om.NonAdminBillingTermsBanner,Banner:function(){return(0,c.jsx)(q.u,{label:"NonAdminBillingTermsBanner",children:(0,c.jsx)(ej,{})})},dataTestId:"non-admin-billing-terms-banner"},rC={bannerId:ea.om.eduRestrictedSitesBanner,Banner:function(e){let t=(0,l.q5)(),r=t?.editorType==="sites",{isEligible:n}=function(){let e=(0,l.q5)(),t=!!e?.canEdit,r=!!(e&&e.teamId&&!t),n=e&&e.teamId?e.teamId:null;return{isEligible:r,canEditTeam:(0,tW.$Y)(n),teamId:n}}(),a=(0,eh.No)(),i=a.unwrapOr(null)?.tier||null,s=(0,O.Zb)(),o=i===u.Agb.STUDENT&&!s;if(!(n&&r&&o))return null;let d={bannerType:ea.x1.FPL_BRAND,icon:tJ.A,mainText:(0,P.tx)("banner.sites_view_only_current_plan"),button:{type:ea.MA.CUSTOM,element:(0,c.jsx)("div",{className:"x1qbgpp5",children:(0,c.jsx)(L.pW,{href:F.R,newTab:!0,variant:"secondary",children:(0,P.tx)("general.learn_more")})})}};return(0,c.jsx)(ts.f,{...e,bannerContent:d})},dataTestId:"edu-restricted-sites-banner"};ea.om.DevModeMCPSSEDeprecationBanner,tG.Y;let rk={bannerId:ea.om.SlotsEnablementReload,Banner:function(e){let[t,r]=_.useState(!1),a=(0,e9.N)(),s=(0,n.d4)(e=>!!e.saveStatus?.hasUnsavedChanges);if(_.useEffect(()=>{t&&!s&&A.Ay.reload("slots enablement reload banner",{isSlotsEnablementReloadBanner:!0})},[t,s]),a){let n={bannerType:ea.x1.INFO,icon:tJ.A,mainText:(0,i.b5)()&&!(0,i.O_)()?(0,c.jsxs)("span",{children:["This file contains slots, but you are not in all the necessary feature flags. Please refresh the page to enable them. See"," ",(0,c.jsx)(D.CY,{href:"https://go/slots-staging",target:"_blank",trusted:!0,children:"this FAQ"})," ","or #feat-slots for more info."]}):(0,P.tx)("banner.slots_enablement_prod"),button:{buttonText:(0,P.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{r(!0)},disabled:t},dismissible:!0};return(0,c.jsx)(ts.f,{...e,bannerContent:n})}return null},dataTestId:"slots-enablement-reload-banner"},rE={bannerId:ea.om.SupportShareWarningBanner,Banner:function(e){let t=(0,Z.iZ)(),r=(0,I.fT)(t?.email);if(!(0,a.kc)().support_share_enable_warning_banner||!r)return null;let n={bannerType:ea.x1.WARN,icon:tJ.A,mainText:(0,c.jsx)("span",{children:"You are viewing this file as the support-share user. Please use caution when making changes as the support-share user."})};return(0,c.jsx)(ts.f,{...e,bannerContent:n})},dataTestId:"support-share-warning-banner"},rI=[r_,tZ,t4,rs,rl,...(0,a.kc)().dse_slots_file_enablement?[rk]:[],t0,rf,rg,t2,t7,t9,t6,t8,t5,re,rt,rr,rn,ra,rC,ro,rc,rh,t1,rE,...(0,i.b5)()?[tX,tQ,t3]:[]],rA=[t4,rs,rl,rj,re],rS=[rx],rN=[],rR=[],rO=[rb,rv,rw,rT],rD=[ry];function rF(){let e=(0,l.q5)(),t=(0,s.m0)(),r=e?.teamId,a=(0,n.d4)(e=>r?e.teams[r]:null);return e?r&&!a?rN:t?rA:rI:rS}function rM(){let e=(0,d.n)();return(0,o.dq)()?rO:e?rD:rR}},918830:(e,t,r)=>{r.d(t,{Y:()=>i});var n=r(104076),a=r(716976);let i=a.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:r,registerActiveBanner:i}=function({prioritizedBanners:e}){let[t,r]=(0,a.useState)(()=>new Set);return{registerActiveBanner:(0,a.useCallback)(e=>(r(t=>{if(t.has(e))return t;let r=new Set(t);return r.add(e),r}),()=>{r(t=>{if(t.has(e)){let r=new Set(t);return r.delete(e),r}return t})}),[]),bannerIdToShow:function(e,t=[]){let r=(0,a.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,r)=>(e.set(t,r),e),new Map),[t]),n=(0,a.useMemo)(()=>[...e].reduce((e,t)=>{let n=r.get(t)??1/0;return n<e?n:e},1/0),[e,r]);return t[n]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return(0,n.jsx)(n.Fragment,{children:e.map(({bannerId:e,Banner:a,dataTestId:s})=>(0,n.jsx)(a,{bannerId:e,shouldDisplay:e===r,registerAsActive:i,location:t,dataTestId:s},e))})})},534477:(e,t,r)=>{r.d(t,{E:()=>b});var n=r(716976),a=r(237420);if(443==r.j)var i=r(276800);var s=r(812714),l=r(795033),o=r(514223),d=r(472436),c=r(366535),_=r(684418),u=r(803752),m=r(592726),p=r(944350),h=r(530299),x=r(524101),f=r(582652);let g=!1;function b(e){let t=(0,a.wA)(),r=(0,l.md)(_.g),b=(0,m.iZ)(),v=r!==o.r.LOADING&&r!==o.r.INIT,y=d.Q?.loadingKeyForPayload?.({file_key:e}),j=(0,a.d4)(e=>e.loadingState||{}),w=(0,h.GH)(j,y),T=(0,h.VP)(j,y);n.useEffect(()=>{r===o.r.INIT&&t((0,u.nm)(!1))},[t,r]);let C=(0,x.rc)(v&&b?r.plansByUserId[b.id]:[]),k=(0,n.useCallback)(r=>{e&&t(d.Q({file_key:e,folder_id:r}))},[t,e]),E=(0,n.useCallback)(()=>{if(e&&!T&&!w){if((0,s.kc)().dtm_deprecation_plan_picker_for_files){if(v){if(1===C.length){let e=C[0];e.isPlanLocked||!e.draftFolderId||e.isFigJamDisabled||k(e.draftFolderId)}else C.length>1?t((0,c.to)({type:f.h,data:{payload:{workspaces:C,onSelectWorkspace:e=>{k(e.draftFolderId)},editorType:p._Y.WHITEBOARD,useCase:"figjamTry"}}})):k()}else{if(g)return;g=!0;return}}else k()}},[e,T,w,k,v,C,t]);return(n.useEffect(()=>{g&&v&&(g=!1,E())},[E,v]),e)?{onClaim:E,hasClaimedFigjamFile:w,isClaimingFigjamFile:T}:{onClaim:i.lQ,hasClaimedFigjamFile:w,isClaimingFigjamFile:T}}},216816:(e,t,r)=>{r.d(t,{a:()=>x});var n=r(104076),a=r(795033),i=r(653899),s=r(192075),l=r(244205),o=r(422872),d=r(235711),c=r(143277),_=r(61102),u=r(909342),m=r(654200),p=r(441030);let h=(0,d.r1)("seen_dtm_deprecation_post_migration_overlay");function x(e){let t=(0,a.md)(h),{show:r,isShowing:d,complete:x}=(0,o.e)({overlay:p.ak5,priority:c.N.DEFAULT_MODAL},[t]);(0,i.h)(()=>{r({canShow:e=>!e})});let f=(0,n.jsx)(n.Fragment,{}),g=(0,n.jsx)(n.Fragment,{});if("plan_nav"===e.entryPoint){f=(0,s.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_been_moved");let t=(0,s.tx)("file_browser.drafts_to_move.you_can_find_them_in_the_drafts_section_of_your_org_name_plan",{orgName:e.planName||""}),r=(0,s.tx)("file_browser.drafts_to_move.any_files_from_that_section_are_now_in_a_new_free_starter_team"),n=(0,s.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_section_of_team_name",{teamName:e.planName||""});g=e.isOrg?t:e.starterTeamCreated?r:n}else{let t=(0,s.tx)("file_browser.drafts_to_move.drafts_to_move_files_are_right_here"),r=(0,s.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here");f=e.isOrg?(0,s.tx)("file_browser.drafts_to_move.your_drafts_to_move_files_are_right_here"):e.starterTeamCreated?t:r;let n=(0,s.tx)("file_browser.drafts_to_move.we_created_a_new_free_starter_team_for_them"),a=(0,s.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash");g=e.isOrg?(0,s.tx)("file_browser.drafts_to_move.you_can_find_them_in_drafts_previously_deleted_files_will_appear_in_trash"):e.starterTeamCreated?n:a}return(0,n.jsx)(_.rq,{arrowPosition:m.F_.LEFT_TITLE,description:(0,n.jsx)("p",{children:g}),emphasized:!0,isShowing:d,onClose:x,primaryCta:{label:e.navigateToPlan?(0,s.tx)("file_browser.drafts_to_move.show_me"):(0,s.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{e.navigateToPlan&&e.navigateToPlan(),x()},ctaTrackingDescriptor:l.c.DONE},secondaryCta:{label:(0,s.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:l.c.LEARN_MORE},targetKey:e.targetKey||"dtm_deprecation_post_migration_overlay_drafts_key",title:f,trackingContextName:"Dtm Deprecation Post Migration Overlay",width:300,zIndex:u.R.MODAL})}},803276:(e,t,r)=>{r.d(t,{A:()=>O});var n=r(104076),a=r(716976),i=r(237420),s=r(746175);if(443==r.j)var l=r(475477);var o=r(812714),d=r(795033),c=r(755444),_=r(816565);if(443==r.j)var u=r(843859);var m=r(192075),p=r(366535),h=r(443192),x=r(244205),f=r(373547),g=r(422872),b=r(381059),v=r(235711),y=r(143277),j=r(187429),w=r(116450),T=r(182659),C=r(441030),k=(e=>(e.SPAIN="spain",e.NON_SPAIN="non_spain",e))(k||{});let E=443==r.j?864e5:null,I=()=>Date.now()-E,A=e=>{let t=c.Ay()?.iso_code,r=c.Ay()?.user_data?.signup_locale;if(!(null!=e&&e.getTime()<I()))return!1;if("es-es"===r)return!0;let n=(0,j.zo)();return"latam"!==n&&("spain"===n||!(t&&u.rX.includes(t))&&!!(t&&u.vz.includes(t)))},S=e=>{let t=c.Ay()?.iso_code,r=c.Ay()?.user_data?.signup_locale,n=null!=e&&e.getTime()<I(),a="es-es"===r||"ES"===t||navigator.languages.some(e=>u.Q5.includes(e)),i="es-la"===r||t&&u.rX.includes(t)||navigator.languages.some(e=>u.sJ.includes(e));return n&&a?"spain":n&&i?"non_spain":void 0};function N(e){let t=(0,i.wA)(),r=(0,f.DP)(),a=e.isSpainVariant?(0,m.tx)("es_es_announcement.spain.description"):(0,m.tx)("es_es_announcement.nonspain.description");return(0,n.jsx)(w._l,{isShowing:e.isShowing,trackingContextName:"es_es_launch_announcement_spain",onClose:e.onClose,title:(0,m.tx)("es_es_announcement.title"),description:(0,n.jsxs)(n.Fragment,{children:[a,(0,n.jsx)("br",{}),(0,n.jsx)(l.N,{href:"https://www.figma.com/figma-ahora-en-espanol/",trusted:!0,newTab:!0,children:(0,m.tx)("es_es_launch_announcement.learn_more")})]}),primaryCta:{label:(0,m.tx)("es_es_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:T.kA,data:{source:T.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:x.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(_.oW,{width:332,height:404,src:(0,c.ck)("dark"===r?"d5144836652ddb3ef93938b550364428430fbdf2":"2c6b6c235309104ec7fe7c99d6d85cc3c8a91e8e"),alt:(0,m.t)("es_es_launch_announcement.image_alt_text")})})}let R=(0,v.r1)("has_tried_es_es");function O(){let e=(0,i.wA)(),t=(0,d.md)(R),r=(0,d.md)(b.mp),l="loaded"===r.status&&"loaded"===t.status,{show:_,isShowing:u,complete:m}=(0,g.e)({overlay:C.kKu,priority:y.N.SECONDARY_MODAL},[r,t]);if((0,a.useEffect)(()=>{c.Ay().user_data?.locale===s.hT.ES_ES&&"loaded"===t.status&&!1===t.data&&e(h.b({has_tried_es_es:!0}))},[e,t]),(0,a.useEffect)(()=>{if(!l)return;let e=!1;e=(0,o.kc)().i18n_es_la_announcement_modal?A(r.data):!!S(r.data),c.Ay().user_data?.locale!==s.hT.ES_ES&&e&&!t.data&&_()},[e,_,l,r,t]),!l)return null;let p=S(r.data);if((0,o.kc)().i18n_es_la_announcement_modal){if(!A(r.data))return null}else if(void 0===p)return null;return(0,n.jsx)(N,{isShowing:u,onClose:m,isSpainVariant:!!(0,o.kc)().i18n_es_la||"spain"===p})}},187429:(e,t,r)=>{r.d(t,{Ay:()=>R,zo:()=>k});var n=r(104076),a=r(716976),i=r(237420),s=r(746175),l=r(812714),o=r(795033),d=r(755444),c=r(816565);if(443==r.j)var _=r(843859);var u=r(192075),m=r(366535),p=r(443192),h=r(244205),x=r(373547),f=r(422872),g=r(381059),b=r(235711),v=r(143277),y=r(116450),j=r(182659),w=r(441030);let T=443==r.j?864e5:null,C=()=>Date.now()-T;function k(){let e=new Set(_.sJ),t=new Set(_.Q5);for(let r of navigator.languages){if(e.has(r))return"latam";if(t.has(r))return"spain"}}var E=(e=>(e.HAS_SEEN_ES_ES_ANNOUNCEMENT="has_seen_es_es_announcement",e.HAS_NOT_SEEN_ES_ES_ANNOUNCEMENT="has_not_seen_es_es_announcement",e))(E||{});let I=(e,t,r)=>{let n=d.Ay()?.iso_code,a=d.Ay()?.user_data?.signup_locale;if(!(!t&&null!=e&&e.getTime()<C()))return;if("es-la"===a)return r?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement";let i=k();return"latam"===i?r?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":"spain"===i?void 0:n&&_.rX.includes(n)?r?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":void 0};function A(e){let t=(0,i.wA)(),r=(0,x.DP)(),a=e.hasSeenEsEsModal?(0,u.tx)("es_la_announcement.seen_es_es_description"):(0,u.tx)("es_la_announcement.not_seen_es_es_description");return(0,n.jsx)(y._l,{isShowing:e.isShowing,trackingContextName:"es_la_launch_announcement",onClose:e.onClose,title:(0,n.jsx)(n.Fragment,{children:(0,u.tx)("es_la_announcement.title")}),description:a,primaryCta:{label:(0,u.tx)("es_la_announcement.cta_button"),type:"button",onClick:()=>{t((0,m.to)({type:j.kA,data:{source:j.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:h.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(c.oW,{width:332,height:404,src:(0,d.ck)("dark"===r?"d0bae5ffbf320d1ec97034348702b49fd549969e":"28a10c6e6bb3668d3cc281fda53dd7a6f7f27ad8"),alt:(0,u.t)("es_la_launch_announcement.image_alt_text")})})}let S=(0,b.r1)("has_tried_es_la"),N=(0,b.r1)("seen_es_es_launch_announcement");function R(){let e=(0,i.wA)(),t=(0,o.md)(S),r=(0,o.md)(N),c=(0,o.md)(g.mp),_="loaded"===t.status&&"loaded"===c.status&&"loaded"===r.status,{show:u,isShowing:m,complete:h}=(0,f.e)({overlay:w.FJT,priority:v.N.SECONDARY_MODAL},[c,t,r]);if((0,a.useEffect)(()=>{d.Ay().user_data?.locale===s.hT.ES_LA&&"loaded"===t.status&&!1===t.data&&e(p.b({has_tried_es_la:!0}))},[e,t]),(0,a.useEffect)(()=>{_&&(0,l.kc)().i18n_es_la_announcement_modal&&d.Ay().user_data?.locale!==s.hT.ES_LA&&I(c.data,t.data,r.data)&&u()},[e,u,_,t,c,r]),!_||!(0,l.kc)().i18n_es_la_announcement_modal)return null;let x=I(c.data,t.data,r.data);return void 0===x?null:(0,n.jsx)(A,{isShowing:m,onClose:h,hasSeenEsEsModal:"has_seen_es_es_announcement"===x})}},693356:(e,t,r)=>{r.d(t,{f:()=>i});let n=443==r.j?864e5:null,a=()=>Date.now()-14*n;function i({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:r}){return!!(e.getTime()<=a()&&(null==t||t.getTime()<=a()))&&!r}},140464:(e,t,r)=>{r.d(t,{P:()=>w});var n=r(104076),a=r(237420),i=r(795033),s=r(653899),l=r(755444),o=r(192075),d=r(366535),c=r(244205),_=r(422872),u=r(381059),m=r(235711),p=r(592726),h=r(143277),x=r(116450),f=r(182659),g=r(441030);let b=443==r.j?864e5:null,v=()=>Date.now()-b,y="seen_japanese_launch_announcement",j=(0,m.r1)(y);function w(){let e=(0,a.wA)(),t=(0,p.TA)(),r=(0,i.md)(u.mp),m=(0,i.md)(j),b=(0,_.e)({overlay:g.hxO,priority:h.N.DEFAULT_MODAL},[r,m]);return(0,s.h)(()=>{let e=l.Ay()?.iso_code==="JP",t=l.Ay()?.user_data?.locale==="ja";e&&!t&&b.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<v()})}),(0,n.jsx)(x._l,{isShowing:b.isShowing,title:(0,o.tx)("rcs.japanese_launch_modal.title"),description:(0,o.tx)("rcs.japanese_launch_modal.body"),media:(0,n.jsx)("img",{width:408,src:(0,l.ck)("aa243114f8307af99f0c1728ada3182f8568a919"),alt:""}),primaryCta:{type:"button",label:(0,o.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,d.to)({type:f.kA,data:{source:f.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:c.c.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:y,onClose:b.complete})}},618316:(e,t,r)=>{r.d(t,{A:()=>I});var n=r(104076),a=r(716976),i=r(237420),s=r(746175),l=r(795033),o=r(755444),d=r(816565);if(443==r.j)var c=r(843859);var _=r(192075),u=r(366535),m=r(443192),p=r(244205),h=r(373547),x=r(422872),f=r(381059),g=r(235711),b=r(143277),v=r(116450),y=r(182659),j=r(441030);let w=443==r.j?864e5:null,T=()=>Date.now()-w,C=(e,t)=>{let r=o.Ay()?.iso_code,n=o.Ay()?.user_data?.signup_locale,a=!t&&null!=e&&e.getTime()<T(),i="ko-kr"===n||r&&c.QS.includes(r)||navigator.languages.some(e=>c.Tq.includes(e));return a&&i};function k(e){let t=(0,i.wA)(),r=(0,h.DP)();return(0,n.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"ko_kr_launch_announcement",onClose:e.onClose,title:(0,_.tx)("ko_kr_announcement.title"),description:(0,_.tx)("ko_kr_announcement.description"),primaryCta:{label:(0,_.tx)("ko_kr_announcement.cta_button"),type:"button",onClick:()=>{t((0,u.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(d.oW,{width:332,height:404,src:(0,o.ck)("dark"===r?"18dcbb2ade042dcce59156457f26cf74bff4c14a":"705f5bf3c6cdb84a903c3a2fcd7e70de3294fc96"),alt:(0,_.t)("ko_kr_launch_announcement.image_alt_text")})})}let E=(0,g.r1)("has_tried_ko_kr");function I(){let e=(0,i.wA)(),t=(0,l.md)(E),r=(0,l.md)(f.mp),d="loaded"===t.status&&"loaded"===r.status,{show:c,isShowing:_,complete:u}=(0,x.e)({overlay:j.Tw6,priority:b.N.SECONDARY_MODAL},[r,t]);return((0,a.useEffect)(()=>{o.Ay().user_data?.locale===s.hT.KO_KR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_ko_kr:!0}))},[e,t]),(0,a.useEffect)(()=>{d&&o.Ay().user_data?.locale!==s.hT.KO_KR&&C(r.data,t.data)&&c()},[e,c,d,t,r]),d)?(0,n.jsx)(k,{isShowing:_,onClose:u}):null}},915316:(e,t,r)=>{r.d(t,{C:()=>P});var n=r(104076),a=r(716976),i=r(237420),s=r(929302),l=r(950187),o=r(268389),d=r(293422),c=r(795033),_=r(901014),u=r(653899),m=r(681398),p=r(555013),h=r(652539),x=r(192075),f=r(835211),g=r(443192),b=r(111297),v=r(422872),y=r(249586),j=r(592726),w=r(174730),T=r(143277),C=r(6449),k=r(708729),E=r(628188),I=r(722652),A=r(979084),S=r(389391),N=r(441030),R=r(190028),O=r(248518),D=r(288747),F=r(904017),M=r(831814);let L="Job Title Prompt";function P({source:e}){let t=function(){let e=(0,F.X$)("useIsEligibleForJobTitleReprompt"),t=(0,F.YY)(e).unwrapOr(!1),r=(0,j.Pc)(),n=(0,D.sZ)(),i=r.profile.job_title,s=(0,O.HB)(i);return(0,a.useCallback)(()=>!(n&&n.k12_google_org||r.email.endsWith(".edu")||t||(0,R.A)(r.email_validated_at).add(14,"day").isAfter((0,R.A)(Date.now())))&&(!i||("something_else"===i?!!(0,R.A)(r.email_validated_at).isBefore((0,R.A)(new Date("2024-12-10"))):"other"===s&&(!n||!n.saml_sso_only))),[n,t,s,i,r.email,r.email_validated_at])}(),r=(0,c.Xr)(k.S0),i=(0,c.Xr)(k.$h),s=(0,c.Xr)(k.Q7),l=(0,j.Pc)().name,o=!!(0,w.f)("submitted_job_title_prompt_overlay"),{show:d,complete:_,isShowing:p}=(0,v.e)({overlay:N.CAe,priority:T.N.OVERRIDING_MODAL});return((0,u.h)(()=>{(0,m.C8)()||window.matchMedia("(max-width: 840px)").matches||o||d({canShow:t,onShow:()=>{r([E.pu.WHAT_DO_YOU_DO]),i(0),s(l)}})}),p)?(0,n.jsx)(C.M,{testId:"job-title-prompt-overlay",isShowing:p,children:(0,n.jsx)(B,{isShowing:p,dismissModal:_,overlaySource:e})}):null}function B({isShowing:e,dismissModal:t,overlaySource:r}){let u=(0,i.wA)(),m=(0,j.Pc)(),v=m.id,w=m.profile.job_title,[T,C]=(0,c.fp)(k.ZE),[E,N]=a.useState(""),{questionKey:R,options:O,questionTitle:D,questionSubtitle:F,getOptionDisplay:P}=(0,S.Xg)(),B=Array.from(O).toString(),U=s.hS({open:e,onClose:({source:e})=>{(0,y.Cu)({trackingContext:L,text:"Dismiss Job Title Prompt",source:e,view:r,jobTitleList:B}),t()}}),z=T.has("something_else")&&!E;return(0,n.jsx)(b.fu,{name:L,properties:{jobTitleList:B,source:r},children:(0,n.jsx)(l.bL,{manager:U,width:"fit-content",height:"fixed",children:(0,n.jsx)(o.Wk,{children:(0,n.jsxs)("div",{className:"job_title_prompt_overlay--container--Chyt7",children:[(0,n.jsxs)("div",{className:"job_title_prompt_overlay--leftContainer--J7Zlz",children:[(0,n.jsx)(h.B,{svg:M.A,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,height:"32px",width:"24px"}),(0,n.jsx)(p.Kz,{multiple:3}),(0,n.jsx)("h1",{children:D}),(0,n.jsx)(p.Kz,{multiple:.5}),(0,n.jsx)("p",{className:"job_title_prompt_overlay--jobTitleSubheading--1t5Ue",children:F}),(0,n.jsx)(p.Kz,{multiple:3}),(0,n.jsx)(I.O,{isSingleSelect:!0,questionKey:R,options:O,selectedOptions:T,onItemsChange:C,getOptionDisplay:P,endingOption:T.has("something_else")?(0,n.jsx)(p.ks,{autoFocus:!0,dataTestId:"custom_job_title_input",className:"job_title_prompt_overlay--otherInput--aNBXq",placeholder:(0,x.t)("user_onboarding_signals.v1.answer.other.placeholder"),value:E,onChange:e=>N(e.currentTarget.value)}):void 0,variant:"compact"}),(0,n.jsx)(p.Kz,{multiple:3}),(0,n.jsx)("span",{className:"job_title_prompt_overlay--submitButton--uVeNa",children:(0,n.jsx)(d.WW,{variant:"primary",onClick:()=>{let[e]=T,t=e,r="job_title_prompt_selection";"something_else"===t&&E.length>0&&(t=E,r="job_title_prompt_custom"),u(f.yJ({user:{id:v,job_title:t,job_title_source:r},userInitiated:!0})),_.az.trackDefinedEvent("activation.job_title_changed",{newJobTitle:t,prevJobTitle:w,source:r,jobTitleSeenList:B}),(0,y.Cu)({trackingContext:L,text:"Submit Job Title",jobTitle:t,prevJobTitle:w,jobTitleList:B}),u(g.b({submitted_job_title_prompt_overlay:!0})),U.props.close({source:"other"})},disabled:0===T.size||z,children:(0,x.tx)("rcs.surveys.submit")})})]}),(0,n.jsx)("div",{className:"job_title_prompt_overlay--rightContainer--Fa6gK",children:(0,n.jsx)(A.m,{isInModal:!0})})]})})})})}},673540:(e,t,r)=>{r.d(t,{A:()=>A});var n=r(104076),a=r(716976),i=r(237420),s=r(746175),l=r(795033),o=r(755444),d=r(816565);if(443==r.j)var c=r(843859);var _=r(192075),u=r(366535),m=r(443192),p=r(244205),h=r(373547),x=r(422872),f=r(381059),g=r(235711),b=r(143277),v=r(116450),y=r(182659),j=r(441030),w=(e=>(e.BRAZILIAN="brazilian",e.NON_BRAZILIAN="non_brazilian",e))(w||{});let T=443==r.j?864e5:null,C=()=>Date.now()-T,k=e=>{let t=o.Ay()?.iso_code,r=o.Ay()?.user_data?.signup_locale,n=null!=e&&e.getTime()<C(),a=[...c.B1,...c.Vb],i=[...c.EK,...c.Kz],s="pt-br"===r||t&&i.includes(t)||navigator.languages.some(e=>a.includes(e));if(n&&s)return t&&c.EK.includes(t)||navigator.languages.some(e=>c.B1.includes(e))?"brazilian":"non_brazilian"};function E(e){let t=(0,i.wA)(),r=(0,h.DP)(),a=e.isBrazilianVariant?(0,_.tx)("pt_br_announcement.description"):(0,_.tx)("pt_br_announcement.non_brazilian.description");return(0,n.jsx)(v._l,{isShowing:e.isShowing,trackingContextName:"pt_br_launch_announcement",onClose:e.onClose,title:(0,_.tx)("pt_br_announcement.title"),description:a,primaryCta:{label:(0,_.tx)("pt_br_announcement.cta_button"),type:"button",onClick:()=>{t((0,u.to)({type:y.kA,data:{source:y.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:p.c.UPDATE_LANGUAGE_SETTINGS},media:(0,n.jsx)(d.oW,{width:332,height:404,src:(0,o.ck)("dark"===r?"1f8cff5121905a8bd088cf9dc7759e22322a90ef":"e9552341c3ffb2f3090e2cd95e29faaddf7b8397"),alt:(0,_.t)("pt_br_launch_announcement.image_alt_text")})})}let I=(0,g.r1)("has_tried_pt_br");function A(){let e=(0,i.wA)(),t=(0,l.md)(I),r=(0,l.md)(f.mp),d="loaded"===t.status&&"loaded"===r.status,{show:c,isShowing:_,complete:u}=(0,x.e)({overlay:j.gik,priority:b.N.SECONDARY_MODAL},[r,t]);if((0,a.useEffect)(()=>{o.Ay().user_data?.locale===s.hT.PT_BR&&"loaded"===t.status&&!1===t.data&&e(m.b({has_tried_pt_br:!0}))},[e,t]),(0,a.useEffect)(()=>{d&&o.Ay().user_data?.locale!==s.hT.PT_BR&&k(r.data)&&!t.data&&c()},[e,c,d,t,r]),!d)return null;let p=k(r.data);return void 0===p?null:(0,n.jsx)(E,{isShowing:_,onClose:u,isBrazilianVariant:"brazilian"===p})}},629560:(e,t,r)=>{r.d(t,{wc:()=>O,QU:()=>F});var n=r(104076),a=r(716976),i=r(237420),s=r(420680),l=r(266808),o=r(795033),d=r(901014),c=r(219199),_=r(409019),u=r(652539),m=r(352630),p=r(259161),h=r(192075),x=r(147046),f=r(819851),g=r(508011),b=r(106112),v=r(985416),y=r(176203),j=r(788846),w=r(242196),T=r(540725);let C="memory_warning--memoryUsageContainer--CWdMy";var k=r(7452),E=r(965092),I=r(193428),A=r(945453),S=r(57540),N=r(821527);function R(e){let t,r,a,s,o;let d=(0,i.d4)(e=>!e.openFile?.canEdit),c=(0,g.TY)(),_=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===l.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),m=e.warningLevel,x=(m===b.Wy.WARNING?(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),c?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):d&&_?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):m===b.Wy.ERROR?(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),c?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):d&&_?o=(0,h.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):m===b.Wy.SAFE&&e.hasHadUnsafeWarningLevel&&(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),c&&(o=(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),o);if(m===b.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--SUOy5 memory_warning--warningMemoryContentContainer--xajq3",r="memory_warning--memoryWarningContentIconWarning--7lQhY",a=c?A.A:E.A,s=c?(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,h.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(m===b.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError---AmhI memory_warning--warningMemoryContentContainer--xajq3",r="memory_warning--memoryWarningContentIconError--iWcmQ",a=c?A.A:S.A,s=c?(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,h.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(m!==b.Wy.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--KUmYN memory_warning--warningMemoryContentContainer--xajq3",r="memory_warning--memoryWarningContentIconSafe--BHw5o",a=k.A,s=c?(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,h.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return(0,n.jsx)("div",{className:"memory_warning--memoryWarningContentBetaContainer--xcDgj",children:(0,n.jsxs)("div",{className:t,children:[(0,n.jsx)("div",{className:"memory_warning--memoryWarningContentIconContainer--CeqsI",children:(0,n.jsx)(u.B,{className:r,svg:a})}),(0,n.jsxs)("div",{className:"memory_warning--memoryWarningContentBodyHeader--HRmSt",children:[(0,n.jsx)("div",{className:"memory_warning--memoryWarningContentHeader--b9El-",children:s}),(0,n.jsxs)("p",{children:[x," ",(m===b.Wy.ERROR||m===b.Wy.WARNING)&&(0,n.jsx)(p.o,{newTab:!0,className:m===b.Wy.ERROR?"memory_warning--learnMoreLinkError--JsmPQ":"memory_warning--learnMoreLinkWarning--AHB-S",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked",children:(0,h.tx)("fullscreen.pages_panel.memory_usage_learn_more")})]})]})]})})}function O(e){let t=e.showSidePercentage,r=e.warningLevel&&e.warningLevel>=b.Wy.ERROR;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"memory_warning--usageBarContainer--F67OB",children:[(0,n.jsx)(u.B,{style:{left:`${b.xk}%`},className:"memory_warning--icon--HcqCK",svg:I.A}),(0,n.jsx)("div",{className:t&&r?"memory_warning--usageBarBorderDanger--3tbol memory_warning--usageBarBorder--RmhaH":"memory_warning--usageBarBorder--RmhaH",children:(0,n.jsx)("div",{className:t&&r?"memory_warning--usageBarFillDanger--Ew9Tl memory_warning--usageBarFill--ximmI":"memory_warning--usageBarFill--ximmI",style:{width:`${e.memoryUsagePercent}%`}})})]}),t&&(0,n.jsx)("div",{className:r?"memory_warning--usageBarTextDanger--d9-gr memory_warning--usageBarText--6Z1O9":"memory_warning--usageBarText--6Z1O9",children:`${Math.trunc(e.memoryUsagePercent).toString()}%`})]})}let D=(0,v.Wh)(()=>(0,o.eU)(b.Wy.SAFE));function F(e){let t=(0,i.wA)(),{toggleManageMemoryModal:r,closeManageMemoryModal:s}=function(){let e=(0,w.dp)(),t=(0,g.TY)(),r=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{t&&!r.current&&(r.current=!0,e.open(T.XB),l.Ez5?.uiState().showMemoryUsage.set(!0))},[t,e]),(0,a.useMemo)(()=>({toggleManageMemoryModal(){let t=(0,b.P3)();(0,d.sx)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:l.CeL?.getFileNodeCount(),pageContentPct:t-(0,b.Zz)()}),e.toggle(T.XB)},closeManageMemoryModal(){e.close(T.XB)}}),[e])}(),c=(0,o.md)(b.Tm),u=(0,o.md)(b.Vu),m=(0,o.md)(b.eE),p=function({warningLevel:e}){let t=e!==b.Wy.SAFE,[r,n]=(0,a.useState)(t);return(0,a.useEffect)(()=>{t&&n(!0)},[t]),r}({warningLevel:m}),h=(0,f.E3)(),x=(0,g.TY)(),[v,y]=(0,a.useState)(x);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:r,fileKey:n}){let[s,l]=(0,o.fp)(D),d=(0,i.Pj)(),c=(0,_.F)(()=>{var t,a;let i=d.getState(),s=!i.openFile?.canEdit,l=i.mirror.appModel.topLevelMode;t={warningEvent:"BANNER_LEVEL_CHANGE",fileKey:n},a={warningLevel:b.Wy[e],memoryUsedPercent:r,topLevelMode:l,isReadOnly:s},(0,j.$w)(t,{warningOnPct:b.xk,errorOnPct:b.pl,...a})}),u=e!==s&&!t;(0,a.useEffect)(()=>{u&&(l(e),c.current())},[e,u,l,c])}({warningLevel:m,usingTestMemory:u,memoryUsedPercent:c,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let r=e===b.Wy.SAFE&&t;(0,a.useEffect)(()=>{if(r){let e=()=>{"hidden"===document.visibilityState&&(l.Ez5?.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[r])}({warningLevel:m,hasHadUnsafeWarningLevel:p}),function({warningLevel:e}){(0,a.useEffect)(()=>{let t=e!==b.Wy.SAFE;l.Ez5?.uiState().showInFileMemoryPercentage.set(t),t&&l.Ez5?.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:m});let C=(0,g.Ht)();return C||x?(0,n.jsx)(M,{closeManageMemoryModal:s,dispatch:t,editorType:h,fileKey:e.fileKey,hasHadUnsafeWarningLevel:p,memoryUsedPct:c,recoveryMemDisplay:v,setRecoveryMemDisplay:y,showMemoryUsage:C,toggleManageMemoryModal:r,warningLevel:m}):null}function M(e){let t=t=>{let r={view:"fullscreen",editorType:t===y.nT.Design?y.nT.Design:y.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,d.sx)("exit_recovery_mode",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(x.sf(r)),c.Ay.reload("Memory warning panel")},{warningLevel:r,hasHadUnsafeWarningLevel:a,memoryUsedPct:i,showMemoryUsage:o,editorType:_,recoveryMemDisplay:p}=e,f=r===b.Wy.ERROR,v=(0,g.TY)();return(0,n.jsx)(n.Fragment,{children:(o||p)&&(0,n.jsxs)("div",{className:C,id:C,children:[(0,n.jsxs)("div",{className:"memory_warning--memoryUsageHeader--WNS5R",children:[(0,n.jsx)("div",{className:"memory_warning--memoryUsageHeaderTitle--65Nsp",children:(0,h.tx)("fullscreen.pages_panel.memory_usage")}),(0,n.jsx)("div",{className:"memory_warning--memoryUsageCloseIcon--6rw0p",children:!f&&(0,n.jsx)(s.K,{"aria-label":(0,h.t)("common.close"),onClick:()=>{(0,d.sx)("manage_memory_modal_closed",{currentAllocatedBytes:l.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:l.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),l.Ez5?.uiState().showMemoryUsage.set(!1),l.Ez5?.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},children:(0,n.jsx)(u.B,{svg:N.A})})})]}),(0,n.jsx)("div",{className:f?"memory_warning--memoryUsageBodyContainerError--6oxZX":"memory_warning--memoryUsageBodyContainer--NE4lJ",children:(0,n.jsx)(O,{memoryUsagePercent:i,showSidePercentage:!0,warningLevel:r})}),(0,n.jsx)(R,{warningLevel:r,hasHadUnsafeWarningLevel:a}),(()=>{let t=(0,h.t)("manage_memory_modal.manage_memory_button"),r=()=>{e.toggleManageMemoryModal()};return(0,n.jsx)("div",{className:"memory_warning--memoryWarningButtonContainer--GkcGB",children:(0,n.jsx)(m.Ih,{variant:"secondary",onClick:()=>r(),trackingProperties:{buttonContext:t},children:t})})})(),v&&i<b.im&&(0,n.jsx)("div",{className:o?"memory_warning--recoveryModeBannerExitButtonContainer--7A1pw":"memory_warning--recoveryModeExitButtonContainer--Y21eB",children:(0,n.jsx)(m.Ih,{variant:"primary",onClick:()=>t(_),children:(0,h.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")})})]})})}},285359:(e,t,r)=>{r.d(t,{ZL:()=>F});var n=r(104076),a=r(237420),i=r(812714),s=r(511570),l=r.n(s),o=r(219199),d=r(449572),c=r(140490),_=r(681398),u=r(889438),m=r(958273),p=r(1188),h=r(555013),x=r(652539),f=r(236631),g=r(192075),b=r(111679),v=r(366535),y=r(483200),j=r(111297),w=r(561602),T=r(958127),C=r(745529),k=r(657878),E=r(592726),I=r(174730),A=r(944350),S=r(59849),N=r(959834),R=r(432786),O=r(619883);function D(e){var t;let r;let s=(0,E.iZ)(),c=(0,a.wA)(),m=(0,k._6)(),p=(0,d.Rs)((0,S.UpR)({})),N=(0,d.Rs)((0,S.FA_)({teamId:e.teamId||""}),{enabled:!!e.teamId}),D=!!(0,I.f)("edu_hide_verification"),F=(0,w.Cr)();if("loaded"!==p.status||"loaded"!==N.status||!s)return null;let M=p.data?.currentUser?.eduPeriodEnd,L=(0,w.l)(M,F),P=(0,u.x$)(M);if(P===1/0||!N.data?.team)return null;let B=N.data.team.isOwner,U=(0,n.jsx)(h.Us,{href:"https://help.figma.com/hc/articles/360041061214-Figma-for-Education#apply",target:"_blank",trusted:!0,children:(0,g.tx)("edu.banner.learn_more")}),z=P>0?(0,g.tx)("edu.all_education_accounts_are_required",{offboardingDate:F,linkLearnMore:U}):(0,g.tx)("edu.sidebar_section.all_education_accounts_are_required",{linkLearnMore:U}),H=(0,i.kc)().edu_in_app_offboarding_reverification_copy,W=P>0?function(e){if(e.studentTeamState!==A.kU.STUDENT_TEAM_CURRENT)return null;let t=null;return e.isOwner?t=(0,g.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName:(0,n.jsx)("span",{className:f.s.fontBold.$,children:e.name})}):e.canEdit&&(t=(0,g.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_plan_expires",{teamName:(0,n.jsx)("span",{className:f.s.fontBold.$,children:e.name})})),t}(N.data.team):H?null:(t=N.data.team,r=null,t.isOwner?r=(0,g.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:(0,n.jsx)("span",{className:f.s.fontBold.$,children:t.name})}):t.canView&&(r=(0,g.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:(0,n.jsx)("span",{className:f.s.fontBold.$,children:t.name})})),r);if(null===W&&!H)return null;let q=()=>{c(v.Ce())},V=()=>{q(),c(b.Dw({}))},G=()=>{q(),c(y.WX({teamId:e.teamId||null,selectedView:m,entryPoint:(0,C.c)(T.C6.EDU_OFFBOARDING_MODAL)}))};return(0,n.jsx)(j.fu,{name:L?"Edu Offboarding Modal New Reverification":"Edu Offboarding Modal",children:(0,n.jsxs)(R.OJ,{title:(0,g.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:q,children:[(0,n.jsxs)("div",{className:l()(f.s.flex.itemsCenter.p8.$,f.s.if(P>0,f.s.colorBgWarningTertiary,f.s.colorBgDangerTertiary).$),children:[(0,n.jsx)(x.B,{className:f.s.p8.colorIcon.$,svg:O.A}),(0,n.jsx)("p",{className:f.s.fontBold.$,children:P>0?(0,g.tx)("edu.offboarding_modal.your_education_plan_expires_in_days",{daysLeft:P}):(0,g.tx)("edu.offboarding_modal.your_education_status_has_expired")})]}),(0,n.jsxs)("div",{className:f.s.px16.pt8.pb12.$,children:[L&&(0,n.jsx)("p",{className:f.s.if(!!W,f.s.pb16).$,children:z}),W&&(0,n.jsx)("p",{children:W}),(0,n.jsxs)("div",{className:f.s.pt16.flex.$,children:[(0,n.jsx)("div",{className:f.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:f.s.fontBold.$,children:(0,g.tx)("edu.offboarding_modal.if_you_graduated")}),L?(0,g.tx)("edu.offboarding_modal.upgrade_link_to_continue_using_the_professional_plan",{upgradeLink:(0,n.jsx)(h.Us,{onClick:G,trusted:!0,children:(0,g.tx)("edu.offboarding_modal.upgrade_your_team")})}):B?(0,g.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:(0,n.jsx)(h.Us,{onClick:V,trusted:!0,children:(0,g.tx)("edu.offboarding_modal.create_a_new_professional_team")})}):(0,g.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh")]})]}),!D&&(0,n.jsxs)("div",{className:f.s.pt16.flex.$,children:[(0,n.jsx)("div",{className:f.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:f.s.fontBold.$,children:(0,g.tx)("edu.offboarding_modal.if_you_re_still_in_education")}),(0,g.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:(0,n.jsx)(h.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,g.tx)("edu.offboarding_modal.verify_your_status")})})]})]}),(0,n.jsxs)("div",{className:f.s.pt16.flex.$,children:[(0,n.jsx)("div",{className:f.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:f.s.fontBold.$,children:(0,g.tx)("edu.offboarding_modal.to_save_your_work")}),B?(0,g.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:(0,n.jsx)(h.Us,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0,children:(0,g.tx)("edu.offboarding_modal.transferring_ownership")})}):(0,g.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later")]})]}),(0,n.jsx)("div",{className:f.s.flex.flexColumn.itemsEnd.pt32.$,children:L?(0,n.jsx)(h.vd,{onClick:()=>{q(),o.Ay.redirect("/education/apply",_.Ay.isIpadNative?void 0:"_blank")},children:(0,g.tx)("edu.offboarding_modal.verify_your_status")}):B?(0,n.jsx)(h.vd,{onClick:G,children:(0,g.tx)("edu.offboarding_modal.upgrade_to_professional")}):(0,n.jsx)(h.vd,{onClick:V,children:(0,g.tx)("edu.offboarding_modal.create_a_new_professional_team_cta")})})]})]})})}let F=(0,N.Ju)(function(e){return(0,n.jsx)(c.u,{label:"EduOffboardingModal",children:(0,n.jsx)(m.n,{boundaryKey:"edu-offboarding-modal",loadingFallback:null,errorFallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(D,{...e})})})},"EDU_OFFBOARDING_MODAL")},678184:(e,t,r)=>{r.d(t,{v:()=>k});var n=r(104076),a=r(237420),i=r(449572),s=r(513369),l=r(140490),o=r(555013),d=r(652539),c=r(192075),_=r(366535),u=r(483200),m=r(459494),p=r(244205),h=r(111297),x=r(958127),f=r(745529),g=r(657878),b=r(59849),v=r(853039),y=r(959834),j=r(354174),w=r(201019),T=r(821527);function C(e){let{teamId:t}=e,r=(0,a.wA)(),l=(0,g._6)(),y=(0,a.d4)(e=>e.folders),C=(0,i.bc)(b.bel,{teamId:t}),k=(0,m.E9)(),E=(0,s.oA)(C.data?.team?.teamFileCounts?.totalFileCount)??0,I=C.data?.team?.teamFileCounts?.designFileCount??0,A=C.data?.team?.teamFileCounts?.whiteboardFileCount??0,S=(0,a.d4)(e=>e.teams[t]),N=e=>{e.preventDefault(),r(_.Lo())},R=I>v.WW&&!k,O=A>v.WW&&!k,D=E>v.WW&&k,F=Object.keys(y).filter(e=>y[e]?.is_view_only).map(e=>y[e]),M=Object.keys(y).filter(e=>y[e]?.is_invite_only).map(e=>y[e]);return(0,n.jsx)(h.fu,{name:"LockedTeamUsageModal",properties:{teamId:t},children:(0,n.jsxs)(j.d_,{className:"locked_team_usage_modal--modal--hgYFc",size:"medium",children:[(0,n.jsx)("div",{className:"locked_team_usage_modal--modalBar--wjRk6",children:(0,n.jsx)(d.B,{className:"locked_team_usage_modal--modalCloseX--aPcCQ",svg:T.A,onClick:N})}),(0,n.jsx)("h3",{className:"locked_team_usage_modal--headerText--5KMOz",children:(0,c.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")}),(0,n.jsxs)("ul",{children:[D&&(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:E-v.WW})}),R&&(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:I-v.WW})}),O&&(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:A-v.WW})}),(0,n.jsx)(function(){return!S?.projects||S.projects<=v.Wf?null:(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.remove_projects",{numProjects:S.projects-v.Wf})})},{}),F.length>0&&(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.remove_view_only_permissions_from_all_projects")}),M.length>0&&(0,n.jsx)("li",{children:(0,c.tx)("payments_modal.remove_invite_only_permissions_from_all_projects")})]}),(0,n.jsx)("p",{children:(0,c.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:(0,n.jsx)(o.Us,{onClick:e=>{e.preventDefault(),r(_.Lo()),r(u.WX({teamId:t,selectedView:l,entryPoint:(0,f.c)(x.C6.LOCKED_TEAM_USAGE_MODAL)}))},trackingProperties:{trackingDescriptor:p.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,children:(0,c.tx)("payments_modal.upgrade_to_professional")})})}),(0,n.jsx)("div",{className:`${w.v0} locked_team_usage_modal--buttonRow--y7F3c`,children:(0,n.jsx)(o.M7,{onClick:N,trackingProperties:{teamId:t},children:(0,c.tx)("payments_modal.okay")})})]})})}let k=(0,y.Ju)(function(e){return(0,n.jsx)(l.u,{label:"LockedTeamUsageModal",children:(0,n.jsx)(C,{...e})})},"LockedTeamUsageModal")},148470:(e,t,r)=>{r.d(t,{c:()=>n});var n=(e=>(e[e.WARN=0]="WARN",e[e.WARN_SOFT=1]="WARN_SOFT",e[e.ANNOUNCEMENT=2]="ANNOUNCEMENT",e[e.EVENT=3]="EVENT",e))(n||{})},380841:(e,t,r)=>{r.d(t,{Cm:()=>_,MD:()=>c,YO:()=>d});var n=r(716976),a=r(380494),i=r(449572),s=r(221602),l=r(59849);function o(e){let t=e.canEdit,r=!e.isOrphanedOrgProject,n=e.canMove,a=e.isEmpty;return{canEdit:t,canEditDescription:e.canEdit&&!e.isEditingLockedForUser,canShare:r,canMove:n,canSkipDeletionConfirmation:a,...(0,s.VI)(e),canTransferExternally:e.canTransferExternally,canTransferCopy:e.canTransferCopy,canTrash:e.canTrash,canTrashWithReasons:e.canTrashWithReasons,canRestore:e.canRestore,canPermanentlyDelete:e.canPermanentlyDelete,canConnect:e.canConnect,isPlanAdmin:!!e.planPermissions?.isAdmin,isPlanMember:!!e.planPermissions?.isMember,planCanConnectWithReasons:e.planPermissions?.canConnectWithReasons,hasPendingResourceConnectionInvite:!!e.pendingResourceConnectionInvite?.id}}function d(e,t=!0){let r=(0,i.bc)(l.oGE,{projectId:e},{enabled:t});return a.Qw.useTransform(r,e=>e.project?o(e.project):null)}function c(e){return function(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({projectId:e})),[e]),d=(0,i.p)(l.oGE,r,{enabled:t});return{projects:(0,n.useMemo)(()=>a.Qw.all(d.map(e=>e.result)).transform(t=>{let r={};for(let n=0;n<e.length;n++){let a=e[n],i=t[n]?.project;i?r[a]=o(i):r[a]={canEdit:!1,canShare:!1,canMove:!1,canEditDescription:!1,canSkipDeletionConfirmation:!1,...s.DI.disabled(),canTransferExternally:!1,canTransferCopy:!1,canTrash:!1,canTrashWithReasons:{result:!1,publicDenyReasons:[]},canRestore:!1,canPermanentlyDelete:!1,canConnect:!1,isPlanAdmin:!1,isPlanMember:!1,planCanConnectWithReasons:{result:!1,publicDenyReasons:[]},hasPendingResourceConnectionInvite:!1}}return r}),[d,e])}}(n.useMemo(()=>{let t=[];return e.forEach(e=>{let r=e.id;t.push(r)}),t},[e]))}function _(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({projectId:e})),[e]),s=(0,i.p)(l.rH3,r,{enabled:t});return(0,n.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,r,n)=>(e[r]=!!t[n]?.project?.canRead,e),{})),[s,e])}},460347:(e,t,r)=>{r.d(t,{GG:()=>u,ci:()=>c,dr:()=>_});var n=r(716976),a=r(380494),i=r(449572),s=r(944350),l=r(59849),o=r(904017),d=r(613936);function c(e){let t=e.canRead,r=e.canAdmin,n=e.canDelete,a=!!(e.roleOnObjectForUser&&e.roleOnObjectForUser.level>=d.e6.VIEWER),i=!!e.currentPrivilegedOrgUser;return{canAdminOrg:!!(e.currentPlanUser&&(0,o.A8)(e.currentPlanUser,s.Xn.ADMIN)),canDelete:n,canView:t,isInTeam:a,isOrgMember:i,canAdmin:r}}function _(e){return function(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({teamId:e})),[e]),s=(0,i.p)(l.y_L,r,{enabled:t});return{teams:(0,n.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>{let r={};for(let n=0;n<e.length;n++){let a=e[n],i=t[n]?.team;i?r[a]=c(i):r[a]={canAdmin:!1,canAdminOrg:!1,canDelete:!1,canView:!1,isInTeam:!1,isOrgMember:!1}}return r}),[s,e])}}(n.useMemo(()=>{let t=[];return e.forEach(e=>{let r=e.id;t.push(r)}),t},[e]))}function u(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({id:e})),[e]),s=(0,i.p)(l.Bl3,r,{enabled:t});return(0,n.useMemo)(()=>a.Qw.all(s.map(e=>e.result)).transform(t=>e.reduce((e,r,n)=>(e[r]=!!t[n]?.team?.hasPermission,e),{})),[s,e])}},151240:(e,t,r)=>{r.d(t,{X:()=>a});var n=r(716976);function a({containerRef:e,targetRef:t,targetKey:r,onIntersectionChange:a,rootMargin:i,threshold:s}){let l=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(window.IntersectionObserver)return l.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&a(e)})},{root:e?.current,rootMargin:i,threshold:s}),t.current&&l.current.observe(t.current),()=>{l.current&&l.current.disconnect()}},[r,a,i,s,e,t])}},436295:(e,t,r)=>{r.d(t,{R:()=>n,_:()=>a});let n="https://help.figma.com/hc/articles/360041061214#faqs",a="https://help.figma.com/hc/articles/31722591905559-Figma-Make-FAQs"},401763:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(104076),a=r(141330),i=r(578420);function s(){return(0,n.jsx)(i.yi,{helpUrlVariant:a.JT.CODE_CHAT})}},978183:(e,t,r)=>{r.d(t,{aX:()=>A,ev:()=>k,jl:()=>T,yd:()=>C});var n=r(104076),a=r(716976),i=r(237420),s=r(795033);r(120440);var l=r(755444),o=r(816565),d=(r(259161),r(192075)),c=r(171660),_=r(147046),u=r(443192),m=r(244205),p=r(422872),h=r(235711),x=r(143277),f=r(116450),g=r(700126),b=r(441030);if(443==r.j)var v=r(963433);if(443==r.j)var y=r(401763);let j="acknowledged_figmake_ai_tos_onboarding",w=(0,h.r1)(j);function T(){return(0,s.md)(w)}function C(e){let t=(0,i.wA)(),r=a.useCallback(e=>{t(u.b({[j]:e}))},[t]),n=a.useCallback(()=>{r(!0),e()},[r,e]),s=a.useCallback(()=>{t(_.sf({view:"recentsAndSharing"}))},[t]);return{onAcknowledge:n,onClose:a.useCallback(()=>{r(!1),s()},[r,s])}}function k(){let e=T(),{figmakeInFullscreen:t}=(0,v.Ve)(),r=(0,g.l)(),{show:i,isShowing:s,complete:l}=(0,p.e)({overlay:b.qmK,priority:x.N.HIGH_PRIORITY_MODAL-1},[e]),{onAcknowledge:o,onClose:_}=C(l);return a.useEffect(()=>{t||r||i({canShow:e=>!e&&!1})},[t,r,i,!1]),(0,n.jsx)(f._l,{description:(0,d.tx)("figmake.legal_onboarding_modal.body"),disclaimerFooter:(0,n.jsx)(A,{}),isShowing:s,media:(0,n.jsx)(E,{}),onClose:_,preventUserClose:!0,primaryCta:{type:"button",label:(0,n.jsx)(c.E,{fontSize:11,children:(0,d.tx)("figmake.legal_onboarding_modal.try_figmake_button")}),onClick:o,ctaTrackingDescriptor:m.c.NEXT},secondaryCta:{type:"button",label:(0,d.tx)("figmake.legal_onboarding_modal.back_to_files"),onClick:_,ctaTrackingDescriptor:m.c.CLOSE},title:(0,n.jsx)(I,{}),trackingContextName:"Rev Onboarding > Terms of Service"})}function E(){return(0,n.jsx)(o.oW,{src:(0,l.ck)("d158cef30c1ce26cce260c1051ecdf35dd527c94"),alt:"Figma Rev Terms of Service",width:332})}function I(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,n.jsx)(y.M,{})}),(0,d.tx)("figmake.legal_onboarding_modal.title")]})}function A(){return null}},947035:(e,t,r)=>{r.d(t,{$:()=>I});var n=r(104076),a=r(716976),i=r(237420),s=r(812714),l=r(795033);r(120440);var o=r(755444),d=r(681398),c=r(816565),_=r(221602),u=r(192075),m=r(171660),p=r(915707),h=r(244205),x=r(422872),f=r(381059),g=r(944350),b=r(904017),v=r(208740),y=r(143277),j=r(116450),w=r(441030);if(443==r.j)var T=r(401763);var C=r(978183);let k={button:{kaIpWk:"x1sxf85j",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xu5wzci",kMwMTN:"x1tk3asg",k1xSpc:"x78zum5",kAzted:"x21xpn4",k8WAf4:"xla58y3",kLKAdn:null,kGO01o:null,kg3NbH:"xaope02",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kGNEyG:"x6s0dn4",k9WMMc:"x2b8uid",kMv6JI:"xclx6tv",kGuDYH:"x17akokd",kKX8nH:"x1j61x8r",k63SB2:"x1qxcl5b",kLWn49:"xno9bf3",kb6lSQ:"xqp8s7e",$$css:!0}};function E(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,n.jsx)(T.M,{})}),(0,u.tx)("figmake.marketing_modal.body")]})}function I(){let e=(0,C.jl)(),t=(0,s.kc)().marketing_promo_modal_figmake_launch,r=(0,i.d4)(e=>e.user?.drafts_folder_id),{data:o,status:c}=(0,_.nt)(r),T=!!o?.canCreateFigmakeFileWithReasons.result,I=(0,b.X$)("FigmakePromoModalOverlay"),S=I.unwrapOr(null)?.tier||null,N=S&&([g.Ag.PRO,g.Ag.ORG,g.Ag.ENTERPRISE].includes(S)||S===g.Ag.STARTER&&(0,s.kc)().bake_starter_limit),R=(0,l.md)(f.mp),O=(0,d.C8)(),D=(0,p.$)({isDraftsFolder:!0,editorType:g._Y.FIGMAKE,newFileFrom:v.f6.FIGMAKE_PROMO_MODAL,contextClicked:"figmake_marketing_modal"}),{show:F,isShowing:M,complete:L}=(0,x.e)({overlay:w.CBZ,priority:y.N.DEFAULT_MODAL},[e,R]),{onAcknowledge:P}=(0,C.yd)(L);return a.useEffect(()=>{!0===t&&T&&N&&F({canShow:(e,t)=>(S!==g.Ag.STARTER||!!function(e){let t=Date.now();return e.getTime()<=t-864e5}(t))&&!O&&!e})},[F,t,T,N,S,O]),(0,n.jsx)(j._l,{closeButtonColor:"dark",description:(0,u.tx)("figmake.marketing_modal.subtitle"),disclaimerFooter:(0,n.jsx)(C.aX,{}),isShowing:M,media:(0,n.jsx)(A,{}),onClose:L,primaryCta:{type:"button",label:(0,n.jsx)(m.E,{children:(0,u.tx)("figmake.marketing_modal.button")}),onClick:()=>{P(),D()},ctaTrackingDescriptor:h.c.OPEN_FIGMAKE,variantOverride:"custom",customVariantStyles:k.button},title:(0,n.jsx)(E,{}),trackingContextName:"Figmake Promo Modal",trackingProperties:{planTier:S}})}function A(){return(0,n.jsx)("div",{className:"x165vjil x14ggrba",children:(0,n.jsx)(c.oW,{src:(0,o.ck)("0b908885241f3422b8940078d7f3be979a8fece0"),alt:"Figma Make promotional image",width:332})})}},211498:(e,t,r)=>{r.d(t,{Q$:()=>x,Us:()=>p,mz:()=>j,nn:()=>f,zY:()=>h});var n=r(104076),a=r(716976),i=r(237420),s=r(511570),l=r.n(s),o=r(407644),d=r(535762),c=r(324771),_=r(506192),u=r(592726),m=r(681339),p=(e=>(e[e.FULL=0]="FULL",e[e.ADD_ONLY=1]="ADD_ONLY",e))(p||{}),h=(e=>(e[e.TILE_CONTENT=0]="TILE_CONTENT",e[e.TILE_POST=1]="TILE_POST",e[e.DETAIL_POST=2]="DETAIL_POST",e[e.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",e[e.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",e[e.FILE_POPOVER=5]="FILE_POPOVER",e))(h||{});function x(e){let t=(0,i.wA)(),r=(0,u.iZ)(),{existingReactionIdForCurrentUser:s}=v(e.feedReactions,r),l=a.useCallback(({emoji:r,addOnly:n})=>{let a=s(r);a?n||t(o.Oy({feedPostUuid:e.postUuid,emoji:r,reactionId:a})):t(o.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:r}))},[t,s,e.postUuid,e.postId]);return(0,n.jsx)(g,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:l,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function f(e){let t=(0,i.wA)(),r=(0,u.iZ)(),{existingReactionIdForCurrentUser:s}=v(e.feedReactions,r),l=a.useCallback(({emoji:r,addOnly:n})=>{let a=s(r);a?n||t(o.t9({commentUuid:e.commentUuid,emoji:r,reactionId:a})):t(o.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:r}))},[t,s,e.commentUuid,e.commentId]);return(0,n.jsx)(g,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:l,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function g(e){let t=(0,u.iZ)(),{toggleReaction:r}=e,{reactionsWithSelected:i}=v(e.feedReactions,t),s=a.useCallback((e,t)=>{t.stopPropagation(),r({emoji:e.emoji,addOnly:!1})},[r]),l=a.useCallback(e=>{r({emoji:e,addOnly:!0})},[r]),o=(0,n.jsx)(b,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:l,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?o:(0,n.jsx)("div",{className:m.KD,children:(0,n.jsx)(c.Kb,{reactions:i,collapseOverflow:!1,onClickExisting:s,prependToList:e.prependToList,children:o})})}function b(e){let t=a.useRef(null),{isReactionPickerVisible:r,toggleReactionPicker:i,emojiPicker:s}=w(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!r?(0,n.jsx)("div",{className:m.$S}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{ref:t,className:l()(1===e.type?m.D5:m.HL),children:(0,n.jsx)(c.ny,{onClick:i,selected:r,styleClassName:m.$S,selectedStyleClassName:m.Qi})}),r&&s]})}let v=(e,t)=>{let r=a.useMemo(()=>{let r={};if(!t)return r;for(let n of e)n.user.id===t.id&&(r[n.emoji]=n.id);return r},[e,t]),n=a.useCallback(e=>r[e],[r]);return{reactionsWithSelected:a.useMemo(()=>{let t={};for(let r of e){let{emoji:e,user:a,createdAt:i}=r;t[e]||(t[e]={emoji:e,users:[],selected:!!n(e),createdAt:i.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,i.getTime()),t[e].users.push({handle:a.handle,id:a.id,img_url:a.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,n]),existingReactionIdForCurrentUser:n}},y=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function j(e,t){return(0,_.BK)(y(t,e?.id)).showing}let w=(e,t,r,i)=>{let s=(0,_.BK)(y(t,e?.id)),l=a.useCallback(e=>{i(e.shortcodes),s.hide()},[s,i]),o=r.current&&(0,n.jsx)(d._,{onInsert:l,onCancel:s.hide,targetRect:r.current.getBoundingClientRect()});return{isReactionPickerVisible:s.showing,toggleReactionPicker:s.toggle,emojiPicker:o}}},809439:(e,t,r)=>{r.d(t,{Hx:()=>g,Wu:()=>v,j8:()=>y});var n=r(104076),a=r(716976),i=r(237420),s=r(901014),l=r(432099),o=r(665261),d=r(192075),c=r(366535),_=r(407644),u=r(592726),m=r(904017),p=r(959834),h=r(354174),x=r(521126);let f=(0,p.Ju)(function(e){let t=(0,d.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,d.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,d.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,d.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),(0,n.jsx)(h.yX,{destructive:!0,confirmationTitle:(0,d.tx)("fig_feed.delete_post"),confirmText:(0,d.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0,children:(0,n.jsx)("p",{children:t})})},"PostConfirmDeleteModal");var g=(e=>(e.USER="user_post_context_menu",e.SYSTEM="system_post_context_menu",e))(g||{});let b=e=>{let t=(0,u.iZ)(),r=(t&&t.id===e.creator.id)??!1,n=(0,m.D6)("useUserPostPermissions");return{canDelete:r,canAdminDelete:(0,m.j_)(n).unwrapOr(!1)}};function v(e){let t=(0,i.wA)(),r=a.useCallback(()=>t(_.Y9()),[t]),{feedPost:u}=e,{canDelete:m,canAdminDelete:p}=b(u),h=u.comments.length,g=u.reactions.length,v=a.useCallback(()=>{t((0,c.AS)()),l.Ay.del(`/api/feed_posts/post_uuid/${u.publicUuid}`).then(()=>{(0,s.sx)("Team Feed Post Deleted",{postUuid:u.publicUuid}),r()})},[t,u.publicUuid,r]),j=a.useCallback(()=>{t((0,c.to)({type:f,data:{onConfirm:v,numComments:h,numReactions:g},showModalsBeneath:!0}))},[t,v,h,g]);if(!m&&!p)return null;let w=m?(0,d.tx)("fig_feed.delete_ellipsis"):(0,d.tx)("fig_feed.delete_admin_ellipsis"),T=[(!!m||!!p)&&(0,n.jsx)(o.c$,{onClick:j,children:w},"delete")];return(0,n.jsx)(x.V,{dropdownId:y("user_post_context_menu",e.feedPost.publicUuid,e.source),options:T,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let y=(e,t,r)=>e+t+r},927919:(e,t,r)=>{r.d(t,{xZ:()=>T});var n=r(104076),a=r(716976),i=r(237420),s=r(989941),l=r(452981),o=r(790009),d=r(755444),c=r(352630),_=r(192075),u=r(668242),m=r(443192),p=r(484495),h=r(631370),x=r(944350),f=r(208740),g=r(226492),b=r(909342);function v(e){switch(e){case"developer":return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.ck)("d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124"),(0,d.ck)("6c43de4a393f0c6a62c810c9e624475937af46b1"),(0,d.ck)("39e86727a54bf46978d4893784240e752197b537")],body:(0,_.tx)("whiteboard.whats_new.engineer.control.body")};case"researcher":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.ck)("3875dfbdfc499dfc81addcc2cb4c425432e4d83c"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("d32d06accd71ec34d461ebeb0683d372ce3c4e86")],body:(0,_.tx)("whiteboard.whats_new.research.control.body")};case"designer":return{title:(0,_.tx)("whiteboard.whats_new.brainstorm.title"),carousel:[(0,d.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.ck)("4d374f6472949a2b2b6428ea45e6e09d4608b5b2"),(0,d.ck)("532f390ae672946525645d4b0bdaaf4d84a2d1e5")],body:(0,_.tx)("whiteboard.whats_new.design.control.body")};case"marketer":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("5828c6e302bd2cf83170176485c5cae9a7e09fa9")],body:(0,_.tx)("whiteboard.whats_new.marketing.control.body")};case"product-manager":return{title:(0,_.tx)("whiteboard.whats_new.meeting.title"),carousel:[(0,d.ck)("07a2696df083d2dcbbc25f3c1b184c88b72ed4a6"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("d42ae46e1e5c846580f4cfa3d275a0a4fde6c482")],body:(0,_.tx)("whiteboard.whats_new.product.control.body")};default:return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.ck)("c58d5f4a37c974b72777d0d482b5e168819ed339"),(0,d.ck)("87363e4551c98cc4dd5c2eb17c8a1c216b4df558"),(0,d.ck)("17e4b5731b359b5da1cc9498bee8d19a574ecb39")],body:(0,_.tx)("whiteboard.whats_new.other.control.body")}}}function y(){let e=v((0,p.w)({rolesToDefaultToOther:["education"]})).carousel,t=(0,a.useRef)(null),[r,i]=(0,a.useState)(1),s=(0,a.useCallback)(()=>(t.current&&(1===r?t.current.style.transition="none":t.current.style.transition="transform 0.4s ease-in-out"),r===2*e.length-2)?i(1):i(e=>e+1),[e.length,r]);return(0,a.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{s(),t.current&&(t.current.style.transform=`translateX(-${210*r-45}px)`)},1===r?400:3e3)},0)},[r,s,45]),(0,n.jsx)("div",{className:"whats_new_v2_carousel--carouselContainer--fm3dW",children:(0,n.jsxs)("div",{className:"whats_new_v2_carousel--slideTrack--CsJL8",ref:t,children:[(0,n.jsx)("img",{src:e[2],alt:"clone of last thumbnail"}),(0,n.jsx)("img",{src:e[0],alt:"first thumbnail"}),(0,n.jsx)("img",{src:e[1],alt:"second thumbnail"}),(0,n.jsx)("img",{src:e[2],alt:"last thumbnail"}),(0,n.jsx)("img",{src:e[0],alt:"clone of first thumbnail"}),(0,n.jsx)("img",{src:e[1],alt:"clone of second thumbnail"})]})})}let j=(0,d.ck)("d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8"),w=(0,d.ck)("f9217dd1dac2a765d218e1de9eb6fcbb32a454ec");function T(e){let t=(0,i.wA)(),r=(0,h.B)(),s=(0,p.w)({rolesToDefaultToOther:["education"]}),[l,d]=a.useState(!0),T=`Design to FigJam What's New v2 > ${s} > ${e.context}`,{title:k,body:E}=v(s),{onClose:I}=e,A=(0,a.useCallback)(()=>{t(m.b({dont_show_figjam_updates_in_figma_design:!l})),I()},[l,t,I]);return(0,n.jsx)(g.X,{trackingContextName:T,position:b.Q.BOTTOM_RIGHT,title:k,onClose:A,description:E,media:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:w,alt:"",className:"whats_new_v2--newBadge--kl1gy"}),(0,n.jsx)("img",{src:j,alt:"",className:"whats_new_v2--peaceIcon--Uk3-s"}),(0,n.jsx)(y,{})]}),overrideFooter:(0,n.jsxs)("div",{className:"whats_new_v2--ctaRow--8jvr-",children:[(0,n.jsx)(o.J,{brand:"whiteboard",children:(0,n.jsx)(c.$z,{onClick:()=>{A(),t(m.b({interacted_figjam_whats_new_v2_cta:!0})),t(u.zE({state:r,editorType:x._Y.WHITEBOARD,team:void 0,from:f.f6.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:f.ai.NEW_TAB}))},children:(0,_.tx)("rcs.whats_new_in_figjam.try_fig_jam")})}),"editor"===e.context&&(0,n.jsx)("div",{className:"whats_new_v2--checkboxRow--eYDbx",children:(0,n.jsx)(C,{checked:l,setChecked:()=>d(!l)})})]}),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function C({checked:e,setChecked:t}){return(0,n.jsx)(s.S,{label:(0,n.jsx)(l.J,{children:(0,_.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")}),checked:e,onChange:t})}},280005:(e,t,r)=>{r.d(t,{G:()=>i});var n=r(716976),a=r(104076);let i=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.5 13a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5h2a.5.5 0 0 0 0-1h-2A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13zM7.646 8.354a.5.5 0 0 0 .708 0L12 4.707V7.5a.5.5 0 0 0 1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 0 0 1h2.793L7.646 7.646a.5.5 0 0 0 0 .708"})})})},881265:(e,t,r)=>{r.d(t,{_:()=>s});var n=r(240831),a=r(716976),i=r(104076);let s=(0,a.memo)(function(e){return(0,n.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M8 2a1 1 0 0 1 .952.694l.9 2.806h2.904a1 1 0 0 1 .579 1.814L11.007 8.97l.938 2.702a1.001 1.001 0 0 1-1.516 1.148L8 11.128 5.572 12.82a1.001 1.001 0 0 1-1.516-1.148l.937-2.702-2.327-1.656a1 1 0 0 1 .58-1.814h2.902l.9-2.806.061-.148A1 1 0 0 1 8 2"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M8 1.5a1 1 0 0 1 .952.694L9.852 5h2.904a1 1 0 0 1 .58 1.814l-2.33 1.656.939 2.702a1.001 1.001 0 0 1-1.517 1.148L8 10.628 5.573 12.32a1.001 1.001 0 0 1-1.517-1.148l.937-2.702-2.327-1.656A1 1 0 0 1 3.246 5h2.903l.9-2.806.06-.148A1 1 0 0 1 8 1.5"})})})},765024:(e,t,r)=>{r.d(t,{c:()=>s});var n=r(240831),a=r(716976),i=r(104076);let s=(0,a.memo)(function(e){return(0,n.O)()?(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.695a1 1 0 0 0-1.904 0l-.9 2.805H3.244a1 1 0 0 0-.58 1.815l2.33 1.655-.938 2.701a1 1 0 0 0 1.516 1.148L8 11.13l2.428 1.691a1 1 0 0 0 1.516-1.148l-.937-2.701 2.328-1.656a1 1 0 0 0-.58-1.815H9.852zM4.97 6.5h1.907l.598-1.863L8 3l.525 1.637.597 1.863h3.633l-1.406 1-1.533 1.09.626 1.802L11 12l-1.396-.973L8 9.91l-1.604 1.117L5 12l.558-1.608.625-1.802L4.651 7.5l-1.407-1z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,"data-fpl-icon-size":"16",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.952 2.195a1 1 0 0 0-1.904 0L6.148 5H3.245a1 1 0 0 0-.58 1.815L4.993 8.47l-.937 2.701a1 1 0 0 0 1.516 1.148L8 10.63l2.429 1.691a1 1 0 0 0 1.516-1.148l-.938-2.701 2.328-1.656A1 1 0 0 0 12.755 5H9.853zM4.97 6h1.908l.597-1.863L8 2.5l.525 1.637L9.123 6h3.633l-1.407 1-1.532 1.09.625 1.802L11 11.5l-1.396-.973L8 9.41l-1.604 1.117L5 11.5l.558-1.608.626-1.802L4.65 7 3.245 6z",clipRule:"evenodd"})})})},49795:(e,t,r)=>{r.d(t,{l:()=>s});var n=r(240831),a=r(716976),i=r(104076);let s=(0,a.memo)(function(e){return(0,n.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.354 13.854a.5.5 0 0 1-.708 0L12 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M15.854 13.854a.5.5 0 0 1-.708 0L11.5 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})})})},296430:(e,t,r)=>{r.d(t,{X:()=>i});var n=r(716976),a=r(104076);let i=(0,n.memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},159134:(e,t,r)=>{r.d(t,{C:()=>s});var n=r(240831),a=r(716976),i=r(104076);let s=(0,a.memo)(function(e){return(0,n.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.934.934a.9.9 0 0 1-1.273 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.934-.935-.708.708.708-.708a.9.9 0 0 1 0-1.272l.934-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.935.935a1.9 1.9 0 0 0 2.687 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"})})})}}]);

//# debugId=10e3cb10-6a47-531b-ae3b-7697ed9f0498

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3d2630c585341499c6f8e3acf2a4032135a13214/612-a16a40fbcbdc38e3.min.js.map